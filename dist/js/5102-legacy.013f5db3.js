"use strict";(self["webpackChunkai_portal"]=self["webpackChunkai_portal"]||[]).push([[5102],{19852:function(t,e,s){s.d(e,{Z:function(){return l}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-loading"},[s("div",{staticClass:"box"},[s("hash-loader",{staticClass:"custom-class",attrs:{color:"#eb1851",loading:!0,size:40,sizeUnit:"px"}}),s("h5",{staticClass:"app-name"},[t._v(t._s(t.text))])],1)])},a=[],n={name:"app-user-logging-in",props:{text:String}},r=n,o=s(1001),c=(0,o.Z)(r,i,a,!1,null,"73613f3f",null),l=c.exports},99986:function(t,e,s){s.d(e,{Z:function(){return l}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._t("default")],2)},a=[],n={name:"LayoutMain",components:{}},r=n,o=s(1001),c=(0,o.Z)(r,i,a,!1,null,null,null),l=c.exports},85102:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-body",attrs:{id:"page-home"}},[0==t.isLoading?s("div",{attrs:{id:"user-panel"}},[s("div",{staticClass:"page-container"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"left-col"},[s("div",{staticClass:"photo"},[t.user.profile_picture?s("img",{attrs:{src:t.user.profile_picture}}):t._e(),t.user.profile_picture?t._e():s("img",{attrs:{src:"/img/default_profile_picture.png"}})]),s("div",{staticClass:"detail"},[s("div",{staticClass:"name"},[s("h2",[t._v(t._s(t.user.firstname))]),s("h2",[t._v(t._s(t.user.lastname))])]),t.user.position?s("div",{staticClass:"desc"},[s("label",[t._v(t._s(t.user.position)+", "+t._s(t.user.department))]),s("label",[t._v("DITT-"+t._s(t.user.employee_no))])]):t._e()])]),s("div",{staticClass:"right-col"},[s("v-ons-toolbar-button",{on:{click:function(e){return t.GO_TO("dos")}}},[s("span",[t._v("Dexon Omnia System (DOS) ")]),s("i",{staticClass:"las la-laptop"})]),s("v-ons-toolbar-button",{on:{click:function(e){return t.GO_TO("/account")}}},[s("span",[t._v("My Account")]),s("i",{staticClass:"las la-user-circle"})])],1)])]),s("div",{staticClass:"bg-filter"})]):t._e(),0==t.isLoading?s("div",{staticClass:"page-container",staticStyle:{"padding-bottom":"100px"}},["ceo"==this.user.role||"admin"==this.user.role?s("div",[1==t.showSectionLabel?s("div",{staticClass:"section-label"},[s("h2",{staticClass:"page-section-label"},[t._v("Executive Summary")])]):t._e(),s("div",{staticClass:"app-drawer-wrapper"},t._l(t.appsList.executiveSummary,(function(e){return s("div",{key:e.name,staticClass:"app-item-wrapper"},[1==e.isActive?s("div",{staticClass:"app-item",on:{click:function(s){return t.OPEN_APP(e)}}},[s("img",{attrs:{src:e.icon_menu}}),s("label",[t._v(t._s(e.name))])]):t._e()])})),0),"manager"==this.user.role?s("hr"):t._e()]):t._e(),"manager"==this.user.role||"admin"==this.user.role?s("div",[1==t.showSectionLabel?s("div",{staticClass:"section-label"},[s("h2",{staticClass:"page-section-label"},[t._v("Executive Management")])]):t._e(),s("div",{staticClass:"app-drawer-wrapper"},t._l(t.appsList.executiveManagement,(function(e){return s("div",{key:e.name,staticClass:"app-item-wrapper"},[1==e.isActive?s("div",{staticClass:"app-item",on:{click:function(s){return t.OPEN_APP(e)}}},[s("img",{attrs:{src:e.icon_menu}}),s("label",[t._v(t._s(e.name))])]):t._e()])})),0),"manager"==this.user.role?s("hr"):t._e()]):t._e(),"ceo"!=this.user.role?s("div",[1==t.showSectionLabel?s("div",{staticClass:"section-label"},[s("h2",{staticClass:"page-section-label"},[t._v("Applications")])]):t._e(),s("div",{staticClass:"app-drawer-wrapper"},[t._l(t.appsList.projectManager,(function(e){return s("div",{key:e.name,staticClass:"app-item-wrapper"},[1==e.isActive?s("div",{staticClass:"app-item",on:{click:function(s){return t.OPEN_APP(e)}}},[s("img",{attrs:{src:e.icon_menu}}),s("label",[t._v(t._s(e.name))])]):t._e()])})),t._l(t.appsList.record,(function(e){return s("div",{key:e.name,staticClass:"app-item-wrapper"},[s("div",{staticClass:"app-item",on:{click:function(s){return t.OPEN_APP(e)}}},[s("img",{attrs:{src:e.icon_menu}}),s("label",[t._v(t._s(e.name))])])])})),t._l(t.appsList.contact,(function(e){return s("div",{key:e.name,staticClass:"app-item-wrapper"},[s("div",{staticClass:"app-item",on:{click:function(s){return t.OPEN_APP(e)}}},[s("img",{attrs:{src:e.icon_menu}}),s("label",[t._v(t._s(e.name))])])])})),t._l(t.appsList.other,(function(e){return s("div",{key:e.name,staticClass:"app-item-wrapper"},[s("div",{staticClass:"app-item",on:{click:function(s){return t.OPEN_APP(e)}}},[s("img",{attrs:{src:e.icon_menu}}),s("label",[t._v(t._s(e.name))])])])}))],2)]):t._e()]):t._e(),1==t.isOpening?s("AppLoading",{attrs:{icon:t.openingApp.icon_menu,name:t.openingApp.name}}):t._e(),1==t.isLoading?s("PageLoading",{attrs:{text:"Loading"}}):t._e()],1)},a=[],n=(s(41539),s(29254),s(39477)),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-loading"},[s("div",{staticClass:"box"},[s("img",{attrs:{src:t.icon}}),s("hash-loader",{staticClass:"loader",attrs:{color:"#eb1851",loading:!0,size:40,sizeUnit:"px"}})],1)])},o=[],c={name:"in-app-opening",props:{name:String,icon:String,color:String}},l=c,p=s(1001),u=(0,p.Z)(l,r,o,!1,null,"8064bf12",null),d=u.exports,_=s(99986),m=s(19852),v={name:"HomeView",components:{AppLoading:d,PageLoading:m.Z},data:function(){return{appsList:this.$store.state.appsList,isOpening:!1,isLoading:!1,openingApp:"",showSectionLabel:!0,user:""}},created:function(){this.$emit("update:layout",_.Z),this.$store.commit("CLEAR_CURRENT_INAPP"),1==this.$store.state.status.server&&this.FETCH_USER_INFO()},beforeMount:function(){this.$store.state.user&&(this.user=this.$store.state.user)},mounted:function(){},methods:{FETCH_USER_INFO:function(){var t=this;this.isLoading=!0,setTimeout((function(){var e=JSON.parse(localStorage.getItem("user")).id_user;(0,n.Z)({method:"post",url:"/user/get-info",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{id_user:e}}).then((function(e){if(200==e.status){var s=e.data.user;t.user=s,null==s.profile_picture?t.user.profile_picture=null:t.user.profile_picture=t.baseURL+t.user.profile_picture,console.log("==> Fetch User Info : Home View <=="),"ceo"==t.user.role&&t.$router.push("/executive-report")}})).catch((function(t){console.log(t)})).finally((function(){t.isLoading=!1}))}),100)},OPEN_APP:function(t){var e=this;if(1==t.isActive){this.openingApp=t,this.isOpening=!0;var s=this.openingApp.link;setTimeout((function(){s&&e.$router.push(s),e.isOpening=!1}),1e3)}},GO_TO:function(t){"dos"==t?window.open("https://dos.dexon-technology.com/fmi/webd/Dexon","_blank"):this.$router.push({path:t,replace:!0})}},computed:{baseURL:function(){var t=this.$store.state.mode;return"dev"==t?this.$store.state.modeURL.dev:"prod"==t?this.$store.state.modeURL.prod:console.log("develpment mode set up incorrect.")}}},g=v,f=(0,p.Z)(g,i,a,!1,null,"8e3e32fa",null),h=f.exports}}]);
//# sourceMappingURL=5102-legacy.013f5db3.js.map