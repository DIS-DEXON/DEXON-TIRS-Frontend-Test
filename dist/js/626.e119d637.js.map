{"version":3,"file":"js/626.e119d637.js","mappings":"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GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,IAAK,GACLC,IAAK,GACLC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,IAAK,GACLC,GAAI,GACJC,GAAI,GACJC,GAAI,GACJC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,GAAI,IACJ,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,aAAc,KACd,aAAc,KACd,cAAe,KACf,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,KACT,SAAU,KACV,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,MACT,QAAS,MACT,QAAS,MACT,aAAc,MACd,QAAS,MACT,QAAS,MACT,QAAS,MACT,aAAc,MACd,QAAS,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","sources":["webpack://ai-portal/./node_modules/devextreme-vue/data-grid.js","webpack://ai-portal/./node_modules/devextreme/esm/format_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/localization/language_codes.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.modules.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.core.js","webpack://ai-portal/./node_modules/devextreme/esm/events/double_click.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_state_mixin.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.columns_view.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/shared/accessibility.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.accessibility.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_headers.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.column_headers.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.columns_controller.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.columns_controller.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.data_source_adapter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.data_source_adapter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.data_controller.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.data_controller.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.sorting_mixin.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.sorting.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.sorting.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.rows.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.rows.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/hierarchical_collection/ui.data_converter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/hierarchical_collection/ui.data_adapter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/hierarchical_collection/ui.hierarchical_collection_widget.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/context_menu/ui.menu_base.edit.strategy.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/context_menu/ui.menu_base.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/context_menu/ui.context_menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/context_menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.context_menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.context_menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.error_handling.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.error_handling.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.grid_view.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grid_view.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/toolbar/ui.toolbar.menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/toolbar/ui.toolbar.utils.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/drop_down_menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/toolbar/ui.toolbar.drop_down_menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/toolbar.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.header_panel.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.header_panel.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.base.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.state_storing_core.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.state_storing.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.state_storing.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.selection.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.selection.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tree_view/ui.tree_view.base.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tree_view/ui.tree_view.search.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tree_view.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_chooser.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.column_chooser.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.core.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.utils.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.expanded.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.collapsed.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.master_detail.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.master_detail.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/shared/ui.editor_factory_mixin.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editor_factory.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editor_factory.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/dialog.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_constants.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_row_based.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing_row_based.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/ui.form.items_runtime_info.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/multi_view/ui.multi_view.animation.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/multi_view.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tabs/item.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tabs/constants.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/get_scroll_left_max.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/get_boundary_props.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tabs.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tab_panel/item.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/tab_panel.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/ui.form.item_option_action.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/ui.form.utils.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/ui.form.item_options_actions.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/responsive_box.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/constants.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/validation/default_adapter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/validator.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/ui.form.layout_manager.utils.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/components/label.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/components/field_item.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/components/button_item.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/components/empty_item.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/ui.form.layout_manager.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/validation_summary.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/validation_group.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form/ui.form.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/form.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_form_based.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing_form_based.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_cell_based.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing_cell_based.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.validating.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.validating.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid.core.virtual_data_loader.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_scrolling_core.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_scrolling.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.virtual_scrolling.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/overlay/utils.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/menu/ui.submenu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/menu/ui.menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/menu.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_row.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_row.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/list/modules/search.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.header_filter_core.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.header_filter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.header_filter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/filter_builder/between.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/filter_builder/ui.filter_operations_dictionary.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/filter_builder/utils.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_custom_operations.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_sync.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_sync.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/filter_builder/filter_builder.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/filter_builder.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_builder.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_builder.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_panel.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_panel.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.search.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.search.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/component_wrapper/grid_pager.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/utils/type_conversion.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/utils/get_element_width.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/resizable_container.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/common/base_pager_props.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/common/pager_props.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/info.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/common/keyboard_action_context.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/common/light_button.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/common/consts.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/pages/page.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/pages/large.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/editors/number_box.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/utils/calculate_values_fitted_width.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/pages/small.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/pages/page_index_selector.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/editors/drop_down_editors/select_box.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/page_size/small.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/page_size/large.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/page_size/selector.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/content.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/pager.js","webpack://ai-portal/./node_modules/devextreme/esm/renovation/ui/pager/pager.j.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/pager.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.pager.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.pager.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.columns_resizing_reordering.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.columns_resizing_reordering.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.keyboard_navigation.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/aggregate_calculator.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.keyboard_navigation.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.summary.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_fixing.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.column_fixing.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.adaptivity.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_columns_core.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.adaptivity.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_columns.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.virtual_columns.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.export_mixin.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/file_saver.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel_format_converter.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.tag_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.cell_alignment_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.color_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.pattern_fill_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.fill_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.font_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.cell_format_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.number_format_helper.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel/excel.file.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/excel_creator.js","webpack://ai-portal/./node_modules/devextreme/esm/color.js","webpack://ai-portal/./node_modules/devextreme/esm/core/utils/svg.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/image_creator.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/svg_creator.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter/pdf_creator.js","webpack://ai-portal/./node_modules/devextreme/esm/exporter.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/button_group.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/drop_down_button.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.export.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.focus.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.focus.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/draggable.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/sortable.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.row_dragging.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.row_dragging.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/data_grid.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.utils.js","webpack://ai-portal/./node_modules/devextreme/esm/ui/shared/filtering.js","webpack://ai-portal/./node_modules/jszip/dist/jszip.min.js"],"sourcesContent":["/*!\n * devextreme-vue\n * Version: 21.2.7\n * Build date: Mon Apr 11 2022\n *\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-vue\n */\n\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DxLookup = exports.DxLoadPanel = exports.DxLabel = exports.DxKeyboardNavigation = exports.DxItem = exports.DxHide = exports.DxHeaderFilter = exports.DxGroupPanel = exports.DxGroupOperationDescriptions = exports.DxGroupItem = exports.DxGroupingTexts = exports.DxGrouping = exports.DxFrom = exports.DxFormItem = exports.DxFormat = exports.DxForm = exports.DxFilterRow = exports.DxFilterPanelTexts = exports.DxFilterPanel = exports.DxFilterOperationDescriptions = exports.DxFilterBuilderPopup = exports.DxFilterBuilder = exports.DxFieldLookup = exports.DxField = exports.DxExportTexts = exports.DxExport = exports.DxEmailRule = exports.DxEditingTexts = exports.DxEditing = exports.DxDataGridHeaderFilterTexts = exports.DxDataGridHeaderFilter = exports.DxCustomRule = exports.DxCustomOperation = exports.DxCursorOffset = exports.DxCompareRule = exports.DxColumnLookup = exports.DxColumnHeaderFilter = exports.DxColumnFixingTexts = exports.DxColumnFixing = exports.DxColumnChooser = exports.DxColumn = exports.DxCollision = exports.DxColCountByScreen = exports.DxChange = exports.DxButton = exports.DxBoundaryOffset = exports.DxAt = exports.DxAsyncRule = exports.DxAnimation = exports.DxDataGrid = void 0;\nexports.DxValueFormat = exports.DxValidationRule = exports.DxTotalItem = exports.DxToolbarItem = exports.DxToolbar = exports.DxTo = exports.DxTexts = exports.DxSummaryTexts = exports.DxSummary = exports.DxStringLengthRule = exports.DxStateStoring = exports.DxSorting = exports.DxSortByGroupSummaryInfo = exports.DxShow = exports.DxSelection = exports.DxSearchPanel = exports.DxScrolling = exports.DxRowDragging = exports.DxRequiredRule = exports.DxRemoteOperations = exports.DxRangeRule = exports.DxPosition = exports.DxPopup = exports.DxPatternRule = exports.DxPaging = exports.DxPager = exports.DxOperationDescriptions = exports.DxOffset = exports.DxNumericRule = exports.DxMy = exports.DxMasterDetail = void 0;\nvar data_grid_1 = __importDefault(require(\"devextreme/ui/data_grid\"));\nvar index_1 = require(\"./core/index\");\nvar index_2 = require(\"./core/index\");\nvar DxDataGrid = index_1.createComponent({\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        allowColumnReordering: Boolean,\n        allowColumnResizing: Boolean,\n        autoNavigateToFocusedRow: Boolean,\n        cacheEnabled: Boolean,\n        cellHintEnabled: Boolean,\n        columnAutoWidth: Boolean,\n        columnChooser: Object,\n        columnFixing: Object,\n        columnHidingEnabled: Boolean,\n        columnMinWidth: Number,\n        columnResizingMode: String,\n        columns: Array,\n        columnWidth: [Number, String],\n        customizeColumns: Function,\n        customizeExportData: Function,\n        dataRowTemplate: {},\n        dataSource: [Array, Object, String],\n        dateSerializationFormat: String,\n        disabled: Boolean,\n        editing: Object,\n        elementAttr: Object,\n        errorRowEnabled: Boolean,\n        export: Object,\n        filterBuilder: Object,\n        filterBuilderPopup: Object,\n        filterPanel: Object,\n        filterRow: Object,\n        filterSyncEnabled: [Boolean, String],\n        filterValue: [Array, Function, String],\n        focusedColumnIndex: Number,\n        focusedRowEnabled: Boolean,\n        focusedRowIndex: Number,\n        focusedRowKey: {},\n        focusStateEnabled: Boolean,\n        grouping: Object,\n        groupPanel: Object,\n        headerFilter: Object,\n        height: [Function, Number, String],\n        highlightChanges: Boolean,\n        hint: String,\n        hoverStateEnabled: Boolean,\n        keyboardNavigation: Object,\n        keyExpr: [Array, String],\n        loadPanel: Object,\n        masterDetail: Object,\n        noDataText: String,\n        onAdaptiveDetailRowPreparing: Function,\n        onCellClick: Function,\n        onCellDblClick: Function,\n        onCellHoverChanged: Function,\n        onCellPrepared: Function,\n        onContentReady: Function,\n        onContextMenuPreparing: Function,\n        onDataErrorOccurred: Function,\n        onDisposing: Function,\n        onEditCanceled: Function,\n        onEditCanceling: Function,\n        onEditingStart: Function,\n        onEditorPrepared: Function,\n        onEditorPreparing: Function,\n        onExported: Function,\n        onExporting: Function,\n        onFileSaving: Function,\n        onFocusedCellChanged: Function,\n        onFocusedCellChanging: Function,\n        onFocusedRowChanged: Function,\n        onFocusedRowChanging: Function,\n        onInitialized: Function,\n        onInitNewRow: Function,\n        onKeyDown: Function,\n        onOptionChanged: Function,\n        onRowClick: Function,\n        onRowCollapsed: Function,\n        onRowCollapsing: Function,\n        onRowDblClick: Function,\n        onRowExpanded: Function,\n        onRowExpanding: Function,\n        onRowInserted: Function,\n        onRowInserting: Function,\n        onRowPrepared: Function,\n        onRowRemoved: Function,\n        onRowRemoving: Function,\n        onRowUpdated: Function,\n        onRowUpdating: Function,\n        onRowValidating: Function,\n        onSaved: Function,\n        onSaving: Function,\n        onSelectionChanged: Function,\n        onToolbarPreparing: Function,\n        pager: Object,\n        paging: Object,\n        remoteOperations: [Boolean, Object, String],\n        renderAsync: Boolean,\n        repaintChangesOnly: Boolean,\n        rowAlternationEnabled: Boolean,\n        rowDragging: Object,\n        rowTemplate: {},\n        rtlEnabled: Boolean,\n        scrolling: Object,\n        searchPanel: Object,\n        selectedRowKeys: Array,\n        selection: Object,\n        selectionFilter: [Array, Function, String],\n        showBorders: Boolean,\n        showColumnHeaders: Boolean,\n        showColumnLines: Boolean,\n        showRowLines: Boolean,\n        sortByGroupSummaryInfo: Array,\n        sorting: Object,\n        stateStoring: Object,\n        summary: Object,\n        tabIndex: Number,\n        toolbar: Object,\n        twoWayBindingEnabled: Boolean,\n        visible: Boolean,\n        width: [Function, Number, String],\n        wordWrapEnabled: Boolean\n    },\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:allowColumnReordering\": null,\n        \"update:allowColumnResizing\": null,\n        \"update:autoNavigateToFocusedRow\": null,\n        \"update:cacheEnabled\": null,\n        \"update:cellHintEnabled\": null,\n        \"update:columnAutoWidth\": null,\n        \"update:columnChooser\": null,\n        \"update:columnFixing\": null,\n        \"update:columnHidingEnabled\": null,\n        \"update:columnMinWidth\": null,\n        \"update:columnResizingMode\": null,\n        \"update:columns\": null,\n        \"update:columnWidth\": null,\n        \"update:customizeColumns\": null,\n        \"update:customizeExportData\": null,\n        \"update:dataRowTemplate\": null,\n        \"update:dataSource\": null,\n        \"update:dateSerializationFormat\": null,\n        \"update:disabled\": null,\n        \"update:editing\": null,\n        \"update:elementAttr\": null,\n        \"update:errorRowEnabled\": null,\n        \"update:export\": null,\n        \"update:filterBuilder\": null,\n        \"update:filterBuilderPopup\": null,\n        \"update:filterPanel\": null,\n        \"update:filterRow\": null,\n        \"update:filterSyncEnabled\": null,\n        \"update:filterValue\": null,\n        \"update:focusedColumnIndex\": null,\n        \"update:focusedRowEnabled\": null,\n        \"update:focusedRowIndex\": null,\n        \"update:focusedRowKey\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:grouping\": null,\n        \"update:groupPanel\": null,\n        \"update:headerFilter\": null,\n        \"update:height\": null,\n        \"update:highlightChanges\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:keyboardNavigation\": null,\n        \"update:keyExpr\": null,\n        \"update:loadPanel\": null,\n        \"update:masterDetail\": null,\n        \"update:noDataText\": null,\n        \"update:onAdaptiveDetailRowPreparing\": null,\n        \"update:onCellClick\": null,\n        \"update:onCellDblClick\": null,\n        \"update:onCellHoverChanged\": null,\n        \"update:onCellPrepared\": null,\n        \"update:onContentReady\": null,\n        \"update:onContextMenuPreparing\": null,\n        \"update:onDataErrorOccurred\": null,\n        \"update:onDisposing\": null,\n        \"update:onEditCanceled\": null,\n        \"update:onEditCanceling\": null,\n        \"update:onEditingStart\": null,\n        \"update:onEditorPrepared\": null,\n        \"update:onEditorPreparing\": null,\n        \"update:onExported\": null,\n        \"update:onExporting\": null,\n        \"update:onFileSaving\": null,\n        \"update:onFocusedCellChanged\": null,\n        \"update:onFocusedCellChanging\": null,\n        \"update:onFocusedRowChanged\": null,\n        \"update:onFocusedRowChanging\": null,\n        \"update:onInitialized\": null,\n        \"update:onInitNewRow\": null,\n        \"update:onKeyDown\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onRowClick\": null,\n        \"update:onRowCollapsed\": null,\n        \"update:onRowCollapsing\": null,\n        \"update:onRowDblClick\": null,\n        \"update:onRowExpanded\": null,\n        \"update:onRowExpanding\": null,\n        \"update:onRowInserted\": null,\n        \"update:onRowInserting\": null,\n        \"update:onRowPrepared\": null,\n        \"update:onRowRemoved\": null,\n        \"update:onRowRemoving\": null,\n        \"update:onRowUpdated\": null,\n        \"update:onRowUpdating\": null,\n        \"update:onRowValidating\": null,\n        \"update:onSaved\": null,\n        \"update:onSaving\": null,\n        \"update:onSelectionChanged\": null,\n        \"update:onToolbarPreparing\": null,\n        \"update:pager\": null,\n        \"update:paging\": null,\n        \"update:remoteOperations\": null,\n        \"update:renderAsync\": null,\n        \"update:repaintChangesOnly\": null,\n        \"update:rowAlternationEnabled\": null,\n        \"update:rowDragging\": null,\n        \"update:rowTemplate\": null,\n        \"update:rtlEnabled\": null,\n        \"update:scrolling\": null,\n        \"update:searchPanel\": null,\n        \"update:selectedRowKeys\": null,\n        \"update:selection\": null,\n        \"update:selectionFilter\": null,\n        \"update:showBorders\": null,\n        \"update:showColumnHeaders\": null,\n        \"update:showColumnLines\": null,\n        \"update:showRowLines\": null,\n        \"update:sortByGroupSummaryInfo\": null,\n        \"update:sorting\": null,\n        \"update:stateStoring\": null,\n        \"update:summary\": null,\n        \"update:tabIndex\": null,\n        \"update:toolbar\": null,\n        \"update:twoWayBindingEnabled\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n        \"update:wordWrapEnabled\": null,\n    },\n    computed: {\n        instance: function () {\n            return this.$_instance;\n        }\n    },\n    beforeCreate: function () {\n        this.$_WidgetClass = data_grid_1.default;\n        this.$_hasAsyncTemplate = true;\n        this.$_expectedChildren = {\n            column: { isCollectionItem: true, optionName: \"columns\" },\n            columnChooser: { isCollectionItem: false, optionName: \"columnChooser\" },\n            columnFixing: { isCollectionItem: false, optionName: \"columnFixing\" },\n            dataGridHeaderFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n            editing: { isCollectionItem: false, optionName: \"editing\" },\n            export: { isCollectionItem: false, optionName: \"export\" },\n            filterBuilder: { isCollectionItem: false, optionName: \"filterBuilder\" },\n            filterBuilderPopup: { isCollectionItem: false, optionName: \"filterBuilderPopup\" },\n            filterPanel: { isCollectionItem: false, optionName: \"filterPanel\" },\n            filterRow: { isCollectionItem: false, optionName: \"filterRow\" },\n            grouping: { isCollectionItem: false, optionName: \"grouping\" },\n            groupPanel: { isCollectionItem: false, optionName: \"groupPanel\" },\n            headerFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n            keyboardNavigation: { isCollectionItem: false, optionName: \"keyboardNavigation\" },\n            loadPanel: { isCollectionItem: false, optionName: \"loadPanel\" },\n            masterDetail: { isCollectionItem: false, optionName: \"masterDetail\" },\n            pager: { isCollectionItem: false, optionName: \"pager\" },\n            paging: { isCollectionItem: false, optionName: \"paging\" },\n            remoteOperations: { isCollectionItem: false, optionName: \"remoteOperations\" },\n            rowDragging: { isCollectionItem: false, optionName: \"rowDragging\" },\n            scrolling: { isCollectionItem: false, optionName: \"scrolling\" },\n            searchPanel: { isCollectionItem: false, optionName: \"searchPanel\" },\n            selection: { isCollectionItem: false, optionName: \"selection\" },\n            sortByGroupSummaryInfo: { isCollectionItem: true, optionName: \"sortByGroupSummaryInfo\" },\n            sorting: { isCollectionItem: false, optionName: \"sorting\" },\n            stateStoring: { isCollectionItem: false, optionName: \"stateStoring\" },\n            summary: { isCollectionItem: false, optionName: \"summary\" },\n            toolbar: { isCollectionItem: false, optionName: \"toolbar\" }\n        };\n    }\n});\nexports.DxDataGrid = DxDataGrid;\nvar DxAnimation = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:hide\": null,\n        \"update:show\": null,\n    },\n    props: {\n        hide: [Object, Number, String],\n        show: [Object, Number, String]\n    }\n});\nexports.DxAnimation = DxAnimation;\nDxAnimation.$_optionName = \"animation\";\nDxAnimation.$_expectedChildren = {\n    hide: { isCollectionItem: false, optionName: \"hide\" },\n    show: { isCollectionItem: false, optionName: \"show\" }\n};\nvar DxAsyncRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:reevaluate\": null,\n        \"update:type\": null,\n        \"update:validationCallback\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        reevaluate: Boolean,\n        type: String,\n        validationCallback: Function\n    }\n});\nexports.DxAsyncRule = DxAsyncRule;\nDxAsyncRule.$_optionName = \"validationRules\";\nDxAsyncRule.$_isCollectionItem = true;\nDxAsyncRule.$_predefinedProps = {\n    type: \"async\"\n};\nvar DxAt = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: String,\n        y: String\n    }\n});\nexports.DxAt = DxAt;\nDxAt.$_optionName = \"at\";\nvar DxBoundaryOffset = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: Number,\n        y: Number\n    }\n});\nexports.DxBoundaryOffset = DxBoundaryOffset;\nDxBoundaryOffset.$_optionName = \"boundaryOffset\";\nvar DxButton = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:cssClass\": null,\n        \"update:disabled\": null,\n        \"update:hint\": null,\n        \"update:icon\": null,\n        \"update:name\": null,\n        \"update:onClick\": null,\n        \"update:template\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        cssClass: String,\n        disabled: [Boolean, Function],\n        hint: String,\n        icon: String,\n        name: String,\n        onClick: Function,\n        template: {},\n        text: String,\n        visible: [Boolean, Function]\n    }\n});\nexports.DxButton = DxButton;\nDxButton.$_optionName = \"buttons\";\nDxButton.$_isCollectionItem = true;\nvar DxChange = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:data\": null,\n        \"update:insertAfterKey\": null,\n        \"update:insertBeforeKey\": null,\n        \"update:type\": null,\n    },\n    props: {\n        data: {},\n        insertAfterKey: {},\n        insertBeforeKey: {},\n        type: String\n    }\n});\nexports.DxChange = DxChange;\nDxChange.$_optionName = \"changes\";\nDxChange.$_isCollectionItem = true;\nvar DxColCountByScreen = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:lg\": null,\n        \"update:md\": null,\n        \"update:sm\": null,\n        \"update:xs\": null,\n    },\n    props: {\n        lg: Number,\n        md: Number,\n        sm: Number,\n        xs: Number\n    }\n});\nexports.DxColCountByScreen = DxColCountByScreen;\nDxColCountByScreen.$_optionName = \"colCountByScreen\";\nvar DxCollision = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: String,\n        y: String\n    }\n});\nexports.DxCollision = DxCollision;\nDxCollision.$_optionName = \"collision\";\nvar DxColumn = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignment\": null,\n        \"update:allowEditing\": null,\n        \"update:allowExporting\": null,\n        \"update:allowFiltering\": null,\n        \"update:allowFixing\": null,\n        \"update:allowGrouping\": null,\n        \"update:allowHeaderFiltering\": null,\n        \"update:allowHiding\": null,\n        \"update:allowReordering\": null,\n        \"update:allowResizing\": null,\n        \"update:allowSearch\": null,\n        \"update:allowSorting\": null,\n        \"update:autoExpandGroup\": null,\n        \"update:buttons\": null,\n        \"update:calculateCellValue\": null,\n        \"update:calculateDisplayValue\": null,\n        \"update:calculateFilterExpression\": null,\n        \"update:calculateGroupValue\": null,\n        \"update:calculateSortValue\": null,\n        \"update:caption\": null,\n        \"update:cellTemplate\": null,\n        \"update:columns\": null,\n        \"update:cssClass\": null,\n        \"update:customizeText\": null,\n        \"update:dataField\": null,\n        \"update:dataType\": null,\n        \"update:editCellTemplate\": null,\n        \"update:editorOptions\": null,\n        \"update:encodeHtml\": null,\n        \"update:falseText\": null,\n        \"update:filterOperations\": null,\n        \"update:filterType\": null,\n        \"update:filterValue\": null,\n        \"update:filterValues\": null,\n        \"update:fixed\": null,\n        \"update:fixedPosition\": null,\n        \"update:format\": null,\n        \"update:formItem\": null,\n        \"update:groupCellTemplate\": null,\n        \"update:grouped\": null,\n        \"update:groupIndex\": null,\n        \"update:headerCellTemplate\": null,\n        \"update:headerFilter\": null,\n        \"update:hidingPriority\": null,\n        \"update:isBand\": null,\n        \"update:lookup\": null,\n        \"update:minWidth\": null,\n        \"update:name\": null,\n        \"update:ownerBand\": null,\n        \"update:renderAsync\": null,\n        \"update:resized\": null,\n        \"update:selectedFilterOperation\": null,\n        \"update:setCellValue\": null,\n        \"update:showEditorAlways\": null,\n        \"update:showInColumnChooser\": null,\n        \"update:showWhenGrouped\": null,\n        \"update:sortIndex\": null,\n        \"update:sortingMethod\": null,\n        \"update:sortOrder\": null,\n        \"update:trueText\": null,\n        \"update:type\": null,\n        \"update:validationRules\": null,\n        \"update:visible\": null,\n        \"update:visibleIndex\": null,\n        \"update:width\": null,\n    },\n    props: {\n        alignment: String,\n        allowEditing: Boolean,\n        allowExporting: Boolean,\n        allowFiltering: Boolean,\n        allowFixing: Boolean,\n        allowGrouping: Boolean,\n        allowHeaderFiltering: Boolean,\n        allowHiding: Boolean,\n        allowReordering: Boolean,\n        allowResizing: Boolean,\n        allowSearch: Boolean,\n        allowSorting: Boolean,\n        autoExpandGroup: Boolean,\n        buttons: Array,\n        calculateCellValue: Function,\n        calculateDisplayValue: [Function, String],\n        calculateFilterExpression: Function,\n        calculateGroupValue: [Function, String],\n        calculateSortValue: [Function, String],\n        caption: String,\n        cellTemplate: {},\n        columns: Array,\n        cssClass: String,\n        customizeText: Function,\n        dataField: String,\n        dataType: String,\n        editCellTemplate: {},\n        editorOptions: {},\n        encodeHtml: Boolean,\n        falseText: String,\n        filterOperations: Array,\n        filterType: String,\n        filterValue: {},\n        filterValues: Array,\n        fixed: Boolean,\n        fixedPosition: String,\n        format: [Object, Function, String],\n        formItem: Object,\n        groupCellTemplate: {},\n        grouped: Boolean,\n        groupIndex: Number,\n        headerCellTemplate: {},\n        headerFilter: Object,\n        hidingPriority: Number,\n        isBand: Boolean,\n        lookup: Object,\n        minWidth: Number,\n        name: String,\n        ownerBand: Number,\n        renderAsync: Boolean,\n        resized: Function,\n        selectedFilterOperation: String,\n        setCellValue: Function,\n        showEditorAlways: Boolean,\n        showInColumnChooser: Boolean,\n        showWhenGrouped: Boolean,\n        sortIndex: Number,\n        sortingMethod: Function,\n        sortOrder: String,\n        trueText: String,\n        type: String,\n        validationRules: Array,\n        visible: Boolean,\n        visibleIndex: Number,\n        width: [Number, String]\n    }\n});\nexports.DxColumn = DxColumn;\nDxColumn.$_optionName = \"columns\";\nDxColumn.$_isCollectionItem = true;\nDxColumn.$_expectedChildren = {\n    AsyncRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    button: { isCollectionItem: true, optionName: \"buttons\" },\n    columnHeaderFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n    columnLookup: { isCollectionItem: false, optionName: \"lookup\" },\n    CompareRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    CustomRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    EmailRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    format: { isCollectionItem: false, optionName: \"format\" },\n    formItem: { isCollectionItem: false, optionName: \"formItem\" },\n    headerFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n    lookup: { isCollectionItem: false, optionName: \"lookup\" },\n    NumericRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    PatternRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RangeRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RequiredRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    StringLengthRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    validationRule: { isCollectionItem: true, optionName: \"validationRules\" }\n};\nvar DxColumnChooser = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:emptyPanelText\": null,\n        \"update:enabled\": null,\n        \"update:height\": null,\n        \"update:mode\": null,\n        \"update:searchTimeout\": null,\n        \"update:sortOrder\": null,\n        \"update:title\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        emptyPanelText: String,\n        enabled: Boolean,\n        height: Number,\n        mode: String,\n        searchTimeout: Number,\n        sortOrder: String,\n        title: String,\n        width: Number\n    }\n});\nexports.DxColumnChooser = DxColumnChooser;\nDxColumnChooser.$_optionName = \"columnChooser\";\nvar DxColumnFixing = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:enabled\": null,\n        \"update:texts\": null,\n    },\n    props: {\n        enabled: Boolean,\n        texts: Object\n    }\n});\nexports.DxColumnFixing = DxColumnFixing;\nDxColumnFixing.$_optionName = \"columnFixing\";\nDxColumnFixing.$_expectedChildren = {\n    columnFixingTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxColumnFixingTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:fix\": null,\n        \"update:leftPosition\": null,\n        \"update:rightPosition\": null,\n        \"update:unfix\": null,\n    },\n    props: {\n        fix: String,\n        leftPosition: String,\n        rightPosition: String,\n        unfix: String\n    }\n});\nexports.DxColumnFixingTexts = DxColumnFixingTexts;\nDxColumnFixingTexts.$_optionName = \"texts\";\nvar DxColumnHeaderFilter = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:dataSource\": null,\n        \"update:groupInterval\": null,\n        \"update:height\": null,\n        \"update:searchMode\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        dataSource: [Array, Object, Function],\n        groupInterval: [Number, String],\n        height: Number,\n        searchMode: String,\n        width: Number\n    }\n});\nexports.DxColumnHeaderFilter = DxColumnHeaderFilter;\nDxColumnHeaderFilter.$_optionName = \"headerFilter\";\nvar DxColumnLookup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowClearing\": null,\n        \"update:calculateCellValue\": null,\n        \"update:dataSource\": null,\n        \"update:displayExpr\": null,\n        \"update:valueExpr\": null,\n    },\n    props: {\n        allowClearing: Boolean,\n        calculateCellValue: Function,\n        dataSource: [Array, Object, Function],\n        displayExpr: [Function, String],\n        valueExpr: String\n    }\n});\nexports.DxColumnLookup = DxColumnLookup;\nDxColumnLookup.$_optionName = \"lookup\";\nvar DxCompareRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:comparisonTarget\": null,\n        \"update:comparisonType\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:type\": null,\n    },\n    props: {\n        comparisonTarget: Function,\n        comparisonType: String,\n        ignoreEmptyValue: Boolean,\n        message: String,\n        type: String\n    }\n});\nexports.DxCompareRule = DxCompareRule;\nDxCompareRule.$_optionName = \"validationRules\";\nDxCompareRule.$_isCollectionItem = true;\nDxCompareRule.$_predefinedProps = {\n    type: \"compare\"\n};\nvar DxCursorOffset = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: Number,\n        y: Number\n    }\n});\nexports.DxCursorOffset = DxCursorOffset;\nDxCursorOffset.$_optionName = \"cursorOffset\";\nvar DxCustomOperation = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:calculateFilterExpression\": null,\n        \"update:caption\": null,\n        \"update:customizeText\": null,\n        \"update:dataTypes\": null,\n        \"update:editorTemplate\": null,\n        \"update:hasValue\": null,\n        \"update:icon\": null,\n        \"update:name\": null,\n    },\n    props: {\n        calculateFilterExpression: Function,\n        caption: String,\n        customizeText: Function,\n        dataTypes: Array,\n        editorTemplate: {},\n        hasValue: Boolean,\n        icon: String,\n        name: String\n    }\n});\nexports.DxCustomOperation = DxCustomOperation;\nDxCustomOperation.$_optionName = \"customOperations\";\nDxCustomOperation.$_isCollectionItem = true;\nvar DxCustomRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:reevaluate\": null,\n        \"update:type\": null,\n        \"update:validationCallback\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        reevaluate: Boolean,\n        type: String,\n        validationCallback: Function\n    }\n});\nexports.DxCustomRule = DxCustomRule;\nDxCustomRule.$_optionName = \"validationRules\";\nDxCustomRule.$_isCollectionItem = true;\nDxCustomRule.$_predefinedProps = {\n    type: \"custom\"\n};\nvar DxDataGridHeaderFilter = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:height\": null,\n        \"update:searchTimeout\": null,\n        \"update:texts\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        height: Number,\n        searchTimeout: Number,\n        texts: Object,\n        visible: Boolean,\n        width: Number\n    }\n});\nexports.DxDataGridHeaderFilter = DxDataGridHeaderFilter;\nDxDataGridHeaderFilter.$_optionName = \"headerFilter\";\nDxDataGridHeaderFilter.$_expectedChildren = {\n    dataGridHeaderFilterTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxDataGridHeaderFilterTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:cancel\": null,\n        \"update:emptyValue\": null,\n        \"update:ok\": null,\n    },\n    props: {\n        cancel: String,\n        emptyValue: String,\n        ok: String\n    }\n});\nexports.DxDataGridHeaderFilterTexts = DxDataGridHeaderFilterTexts;\nDxDataGridHeaderFilterTexts.$_optionName = \"texts\";\nvar DxEditing = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowAdding\": null,\n        \"update:allowDeleting\": null,\n        \"update:allowUpdating\": null,\n        \"update:changes\": null,\n        \"update:confirmDelete\": null,\n        \"update:editColumnName\": null,\n        \"update:editRowKey\": null,\n        \"update:form\": null,\n        \"update:mode\": null,\n        \"update:newRowPosition\": null,\n        \"update:popup\": null,\n        \"update:refreshMode\": null,\n        \"update:selectTextOnEditStart\": null,\n        \"update:startEditAction\": null,\n        \"update:texts\": null,\n        \"update:useIcons\": null,\n    },\n    props: {\n        allowAdding: Boolean,\n        allowDeleting: [Boolean, Function],\n        allowUpdating: [Boolean, Function],\n        changes: Array,\n        confirmDelete: Boolean,\n        editColumnName: String,\n        editRowKey: {},\n        form: Object,\n        mode: String,\n        newRowPosition: String,\n        popup: Object,\n        refreshMode: String,\n        selectTextOnEditStart: Boolean,\n        startEditAction: String,\n        texts: {},\n        useIcons: Boolean\n    }\n});\nexports.DxEditing = DxEditing;\nDxEditing.$_optionName = \"editing\";\nDxEditing.$_expectedChildren = {\n    change: { isCollectionItem: true, optionName: \"changes\" },\n    editingTexts: { isCollectionItem: false, optionName: \"texts\" },\n    form: { isCollectionItem: false, optionName: \"form\" },\n    popup: { isCollectionItem: false, optionName: \"popup\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxEditingTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:addRow\": null,\n        \"update:cancelAllChanges\": null,\n        \"update:cancelRowChanges\": null,\n        \"update:confirmDeleteMessage\": null,\n        \"update:confirmDeleteTitle\": null,\n        \"update:deleteRow\": null,\n        \"update:editRow\": null,\n        \"update:saveAllChanges\": null,\n        \"update:saveRowChanges\": null,\n        \"update:undeleteRow\": null,\n        \"update:validationCancelChanges\": null,\n    },\n    props: {\n        addRow: String,\n        cancelAllChanges: String,\n        cancelRowChanges: String,\n        confirmDeleteMessage: String,\n        confirmDeleteTitle: String,\n        deleteRow: String,\n        editRow: String,\n        saveAllChanges: String,\n        saveRowChanges: String,\n        undeleteRow: String,\n        validationCancelChanges: String\n    }\n});\nexports.DxEditingTexts = DxEditingTexts;\nDxEditingTexts.$_optionName = \"texts\";\nvar DxEmailRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        type: String\n    }\n});\nexports.DxEmailRule = DxEmailRule;\nDxEmailRule.$_optionName = \"validationRules\";\nDxEmailRule.$_isCollectionItem = true;\nDxEmailRule.$_predefinedProps = {\n    type: \"email\"\n};\nvar DxExport = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowExportSelectedData\": null,\n        \"update:customizeExcelCell\": null,\n        \"update:enabled\": null,\n        \"update:excelFilterEnabled\": null,\n        \"update:excelWrapTextEnabled\": null,\n        \"update:fileName\": null,\n        \"update:ignoreExcelErrors\": null,\n        \"update:proxyUrl\": null,\n        \"update:texts\": null,\n    },\n    props: {\n        allowExportSelectedData: Boolean,\n        customizeExcelCell: Function,\n        enabled: Boolean,\n        excelFilterEnabled: Boolean,\n        excelWrapTextEnabled: Boolean,\n        fileName: String,\n        ignoreExcelErrors: Boolean,\n        proxyUrl: String,\n        texts: Object\n    }\n});\nexports.DxExport = DxExport;\nDxExport.$_optionName = \"export\";\nDxExport.$_expectedChildren = {\n    exportTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxExportTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:exportAll\": null,\n        \"update:exportSelectedRows\": null,\n        \"update:exportTo\": null,\n    },\n    props: {\n        exportAll: String,\n        exportSelectedRows: String,\n        exportTo: String\n    }\n});\nexports.DxExportTexts = DxExportTexts;\nDxExportTexts.$_optionName = \"texts\";\nvar DxField = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:calculateFilterExpression\": null,\n        \"update:caption\": null,\n        \"update:customizeText\": null,\n        \"update:dataField\": null,\n        \"update:dataType\": null,\n        \"update:defaultFilterOperation\": null,\n        \"update:editorOptions\": null,\n        \"update:editorTemplate\": null,\n        \"update:falseText\": null,\n        \"update:filterOperations\": null,\n        \"update:format\": null,\n        \"update:lookup\": null,\n        \"update:name\": null,\n        \"update:trueText\": null,\n    },\n    props: {\n        calculateFilterExpression: Function,\n        caption: String,\n        customizeText: Function,\n        dataField: String,\n        dataType: String,\n        defaultFilterOperation: String,\n        editorOptions: {},\n        editorTemplate: {},\n        falseText: String,\n        filterOperations: Array,\n        format: [Object, Function, String],\n        lookup: Object,\n        name: String,\n        trueText: String\n    }\n});\nexports.DxField = DxField;\nDxField.$_optionName = \"fields\";\nDxField.$_isCollectionItem = true;\nDxField.$_expectedChildren = {\n    fieldLookup: { isCollectionItem: false, optionName: \"lookup\" },\n    format: { isCollectionItem: false, optionName: \"format\" },\n    lookup: { isCollectionItem: false, optionName: \"lookup\" }\n};\nvar DxFieldLookup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowClearing\": null,\n        \"update:dataSource\": null,\n        \"update:displayExpr\": null,\n        \"update:valueExpr\": null,\n    },\n    props: {\n        allowClearing: Boolean,\n        dataSource: [Array, Object],\n        displayExpr: [Function, String],\n        valueExpr: [Function, String]\n    }\n});\nexports.DxFieldLookup = DxFieldLookup;\nDxFieldLookup.$_optionName = \"lookup\";\nvar DxFilterBuilder = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:allowHierarchicalFields\": null,\n        \"update:bindingOptions\": null,\n        \"update:customOperations\": null,\n        \"update:disabled\": null,\n        \"update:elementAttr\": null,\n        \"update:fields\": null,\n        \"update:filterOperationDescriptions\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:groupOperationDescriptions\": null,\n        \"update:groupOperations\": null,\n        \"update:height\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:maxGroupLevel\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onEditorPrepared\": null,\n        \"update:onEditorPreparing\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onValueChanged\": null,\n        \"update:rtlEnabled\": null,\n        \"update:tabIndex\": null,\n        \"update:value\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        allowHierarchicalFields: Boolean,\n        bindingOptions: Object,\n        customOperations: Array,\n        disabled: Boolean,\n        elementAttr: Object,\n        fields: Array,\n        filterOperationDescriptions: Object,\n        focusStateEnabled: Boolean,\n        groupOperationDescriptions: Object,\n        groupOperations: Array,\n        height: [Function, Number, String],\n        hint: String,\n        hoverStateEnabled: Boolean,\n        maxGroupLevel: Number,\n        onContentReady: Function,\n        onDisposing: Function,\n        onEditorPrepared: Function,\n        onEditorPreparing: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        onValueChanged: Function,\n        rtlEnabled: Boolean,\n        tabIndex: Number,\n        value: [Array, Function, String],\n        visible: Boolean,\n        width: [Function, Number, String]\n    }\n});\nexports.DxFilterBuilder = DxFilterBuilder;\nDxFilterBuilder.$_optionName = \"filterBuilder\";\nDxFilterBuilder.$_expectedChildren = {\n    customOperation: { isCollectionItem: true, optionName: \"customOperations\" },\n    field: { isCollectionItem: true, optionName: \"fields\" },\n    filterOperationDescriptions: { isCollectionItem: false, optionName: \"filterOperationDescriptions\" },\n    groupOperationDescriptions: { isCollectionItem: false, optionName: \"groupOperationDescriptions\" }\n};\nvar DxFilterBuilderPopup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:animation\": null,\n        \"update:bindingOptions\": null,\n        \"update:closeOnOutsideClick\": null,\n        \"update:container\": null,\n        \"update:contentTemplate\": null,\n        \"update:copyRootClassesToWrapper\": null,\n        \"update:deferRendering\": null,\n        \"update:disabled\": null,\n        \"update:dragAndResizeArea\": null,\n        \"update:dragEnabled\": null,\n        \"update:dragOutsideBoundary\": null,\n        \"update:elementAttr\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:fullScreen\": null,\n        \"update:height\": null,\n        \"update:hideOnParentScroll\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:maxHeight\": null,\n        \"update:maxWidth\": null,\n        \"update:minHeight\": null,\n        \"update:minWidth\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onHidden\": null,\n        \"update:onHiding\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onResize\": null,\n        \"update:onResizeEnd\": null,\n        \"update:onResizeStart\": null,\n        \"update:onShowing\": null,\n        \"update:onShown\": null,\n        \"update:onTitleRendered\": null,\n        \"update:position\": null,\n        \"update:resizeEnabled\": null,\n        \"update:restorePosition\": null,\n        \"update:rtlEnabled\": null,\n        \"update:shading\": null,\n        \"update:shadingColor\": null,\n        \"update:showCloseButton\": null,\n        \"update:showTitle\": null,\n        \"update:tabIndex\": null,\n        \"update:title\": null,\n        \"update:titleTemplate\": null,\n        \"update:toolbarItems\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n        \"update:wrapperAttr\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        animation: Object,\n        bindingOptions: Object,\n        closeOnOutsideClick: [Boolean, Function],\n        container: {},\n        contentTemplate: {},\n        copyRootClassesToWrapper: Boolean,\n        deferRendering: Boolean,\n        disabled: Boolean,\n        dragAndResizeArea: {},\n        dragEnabled: Boolean,\n        dragOutsideBoundary: Boolean,\n        elementAttr: {},\n        focusStateEnabled: Boolean,\n        fullScreen: Boolean,\n        height: [Function, Number, String],\n        hideOnParentScroll: Boolean,\n        hint: String,\n        hoverStateEnabled: Boolean,\n        maxHeight: [Function, Number, String],\n        maxWidth: [Function, Number, String],\n        minHeight: [Function, Number, String],\n        minWidth: [Function, Number, String],\n        onContentReady: Function,\n        onDisposing: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onHidden: Function,\n        onHiding: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        onResize: Function,\n        onResizeEnd: Function,\n        onResizeStart: Function,\n        onShowing: Function,\n        onShown: Function,\n        onTitleRendered: Function,\n        position: [Function, Object, String],\n        resizeEnabled: Boolean,\n        restorePosition: Boolean,\n        rtlEnabled: Boolean,\n        shading: Boolean,\n        shadingColor: String,\n        showCloseButton: Boolean,\n        showTitle: Boolean,\n        tabIndex: Number,\n        title: String,\n        titleTemplate: {},\n        toolbarItems: Array,\n        visible: Boolean,\n        width: [Function, Number, String],\n        wrapperAttr: {}\n    }\n});\nexports.DxFilterBuilderPopup = DxFilterBuilderPopup;\nDxFilterBuilderPopup.$_optionName = \"filterBuilderPopup\";\nvar DxFilterOperationDescriptions = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:between\": null,\n        \"update:contains\": null,\n        \"update:endsWith\": null,\n        \"update:equal\": null,\n        \"update:greaterThan\": null,\n        \"update:greaterThanOrEqual\": null,\n        \"update:isBlank\": null,\n        \"update:isNotBlank\": null,\n        \"update:lessThan\": null,\n        \"update:lessThanOrEqual\": null,\n        \"update:notContains\": null,\n        \"update:notEqual\": null,\n        \"update:startsWith\": null,\n    },\n    props: {\n        between: String,\n        contains: String,\n        endsWith: String,\n        equal: String,\n        greaterThan: String,\n        greaterThanOrEqual: String,\n        isBlank: String,\n        isNotBlank: String,\n        lessThan: String,\n        lessThanOrEqual: String,\n        notContains: String,\n        notEqual: String,\n        startsWith: String\n    }\n});\nexports.DxFilterOperationDescriptions = DxFilterOperationDescriptions;\nDxFilterOperationDescriptions.$_optionName = \"filterOperationDescriptions\";\nvar DxFilterPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:customizeText\": null,\n        \"update:filterEnabled\": null,\n        \"update:texts\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        customizeText: Function,\n        filterEnabled: Boolean,\n        texts: Object,\n        visible: Boolean\n    }\n});\nexports.DxFilterPanel = DxFilterPanel;\nDxFilterPanel.$_optionName = \"filterPanel\";\nDxFilterPanel.$_expectedChildren = {\n    filterPanelTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxFilterPanelTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:clearFilter\": null,\n        \"update:createFilter\": null,\n        \"update:filterEnabledHint\": null,\n    },\n    props: {\n        clearFilter: String,\n        createFilter: String,\n        filterEnabledHint: String\n    }\n});\nexports.DxFilterPanelTexts = DxFilterPanelTexts;\nDxFilterPanelTexts.$_optionName = \"texts\";\nvar DxFilterRow = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:applyFilter\": null,\n        \"update:applyFilterText\": null,\n        \"update:betweenEndText\": null,\n        \"update:betweenStartText\": null,\n        \"update:operationDescriptions\": null,\n        \"update:resetOperationText\": null,\n        \"update:showAllText\": null,\n        \"update:showOperationChooser\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        applyFilter: String,\n        applyFilterText: String,\n        betweenEndText: String,\n        betweenStartText: String,\n        operationDescriptions: Object,\n        resetOperationText: String,\n        showAllText: String,\n        showOperationChooser: Boolean,\n        visible: Boolean\n    }\n});\nexports.DxFilterRow = DxFilterRow;\nDxFilterRow.$_optionName = \"filterRow\";\nDxFilterRow.$_expectedChildren = {\n    operationDescriptions: { isCollectionItem: false, optionName: \"operationDescriptions\" }\n};\nvar DxForm = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:alignItemLabels\": null,\n        \"update:alignItemLabelsInAllGroups\": null,\n        \"update:bindingOptions\": null,\n        \"update:colCount\": null,\n        \"update:colCountByScreen\": null,\n        \"update:customizeItem\": null,\n        \"update:disabled\": null,\n        \"update:elementAttr\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:formData\": null,\n        \"update:height\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:items\": null,\n        \"update:labelLocation\": null,\n        \"update:labelMode\": null,\n        \"update:minColWidth\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onEditorEnterKey\": null,\n        \"update:onFieldDataChanged\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:optionalMark\": null,\n        \"update:readOnly\": null,\n        \"update:requiredMark\": null,\n        \"update:requiredMessage\": null,\n        \"update:rtlEnabled\": null,\n        \"update:screenByWidth\": null,\n        \"update:scrollingEnabled\": null,\n        \"update:showColonAfterLabel\": null,\n        \"update:showOptionalMark\": null,\n        \"update:showRequiredMark\": null,\n        \"update:showValidationSummary\": null,\n        \"update:tabIndex\": null,\n        \"update:validationGroup\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        alignItemLabels: Boolean,\n        alignItemLabelsInAllGroups: Boolean,\n        bindingOptions: Object,\n        colCount: [Number, String],\n        colCountByScreen: Object,\n        customizeItem: Function,\n        disabled: Boolean,\n        elementAttr: Object,\n        focusStateEnabled: Boolean,\n        formData: {},\n        height: [Function, Number, String],\n        hint: String,\n        hoverStateEnabled: Boolean,\n        items: Array,\n        labelLocation: String,\n        labelMode: String,\n        minColWidth: Number,\n        onContentReady: Function,\n        onDisposing: Function,\n        onEditorEnterKey: Function,\n        onFieldDataChanged: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        optionalMark: String,\n        readOnly: Boolean,\n        requiredMark: String,\n        requiredMessage: String,\n        rtlEnabled: Boolean,\n        screenByWidth: Function,\n        scrollingEnabled: Boolean,\n        showColonAfterLabel: Boolean,\n        showOptionalMark: Boolean,\n        showRequiredMark: Boolean,\n        showValidationSummary: Boolean,\n        tabIndex: Number,\n        validationGroup: String,\n        visible: Boolean,\n        width: [Function, Number, String]\n    }\n});\nexports.DxForm = DxForm;\nDxForm.$_optionName = \"form\";\nDxForm.$_expectedChildren = {\n    colCountByScreen: { isCollectionItem: false, optionName: \"colCountByScreen\" }\n};\nvar DxFormat = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:currency\": null,\n        \"update:formatter\": null,\n        \"update:parser\": null,\n        \"update:precision\": null,\n        \"update:type\": null,\n    },\n    props: {\n        currency: String,\n        formatter: Function,\n        parser: Function,\n        precision: Number,\n        type: String\n    }\n});\nexports.DxFormat = DxFormat;\nDxFormat.$_optionName = \"format\";\nvar DxFormItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:colSpan\": null,\n        \"update:cssClass\": null,\n        \"update:dataField\": null,\n        \"update:editorOptions\": null,\n        \"update:editorType\": null,\n        \"update:helpText\": null,\n        \"update:isRequired\": null,\n        \"update:itemType\": null,\n        \"update:label\": null,\n        \"update:name\": null,\n        \"update:template\": null,\n        \"update:validationRules\": null,\n        \"update:visible\": null,\n        \"update:visibleIndex\": null,\n    },\n    props: {\n        colSpan: Number,\n        cssClass: String,\n        dataField: String,\n        editorOptions: {},\n        editorType: String,\n        helpText: String,\n        isRequired: Boolean,\n        itemType: String,\n        label: Object,\n        name: String,\n        template: {},\n        validationRules: Array,\n        visible: Boolean,\n        visibleIndex: Number\n    }\n});\nexports.DxFormItem = DxFormItem;\nDxFormItem.$_optionName = \"formItem\";\nDxFormItem.$_expectedChildren = {\n    AsyncRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    CompareRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    CustomRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    EmailRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    label: { isCollectionItem: false, optionName: \"label\" },\n    NumericRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    PatternRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RangeRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RequiredRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    StringLengthRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    validationRule: { isCollectionItem: true, optionName: \"validationRules\" }\n};\nvar DxFrom = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:left\": null,\n        \"update:opacity\": null,\n        \"update:position\": null,\n        \"update:scale\": null,\n        \"update:top\": null,\n    },\n    props: {\n        left: Number,\n        opacity: Number,\n        position: Object,\n        scale: Number,\n        top: Number\n    }\n});\nexports.DxFrom = DxFrom;\nDxFrom.$_optionName = \"from\";\nDxFrom.$_expectedChildren = {\n    position: { isCollectionItem: false, optionName: \"position\" }\n};\nvar DxGrouping = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowCollapsing\": null,\n        \"update:autoExpandAll\": null,\n        \"update:contextMenuEnabled\": null,\n        \"update:expandMode\": null,\n        \"update:texts\": null,\n    },\n    props: {\n        allowCollapsing: Boolean,\n        autoExpandAll: Boolean,\n        contextMenuEnabled: Boolean,\n        expandMode: String,\n        texts: Object\n    }\n});\nexports.DxGrouping = DxGrouping;\nDxGrouping.$_optionName = \"grouping\";\nDxGrouping.$_expectedChildren = {\n    groupingTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxGroupingTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:groupByThisColumn\": null,\n        \"update:groupContinuedMessage\": null,\n        \"update:groupContinuesMessage\": null,\n        \"update:ungroup\": null,\n        \"update:ungroupAll\": null,\n    },\n    props: {\n        groupByThisColumn: String,\n        groupContinuedMessage: String,\n        groupContinuesMessage: String,\n        ungroup: String,\n        ungroupAll: String\n    }\n});\nexports.DxGroupingTexts = DxGroupingTexts;\nDxGroupingTexts.$_optionName = \"texts\";\nvar DxGroupItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignByColumn\": null,\n        \"update:column\": null,\n        \"update:customizeText\": null,\n        \"update:displayFormat\": null,\n        \"update:name\": null,\n        \"update:showInColumn\": null,\n        \"update:showInGroupFooter\": null,\n        \"update:skipEmptyValues\": null,\n        \"update:summaryType\": null,\n        \"update:valueFormat\": null,\n    },\n    props: {\n        alignByColumn: Boolean,\n        column: String,\n        customizeText: Function,\n        displayFormat: String,\n        name: String,\n        showInColumn: String,\n        showInGroupFooter: Boolean,\n        skipEmptyValues: Boolean,\n        summaryType: String,\n        valueFormat: [Object, Function, String]\n    }\n});\nexports.DxGroupItem = DxGroupItem;\nDxGroupItem.$_optionName = \"groupItems\";\nDxGroupItem.$_isCollectionItem = true;\nDxGroupItem.$_expectedChildren = {\n    valueFormat: { isCollectionItem: false, optionName: \"valueFormat\" }\n};\nvar DxGroupOperationDescriptions = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:and\": null,\n        \"update:notAnd\": null,\n        \"update:notOr\": null,\n        \"update:or\": null,\n    },\n    props: {\n        and: String,\n        notAnd: String,\n        notOr: String,\n        or: String\n    }\n});\nexports.DxGroupOperationDescriptions = DxGroupOperationDescriptions;\nDxGroupOperationDescriptions.$_optionName = \"groupOperationDescriptions\";\nvar DxGroupPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowColumnDragging\": null,\n        \"update:emptyPanelText\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        allowColumnDragging: Boolean,\n        emptyPanelText: String,\n        visible: [Boolean, String]\n    }\n});\nexports.DxGroupPanel = DxGroupPanel;\nDxGroupPanel.$_optionName = \"groupPanel\";\nvar DxHeaderFilter = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:dataSource\": null,\n        \"update:groupInterval\": null,\n        \"update:height\": null,\n        \"update:searchMode\": null,\n        \"update:searchTimeout\": null,\n        \"update:texts\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        dataSource: [Array, Object, Function],\n        groupInterval: [Number, String],\n        height: Number,\n        searchMode: String,\n        searchTimeout: Number,\n        texts: Object,\n        visible: Boolean,\n        width: Number\n    }\n});\nexports.DxHeaderFilter = DxHeaderFilter;\nDxHeaderFilter.$_optionName = \"headerFilter\";\nvar DxHide = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:complete\": null,\n        \"update:delay\": null,\n        \"update:direction\": null,\n        \"update:duration\": null,\n        \"update:easing\": null,\n        \"update:from\": null,\n        \"update:staggerDelay\": null,\n        \"update:start\": null,\n        \"update:to\": null,\n        \"update:type\": null,\n    },\n    props: {\n        complete: Function,\n        delay: Number,\n        direction: String,\n        duration: Number,\n        easing: String,\n        from: Object,\n        staggerDelay: Number,\n        start: Function,\n        to: Object,\n        type: String\n    }\n});\nexports.DxHide = DxHide;\nDxHide.$_optionName = \"hide\";\nDxHide.$_expectedChildren = {\n    from: { isCollectionItem: false, optionName: \"from\" },\n    to: { isCollectionItem: false, optionName: \"to\" }\n};\nvar DxItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:cssClass\": null,\n        \"update:disabled\": null,\n        \"update:html\": null,\n        \"update:locateInMenu\": null,\n        \"update:location\": null,\n        \"update:menuItemTemplate\": null,\n        \"update:name\": null,\n        \"update:options\": null,\n        \"update:showText\": null,\n        \"update:template\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n        \"update:widget\": null,\n    },\n    props: {\n        cssClass: String,\n        disabled: Boolean,\n        html: String,\n        locateInMenu: String,\n        location: String,\n        menuItemTemplate: {},\n        name: String,\n        options: {},\n        showText: String,\n        template: {},\n        text: String,\n        visible: Boolean,\n        widget: String\n    }\n});\nexports.DxItem = DxItem;\nDxItem.$_optionName = \"items\";\nDxItem.$_isCollectionItem = true;\nvar DxKeyboardNavigation = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:editOnKeyPress\": null,\n        \"update:enabled\": null,\n        \"update:enterKeyAction\": null,\n        \"update:enterKeyDirection\": null,\n    },\n    props: {\n        editOnKeyPress: Boolean,\n        enabled: Boolean,\n        enterKeyAction: String,\n        enterKeyDirection: String\n    }\n});\nexports.DxKeyboardNavigation = DxKeyboardNavigation;\nDxKeyboardNavigation.$_optionName = \"keyboardNavigation\";\nvar DxLabel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignment\": null,\n        \"update:location\": null,\n        \"update:showColon\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        alignment: String,\n        location: String,\n        showColon: Boolean,\n        text: String,\n        visible: Boolean\n    }\n});\nexports.DxLabel = DxLabel;\nDxLabel.$_optionName = \"label\";\nvar DxLoadPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:enabled\": null,\n        \"update:height\": null,\n        \"update:indicatorSrc\": null,\n        \"update:shading\": null,\n        \"update:shadingColor\": null,\n        \"update:showIndicator\": null,\n        \"update:showPane\": null,\n        \"update:text\": null,\n        \"update:width\": null,\n    },\n    props: {\n        enabled: [Boolean, String],\n        height: Number,\n        indicatorSrc: String,\n        shading: Boolean,\n        shadingColor: String,\n        showIndicator: Boolean,\n        showPane: Boolean,\n        text: String,\n        width: Number\n    }\n});\nexports.DxLoadPanel = DxLoadPanel;\nDxLoadPanel.$_optionName = \"loadPanel\";\nvar DxLookup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowClearing\": null,\n        \"update:calculateCellValue\": null,\n        \"update:dataSource\": null,\n        \"update:displayExpr\": null,\n        \"update:valueExpr\": null,\n    },\n    props: {\n        allowClearing: Boolean,\n        calculateCellValue: Function,\n        dataSource: [Array, Object, Function],\n        displayExpr: [Function, String],\n        valueExpr: String\n    }\n});\nexports.DxLookup = DxLookup;\nDxLookup.$_optionName = \"lookup\";\nvar DxMasterDetail = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:autoExpandAll\": null,\n        \"update:enabled\": null,\n        \"update:template\": null,\n    },\n    props: {\n        autoExpandAll: Boolean,\n        enabled: Boolean,\n        template: {}\n    }\n});\nexports.DxMasterDetail = DxMasterDetail;\nDxMasterDetail.$_optionName = \"masterDetail\";\nvar DxMy = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: String,\n        y: String\n    }\n});\nexports.DxMy = DxMy;\nDxMy.$_optionName = \"my\";\nvar DxNumericRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        type: String\n    }\n});\nexports.DxNumericRule = DxNumericRule;\nDxNumericRule.$_optionName = \"validationRules\";\nDxNumericRule.$_isCollectionItem = true;\nDxNumericRule.$_predefinedProps = {\n    type: \"numeric\"\n};\nvar DxOffset = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: Number,\n        y: Number\n    }\n});\nexports.DxOffset = DxOffset;\nDxOffset.$_optionName = \"offset\";\nvar DxOperationDescriptions = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:between\": null,\n        \"update:contains\": null,\n        \"update:endsWith\": null,\n        \"update:equal\": null,\n        \"update:greaterThan\": null,\n        \"update:greaterThanOrEqual\": null,\n        \"update:lessThan\": null,\n        \"update:lessThanOrEqual\": null,\n        \"update:notContains\": null,\n        \"update:notEqual\": null,\n        \"update:startsWith\": null,\n    },\n    props: {\n        between: String,\n        contains: String,\n        endsWith: String,\n        equal: String,\n        greaterThan: String,\n        greaterThanOrEqual: String,\n        lessThan: String,\n        lessThanOrEqual: String,\n        notContains: String,\n        notEqual: String,\n        startsWith: String\n    }\n});\nexports.DxOperationDescriptions = DxOperationDescriptions;\nDxOperationDescriptions.$_optionName = \"operationDescriptions\";\nvar DxPager = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowedPageSizes\": null,\n        \"update:displayMode\": null,\n        \"update:infoText\": null,\n        \"update:showInfo\": null,\n        \"update:showNavigationButtons\": null,\n        \"update:showPageSizeSelector\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        allowedPageSizes: [Array, String],\n        displayMode: String,\n        infoText: String,\n        showInfo: Boolean,\n        showNavigationButtons: Boolean,\n        showPageSizeSelector: Boolean,\n        visible: [Boolean, String]\n    }\n});\nexports.DxPager = DxPager;\nDxPager.$_optionName = \"pager\";\nvar DxPaging = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:enabled\": null,\n        \"update:pageIndex\": null,\n        \"update:pageSize\": null,\n    },\n    props: {\n        enabled: Boolean,\n        pageIndex: Number,\n        pageSize: Number\n    }\n});\nexports.DxPaging = DxPaging;\nDxPaging.$_optionName = \"paging\";\nvar DxPatternRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:pattern\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        pattern: {},\n        type: String\n    }\n});\nexports.DxPatternRule = DxPatternRule;\nDxPatternRule.$_optionName = \"validationRules\";\nDxPatternRule.$_isCollectionItem = true;\nDxPatternRule.$_predefinedProps = {\n    type: \"pattern\"\n};\nvar DxPopup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:animation\": null,\n        \"update:bindingOptions\": null,\n        \"update:closeOnOutsideClick\": null,\n        \"update:container\": null,\n        \"update:contentTemplate\": null,\n        \"update:copyRootClassesToWrapper\": null,\n        \"update:deferRendering\": null,\n        \"update:disabled\": null,\n        \"update:dragAndResizeArea\": null,\n        \"update:dragEnabled\": null,\n        \"update:dragOutsideBoundary\": null,\n        \"update:elementAttr\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:fullScreen\": null,\n        \"update:height\": null,\n        \"update:hideOnParentScroll\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:maxHeight\": null,\n        \"update:maxWidth\": null,\n        \"update:minHeight\": null,\n        \"update:minWidth\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onHidden\": null,\n        \"update:onHiding\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onResize\": null,\n        \"update:onResizeEnd\": null,\n        \"update:onResizeStart\": null,\n        \"update:onShowing\": null,\n        \"update:onShown\": null,\n        \"update:onTitleRendered\": null,\n        \"update:position\": null,\n        \"update:resizeEnabled\": null,\n        \"update:restorePosition\": null,\n        \"update:rtlEnabled\": null,\n        \"update:shading\": null,\n        \"update:shadingColor\": null,\n        \"update:showCloseButton\": null,\n        \"update:showTitle\": null,\n        \"update:tabIndex\": null,\n        \"update:title\": null,\n        \"update:titleTemplate\": null,\n        \"update:toolbarItems\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n        \"update:wrapperAttr\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        animation: Object,\n        bindingOptions: Object,\n        closeOnOutsideClick: [Boolean, Function],\n        container: {},\n        contentTemplate: {},\n        copyRootClassesToWrapper: Boolean,\n        deferRendering: Boolean,\n        disabled: Boolean,\n        dragAndResizeArea: {},\n        dragEnabled: Boolean,\n        dragOutsideBoundary: Boolean,\n        elementAttr: {},\n        focusStateEnabled: Boolean,\n        fullScreen: Boolean,\n        height: [Function, Number, String],\n        hideOnParentScroll: Boolean,\n        hint: String,\n        hoverStateEnabled: Boolean,\n        maxHeight: [Function, Number, String],\n        maxWidth: [Function, Number, String],\n        minHeight: [Function, Number, String],\n        minWidth: [Function, Number, String],\n        onContentReady: Function,\n        onDisposing: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onHidden: Function,\n        onHiding: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        onResize: Function,\n        onResizeEnd: Function,\n        onResizeStart: Function,\n        onShowing: Function,\n        onShown: Function,\n        onTitleRendered: Function,\n        position: [Function, Object, String],\n        resizeEnabled: Boolean,\n        restorePosition: Boolean,\n        rtlEnabled: Boolean,\n        shading: Boolean,\n        shadingColor: String,\n        showCloseButton: Boolean,\n        showTitle: Boolean,\n        tabIndex: Number,\n        title: String,\n        titleTemplate: {},\n        toolbarItems: Array,\n        visible: Boolean,\n        width: [Function, Number, String],\n        wrapperAttr: {}\n    }\n});\nexports.DxPopup = DxPopup;\nDxPopup.$_optionName = \"popup\";\nDxPopup.$_expectedChildren = {\n    animation: { isCollectionItem: false, optionName: \"animation\" },\n    position: { isCollectionItem: false, optionName: \"position\" },\n    toolbarItem: { isCollectionItem: true, optionName: \"toolbarItems\" }\n};\nvar DxPosition = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:at\": null,\n        \"update:boundary\": null,\n        \"update:boundaryOffset\": null,\n        \"update:collision\": null,\n        \"update:my\": null,\n        \"update:of\": null,\n        \"update:offset\": null,\n    },\n    props: {\n        at: [Object, String],\n        boundary: {},\n        boundaryOffset: [Object, String],\n        collision: [Object, String],\n        my: [Object, String],\n        of: {},\n        offset: [Object, String]\n    }\n});\nexports.DxPosition = DxPosition;\nDxPosition.$_optionName = \"position\";\nvar DxRangeRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:max\": null,\n        \"update:message\": null,\n        \"update:min\": null,\n        \"update:reevaluate\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        max: {},\n        message: String,\n        min: {},\n        reevaluate: Boolean,\n        type: String\n    }\n});\nexports.DxRangeRule = DxRangeRule;\nDxRangeRule.$_optionName = \"validationRules\";\nDxRangeRule.$_isCollectionItem = true;\nDxRangeRule.$_predefinedProps = {\n    type: \"range\"\n};\nvar DxRemoteOperations = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:filtering\": null,\n        \"update:grouping\": null,\n        \"update:groupPaging\": null,\n        \"update:paging\": null,\n        \"update:sorting\": null,\n        \"update:summary\": null,\n    },\n    props: {\n        filtering: Boolean,\n        grouping: Boolean,\n        groupPaging: Boolean,\n        paging: Boolean,\n        sorting: Boolean,\n        summary: Boolean\n    }\n});\nexports.DxRemoteOperations = DxRemoteOperations;\nDxRemoteOperations.$_optionName = \"remoteOperations\";\nvar DxRequiredRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:message\": null,\n        \"update:trim\": null,\n        \"update:type\": null,\n    },\n    props: {\n        message: String,\n        trim: Boolean,\n        type: String\n    }\n});\nexports.DxRequiredRule = DxRequiredRule;\nDxRequiredRule.$_optionName = \"validationRules\";\nDxRequiredRule.$_isCollectionItem = true;\nDxRequiredRule.$_predefinedProps = {\n    type: \"required\"\n};\nvar DxRowDragging = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowDropInsideItem\": null,\n        \"update:allowReordering\": null,\n        \"update:autoScroll\": null,\n        \"update:boundary\": null,\n        \"update:container\": null,\n        \"update:cursorOffset\": null,\n        \"update:data\": null,\n        \"update:dragDirection\": null,\n        \"update:dragTemplate\": null,\n        \"update:dropFeedbackMode\": null,\n        \"update:filter\": null,\n        \"update:group\": null,\n        \"update:handle\": null,\n        \"update:onAdd\": null,\n        \"update:onDragChange\": null,\n        \"update:onDragEnd\": null,\n        \"update:onDragMove\": null,\n        \"update:onDragStart\": null,\n        \"update:onRemove\": null,\n        \"update:onReorder\": null,\n        \"update:scrollSensitivity\": null,\n        \"update:scrollSpeed\": null,\n        \"update:showDragIcons\": null,\n    },\n    props: {\n        allowDropInsideItem: Boolean,\n        allowReordering: Boolean,\n        autoScroll: Boolean,\n        boundary: {},\n        container: {},\n        cursorOffset: [Object, String],\n        data: {},\n        dragDirection: String,\n        dragTemplate: {},\n        dropFeedbackMode: String,\n        filter: String,\n        group: String,\n        handle: String,\n        onAdd: Function,\n        onDragChange: Function,\n        onDragEnd: Function,\n        onDragMove: Function,\n        onDragStart: Function,\n        onRemove: Function,\n        onReorder: Function,\n        scrollSensitivity: Number,\n        scrollSpeed: Number,\n        showDragIcons: Boolean\n    }\n});\nexports.DxRowDragging = DxRowDragging;\nDxRowDragging.$_optionName = \"rowDragging\";\nDxRowDragging.$_expectedChildren = {\n    cursorOffset: { isCollectionItem: false, optionName: \"cursorOffset\" }\n};\nvar DxScrolling = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:columnRenderingMode\": null,\n        \"update:mode\": null,\n        \"update:preloadEnabled\": null,\n        \"update:renderAsync\": null,\n        \"update:rowRenderingMode\": null,\n        \"update:scrollByContent\": null,\n        \"update:scrollByThumb\": null,\n        \"update:showScrollbar\": null,\n        \"update:useNative\": null,\n    },\n    props: {\n        columnRenderingMode: String,\n        mode: String,\n        preloadEnabled: Boolean,\n        renderAsync: Boolean,\n        rowRenderingMode: String,\n        scrollByContent: Boolean,\n        scrollByThumb: Boolean,\n        showScrollbar: String,\n        useNative: [Boolean, String]\n    }\n});\nexports.DxScrolling = DxScrolling;\nDxScrolling.$_optionName = \"scrolling\";\nvar DxSearchPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:highlightCaseSensitive\": null,\n        \"update:highlightSearchText\": null,\n        \"update:placeholder\": null,\n        \"update:searchVisibleColumnsOnly\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        highlightCaseSensitive: Boolean,\n        highlightSearchText: Boolean,\n        placeholder: String,\n        searchVisibleColumnsOnly: Boolean,\n        text: String,\n        visible: Boolean,\n        width: Number\n    }\n});\nexports.DxSearchPanel = DxSearchPanel;\nDxSearchPanel.$_optionName = \"searchPanel\";\nvar DxSelection = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSelectAll\": null,\n        \"update:deferred\": null,\n        \"update:maxFilterLengthInRequest\": null,\n        \"update:mode\": null,\n        \"update:selectAllMode\": null,\n        \"update:showCheckBoxesMode\": null,\n    },\n    props: {\n        allowSelectAll: Boolean,\n        deferred: Boolean,\n        maxFilterLengthInRequest: Number,\n        mode: String,\n        selectAllMode: String,\n        showCheckBoxesMode: String\n    }\n});\nexports.DxSelection = DxSelection;\nDxSelection.$_optionName = \"selection\";\nvar DxShow = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:complete\": null,\n        \"update:delay\": null,\n        \"update:direction\": null,\n        \"update:duration\": null,\n        \"update:easing\": null,\n        \"update:from\": null,\n        \"update:staggerDelay\": null,\n        \"update:start\": null,\n        \"update:to\": null,\n        \"update:type\": null,\n    },\n    props: {\n        complete: Function,\n        delay: Number,\n        direction: String,\n        duration: Number,\n        easing: String,\n        from: Object,\n        staggerDelay: Number,\n        start: Function,\n        to: Object,\n        type: String\n    }\n});\nexports.DxShow = DxShow;\nDxShow.$_optionName = \"show\";\nvar DxSortByGroupSummaryInfo = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:groupColumn\": null,\n        \"update:sortOrder\": null,\n        \"update:summaryItem\": null,\n    },\n    props: {\n        groupColumn: String,\n        sortOrder: String,\n        summaryItem: [Number, String]\n    }\n});\nexports.DxSortByGroupSummaryInfo = DxSortByGroupSummaryInfo;\nDxSortByGroupSummaryInfo.$_optionName = \"sortByGroupSummaryInfo\";\nDxSortByGroupSummaryInfo.$_isCollectionItem = true;\nvar DxSorting = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ascendingText\": null,\n        \"update:clearText\": null,\n        \"update:descendingText\": null,\n        \"update:mode\": null,\n        \"update:showSortIndexes\": null,\n    },\n    props: {\n        ascendingText: String,\n        clearText: String,\n        descendingText: String,\n        mode: String,\n        showSortIndexes: Boolean\n    }\n});\nexports.DxSorting = DxSorting;\nDxSorting.$_optionName = \"sorting\";\nvar DxStateStoring = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:customLoad\": null,\n        \"update:customSave\": null,\n        \"update:enabled\": null,\n        \"update:savingTimeout\": null,\n        \"update:storageKey\": null,\n        \"update:type\": null,\n    },\n    props: {\n        customLoad: Function,\n        customSave: Function,\n        enabled: Boolean,\n        savingTimeout: Number,\n        storageKey: String,\n        type: String\n    }\n});\nexports.DxStateStoring = DxStateStoring;\nDxStateStoring.$_optionName = \"stateStoring\";\nvar DxStringLengthRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:max\": null,\n        \"update:message\": null,\n        \"update:min\": null,\n        \"update:trim\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        max: Number,\n        message: String,\n        min: Number,\n        trim: Boolean,\n        type: String\n    }\n});\nexports.DxStringLengthRule = DxStringLengthRule;\nDxStringLengthRule.$_optionName = \"validationRules\";\nDxStringLengthRule.$_isCollectionItem = true;\nDxStringLengthRule.$_predefinedProps = {\n    type: \"stringLength\"\n};\nvar DxSummary = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:calculateCustomSummary\": null,\n        \"update:groupItems\": null,\n        \"update:recalculateWhileEditing\": null,\n        \"update:skipEmptyValues\": null,\n        \"update:texts\": null,\n        \"update:totalItems\": null,\n    },\n    props: {\n        calculateCustomSummary: Function,\n        groupItems: Array,\n        recalculateWhileEditing: Boolean,\n        skipEmptyValues: Boolean,\n        texts: Object,\n        totalItems: Array\n    }\n});\nexports.DxSummary = DxSummary;\nDxSummary.$_optionName = \"summary\";\nDxSummary.$_expectedChildren = {\n    groupItem: { isCollectionItem: true, optionName: \"groupItems\" },\n    summaryTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" },\n    totalItem: { isCollectionItem: true, optionName: \"totalItems\" }\n};\nvar DxSummaryTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:avg\": null,\n        \"update:avgOtherColumn\": null,\n        \"update:count\": null,\n        \"update:max\": null,\n        \"update:maxOtherColumn\": null,\n        \"update:min\": null,\n        \"update:minOtherColumn\": null,\n        \"update:sum\": null,\n        \"update:sumOtherColumn\": null,\n    },\n    props: {\n        avg: String,\n        avgOtherColumn: String,\n        count: String,\n        max: String,\n        maxOtherColumn: String,\n        min: String,\n        minOtherColumn: String,\n        sum: String,\n        sumOtherColumn: String\n    }\n});\nexports.DxSummaryTexts = DxSummaryTexts;\nDxSummaryTexts.$_optionName = \"texts\";\nvar DxTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:addRow\": null,\n        \"update:avg\": null,\n        \"update:avgOtherColumn\": null,\n        \"update:cancel\": null,\n        \"update:cancelAllChanges\": null,\n        \"update:cancelRowChanges\": null,\n        \"update:clearFilter\": null,\n        \"update:confirmDeleteMessage\": null,\n        \"update:confirmDeleteTitle\": null,\n        \"update:count\": null,\n        \"update:createFilter\": null,\n        \"update:deleteRow\": null,\n        \"update:editRow\": null,\n        \"update:emptyValue\": null,\n        \"update:exportAll\": null,\n        \"update:exportSelectedRows\": null,\n        \"update:exportTo\": null,\n        \"update:filterEnabledHint\": null,\n        \"update:fix\": null,\n        \"update:groupByThisColumn\": null,\n        \"update:groupContinuedMessage\": null,\n        \"update:groupContinuesMessage\": null,\n        \"update:leftPosition\": null,\n        \"update:max\": null,\n        \"update:maxOtherColumn\": null,\n        \"update:min\": null,\n        \"update:minOtherColumn\": null,\n        \"update:ok\": null,\n        \"update:rightPosition\": null,\n        \"update:saveAllChanges\": null,\n        \"update:saveRowChanges\": null,\n        \"update:sum\": null,\n        \"update:sumOtherColumn\": null,\n        \"update:undeleteRow\": null,\n        \"update:unfix\": null,\n        \"update:ungroup\": null,\n        \"update:ungroupAll\": null,\n        \"update:validationCancelChanges\": null,\n    },\n    props: {\n        addRow: String,\n        avg: String,\n        avgOtherColumn: String,\n        cancel: String,\n        cancelAllChanges: String,\n        cancelRowChanges: String,\n        clearFilter: String,\n        confirmDeleteMessage: String,\n        confirmDeleteTitle: String,\n        count: String,\n        createFilter: String,\n        deleteRow: String,\n        editRow: String,\n        emptyValue: String,\n        exportAll: String,\n        exportSelectedRows: String,\n        exportTo: String,\n        filterEnabledHint: String,\n        fix: String,\n        groupByThisColumn: String,\n        groupContinuedMessage: String,\n        groupContinuesMessage: String,\n        leftPosition: String,\n        max: String,\n        maxOtherColumn: String,\n        min: String,\n        minOtherColumn: String,\n        ok: String,\n        rightPosition: String,\n        saveAllChanges: String,\n        saveRowChanges: String,\n        sum: String,\n        sumOtherColumn: String,\n        undeleteRow: String,\n        unfix: String,\n        ungroup: String,\n        ungroupAll: String,\n        validationCancelChanges: String\n    }\n});\nexports.DxTexts = DxTexts;\nDxTexts.$_optionName = \"texts\";\nvar DxTo = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:left\": null,\n        \"update:opacity\": null,\n        \"update:position\": null,\n        \"update:scale\": null,\n        \"update:top\": null,\n    },\n    props: {\n        left: Number,\n        opacity: Number,\n        position: Object,\n        scale: Number,\n        top: Number\n    }\n});\nexports.DxTo = DxTo;\nDxTo.$_optionName = \"to\";\nvar DxToolbar = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:disabled\": null,\n        \"update:items\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        disabled: Boolean,\n        items: Array,\n        visible: Boolean\n    }\n});\nexports.DxToolbar = DxToolbar;\nDxToolbar.$_optionName = \"toolbar\";\nDxToolbar.$_expectedChildren = {\n    item: { isCollectionItem: true, optionName: \"items\" }\n};\nvar DxToolbarItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:disabled\": null,\n        \"update:html\": null,\n        \"update:location\": null,\n        \"update:options\": null,\n        \"update:template\": null,\n        \"update:text\": null,\n        \"update:toolbar\": null,\n        \"update:visible\": null,\n        \"update:widget\": null,\n    },\n    props: {\n        disabled: Boolean,\n        html: String,\n        location: String,\n        options: {},\n        template: {},\n        text: String,\n        toolbar: String,\n        visible: Boolean,\n        widget: String\n    }\n});\nexports.DxToolbarItem = DxToolbarItem;\nDxToolbarItem.$_optionName = \"toolbarItems\";\nDxToolbarItem.$_isCollectionItem = true;\nvar DxTotalItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignment\": null,\n        \"update:column\": null,\n        \"update:cssClass\": null,\n        \"update:customizeText\": null,\n        \"update:displayFormat\": null,\n        \"update:name\": null,\n        \"update:showInColumn\": null,\n        \"update:skipEmptyValues\": null,\n        \"update:summaryType\": null,\n        \"update:valueFormat\": null,\n    },\n    props: {\n        alignment: String,\n        column: String,\n        cssClass: String,\n        customizeText: Function,\n        displayFormat: String,\n        name: String,\n        showInColumn: String,\n        skipEmptyValues: Boolean,\n        summaryType: String,\n        valueFormat: [Object, Function, String]\n    }\n});\nexports.DxTotalItem = DxTotalItem;\nDxTotalItem.$_optionName = \"totalItems\";\nDxTotalItem.$_isCollectionItem = true;\nDxTotalItem.$_expectedChildren = {\n    valueFormat: { isCollectionItem: false, optionName: \"valueFormat\" }\n};\nvar DxValidationRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:comparisonTarget\": null,\n        \"update:comparisonType\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:max\": null,\n        \"update:message\": null,\n        \"update:min\": null,\n        \"update:pattern\": null,\n        \"update:reevaluate\": null,\n        \"update:trim\": null,\n        \"update:type\": null,\n        \"update:validationCallback\": null,\n    },\n    props: {\n        comparisonTarget: Function,\n        comparisonType: String,\n        ignoreEmptyValue: Boolean,\n        max: {},\n        message: String,\n        min: {},\n        pattern: {},\n        reevaluate: Boolean,\n        trim: Boolean,\n        type: String,\n        validationCallback: Function\n    }\n});\nexports.DxValidationRule = DxValidationRule;\nDxValidationRule.$_optionName = \"validationRules\";\nDxValidationRule.$_isCollectionItem = true;\nDxValidationRule.$_predefinedProps = {\n    type: \"required\"\n};\nvar DxValueFormat = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:currency\": null,\n        \"update:formatter\": null,\n        \"update:parser\": null,\n        \"update:precision\": null,\n        \"update:type\": null,\n    },\n    props: {\n        currency: String,\n        formatter: Function,\n        parser: Function,\n        precision: Number,\n        type: String\n    }\n});\nexports.DxValueFormat = DxValueFormat;\nDxValueFormat.$_optionName = \"valueFormat\";\nexports.default = DxDataGrid;\n","/**\r\n * DevExtreme (esm/format_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isString,\r\n    isNumeric,\r\n    isFunction,\r\n    isDefined,\r\n    isDate,\r\n    isPlainObject\r\n} from \"./core/utils/type\";\r\nimport dateUtils from \"./core/utils/date\";\r\nimport numberLocalization from \"./localization/number\";\r\nimport dateLocalization from \"./localization/date\";\r\nimport dependencyInjector from \"./core/utils/dependency_injector\";\r\nimport \"./localization/currency\";\r\nexport default dependencyInjector({\r\n    format: function(value, _format) {\r\n        var formatIsValid = isString(_format) && \"\" !== _format || isPlainObject(_format) || isFunction(_format);\r\n        var valueIsValid = isNumeric(value) || isDate(value);\r\n        if (!formatIsValid || !valueIsValid) {\r\n            return isDefined(value) ? value.toString() : \"\"\r\n        }\r\n        if (isFunction(_format)) {\r\n            return _format(value)\r\n        }\r\n        if (isString(_format)) {\r\n            _format = {\r\n                type: _format\r\n            }\r\n        }\r\n        if (isNumeric(value)) {\r\n            return numberLocalization.format(value, _format)\r\n        }\r\n        if (isDate(value)) {\r\n            return dateLocalization.format(value, _format)\r\n        }\r\n    },\r\n    getTimeFormat: function(showSecond) {\r\n        return showSecond ? \"longtime\" : \"shorttime\"\r\n    },\r\n    _normalizeFormat: function(format) {\r\n        if (!Array.isArray(format)) {\r\n            return format\r\n        }\r\n        if (1 === format.length) {\r\n            return format[0]\r\n        }\r\n        return function(date) {\r\n            return format.map((function(formatPart) {\r\n                return dateLocalization.format(date, formatPart)\r\n            })).join(\" \")\r\n        }\r\n    },\r\n    getDateFormatByDifferences: function(dateDifferences, intervalFormat) {\r\n        var resultFormat = [];\r\n        var needSpecialSecondFormatter = intervalFormat && dateDifferences.millisecond && !(dateDifferences.year || dateDifferences.month || dateDifferences.day);\r\n        if (needSpecialSecondFormatter) {\r\n            resultFormat.push((function(date) {\r\n                return date.getSeconds() + date.getMilliseconds() / 1e3 + \"s\"\r\n            }))\r\n        } else if (dateDifferences.millisecond) {\r\n            resultFormat.push(\"millisecond\")\r\n        }\r\n        if (dateDifferences.hour || dateDifferences.minute || !needSpecialSecondFormatter && dateDifferences.second) {\r\n            resultFormat.unshift(this.getTimeFormat(dateDifferences.second))\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat && \"month\" === intervalFormat) {\r\n                return \"monthandyear\"\r\n            } else {\r\n                resultFormat.unshift(\"shortdate\");\r\n                return this._normalizeFormat(resultFormat)\r\n            }\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month) {\r\n            return \"monthandyear\"\r\n        }\r\n        if (dateDifferences.year && dateDifferences.quarter) {\r\n            return \"quarterandyear\"\r\n        }\r\n        if (dateDifferences.year) {\r\n            return \"year\"\r\n        }\r\n        if (dateDifferences.quarter) {\r\n            return \"quarter\"\r\n        }\r\n        if (dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                resultFormat.unshift((function(date) {\r\n                    return dateLocalization.getMonthNames(\"abbreviated\")[date.getMonth()] + \" \" + dateLocalization.format(date, \"day\")\r\n                }))\r\n            } else {\r\n                resultFormat.unshift(\"monthandday\")\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        if (dateDifferences.month) {\r\n            return \"month\"\r\n        }\r\n        if (dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                resultFormat.unshift(\"day\")\r\n            } else {\r\n                resultFormat.unshift((function(date) {\r\n                    return dateLocalization.format(date, \"dayofweek\") + \", \" + dateLocalization.format(date, \"day\")\r\n                }))\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        return this._normalizeFormat(resultFormat)\r\n    },\r\n    getDateFormatByTicks: function(ticks) {\r\n        var maxDiff;\r\n        var currentDiff;\r\n        var i;\r\n        if (ticks.length > 1) {\r\n            maxDiff = dateUtils.getDatesDifferences(ticks[0], ticks[1]);\r\n            for (i = 1; i < ticks.length - 1; i++) {\r\n                currentDiff = dateUtils.getDatesDifferences(ticks[i], ticks[i + 1]);\r\n                if (maxDiff.count < currentDiff.count) {\r\n                    maxDiff = currentDiff\r\n                }\r\n            }\r\n        } else {\r\n            maxDiff = {\r\n                year: true,\r\n                month: true,\r\n                day: true,\r\n                hour: ticks[0].getHours() > 0,\r\n                minute: ticks[0].getMinutes() > 0,\r\n                second: ticks[0].getSeconds() > 0,\r\n                millisecond: ticks[0].getMilliseconds() > 0\r\n            }\r\n        }\r\n        var resultFormat = this.getDateFormatByDifferences(maxDiff);\r\n        return resultFormat\r\n    },\r\n    getDateFormatByTickInterval: function(startValue, endValue, tickInterval) {\r\n        var dateUnitInterval;\r\n        var correctDateDifferences = function(dateDifferences, tickInterval, value) {\r\n            switch (tickInterval) {\r\n                case \"year\":\r\n                case \"quarter\":\r\n                    dateDifferences.month = value;\r\n                case \"month\":\r\n                    dateDifferences.day = value;\r\n                case \"week\":\r\n                case \"day\":\r\n                    dateDifferences.hour = value;\r\n                case \"hour\":\r\n                    dateDifferences.minute = value;\r\n                case \"minute\":\r\n                    dateDifferences.second = value;\r\n                case \"second\":\r\n                    dateDifferences.millisecond = value\r\n            }\r\n        };\r\n        tickInterval = isString(tickInterval) ? tickInterval.toLowerCase() : tickInterval;\r\n        var dateDifferences = dateUtils.getDatesDifferences(startValue, endValue);\r\n        if (startValue !== endValue) {\r\n            ! function(differences, minDate, maxDate) {\r\n                if (!maxDate.getMilliseconds() && maxDate.getSeconds()) {\r\n                    if (maxDate.getSeconds() - minDate.getSeconds() === 1) {\r\n                        differences.millisecond = true;\r\n                        differences.second = false\r\n                    }\r\n                } else if (!maxDate.getSeconds() && maxDate.getMinutes()) {\r\n                    if (maxDate.getMinutes() - minDate.getMinutes() === 1) {\r\n                        differences.second = true;\r\n                        differences.minute = false\r\n                    }\r\n                } else if (!maxDate.getMinutes() && maxDate.getHours()) {\r\n                    if (maxDate.getHours() - minDate.getHours() === 1) {\r\n                        differences.minute = true;\r\n                        differences.hour = false\r\n                    }\r\n                } else if (!maxDate.getHours() && maxDate.getDate() > 1) {\r\n                    if (maxDate.getDate() - minDate.getDate() === 1) {\r\n                        differences.hour = true;\r\n                        differences.day = false\r\n                    }\r\n                } else if (1 === maxDate.getDate() && maxDate.getMonth()) {\r\n                    if (maxDate.getMonth() - minDate.getMonth() === 1) {\r\n                        differences.day = true;\r\n                        differences.month = false\r\n                    }\r\n                } else if (!maxDate.getMonth() && maxDate.getFullYear()) {\r\n                    if (maxDate.getFullYear() - minDate.getFullYear() === 1) {\r\n                        differences.month = true;\r\n                        differences.year = false\r\n                    }\r\n                }\r\n            }(dateDifferences, startValue > endValue ? endValue : startValue, startValue > endValue ? startValue : endValue)\r\n        }\r\n        dateUnitInterval = dateUtils.getDateUnitInterval(dateDifferences);\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, true);\r\n        dateUnitInterval = dateUtils.getDateUnitInterval(tickInterval || \"second\");\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, false);\r\n        dateDifferences[{\r\n            week: \"day\"\r\n        } [dateUnitInterval] || dateUnitInterval] = true;\r\n        var resultFormat = this.getDateFormatByDifferences(dateDifferences);\r\n        return resultFormat\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/localization/language_codes.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport localizationCoreUtils from \"./core\";\r\nvar LANGUAGE_CODES = {\r\n    ar: 1,\r\n    bg: 2,\r\n    ca: 3,\r\n    \"zh-Hans\": 4,\r\n    cs: 5,\r\n    da: 6,\r\n    de: 7,\r\n    el: 8,\r\n    en: 9,\r\n    es: 10,\r\n    fi: 11,\r\n    fr: 12,\r\n    he: 13,\r\n    hu: 14,\r\n    is: 15,\r\n    it: 16,\r\n    ja: 17,\r\n    ko: 18,\r\n    nl: 19,\r\n    no: 20,\r\n    pl: 21,\r\n    pt: 22,\r\n    rm: 23,\r\n    ro: 24,\r\n    ru: 25,\r\n    hr: 26,\r\n    sk: 27,\r\n    sq: 28,\r\n    sv: 29,\r\n    th: 30,\r\n    tr: 31,\r\n    ur: 32,\r\n    id: 33,\r\n    uk: 34,\r\n    be: 35,\r\n    sl: 36,\r\n    et: 37,\r\n    lv: 38,\r\n    lt: 39,\r\n    tg: 40,\r\n    fa: 41,\r\n    vi: 42,\r\n    hy: 43,\r\n    az: 44,\r\n    eu: 45,\r\n    hsb: 46,\r\n    mk: 47,\r\n    tn: 50,\r\n    xh: 52,\r\n    zu: 53,\r\n    af: 54,\r\n    ka: 55,\r\n    fo: 56,\r\n    hi: 57,\r\n    mt: 58,\r\n    se: 59,\r\n    ga: 60,\r\n    ms: 62,\r\n    kk: 63,\r\n    ky: 64,\r\n    sw: 65,\r\n    tk: 66,\r\n    uz: 67,\r\n    tt: 68,\r\n    bn: 69,\r\n    pa: 70,\r\n    gu: 71,\r\n    or: 72,\r\n    ta: 73,\r\n    te: 74,\r\n    kn: 75,\r\n    ml: 76,\r\n    as: 77,\r\n    mr: 78,\r\n    sa: 79,\r\n    mn: 80,\r\n    bo: 81,\r\n    cy: 82,\r\n    km: 83,\r\n    lo: 84,\r\n    gl: 86,\r\n    kok: 87,\r\n    syr: 90,\r\n    si: 91,\r\n    iu: 93,\r\n    am: 94,\r\n    tzm: 95,\r\n    ne: 97,\r\n    fy: 98,\r\n    ps: 99,\r\n    fil: 100,\r\n    dv: 101,\r\n    ha: 104,\r\n    yo: 106,\r\n    quz: 107,\r\n    nso: 108,\r\n    ba: 109,\r\n    lb: 110,\r\n    kl: 111,\r\n    ig: 112,\r\n    ii: 120,\r\n    arn: 122,\r\n    moh: 124,\r\n    br: 126,\r\n    ug: 128,\r\n    mi: 129,\r\n    oc: 130,\r\n    co: 131,\r\n    gsw: 132,\r\n    sah: 133,\r\n    qut: 134,\r\n    rw: 135,\r\n    wo: 136,\r\n    prs: 140,\r\n    gd: 145,\r\n    \"ar-SA\": 1025,\r\n    \"bg-BG\": 1026,\r\n    \"ca-ES\": 1027,\r\n    \"zh-TW\": 1028,\r\n    \"cs-CZ\": 1029,\r\n    \"da-DK\": 1030,\r\n    \"de-DE\": 1031,\r\n    \"el-GR\": 1032,\r\n    \"en-US\": 1033,\r\n    \"fi-FI\": 1035,\r\n    \"fr-FR\": 1036,\r\n    \"he-IL\": 1037,\r\n    \"hu-HU\": 1038,\r\n    \"is-IS\": 1039,\r\n    \"it-IT\": 1040,\r\n    \"ja-JP\": 1041,\r\n    \"ko-KR\": 1042,\r\n    \"nl-NL\": 1043,\r\n    \"nb-NO\": 1044,\r\n    \"pl-PL\": 1045,\r\n    \"pt-BR\": 1046,\r\n    \"rm-CH\": 1047,\r\n    \"ro-RO\": 1048,\r\n    \"ru-RU\": 1049,\r\n    \"hr-HR\": 1050,\r\n    \"sk-SK\": 1051,\r\n    \"sq-AL\": 1052,\r\n    \"sv-SE\": 1053,\r\n    \"th-TH\": 1054,\r\n    \"tr-TR\": 1055,\r\n    \"ur-PK\": 1056,\r\n    \"id-ID\": 1057,\r\n    \"uk-UA\": 1058,\r\n    \"be-BY\": 1059,\r\n    \"sl-SI\": 1060,\r\n    \"et-EE\": 1061,\r\n    \"lv-LV\": 1062,\r\n    \"lt-LT\": 1063,\r\n    \"tg-Cyrl-TJ\": 1064,\r\n    \"fa-IR\": 1065,\r\n    \"vi-VN\": 1066,\r\n    \"hy-AM\": 1067,\r\n    \"az-Latn-AZ\": 1068,\r\n    \"eu-ES\": 1069,\r\n    \"hsb-DE\": 1070,\r\n    \"mk-MK\": 1071,\r\n    \"tn-ZA\": 1074,\r\n    \"xh-ZA\": 1076,\r\n    \"zu-ZA\": 1077,\r\n    \"af-ZA\": 1078,\r\n    \"ka-GE\": 1079,\r\n    \"fo-FO\": 1080,\r\n    \"hi-IN\": 1081,\r\n    \"mt-MT\": 1082,\r\n    \"se-NO\": 1083,\r\n    \"ms-MY\": 1086,\r\n    \"kk-KZ\": 1087,\r\n    \"ky-KG\": 1088,\r\n    \"sw-KE\": 1089,\r\n    \"tk-TM\": 1090,\r\n    \"uz-Latn-UZ\": 1091,\r\n    \"tt-RU\": 1092,\r\n    \"bn-IN\": 1093,\r\n    \"pa-IN\": 1094,\r\n    \"gu-IN\": 1095,\r\n    \"or-IN\": 1096,\r\n    \"ta-IN\": 1097,\r\n    \"te-IN\": 1098,\r\n    \"kn-IN\": 1099,\r\n    \"ml-IN\": 1100,\r\n    \"as-IN\": 1101,\r\n    \"mr-IN\": 1102,\r\n    \"sa-IN\": 1103,\r\n    \"mn-MN\": 1104,\r\n    \"bo-CN\": 1105,\r\n    \"cy-GB\": 1106,\r\n    \"km-KH\": 1107,\r\n    \"lo-LA\": 1108,\r\n    \"gl-ES\": 1110,\r\n    \"kok-IN\": 1111,\r\n    \"syr-SY\": 1114,\r\n    \"si-LK\": 1115,\r\n    \"iu-Cans-CA\": 1117,\r\n    \"am-ET\": 1118,\r\n    \"ne-NP\": 1121,\r\n    \"fy-NL\": 1122,\r\n    \"ps-AF\": 1123,\r\n    \"fil-PH\": 1124,\r\n    \"dv-MV\": 1125,\r\n    \"ha-Latn-NG\": 1128,\r\n    \"yo-NG\": 1130,\r\n    \"quz-BO\": 1131,\r\n    \"nso-ZA\": 1132,\r\n    \"ba-RU\": 1133,\r\n    \"lb-LU\": 1134,\r\n    \"kl-GL\": 1135,\r\n    \"ig-NG\": 1136,\r\n    \"ii-CN\": 1144,\r\n    \"arn-CL\": 1146,\r\n    \"moh-CA\": 1148,\r\n    \"br-FR\": 1150,\r\n    \"ug-CN\": 1152,\r\n    \"mi-NZ\": 1153,\r\n    \"oc-FR\": 1154,\r\n    \"co-FR\": 1155,\r\n    \"gsw-FR\": 1156,\r\n    \"sah-RU\": 1157,\r\n    \"qut-GT\": 1158,\r\n    \"rw-RW\": 1159,\r\n    \"wo-SN\": 1160,\r\n    \"prs-AF\": 1164,\r\n    \"gd-GB\": 1169,\r\n    \"ar-IQ\": 2049,\r\n    \"zh-CN\": 2052,\r\n    \"de-CH\": 2055,\r\n    \"en-GB\": 2057,\r\n    \"es-MX\": 2058,\r\n    \"fr-BE\": 2060,\r\n    \"it-CH\": 2064,\r\n    \"nl-BE\": 2067,\r\n    \"nn-NO\": 2068,\r\n    \"pt-PT\": 2070,\r\n    \"sr-Latn-CS\": 2074,\r\n    \"sv-FI\": 2077,\r\n    \"az-Cyrl-AZ\": 2092,\r\n    \"dsb-DE\": 2094,\r\n    \"se-SE\": 2107,\r\n    \"ga-IE\": 2108,\r\n    \"ms-BN\": 2110,\r\n    \"uz-Cyrl-UZ\": 2115,\r\n    \"bn-BD\": 2117,\r\n    \"mn-Mong-CN\": 2128,\r\n    \"iu-Latn-CA\": 2141,\r\n    \"tzm-Latn-DZ\": 2143,\r\n    \"quz-EC\": 2155,\r\n    \"ar-EG\": 3073,\r\n    \"zh-HK\": 3076,\r\n    \"de-AT\": 3079,\r\n    \"en-AU\": 3081,\r\n    \"es-ES\": 3082,\r\n    \"fr-CA\": 3084,\r\n    \"sr-Cyrl-CS\": 3098,\r\n    \"se-FI\": 3131,\r\n    \"quz-PE\": 3179,\r\n    \"ar-LY\": 4097,\r\n    \"zh-SG\": 4100,\r\n    \"de-LU\": 4103,\r\n    \"en-CA\": 4105,\r\n    \"es-GT\": 4106,\r\n    \"fr-CH\": 4108,\r\n    \"hr-BA\": 4122,\r\n    \"smj-NO\": 4155,\r\n    \"ar-DZ\": 5121,\r\n    \"zh-MO\": 5124,\r\n    \"de-LI\": 5127,\r\n    \"en-NZ\": 5129,\r\n    \"es-CR\": 5130,\r\n    \"fr-LU\": 5132,\r\n    \"bs-Latn-BA\": 5146,\r\n    \"smj-SE\": 5179,\r\n    \"ar-MA\": 6145,\r\n    \"en-IE\": 6153,\r\n    \"es-PA\": 6154,\r\n    \"fr-MC\": 6156,\r\n    \"sr-Latn-BA\": 6170,\r\n    \"sma-NO\": 6203,\r\n    \"ar-TN\": 7169,\r\n    \"en-ZA\": 7177,\r\n    \"es-DO\": 7178,\r\n    \"sr-Cyrl-BA\": 7194,\r\n    \"sma-SE\": 7227,\r\n    \"ar-OM\": 8193,\r\n    \"en-JM\": 8201,\r\n    \"es-VE\": 8202,\r\n    \"bs-Cyrl-BA\": 8218,\r\n    \"sms-FI\": 8251,\r\n    \"ar-YE\": 9217,\r\n    \"en-029\": 9225,\r\n    \"es-CO\": 9226,\r\n    \"sr-Latn-RS\": 9242,\r\n    \"smn-FI\": 9275,\r\n    \"ar-SY\": 10241,\r\n    \"en-BZ\": 10249,\r\n    \"es-PE\": 10250,\r\n    \"sr-Cyrl-RS\": 10266,\r\n    \"ar-JO\": 11265,\r\n    \"en-TT\": 11273,\r\n    \"es-AR\": 11274,\r\n    \"sr-Latn-ME\": 11290,\r\n    \"ar-LB\": 12289,\r\n    \"en-ZW\": 12297,\r\n    \"es-EC\": 12298,\r\n    \"sr-Cyrl-ME\": 12314,\r\n    \"ar-KW\": 13313,\r\n    \"en-PH\": 13321,\r\n    \"es-CL\": 13322,\r\n    \"ar-AE\": 14337,\r\n    \"es-UY\": 14346,\r\n    \"ar-BH\": 15361,\r\n    \"es-PY\": 15370,\r\n    \"ar-QA\": 16385,\r\n    \"en-IN\": 16393,\r\n    \"es-BO\": 16394,\r\n    \"en-MY\": 17417,\r\n    \"es-SV\": 17418,\r\n    \"en-SG\": 18441,\r\n    \"es-HN\": 18442,\r\n    \"es-NI\": 19466,\r\n    \"es-PR\": 20490,\r\n    \"es-US\": 21514,\r\n    \"bs-Cyrl\": 25626,\r\n    \"bs-Latn\": 26650,\r\n    \"sr-Cyrl\": 27674,\r\n    \"sr-Latn\": 28698,\r\n    smn: 28731,\r\n    \"az-Cyrl\": 29740,\r\n    sms: 29755,\r\n    zh: 30724,\r\n    nn: 30740,\r\n    bs: 30746,\r\n    \"az-Latn\": 30764,\r\n    sma: 30779,\r\n    \"uz-Cyrl\": 30787,\r\n    \"mn-Cyrl\": 30800,\r\n    \"iu-Cans\": 30813,\r\n    \"zh-Hant\": 31748,\r\n    nb: 31764,\r\n    sr: 31770,\r\n    \"tg-Cyrl\": 31784,\r\n    dsb: 31790,\r\n    smj: 31803,\r\n    \"uz-Latn\": 31811,\r\n    \"mn-Mong\": 31824,\r\n    \"iu-Latn\": 31837,\r\n    \"tzm-Latn\": 31839,\r\n    \"ha-Latn\": 31848\r\n};\r\nexport function getLanguageId() {\r\n    return LANGUAGE_CODES[localizationCoreUtils.locale()]\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.modules.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Class from \"../../core/class\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport {\r\n    grep\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nvar WIDGET_WITH_LEGACY_CONTAINER_NAME = \"dxDataGrid\";\r\nvar ModuleItem = Class.inherit({\r\n    _endUpdateCore: function() {},\r\n    ctor: function(component) {\r\n        var that = this;\r\n        that._updateLockCount = 0;\r\n        that.component = component;\r\n        that._actions = {};\r\n        that._actionConfigs = {};\r\n        each(this.callbackNames() || [], (function(index, name) {\r\n            var flags = that.callbackFlags(name) || {};\r\n            flags.unique = true, flags.syncStrategy = true;\r\n            that[this] = Callbacks(flags)\r\n        }))\r\n    },\r\n    init: function() {},\r\n    callbackNames: function() {},\r\n    callbackFlags: function() {},\r\n    publicMethods: function() {},\r\n    beginUpdate: function() {\r\n        this._updateLockCount++\r\n    },\r\n    endUpdate: function() {\r\n        if (this._updateLockCount > 0) {\r\n            this._updateLockCount--;\r\n            if (!this._updateLockCount) {\r\n                this._endUpdateCore()\r\n            }\r\n        }\r\n    },\r\n    option: function(name) {\r\n        var component = this.component;\r\n        var optionCache = component._optionCache;\r\n        if (1 === arguments.length && optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = component.option(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return component.option.apply(component, arguments)\r\n    },\r\n    _silentOption: function(name, value) {\r\n        var component = this.component;\r\n        var optionCache = component._optionCache;\r\n        if (optionCache) {\r\n            optionCache[name] = value\r\n        }\r\n        return component._setOptionWithoutOptionChange(name, value)\r\n    },\r\n    localize: function(name) {\r\n        var optionCache = this.component._optionCache;\r\n        if (optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = messageLocalization.format(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return messageLocalization.format(name)\r\n    },\r\n    on: function() {\r\n        return this.component.on.apply(this.component, arguments)\r\n    },\r\n    off: function() {\r\n        return this.component.off.apply(this.component, arguments)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (args.name in this._actions) {\r\n            this.createAction(args.name, this._actionConfigs[args.name]);\r\n            args.handled = true\r\n        }\r\n    },\r\n    getAction: function(actionName) {\r\n        return this._actions[actionName]\r\n    },\r\n    setAria: function(name, value, $target) {\r\n        var target = $target.get(0);\r\n        var prefix = \"role\" !== name && \"id\" !== name ? \"aria-\" : \"\";\r\n        if (target.setAttribute) {\r\n            target.setAttribute(prefix + name, value)\r\n        } else {\r\n            $target.attr(prefix + name, value)\r\n        }\r\n    },\r\n    _createComponent: function() {\r\n        return this.component._createComponent.apply(this.component, arguments)\r\n    },\r\n    getController: function(name) {\r\n        return this.component._controllers[name]\r\n    },\r\n    createAction: function(actionName, config) {\r\n        if (isFunction(actionName)) {\r\n            var action = this.component._createAction(actionName.bind(this), config);\r\n            return function(e) {\r\n                action({\r\n                    event: e\r\n                })\r\n            }\r\n        } else {\r\n            this._actions[actionName] = this.component._createActionByOption(actionName, config);\r\n            this._actionConfigs[actionName] = config\r\n        }\r\n    },\r\n    executeAction: function(actionName, options) {\r\n        var action = this._actions[actionName];\r\n        return action && action(options)\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        each(that.callbackNames() || [], (function() {\r\n            that[this].empty()\r\n        }))\r\n    },\r\n    addWidgetPrefix: function(className) {\r\n        var componentName = this.component.NAME;\r\n        return \"dx-\" + componentName.slice(2).toLowerCase() + (className ? \"-\" + className : \"\")\r\n    },\r\n    getWidgetContainerClass: function() {\r\n        var containerName = this.component.NAME === WIDGET_WITH_LEGACY_CONTAINER_NAME ? null : \"container\";\r\n        return this.addWidgetPrefix(containerName)\r\n    }\r\n});\r\nvar Controller = ModuleItem;\r\nvar ViewController = Controller.inherit({\r\n    getView: function(name) {\r\n        return this.component._views[name]\r\n    },\r\n    getViews: function() {\r\n        return this.component._views\r\n    }\r\n});\r\nvar View = ModuleItem.inherit({\r\n    _isReady: function() {\r\n        return this.component.isReady()\r\n    },\r\n    _endUpdateCore: function() {\r\n        this.callBase();\r\n        if (!this._isReady() && this._requireReady) {\r\n            this._requireRender = false;\r\n            this.component._requireResize = false\r\n        }\r\n        if (this._requireRender) {\r\n            this._requireRender = false;\r\n            this.render(this._$parent)\r\n        }\r\n    },\r\n    _invalidate: function(requireResize, requireReady) {\r\n        this._requireRender = true;\r\n        this.component._requireResize = hasWindow() && (this.component._requireResize || requireResize);\r\n        this._requireReady = this._requireReady || requireReady\r\n    },\r\n    _renderCore: function() {},\r\n    _resizeCore: function() {},\r\n    _parentElement: function() {\r\n        return this._$parent\r\n    },\r\n    ctor: function(component) {\r\n        this.callBase(component);\r\n        this.renderCompleted = Callbacks();\r\n        this.resizeCompleted = Callbacks()\r\n    },\r\n    element: function() {\r\n        return this._$element\r\n    },\r\n    getElementHeight: function() {\r\n        var $element = this.element();\r\n        if (!$element) {\r\n            return 0\r\n        }\r\n        var marginTop = parseFloat($element.css(\"marginTop\")) || 0;\r\n        var marginBottom = parseFloat($element.css(\"marginBottom\")) || 0;\r\n        var offsetHeight = $element.get(0).offsetHeight;\r\n        return offsetHeight + marginTop + marginBottom\r\n    },\r\n    isVisible: function() {\r\n        return true\r\n    },\r\n    getTemplate: function(name) {\r\n        return this.component._getTemplate(name)\r\n    },\r\n    render: function($parent, options) {\r\n        var $element = this._$element;\r\n        var isVisible = this.isVisible();\r\n        if (!$element && !$parent) {\r\n            return\r\n        }\r\n        this._requireReady = false;\r\n        if (!$element) {\r\n            $element = this._$element = $(\"<div>\").appendTo($parent);\r\n            this._$parent = $parent\r\n        }\r\n        $element.toggleClass(\"dx-hidden\", !isVisible);\r\n        if (isVisible) {\r\n            this.component._optionCache = {};\r\n            this._renderCore(options);\r\n            this.component._optionCache = void 0;\r\n            this.renderCompleted.fire(options)\r\n        }\r\n    },\r\n    resize: function() {\r\n        this.isResizing = true;\r\n        this._resizeCore();\r\n        this.resizeCompleted.fire();\r\n        this.isResizing = false\r\n    },\r\n    focus: function() {\r\n        eventsEngine.trigger(this.element(), \"focus\")\r\n    }\r\n});\r\nvar MODULES_ORDER_MAX_INDEX = 1e6;\r\nvar processModules = function(that, componentClass) {\r\n    var modules = componentClass.modules;\r\n    var modulesOrder = componentClass.modulesOrder;\r\n    var controllerTypes = componentClass.controllerTypes || {};\r\n    var viewTypes = componentClass.viewTypes || {};\r\n    if (!componentClass.controllerTypes) {\r\n        if (modulesOrder) {\r\n            modules.sort((function(module1, module2) {\r\n                var orderIndex1 = inArray(module1.name, modulesOrder);\r\n                var orderIndex2 = inArray(module2.name, modulesOrder);\r\n                if (orderIndex1 < 0) {\r\n                    orderIndex1 = MODULES_ORDER_MAX_INDEX\r\n                }\r\n                if (orderIndex2 < 0) {\r\n                    orderIndex2 = MODULES_ORDER_MAX_INDEX\r\n                }\r\n                return orderIndex1 - orderIndex2\r\n            }))\r\n        }\r\n        each(modules, (function() {\r\n            var controllers = this.controllers;\r\n            var moduleName = this.name;\r\n            var views = this.views;\r\n            controllers && each(controllers, (function(name, type) {\r\n                if (controllerTypes[name]) {\r\n                    throw errors.Error(\"E1001\", moduleName, name)\r\n                } else if (!(type && type.subclassOf && type.subclassOf(Controller))) {\r\n                    type.subclassOf(Controller);\r\n                    throw errors.Error(\"E1002\", moduleName, name)\r\n                }\r\n                controllerTypes[name] = type\r\n            }));\r\n            views && each(views, (function(name, type) {\r\n                if (viewTypes[name]) {\r\n                    throw errors.Error(\"E1003\", moduleName, name)\r\n                } else if (!(type && type.subclassOf && type.subclassOf(View))) {\r\n                    throw errors.Error(\"E1004\", moduleName, name)\r\n                }\r\n                viewTypes[name] = type\r\n            }))\r\n        }));\r\n        each(modules, (function() {\r\n            var extenders = this.extenders;\r\n            if (extenders) {\r\n                extenders.controllers && each(extenders.controllers, (function(name, extender) {\r\n                    if (controllerTypes[name]) {\r\n                        controllerTypes[name] = controllerTypes[name].inherit(extender)\r\n                    }\r\n                }));\r\n                extenders.views && each(extenders.views, (function(name, extender) {\r\n                    if (viewTypes[name]) {\r\n                        viewTypes[name] = viewTypes[name].inherit(extender)\r\n                    }\r\n                }))\r\n            }\r\n        }));\r\n        componentClass.controllerTypes = controllerTypes;\r\n        componentClass.viewTypes = viewTypes\r\n    }\r\n    var createModuleItems = function(moduleTypes) {\r\n        var moduleItems = {};\r\n        each(moduleTypes, (function(name, moduleType) {\r\n            var moduleItem = new moduleType(that);\r\n            moduleItem.name = name;\r\n            ! function(that, name, moduleItem) {\r\n                var publicMethods = moduleItem.publicMethods();\r\n                if (publicMethods) {\r\n                    each(publicMethods, (function(index, methodName) {\r\n                        if (moduleItem[methodName]) {\r\n                            if (!that[methodName]) {\r\n                                that[methodName] = function() {\r\n                                    return moduleItem[methodName].apply(moduleItem, arguments)\r\n                                }\r\n                            } else {\r\n                                throw errors.Error(\"E1005\", methodName)\r\n                            }\r\n                        } else {\r\n                            throw errors.Error(\"E1006\", name, methodName)\r\n                        }\r\n                    }))\r\n                }\r\n            }(that, name, moduleItem);\r\n            moduleItems[name] = moduleItem\r\n        }));\r\n        return moduleItems\r\n    };\r\n    that._controllers = createModuleItems(controllerTypes);\r\n    that._views = createModuleItems(viewTypes)\r\n};\r\nvar callModuleItemsMethod = function(that, methodName, args) {\r\n    args = args || [];\r\n    if (that._controllers) {\r\n        each(that._controllers, (function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        }))\r\n    }\r\n    if (that._views) {\r\n        each(that._views, (function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        }))\r\n    }\r\n};\r\nexport default {\r\n    modules: [],\r\n    View: View,\r\n    ViewController: ViewController,\r\n    Controller: Controller,\r\n    registerModule: function(name, module) {\r\n        var modules = this.modules;\r\n        for (var i = 0; i < modules.length; i++) {\r\n            if (modules[i].name === name) {\r\n                return\r\n            }\r\n        }\r\n        module.name = name;\r\n        modules.push(module);\r\n        delete this.controllerTypes;\r\n        delete this.viewTypes\r\n    },\r\n    registerModulesOrder: function(moduleNames) {\r\n        this.modulesOrder = moduleNames\r\n    },\r\n    unregisterModule: function(name) {\r\n        this.modules = grep(this.modules, (function(module) {\r\n            return module.name !== name\r\n        }));\r\n        delete this.controllerTypes;\r\n        delete this.viewTypes\r\n    },\r\n    processModules: processModules,\r\n    callModuleItemsMethod: callModuleItemsMethod\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport gridCoreUtils from \"../grid_core/ui.grid_core.utils\";\r\nimport modules from \"../grid_core/ui.grid_core.modules\";\r\nexport default _extends({}, modules, gridCoreUtils, {\r\n    modules: []\r\n});\r\n","/**\r\n * DevExtreme (esm/events/double_click.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    closestCommonParent\r\n} from \"../core/utils/dom\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport Class from \"../core/class\";\r\nimport registerEvent from \"./core/event_registrator\";\r\nimport {\r\n    name as clickEventName\r\n} from \"./click\";\r\nimport {\r\n    addNamespace,\r\n    fireEvent\r\n} from \"./utils/index\";\r\nvar DBLCLICK_EVENT_NAME = \"dxdblclick\";\r\nvar DBLCLICK_NAMESPACE = \"dxDblClick\";\r\nvar NAMESPACED_CLICK_EVENT = addNamespace(clickEventName, DBLCLICK_NAMESPACE);\r\nvar DBLCLICK_TIMEOUT = 300;\r\nvar DblClick = Class.inherit({\r\n    ctor: function() {\r\n        this._handlerCount = 0;\r\n        this._forgetLastClick()\r\n    },\r\n    _forgetLastClick: function() {\r\n        this._firstClickTarget = null;\r\n        this._lastClickTimeStamp = -DBLCLICK_TIMEOUT\r\n    },\r\n    add: function() {\r\n        if (this._handlerCount <= 0) {\r\n            eventsEngine.on(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, this._clickHandler.bind(this))\r\n        }\r\n        this._handlerCount++\r\n    },\r\n    _clickHandler: function(e) {\r\n        var timeStamp = e.timeStamp || Date.now();\r\n        var timeBetweenClicks = timeStamp - this._lastClickTimeStamp;\r\n        var isSimulated = timeBetweenClicks < 0;\r\n        var isDouble = !isSimulated && timeBetweenClicks < DBLCLICK_TIMEOUT;\r\n        if (isDouble) {\r\n            fireEvent({\r\n                type: DBLCLICK_EVENT_NAME,\r\n                target: closestCommonParent(this._firstClickTarget, e.target),\r\n                originalEvent: e\r\n            });\r\n            this._forgetLastClick()\r\n        } else {\r\n            this._firstClickTarget = e.target;\r\n            this._lastClickTimeStamp = timeStamp\r\n        }\r\n    },\r\n    remove: function() {\r\n        this._handlerCount--;\r\n        if (this._handlerCount <= 0) {\r\n            this._forgetLastClick();\r\n            eventsEngine.off(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT)\r\n        }\r\n    }\r\n});\r\nregisterEvent(DBLCLICK_EVENT_NAME, new DblClick);\r\nexport {\r\n    DBLCLICK_EVENT_NAME as name\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_state_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nvar COLUMN_INDICATORS_CLASS = \"dx-column-indicators\";\r\nvar GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\r\nexport default {\r\n    _applyColumnState: function(options) {\r\n        var _that$component;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var columnAlignment = this._getColumnAlignment(options.column.alignment, rtlEnabled);\r\n        var parameters = extend(true, {\r\n            columnAlignment: columnAlignment\r\n        }, options);\r\n        var isGroupPanelItem = parameters.rootElement.hasClass(GROUP_PANEL_ITEM_CLASS);\r\n        var $indicatorsContainer = this._createIndicatorContainer(parameters, isGroupPanelItem);\r\n        var $span = $(\"<span>\").addClass(this._getIndicatorClassName(options.name));\r\n        var columnsController = null === (_that$component = this.component) || void 0 === _that$component ? void 0 : _that$component.getController(\"columns\");\r\n        var indicatorAlignment = (null === columnsController || void 0 === columnsController ? void 0 : columnsController.getHeaderContentAlignment(columnAlignment)) || columnAlignment;\r\n        parameters.container = $indicatorsContainer;\r\n        parameters.indicator = $span;\r\n        this._renderIndicator(parameters);\r\n        $indicatorsContainer[(isGroupPanelItem || !options.showColumnLines) && \"left\" === indicatorAlignment ? \"appendTo\" : \"prependTo\"](options.rootElement);\r\n        return $span\r\n    },\r\n    _getIndicatorClassName: noop,\r\n    _getColumnAlignment: function(alignment, rtlEnabled) {\r\n        rtlEnabled = rtlEnabled || this.option(\"rtlEnabled\");\r\n        return alignment && \"center\" !== alignment ? alignment : getDefaultAlignment(rtlEnabled)\r\n    },\r\n    _createIndicatorContainer: function(options, ignoreIndicatorAlignment) {\r\n        var $indicatorsContainer = this._getIndicatorContainer(options.rootElement);\r\n        var indicatorAlignment = \"left\" === options.columnAlignment ? \"right\" : \"left\";\r\n        if (!$indicatorsContainer.length) {\r\n            $indicatorsContainer = $(\"<div>\").addClass(COLUMN_INDICATORS_CLASS)\r\n        }\r\n        this.setAria(\"role\", \"presentation\", $indicatorsContainer);\r\n        return $indicatorsContainer.css(\"float\", options.showColumnLines && !ignoreIndicatorAlignment ? indicatorAlignment : null)\r\n    },\r\n    _getIndicatorContainer: function($cell) {\r\n        return $cell && $cell.find(\".\" + COLUMN_INDICATORS_CLASS)\r\n    },\r\n    _getIndicatorElements: function($cell) {\r\n        var $indicatorContainer = this._getIndicatorContainer($cell);\r\n        return $indicatorContainer && $indicatorContainer.children()\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        $container && $indicator && $container.append($indicator)\r\n    },\r\n    _updateIndicators: function(indicatorName) {\r\n        var columns = this.getColumns();\r\n        var $cells = this.getColumnElements();\r\n        var $cell;\r\n        if (!$cells || columns.length !== $cells.length) {\r\n            return\r\n        }\r\n        for (var i = 0; i < columns.length; i++) {\r\n            $cell = $cells.eq(i);\r\n            this._updateIndicator($cell, columns[i], indicatorName);\r\n            var rowOptions = $cell.parent().data(\"options\");\r\n            if (rowOptions && rowOptions.cells) {\r\n                rowOptions.cells[$cell.index()].column = columns[i]\r\n            }\r\n        }\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        if (!column.command) {\r\n            return this._applyColumnState({\r\n                name: indicatorName,\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: this.option(\"showColumnLines\")\r\n            })\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.columns_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getWidth,\r\n    getOuterHeight,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    data as elementData\r\n} from \"../../core/element_data\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    name as dblclickEvent\r\n} from \"../../events/double_click\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    setWidth\r\n} from \"../../core/utils/style\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    isRenderer,\r\n    isFunction,\r\n    isString,\r\n    isDefined,\r\n    isNumeric\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getBoundingRect,\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport * as iteratorUtils from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport columnStateMixin from \"./ui.grid_core.column_state_mixin\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    nativeScrolling\r\n} from \"../../core/utils/support\";\r\nvar SCROLL_CONTAINER_CLASS = \"scroll-container\";\r\nvar SCROLLABLE_SIMULATED_CLASS = \"scrollable-simulated\";\r\nvar GROUP_SPACE_CLASS = \"group-space\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar TABLE_CLASS = \"table\";\r\nvar TABLE_FIXED_CLASS = \"table-fixed\";\r\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar FILTER_ROW_CLASS = \"filter-row\";\r\nvar ERROR_ROW_CLASS = \"dx-error-row\";\r\nvar CELL_UPDATED_ANIMATION_CLASS = \"cell-updated-animation\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"0.0001px\";\r\nvar CELL_HINT_VISIBLE = \"dxCellHintVisible\";\r\nvar FORM_FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar appendElementTemplate = {\r\n    render: function(options) {\r\n        options.container.append(options.content)\r\n    }\r\n};\r\nvar subscribeToRowEvents = function(that, $table) {\r\n    var touchTarget;\r\n    var touchCurrentTarget;\r\n    var timeoutId;\r\n\r\n    function clearTouchTargets(timeout) {\r\n        return setTimeout((function() {\r\n            touchTarget = touchCurrentTarget = null\r\n        }), timeout)\r\n    }\r\n    eventsEngine.on($table, \"touchstart touchend\", \".dx-row\", (function(e) {\r\n        clearTimeout(timeoutId);\r\n        if (\"touchstart\" === e.type) {\r\n            touchTarget = e.target;\r\n            touchCurrentTarget = e.currentTarget;\r\n            timeoutId = clearTouchTargets(1e3)\r\n        } else {\r\n            timeoutId = clearTouchTargets()\r\n        }\r\n    }));\r\n    eventsEngine.on($table, [clickEventName, dblclickEvent, pointerEvents.down].join(\" \"), \".dx-row\", {\r\n        useNative: that._isNativeClick()\r\n    }, that.createAction((function(e) {\r\n        var event = e.event;\r\n        if (touchTarget) {\r\n            event.target = touchTarget;\r\n            event.currentTarget = touchCurrentTarget\r\n        }\r\n        if (!$(event.target).closest(\"a\").length) {\r\n            e.rowIndex = that.getRowIndex(event.currentTarget);\r\n            if (e.rowIndex >= 0) {\r\n                e.rowElement = getPublicElement($(event.currentTarget));\r\n                e.columns = that.getColumns();\r\n                if (event.type === pointerEvents.down) {\r\n                    that._rowPointerDown(e)\r\n                } else if (event.type === clickEventName) {\r\n                    that._rowClick(e)\r\n                } else {\r\n                    that._rowDblClick(e)\r\n                }\r\n            }\r\n        }\r\n    })))\r\n};\r\nvar getWidthStyle = function(width) {\r\n    if (\"auto\" === width) {\r\n        return \"\"\r\n    }\r\n    return isNumeric(width) ? width + \"px\" : width\r\n};\r\nvar setCellWidth = function(cell, column, width) {\r\n    cell.style.width = cell.style.maxWidth = \"auto\" === column.width ? \"\" : width\r\n};\r\nvar copyAttributes = function(element, newElement) {\r\n    if (!element || !newElement) {\r\n        return\r\n    }\r\n    var oldAttributes = element.attributes;\r\n    var newAttributes = newElement.attributes;\r\n    var i;\r\n    for (i = 0; i < oldAttributes.length; i++) {\r\n        var name = oldAttributes[i].nodeName;\r\n        if (!newElement.hasAttribute(name)) {\r\n            element.removeAttribute(name)\r\n        }\r\n    }\r\n    for (i = 0; i < newAttributes.length; i++) {\r\n        element.setAttribute(newAttributes[i].nodeName, newAttributes[i].nodeValue)\r\n    }\r\n};\r\nexport var ColumnsView = modules.View.inherit(columnStateMixin).inherit({\r\n    _createScrollableOptions: function() {\r\n        var scrollingOptions = this.option(\"scrolling\");\r\n        var useNativeScrolling = this.option(\"scrolling.useNative\");\r\n        var options = extend({}, scrollingOptions, {\r\n            direction: \"both\",\r\n            bounceEnabled: false,\r\n            useKeyboard: false\r\n        });\r\n        if (void 0 === useNativeScrolling) {\r\n            useNativeScrolling = true\r\n        }\r\n        if (\"auto\" === useNativeScrolling) {\r\n            delete options.useNative;\r\n            delete options.useSimulatedScrollbar\r\n        } else {\r\n            options.useNative = !!useNativeScrolling;\r\n            options.useSimulatedScrollbar = !useNativeScrolling\r\n        }\r\n        return options\r\n    },\r\n    _updateCell: function($cell, parameters) {\r\n        if (parameters.rowType) {\r\n            this._cellPrepared($cell, parameters)\r\n        }\r\n    },\r\n    _createCell: function(options) {\r\n        var column = options.column;\r\n        var alignment = column.alignment || getDefaultAlignment(this.option(\"rtlEnabled\"));\r\n        var cell = domAdapter.createElement(\"td\");\r\n        cell.style.textAlign = alignment;\r\n        var $cell = $(cell);\r\n        if (\"data\" === options.rowType && column.headerId && !column.type) {\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                this.setAria(\"describedby\", column.headerId, $cell)\r\n            }\r\n        }\r\n        if (column.cssClass) {\r\n            $cell.addClass(column.cssClass)\r\n        }\r\n        if (\"expand\" === column.command) {\r\n            $cell.addClass(column.cssClass);\r\n            $cell.addClass(this.addWidgetPrefix(GROUP_SPACE_CLASS))\r\n        }\r\n        if (column.colspan > 1) {\r\n            $cell.attr(\"colSpan\", column.colspan)\r\n        } else if (!column.isBand && \"auto\" !== column.visibleWidth && this.option(\"columnAutoWidth\")) {\r\n            if (column.width || column.minWidth) {\r\n                cell.style.minWidth = getWidthStyle(column.minWidth || column.width)\r\n            }\r\n            if (column.width) {\r\n                setCellWidth(cell, column, getWidthStyle(column.width))\r\n            }\r\n        }\r\n        return $cell\r\n    },\r\n    _createRow: function(rowObject, tagName) {\r\n        tagName = tagName || \"tr\";\r\n        var $element = $(\"<\".concat(tagName, \">\")).addClass(ROW_CLASS);\r\n        this.setAria(\"role\", \"row\", $element);\r\n        return $element\r\n    },\r\n    _isAltRow: function(row) {\r\n        return row && row.dataIndex % 2 === 1\r\n    },\r\n    _createTable: function(columns, isAppend) {\r\n        var that = this;\r\n        var $table = $(\"<table>\").addClass(that.addWidgetPrefix(TABLE_CLASS)).addClass(that.addWidgetPrefix(TABLE_FIXED_CLASS));\r\n        if (columns && !isAppend) {\r\n            $table.append(that._createColGroup(columns));\r\n            if (browser.safari) {\r\n                $table.append($(\"<thead>\").append(\"<tr>\"))\r\n            }\r\n            that.setAria(\"role\", \"presentation\", $table)\r\n        } else {\r\n            that.setAria(\"hidden\", true, $table)\r\n        }\r\n        this.setAria(\"role\", \"presentation\", $(\"<tbody>\").appendTo($table));\r\n        if (isAppend) {\r\n            return $table\r\n        }\r\n        if (browser.mozilla) {\r\n            eventsEngine.on($table, \"mousedown\", \"td\", (function(e) {\r\n                if (e.ctrlKey) {\r\n                    e.preventDefault()\r\n                }\r\n            }))\r\n        }\r\n        if (that.option(\"cellHintEnabled\")) {\r\n            eventsEngine.on($table, \"mousemove\", \".dx-row > td\", this.createAction((function(args) {\r\n                var e = args.event;\r\n                var $element = $(e.target);\r\n                var $cell = $(e.currentTarget);\r\n                var $row = $cell.parent();\r\n                var isDataRow = $row.hasClass(\"dx-data-row\");\r\n                var isHeaderRow = $row.hasClass(\"dx-header-row\");\r\n                var isGroupRow = $row.hasClass(GROUP_ROW_CLASS);\r\n                var isMasterDetailRow = $row.hasClass(DETAIL_ROW_CLASS);\r\n                var isFilterRow = $row.hasClass(that.addWidgetPrefix(FILTER_ROW_CLASS));\r\n                var visibleColumns = that._columnsController.getVisibleColumns();\r\n                var rowOptions = $row.data(\"options\");\r\n                var columnIndex = $cell.index();\r\n                var cellOptions = rowOptions && rowOptions.cells && rowOptions.cells[columnIndex];\r\n                var column = cellOptions ? cellOptions.column : visibleColumns[columnIndex];\r\n                if (!isMasterDetailRow && !isFilterRow && (!isDataRow || isDataRow && column && !column.cellTemplate) && (!isHeaderRow || isHeaderRow && column && !column.headerCellTemplate) && (!isGroupRow || isGroupRow && column && (void 0 === column.groupIndex || !column.groupCellTemplate))) {\r\n                    if ($element.data(CELL_HINT_VISIBLE)) {\r\n                        $element.removeAttr(\"title\");\r\n                        $element.data(CELL_HINT_VISIBLE, false)\r\n                    }\r\n                    var difference = $element[0].scrollWidth - $element[0].clientWidth;\r\n                    if (difference > 0 && !isDefined($element.attr(\"title\"))) {\r\n                        $element.attr(\"title\", $element.text());\r\n                        $element.data(CELL_HINT_VISIBLE, true)\r\n                    }\r\n                }\r\n            })))\r\n        }\r\n        var getOptions = function(event) {\r\n            var $cell = $(event.currentTarget);\r\n            var $fieldItemContent = $(event.target).closest(\".\" + FORM_FIELD_ITEM_CONTENT_CLASS);\r\n            var $row = $cell.parent();\r\n            var rowOptions = $row.data(\"options\");\r\n            var options = rowOptions && rowOptions.cells && rowOptions.cells[$cell.index()];\r\n            if (!$cell.closest(\"table\").is(event.delegateTarget)) {\r\n                return\r\n            }\r\n            var resultOptions = extend({}, options, {\r\n                cellElement: getPublicElement($cell),\r\n                event: event,\r\n                eventType: event.type\r\n            });\r\n            resultOptions.rowIndex = that.getRowIndex($row);\r\n            if ($fieldItemContent.length) {\r\n                var formItemOptions = $fieldItemContent.data(\"dx-form-item\");\r\n                if (formItemOptions.column) {\r\n                    resultOptions.column = formItemOptions.column;\r\n                    resultOptions.columnIndex = that._columnsController.getVisibleIndex(resultOptions.column.index)\r\n                }\r\n            }\r\n            return resultOptions\r\n        };\r\n        eventsEngine.on($table, \"mouseover\", \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        }));\r\n        eventsEngine.on($table, \"mouseout\", \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        }));\r\n        eventsEngine.on($table, clickEventName, \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellClick\", options)\r\n        }));\r\n        eventsEngine.on($table, dblclickEvent, \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellDblClick\", options)\r\n        }));\r\n        subscribeToRowEvents(that, $table);\r\n        return $table\r\n    },\r\n    _isNativeClick: noop,\r\n    _rowPointerDown: noop,\r\n    _rowClick: noop,\r\n    _rowDblClick: noop,\r\n    _createColGroup: function(columns) {\r\n        var colgroupElement = $(\"<colgroup>\");\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var colspan = columns[i].colspan || 1;\r\n            for (var j = 0; j < colspan; j++) {\r\n                colgroupElement.append(this._createCol(columns[i]))\r\n            }\r\n        }\r\n        return colgroupElement\r\n    },\r\n    _createCol: function(column) {\r\n        var width = column.visibleWidth || column.width;\r\n        if (\"adaptiveHidden\" === width) {\r\n            width = HIDDEN_COLUMNS_WIDTH\r\n        }\r\n        var col = $(\"<col>\");\r\n        setWidth(col, width);\r\n        return col\r\n    },\r\n    renderDelayedTemplates: function(change) {\r\n        var delayedTemplates = this._delayedTemplates;\r\n        var syncTemplates = delayedTemplates.filter(template => !template.async);\r\n        var asyncTemplates = delayedTemplates.filter(template => template.async);\r\n        this._delayedTemplates = [];\r\n        this._renderDelayedTemplatesCore(syncTemplates, false, change);\r\n        this._renderDelayedTemplatesCoreAsync(asyncTemplates)\r\n    },\r\n    _renderDelayedTemplatesCoreAsync: function(templates) {\r\n        var that = this;\r\n        if (templates.length) {\r\n            getWindow().setTimeout((function() {\r\n                that._renderDelayedTemplatesCore(templates, true)\r\n            }))\r\n        }\r\n    },\r\n    _renderDelayedTemplatesCore: function(templates, isAsync, change) {\r\n        var date = new Date;\r\n        while (templates.length) {\r\n            var templateParameters = templates.shift();\r\n            var options = templateParameters.options;\r\n            var doc = domAdapter.getDocument();\r\n            if (!isAsync || $(options.container).closest(doc).length) {\r\n                if (change) {\r\n                    options.change = change\r\n                }\r\n                templateParameters.template.render(options)\r\n            }\r\n            if (isAsync && new Date - date > 30) {\r\n                this._renderDelayedTemplatesCoreAsync(templates);\r\n                break\r\n            }\r\n        }\r\n        if (!templates.length && this._delayedTemplates.length) {\r\n            this.renderDelayedTemplates()\r\n        }\r\n    },\r\n    _processTemplate: function(template) {\r\n        var renderingTemplate;\r\n        if (template && template.render && !isRenderer(template)) {\r\n            renderingTemplate = {\r\n                allowRenderToDetachedContainer: template.allowRenderToDetachedContainer,\r\n                render: function(options) {\r\n                    template.render(options.container, options.model, options.change);\r\n                    options.deferred && options.deferred.resolve()\r\n                }\r\n            }\r\n        } else if (isFunction(template)) {\r\n            renderingTemplate = {\r\n                render: function(options) {\r\n                    var renderedTemplate = template(getPublicElement(options.container), options.model, options.change);\r\n                    if (renderedTemplate && (renderedTemplate.nodeType || isRenderer(renderedTemplate))) {\r\n                        options.container.append(renderedTemplate)\r\n                    }\r\n                    options.deferred && options.deferred.resolve()\r\n                }\r\n            }\r\n        } else {\r\n            var templateID = isString(template) ? template : $(template).attr(\"id\");\r\n            if (!templateID) {\r\n                renderingTemplate = this.getTemplate(template)\r\n            } else {\r\n                if (!this._templatesCache[templateID]) {\r\n                    this._templatesCache[templateID] = this.getTemplate(template)\r\n                }\r\n                renderingTemplate = this._templatesCache[templateID]\r\n            }\r\n        }\r\n        return renderingTemplate\r\n    },\r\n    renderTemplate: function(container, template, options, allowRenderToDetachedContainer, change) {\r\n        var renderingTemplate = this._processTemplate(template, options);\r\n        var column = options.column;\r\n        var isDataRow = \"data\" === options.rowType;\r\n        var templateDeferred = new Deferred;\r\n        var templateOptions = {\r\n            container: container,\r\n            model: options,\r\n            deferred: templateDeferred,\r\n            onRendered: () => {\r\n                templateDeferred.resolve()\r\n            }\r\n        };\r\n        if (renderingTemplate) {\r\n            options.component = this.component;\r\n            var async = column && (column.renderAsync && isDataRow || this.option(\"renderAsync\") && (false !== column.renderAsync && (column.command || column.showEditorAlways) && isDataRow || \"filter\" === options.rowType));\r\n            if ((renderingTemplate.allowRenderToDetachedContainer || allowRenderToDetachedContainer) && !async) {\r\n                renderingTemplate.render(templateOptions)\r\n            } else {\r\n                this._delayedTemplates.push({\r\n                    template: renderingTemplate,\r\n                    options: templateOptions,\r\n                    async: async\r\n                })\r\n            }\r\n            if (change) {\r\n                change.templateDeferreds = change.templateDeferreds || [];\r\n                change.templateDeferreds.push(templateDeferred)\r\n            }\r\n        } else {\r\n            templateDeferred.reject()\r\n        }\r\n        return templateDeferred.promise()\r\n    },\r\n    _getBodies: function(tableElement) {\r\n        return $(tableElement).children(\"tbody\").not(\".dx-header\").not(\".dx-footer\")\r\n    },\r\n    _wrapRowIfNeed: function($table, $row) {\r\n        var hasDataRowTemplate = this.option().rowTemplate || this.option(\"dataRowTemplate\");\r\n        var $tBodies = hasDataRowTemplate && this._getBodies(this._tableElement || $table);\r\n        if ($tBodies && $tBodies.filter(\".\" + ROW_CLASS).length) {\r\n            var $tbody = $(\"<tbody>\").addClass($row.attr(\"class\"));\r\n            this.setAria(\"role\", \"presentation\", $tbody);\r\n            return $tbody.append($row)\r\n        }\r\n        return $row\r\n    },\r\n    _appendRow: function($table, $row, appendTemplate) {\r\n        appendTemplate = appendTemplate || appendElementTemplate;\r\n        appendTemplate.render({\r\n            content: $row,\r\n            container: $table\r\n        })\r\n    },\r\n    _resizeCore: function() {\r\n        var scrollLeft = this._scrollLeft;\r\n        if (scrollLeft >= 0) {\r\n            this._scrollLeft = 0;\r\n            this.scrollTo({\r\n                left: scrollLeft\r\n            })\r\n        }\r\n    },\r\n    _renderCore: function(e) {\r\n        var $root = this.element().parent();\r\n        if (!$root || $root.parent().length) {\r\n            this.renderDelayedTemplates(e)\r\n        }\r\n    },\r\n    _renderTable: function(options) {\r\n        options = options || {};\r\n        options.columns = this._columnsController.getVisibleColumns();\r\n        var changeType = options.change && options.change.changeType;\r\n        var $table = this._createTable(options.columns, \"append\" === changeType || \"prepend\" === changeType || \"update\" === changeType);\r\n        this._renderRows($table, options);\r\n        return $table\r\n    },\r\n    _renderRows: function($table, options) {\r\n        var rows = this._getRows(options.change);\r\n        var columnIndices = options.change && options.change.columnIndices || [];\r\n        var changeTypes = options.change && options.change.changeTypes || [];\r\n        for (var i = 0; i < rows.length; i++) {\r\n            this._renderRow($table, extend({\r\n                row: rows[i],\r\n                columnIndices: columnIndices[i],\r\n                changeType: changeTypes[i]\r\n            }, options))\r\n        }\r\n    },\r\n    _renderRow: function($table, options) {\r\n        if (!options.columnIndices) {\r\n            options.row.cells = []\r\n        }\r\n        var $row = this._createRow(options.row);\r\n        var $wrappedRow = this._wrapRowIfNeed($table, $row);\r\n        if (\"remove\" !== options.changeType) {\r\n            this._renderCells($row, options)\r\n        }\r\n        this._appendRow($table, $wrappedRow);\r\n        var rowOptions = extend({\r\n            columns: options.columns\r\n        }, options.row);\r\n        this._addWatchMethod(rowOptions, options.row);\r\n        this._rowPrepared($wrappedRow, rowOptions, options.row)\r\n    },\r\n    _needRenderCell: function(columnIndex, columnIndices) {\r\n        return !columnIndices || columnIndices.indexOf(columnIndex) >= 0\r\n    },\r\n    _renderCells: function($row, options) {\r\n        var columnIndex = 0;\r\n        var row = options.row;\r\n        var columns = options.columns;\r\n        for (var i = 0; i < columns.length; i++) {\r\n            if (this._needRenderCell(i, options.columnIndices)) {\r\n                this._renderCell($row, extend({\r\n                    column: columns[i],\r\n                    columnIndex: columnIndex,\r\n                    value: row.values && row.values[columnIndex],\r\n                    oldValue: row.oldValues && row.oldValues[columnIndex]\r\n                }, options))\r\n            }\r\n            if (columns[i].colspan > 1) {\r\n                columnIndex += columns[i].colspan\r\n            } else {\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    _updateCells: function($rowElement, $newRowElement, columnIndices) {\r\n        var $cells = $rowElement.children();\r\n        var $newCells = $newRowElement.children();\r\n        var highlightChanges = this.option(\"highlightChanges\");\r\n        var cellUpdatedClass = this.addWidgetPrefix(CELL_UPDATED_ANIMATION_CLASS);\r\n        columnIndices.forEach((function(columnIndex, index) {\r\n            var $cell = $cells.eq(columnIndex);\r\n            var $newCell = $newCells.eq(index);\r\n            $cell.replaceWith($newCell);\r\n            if (highlightChanges && !$newCell.hasClass(\"dx-command-expand\")) {\r\n                $newCell.addClass(cellUpdatedClass)\r\n            }\r\n        }));\r\n        copyAttributes($rowElement.get(0), $newRowElement.get(0))\r\n    },\r\n    _setCellAriaAttributes: function($cell, cellOptions) {\r\n        if (\"freeSpace\" !== cellOptions.rowType) {\r\n            this.setAria(\"selected\", false, $cell);\r\n            this.setAria(\"role\", \"gridcell\", $cell);\r\n            var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n            var ariaColIndex = cellOptions.columnIndex + columnIndexOffset + 1;\r\n            this.setAria(\"colindex\", ariaColIndex, $cell)\r\n        }\r\n    },\r\n    _renderCell: function($row, options) {\r\n        var cellOptions = this._getCellOptions(options);\r\n        if (options.columnIndices) {\r\n            if (options.row.cells) {\r\n                var cellIndex = options.row.cells.findIndex(cell => cell.columnIndex === cellOptions.columnIndex);\r\n                options.row.cells[cellIndex] = cellOptions\r\n            }\r\n        } else {\r\n            options.row.cells.push(cellOptions)\r\n        }\r\n        var $cell = this._createCell(cellOptions);\r\n        this._setCellAriaAttributes($cell, cellOptions);\r\n        this._renderCellContent($cell, cellOptions);\r\n        $row.get(0).appendChild($cell.get(0));\r\n        return $cell\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var template = this._getCellTemplate(options);\r\n        when(!template || this.renderTemplate($cell, template, options)).done(() => {\r\n            this._updateCell($cell, options)\r\n        })\r\n    },\r\n    _getCellTemplate: function() {},\r\n    _getRows: function() {\r\n        return []\r\n    },\r\n    _getCellOptions: function(options) {\r\n        var cellOptions = {\r\n            column: options.column,\r\n            columnIndex: options.columnIndex,\r\n            rowType: options.row.rowType,\r\n            isAltRow: this._isAltRow(options.row)\r\n        };\r\n        this._addWatchMethod(cellOptions);\r\n        return cellOptions\r\n    },\r\n    _addWatchMethod: function(options, source) {\r\n        if (!this.option(\"repaintChangesOnly\")) {\r\n            return\r\n        }\r\n        var watchers = [];\r\n        source = source || options;\r\n        source.watch = source.watch || function(getter, updateValueFunc, updateRowFunc) {\r\n            var oldValue = getter(source.data);\r\n            var watcher = function(row) {\r\n                if (row && updateRowFunc) {\r\n                    updateRowFunc(row)\r\n                }\r\n                var newValue = getter(source.data);\r\n                if (JSON.stringify(oldValue) !== JSON.stringify(newValue)) {\r\n                    if (row) {\r\n                        updateValueFunc(newValue)\r\n                    }\r\n                    oldValue = newValue\r\n                }\r\n            };\r\n            watchers.push(watcher);\r\n            return function() {\r\n                var index = watchers.indexOf(watcher);\r\n                if (index >= 0) {\r\n                    watchers.splice(index, 1)\r\n                }\r\n            }\r\n        };\r\n        source.update = source.update || function(row, keepRow) {\r\n            if (row) {\r\n                this.data = options.data = row.data;\r\n                this.rowIndex = options.rowIndex = row.rowIndex;\r\n                this.dataIndex = options.dataIndex = row.dataIndex;\r\n                this.isExpanded = options.isExpanded = row.isExpanded;\r\n                if (options.row && !keepRow) {\r\n                    options.row = row\r\n                }\r\n            }\r\n            watchers.forEach((function(watcher) {\r\n                watcher(row)\r\n            }))\r\n        };\r\n        if (source !== options) {\r\n            options.watch = source.watch.bind(source)\r\n        }\r\n        return options\r\n    },\r\n    _cellPrepared: function(cell, options) {\r\n        options.cellElement = getPublicElement($(cell));\r\n        this.executeAction(\"onCellPrepared\", options)\r\n    },\r\n    _rowPrepared: function($row, options) {\r\n        elementData($row.get(0), \"options\", options);\r\n        options.rowElement = getPublicElement($row);\r\n        this.executeAction(\"onRowPrepared\", options)\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (gridCoreUtils.checkChanges(optionNames, [\"width\", \"visibleWidth\"])) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var widths = iteratorUtils.map(visibleColumns, (function(column) {\r\n                var width = column.visibleWidth || column.width;\r\n                return isDefined(width) ? width : \"auto\"\r\n            }));\r\n            this.setColumnWidths({\r\n                widths: widths,\r\n                optionNames: optionNames\r\n            });\r\n            return\r\n        }\r\n        if (!this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    getCellIndex: function($cell) {\r\n        var cellIndex = $cell.length ? $cell[0].cellIndex : -1;\r\n        return cellIndex\r\n    },\r\n    getTableElements: function() {\r\n        return this._tableElement || $()\r\n    },\r\n    getTableElement: function() {\r\n        return this._tableElement\r\n    },\r\n    setTableElement: function(tableElement) {\r\n        this._tableElement = tableElement\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        switch (args.name) {\r\n            case \"cellHintEnabled\":\r\n            case \"onCellPrepared\":\r\n            case \"onRowPrepared\":\r\n            case \"onCellHoverChanged\":\r\n                this._invalidate(true, true);\r\n                args.handled = true\r\n        }\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._scrollLeft = -1;\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._dataController = that.getController(\"data\");\r\n        that._delayedTemplates = [];\r\n        that._templatesCache = {};\r\n        that.createAction(\"onCellClick\");\r\n        that.createAction(\"onRowClick\");\r\n        that.createAction(\"onCellDblClick\");\r\n        that.createAction(\"onRowDblClick\");\r\n        that.createAction(\"onCellHoverChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        that.createAction(\"onCellPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        that.createAction(\"onRowPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\",\r\n            afterExecute: function(e) {\r\n                that._afterRowPrepared(e)\r\n            }\r\n        });\r\n        that._columnsController.columnsChanged.add(that._columnOptionChanged.bind(that));\r\n        that._dataController && that._dataController.changed.add(that._handleDataChanged.bind(that))\r\n    },\r\n    _afterRowPrepared: noop,\r\n    _handleDataChanged: function() {},\r\n    callbackNames: function() {\r\n        return [\"scrollChanged\"]\r\n    },\r\n    _updateScrollLeftPosition: function() {\r\n        var scrollLeft = this._scrollLeft;\r\n        if (scrollLeft >= 0) {\r\n            this._scrollLeft = 0;\r\n            this.scrollTo({\r\n                left: scrollLeft\r\n            })\r\n        }\r\n    },\r\n    scrollTo: function(pos) {\r\n        var $element = this.element();\r\n        var $scrollContainer = $element && $element.children(\".\" + this.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).not(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS));\r\n        if (isDefined(pos) && isDefined(pos.left) && this._scrollLeft !== pos.left) {\r\n            this._scrollLeft = pos.left;\r\n            $scrollContainer && $scrollContainer.scrollLeft(pos.left)\r\n        }\r\n    },\r\n    _wrapTableInScrollContainer: function($table) {\r\n        var $scrollContainer = $(\"<div>\");\r\n        var useNative = this.option(\"scrolling.useNative\");\r\n        if (false === useNative || \"auto\" === useNative && !nativeScrolling) {\r\n            $scrollContainer.addClass(this.addWidgetPrefix(SCROLLABLE_SIMULATED_CLASS))\r\n        }\r\n        eventsEngine.on($scrollContainer, \"scroll\", () => {\r\n            var scrollLeft = $scrollContainer.scrollLeft();\r\n            if (scrollLeft !== this._scrollLeft) {\r\n                this.scrollChanged.fire({\r\n                    left: scrollLeft\r\n                }, this.name)\r\n            }\r\n        });\r\n        $scrollContainer.addClass(this.addWidgetPrefix(CONTENT_CLASS)).addClass(this.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).append($table).appendTo(this.element());\r\n        this.setAria(\"role\", \"presentation\", $scrollContainer);\r\n        return $scrollContainer\r\n    },\r\n    _updateContent: function($newTableElement) {\r\n        this.setTableElement($newTableElement);\r\n        this._wrapTableInScrollContainer($newTableElement)\r\n    },\r\n    _findContentElement: noop,\r\n    _getWidths: function($cellElements) {\r\n        var result = [];\r\n        var width;\r\n        if ($cellElements) {\r\n            iteratorUtils.each($cellElements, (function(index, item) {\r\n                width = item.offsetWidth;\r\n                if (item.getBoundingClientRect) {\r\n                    var clientRect = getBoundingRect(item);\r\n                    if (clientRect.width > width - 1) {\r\n                        width = clientRect.width\r\n                    }\r\n                }\r\n                result.push(width)\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    getColumnWidths: function($tableElement) {\r\n        var result = [];\r\n        var $rows;\r\n        var $cells;\r\n        (this.option(\"forceApplyBindings\") || noop)();\r\n        $tableElement = $tableElement || this.getTableElement();\r\n        if ($tableElement) {\r\n            $rows = $tableElement.children(\"tbody:not(.dx-header)\").children();\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                var $row = $rows.eq(i);\r\n                var isRowVisible = \"none\" !== $row.get(0).style.display && !$row.hasClass(\"dx-state-invisible\");\r\n                if (!$row.is(\".\" + GROUP_ROW_CLASS) && !$row.is(\".\" + DETAIL_ROW_CLASS) && !$row.is(\".\" + ERROR_ROW_CLASS) && isRowVisible) {\r\n                    $cells = $row.children(\"td\");\r\n                    break\r\n                }\r\n            }\r\n            result = this._getWidths($cells)\r\n        }\r\n        return result\r\n    },\r\n    getVisibleColumnIndex: function(columnIndex, rowIndex) {\r\n        return columnIndex\r\n    },\r\n    setColumnWidths: function(_ref) {\r\n        var {\r\n            widths: widths,\r\n            $tableElement: $tableElement,\r\n            columns: columns,\r\n            fixed: fixed\r\n        } = _ref;\r\n        var $cols;\r\n        var width;\r\n        var minWidth;\r\n        var columnIndex;\r\n        var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n        $tableElement = $tableElement || this.getTableElement();\r\n        if ($tableElement && $tableElement.length && widths) {\r\n            columnIndex = 0;\r\n            $cols = $tableElement.children(\"colgroup\").children(\"col\");\r\n            setWidth($cols, \"auto\");\r\n            columns = columns || this.getColumns(null, $tableElement);\r\n            for (var i = 0; i < columns.length; i++) {\r\n                if (columnAutoWidth && !fixed) {\r\n                    width = columns[i].width;\r\n                    if (width && !columns[i].command) {\r\n                        width = columns[i].visibleWidth || width;\r\n                        width = getWidthStyle(width);\r\n                        minWidth = getWidthStyle(columns[i].minWidth || width);\r\n                        var $rows = $rows || $tableElement.children().children(\".dx-row\").not(\".\" + DETAIL_ROW_CLASS);\r\n                        for (var rowIndex = 0; rowIndex < $rows.length; rowIndex++) {\r\n                            var row = $rows[rowIndex];\r\n                            var cell = void 0;\r\n                            var visibleIndex = this.getVisibleColumnIndex(i, rowIndex);\r\n                            if (row.classList.contains(GROUP_ROW_CLASS)) {\r\n                                cell = row.querySelector(\"td[aria-colindex='\".concat(visibleIndex + 1, \"']:not(.\").concat(GROUP_CELL_CLASS, \")\"))\r\n                            } else {\r\n                                cell = row.cells[visibleIndex]\r\n                            }\r\n                            if (cell) {\r\n                                setCellWidth(cell, columns[i], width);\r\n                                cell.style.minWidth = minWidth\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (columns[i].colspan) {\r\n                    columnIndex += columns[i].colspan;\r\n                    continue\r\n                }\r\n                width = widths[columnIndex];\r\n                if (\"adaptiveHidden\" === width) {\r\n                    width = HIDDEN_COLUMNS_WIDTH\r\n                }\r\n                if (\"number\" === typeof width) {\r\n                    width = width.toFixed(3) + \"px\"\r\n                }\r\n                setWidth($cols.eq(columnIndex), isDefined(width) ? width : \"auto\");\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    getCellElements: function(rowIndex) {\r\n        return this._getCellElementsCore(rowIndex)\r\n    },\r\n    _getCellElementsCore: function(rowIndex) {\r\n        var $row = this._getRowElements().eq(rowIndex);\r\n        return $row.children()\r\n    },\r\n    _getCellElement: function(rowIndex, columnIdentifier) {\r\n        var $cell;\r\n        var $cells = this.getCellElements(rowIndex);\r\n        var columnVisibleIndex = this._getVisibleColumnIndex($cells, rowIndex, columnIdentifier);\r\n        if ($cells.length && columnVisibleIndex >= 0) {\r\n            $cell = $cells.eq(columnVisibleIndex)\r\n        }\r\n        if ($cell && $cell.length) {\r\n            return $cell\r\n        }\r\n    },\r\n    _getRowElement: function(rowIndex) {\r\n        var that = this;\r\n        var $rowElement = $();\r\n        var $tableElements = that.getTableElements();\r\n        iteratorUtils.each($tableElements, (function(_, tableElement) {\r\n            $rowElement = $rowElement.add(that._getRowElements($(tableElement)).eq(rowIndex))\r\n        }));\r\n        if ($rowElement.length) {\r\n            return $rowElement\r\n        }\r\n    },\r\n    getCellElement: function(rowIndex, columnIdentifier) {\r\n        return getPublicElement(this._getCellElement(rowIndex, columnIdentifier))\r\n    },\r\n    getRowElement: function(rowIndex) {\r\n        var $rows = this._getRowElement(rowIndex);\r\n        var elements = [];\r\n        if ($rows && !getPublicElement($rows).get) {\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                elements.push($rows[i])\r\n            }\r\n        } else {\r\n            elements = $rows\r\n        }\r\n        return elements\r\n    },\r\n    _getVisibleColumnIndex: function($cells, rowIndex, columnIdentifier) {\r\n        if (isString(columnIdentifier)) {\r\n            var columnIndex = this._columnsController.columnOption(columnIdentifier, \"index\");\r\n            return this._columnsController.getVisibleIndex(columnIndex)\r\n        }\r\n        return columnIdentifier\r\n    },\r\n    getColumnElements: function() {},\r\n    getColumns: function(rowIndex) {\r\n        return this._columnsController.getVisibleColumns(rowIndex)\r\n    },\r\n    getCell: function(cellPosition, rows) {\r\n        var $rows = rows || this._getRowElements();\r\n        var $cells;\r\n        if ($rows.length > 0 && cellPosition.rowIndex >= 0) {\r\n            if (\"virtual\" !== this.option(\"scrolling.mode\") && \"virtual\" !== this.option(\"scrolling.rowRenderingMode\")) {\r\n                cellPosition.rowIndex = cellPosition.rowIndex < $rows.length ? cellPosition.rowIndex : $rows.length - 1\r\n            }\r\n            $cells = this.getCellElements(cellPosition.rowIndex);\r\n            if ($cells && $cells.length > 0) {\r\n                return $cells.eq($cells.length > cellPosition.columnIndex ? cellPosition.columnIndex : $cells.length - 1)\r\n            }\r\n        }\r\n    },\r\n    getRowsCount: function() {\r\n        var tableElement = this.getTableElement();\r\n        if (tableElement && 1 === tableElement.length) {\r\n            return tableElement[0].rows.length\r\n        }\r\n        return 0\r\n    },\r\n    _getRowElementsCore: function(tableElement) {\r\n        tableElement = tableElement || this.getTableElement();\r\n        if (tableElement) {\r\n            var hasRowTemplate = this.option().rowTemplate || this.option(\"dataRowTemplate\");\r\n            var tBodies = hasRowTemplate && tableElement.find(\"> tbody.\" + ROW_CLASS);\r\n            return tBodies && tBodies.length ? tBodies : tableElement.find(\"> tbody > .\" + ROW_CLASS + \", > .\" + ROW_CLASS)\r\n        }\r\n        return $()\r\n    },\r\n    _getRowElements: function(tableElement) {\r\n        return this._getRowElementsCore(tableElement)\r\n    },\r\n    getRowIndex: function($row) {\r\n        return this._getRowElements().index($row)\r\n    },\r\n    getBoundingRect: function() {},\r\n    getName: function() {},\r\n    setScrollerSpacing: function(width) {\r\n        var $element = this.element();\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        $element && $element.css({\r\n            paddingLeft: rtlEnabled ? width : \"\",\r\n            paddingRight: !rtlEnabled ? width : \"\"\r\n        })\r\n    },\r\n    isScrollbarVisible: function(isHorizontal) {\r\n        var $element = this.element();\r\n        var $tableElement = this._tableElement;\r\n        if ($element && $tableElement) {\r\n            return isHorizontal ? getOuterWidth($tableElement) - getWidth($element) > 0 : getOuterHeight($tableElement) - getHeight($element) > 0\r\n        }\r\n        return false\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/shared/accessibility.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\r\nvar FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUSED_ROW_SELECTOR = \".dx-row-focused\";\r\nvar GRID_ROW_SELECTOR = \".dx-datagrid-rowsview .dx-row\";\r\nvar GRID_CELL_SELECTOR = \"\".concat(GRID_ROW_SELECTOR, \" > td\");\r\nvar TREELIST_ROW_SELECTOR = \".dx-treelist-rowsview .dx-row\";\r\nvar TREELIST_CELL_SELECTOR = \"\".concat(TREELIST_ROW_SELECTOR, \" > td\");\r\nvar viewItemSelectorMap = {\r\n    groupPanel: [\".dx-datagrid-group-panel .dx-group-panel-item[tabindex]\"],\r\n    columnHeaders: [\".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action\", \".dx-treelist-headers .dx-header-row > td.dx-treelist-action\"],\r\n    filterRow: [\".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input\", \".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input\"],\r\n    rowsView: [\"\".concat(FOCUSED_ROW_SELECTOR), \"\".concat(GRID_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR), \"\".concat(TREELIST_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR)],\r\n    footer: [\".dx-datagrid-total-footer .dx-datagrid-summary-item\", \".dx-treelist-total-footer .dx-treelist-summary-item\"],\r\n    filterPanel: [\".dx-datagrid-filter-panel .dx-icon-filter\", \".dx-treelist-filter-panel .dx-icon-filter\"],\r\n    pager: [\".dx-datagrid-pager [tabindex]\", \".dx-treelist-pager [tabindex]\"]\r\n};\r\nvar isMouseDown = false;\r\nvar isHiddenFocusing = false;\r\nvar focusedElementInfo = null;\r\n\r\nfunction processKeyDown(viewName, instance, event, action, $mainElement, executeKeyDown) {\r\n    var isHandled = fireKeyDownEvent(instance, event.originalEvent, executeKeyDown);\r\n    if (isHandled) {\r\n        return\r\n    }\r\n    var keyName = normalizeKeyName(event);\r\n    if (\"enter\" === keyName || \"space\" === keyName) {\r\n        saveFocusedElementInfo(event.target, instance);\r\n        action && action({\r\n            event: event\r\n        })\r\n    } else if (\"tab\" === keyName) {\r\n        $mainElement.addClass(FOCUS_STATE_CLASS)\r\n    } else {\r\n        selectView(viewName, instance, event)\r\n    }\r\n}\r\n\r\nfunction saveFocusedElementInfo(target, instance) {\r\n    var $target = $(target);\r\n    var ariaLabel = $target.attr(\"aria-label\");\r\n    var $activeElements = getActiveAccessibleElements(ariaLabel, instance.element());\r\n    var targetIndex = $activeElements.index($target);\r\n    focusedElementInfo = extend({}, {\r\n        ariaLabel: ariaLabel,\r\n        index: targetIndex\r\n    }, {\r\n        viewInstance: instance\r\n    })\r\n}\r\n\r\nfunction getActiveAccessibleElements(ariaLabel, viewElement) {\r\n    var $viewElement = $(viewElement);\r\n    var $activeElements;\r\n    if (ariaLabel) {\r\n        $activeElements = $viewElement.find('[aria-label=\"'.concat(ariaLabel, '\"][tabindex]'))\r\n    } else {\r\n        $activeElements = $viewElement.find(\"[tabindex]\")\r\n    }\r\n    return $activeElements\r\n}\r\n\r\nfunction findFocusedViewElement(viewSelectors) {\r\n    for (var index in viewSelectors) {\r\n        var selector = viewSelectors[index];\r\n        var $focusViewElement = $(selector).first();\r\n        if ($focusViewElement.length) {\r\n            return $focusViewElement\r\n        }\r\n    }\r\n}\r\n\r\nfunction fireKeyDownEvent(instance, event, executeAction) {\r\n    var args = {\r\n        event: event,\r\n        handled: false\r\n    };\r\n    if (executeAction) {\r\n        executeAction(args)\r\n    } else {\r\n        instance._createActionByOption(\"onKeyDown\")(args)\r\n    }\r\n    return args.handled\r\n}\r\n\r\nfunction onDocumentVisibilityChange() {\r\n    isHiddenFocusing = \"visible\" === domAdapter.getDocument().visibilityState\r\n}\r\nexport function subscribeVisibilityChange() {\r\n    eventsEngine.on(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\nexport function unsubscribeVisibilityChange() {\r\n    eventsEngine.off(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\nexport function hiddenFocus(element) {\r\n    isHiddenFocusing = true;\r\n    element.focus();\r\n    isHiddenFocusing = false\r\n}\r\nexport function registerKeyboardAction(viewName, instance, $element, selector, action, executeKeyDown) {\r\n    if (instance.option(\"useLegacyKeyboardNavigation\")) {\r\n        return noop\r\n    }\r\n    var getMainElement = () => $(instance.element());\r\n    var keyDownHandler = e => processKeyDown(viewName, instance, e, action, getMainElement(), executeKeyDown);\r\n    var mouseDownHandler = () => {\r\n        isMouseDown = true;\r\n        getMainElement().removeClass(FOCUS_STATE_CLASS)\r\n    };\r\n    var focusinHandler = () => {\r\n        var needShowOverlay = !isMouseDown && !isHiddenFocusing;\r\n        if (needShowOverlay) {\r\n            getMainElement().addClass(FOCUS_STATE_CLASS)\r\n        }\r\n        isMouseDown = false\r\n    };\r\n    eventsEngine.on($element, \"keydown\", selector, keyDownHandler);\r\n    eventsEngine.on($element, \"mousedown\", selector, mouseDownHandler);\r\n    eventsEngine.on($element, \"focusin\", selector, focusinHandler);\r\n    return () => {\r\n        eventsEngine.off($element, \"keydown\", selector, keyDownHandler);\r\n        eventsEngine.off($element, \"mousedown\", selector, mouseDownHandler);\r\n        eventsEngine.off($element, \"focusin\", selector, focusinHandler)\r\n    }\r\n}\r\nexport function restoreFocus(instance) {\r\n    if (!instance.option(\"useLegacyKeyboardNavigation\") && focusedElementInfo) {\r\n        var viewInstance = focusedElementInfo.viewInstance;\r\n        if (viewInstance) {\r\n            var $activeElements = getActiveAccessibleElements(focusedElementInfo.ariaLabel, viewInstance.element());\r\n            var $targetElement = $activeElements.eq(focusedElementInfo.index);\r\n            focusedElementInfo = null;\r\n            eventsEngine.trigger($targetElement, \"focus\")\r\n        }\r\n    }\r\n}\r\nexport function selectView(viewName, instance, event) {\r\n    var keyName = normalizeKeyName(event);\r\n    if (event.ctrlKey && (\"upArrow\" === keyName || \"downArrow\" === keyName)) {\r\n        var viewNames = Object.keys(viewItemSelectorMap);\r\n        var viewItemIndex = viewNames.indexOf(viewName);\r\n        while (viewItemIndex >= 0 && viewItemIndex < viewNames.length) {\r\n            viewItemIndex = \"upArrow\" === keyName ? --viewItemIndex : ++viewItemIndex;\r\n            var _viewName = viewNames[viewItemIndex];\r\n            var viewSelectors = viewItemSelectorMap[_viewName];\r\n            var $focusViewElement = findFocusedViewElement(viewSelectors);\r\n            if ($focusViewElement && $focusViewElement.length) {\r\n                $focusViewElement.attr(\"tabindex\", instance.option(\"tabindex\") || 0);\r\n                eventsEngine.trigger($focusViewElement, \"focus\");\r\n                $focusViewElement.removeClass(FOCUS_DISABLED_CLASS);\r\n                break\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function setTabIndex(instance, $element) {\r\n    if (!instance.option(\"useLegacyKeyboardnavigation\")) {\r\n        $element.attr(\"tabindex\", instance.option(\"tabindex\") || 0)\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.accessibility.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport * as accessibility from \"../../ui/shared/accessibility\";\r\nexport var registerKeyboardAction = function(viewName, instance, $element, selector, action) {\r\n    var keyboardController = instance.getController(\"keyboardNavigation\");\r\n    if (instance.option(\"useLegacyKeyboardNavigation\") || keyboardController && !keyboardController.isKeyboardEnabled()) {\r\n        return\r\n    }\r\n    instance.createAction(\"onKeyDown\");\r\n    accessibility.registerKeyboardAction(viewName, instance, $element, selector, action, args => {\r\n        instance.executeAction(\"onKeyDown\", args)\r\n    })\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_headers.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    registerKeyboardAction\r\n} from \"./ui.grid_core.accessibility\";\r\nvar CELL_CONTENT_CLASS = \"text-content\";\r\nvar HEADERS_CLASS = \"headers\";\r\nvar NOWRAP_CLASS = \"nowrap\";\r\nvar ROW_CLASS_SELECTOR = \".dx-row\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar CONTEXT_MENU_SORT_ASC_ICON = \"context-menu-sort-asc\";\r\nvar CONTEXT_MENU_SORT_DESC_ICON = \"context-menu-sort-desc\";\r\nvar CONTEXT_MENU_SORT_NONE_ICON = \"context-menu-sort-none\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar VISIBILITY_HIDDEN_CLASS = \"dx-visibility-hidden\";\r\nvar TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX = \"dx-text-content-alignment-\";\r\nvar SORT_INDICATOR_CLASS = \"dx-sort-indicator\";\r\nvar SORT_INDEX_INDICATOR_CLASS = \"dx-sort-index-indicator\";\r\nvar HEADER_FILTER_CLASS_SELECTOR = \".dx-header-filter\";\r\nvar HEADER_FILTER_INDICATOR_CLASS = \"dx-header-filter-indicator\";\r\nvar MULTI_ROW_HEADER_CLASS = \"dx-header-multi-row\";\r\nexport var columnHeadersModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            showColumnHeaders: true,\r\n            cellHintEnabled: true\r\n        }\r\n    },\r\n    views: {\r\n        columnHeadersView: ColumnsView.inherit(function() {\r\n            var createCellContent = function(that, $cell, options) {\r\n                var $cellContent = $(\"<div>\").addClass(that.addWidgetPrefix(CELL_CONTENT_CLASS));\r\n                that.setAria(\"role\", \"presentation\", $cellContent);\r\n                addCssClassesToCellContent(that, $cell, options.column, $cellContent);\r\n                var showColumnLines = that.option(\"showColumnLines\");\r\n                var contentAlignment = that.getController(\"columns\").getHeaderContentAlignment(options.column.alignment);\r\n                return $cellContent[showColumnLines || \"right\" === contentAlignment ? \"appendTo\" : \"prependTo\"]($cell)\r\n            };\r\n\r\n            function addCssClassesToCellContent(that, $cell, column, $cellContent) {\r\n                var $indicatorElements = that._getIndicatorElements($cell, true);\r\n                var $visibleIndicatorElements = that._getIndicatorElements($cell);\r\n                var indicatorCount = $indicatorElements && $indicatorElements.length;\r\n                var columnAlignment = that._getColumnAlignment(column.alignment);\r\n                var sortIndicatorClassName = \".\".concat(that._getIndicatorClassName(\"sort\"));\r\n                var sortIndexIndicatorClassName = \".\".concat(that._getIndicatorClassName(\"sortIndex\"));\r\n                var $sortIndicator = $visibleIndicatorElements.filter(sortIndicatorClassName);\r\n                var $sortIndexIndicator = $visibleIndicatorElements.children().filter(sortIndexIndicatorClassName);\r\n                $cellContent = $cellContent || $cell.children(\".\" + that.addWidgetPrefix(CELL_CONTENT_CLASS));\r\n                $cellContent.toggleClass(TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX + columnAlignment, indicatorCount > 0).toggleClass(TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX + (\"left\" === columnAlignment ? \"right\" : \"left\"), indicatorCount > 0 && \"center\" === column.alignment).toggleClass(SORT_INDICATOR_CLASS, !!$sortIndicator.length).toggleClass(SORT_INDEX_INDICATOR_CLASS, !!$sortIndexIndicator.length).toggleClass(HEADER_FILTER_INDICATOR_CLASS, !!$visibleIndicatorElements.filter(\".\" + that._getIndicatorClassName(\"headerFilter\")).length)\r\n            }\r\n            return {\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    eventsEngine.on($table, \"mousedown selectstart\", this.createAction((function(e) {\r\n                        var event = e.event;\r\n                        if (event.shiftKey) {\r\n                            event.preventDefault()\r\n                        }\r\n                    })));\r\n                    return $table\r\n                },\r\n                _isLegacyKeyboardNavigation() {\r\n                    return this.option(\"useLegacyKeyboardNavigation\")\r\n                },\r\n                _getDefaultTemplate: function(column) {\r\n                    var that = this;\r\n                    return function($container, options) {\r\n                        var $content = column.command ? $container : createCellContent(that, $container, options);\r\n                        var caption = \"expand\" !== column.command && column.caption;\r\n                        if (caption) {\r\n                            $content.text(caption)\r\n                        } else if (column.command) {\r\n                            $container.html(\"&nbsp;\")\r\n                        }\r\n                    }\r\n                },\r\n                _getHeaderTemplate: function(column) {\r\n                    return column.headerCellTemplate || {\r\n                        allowRenderToDetachedContainer: true,\r\n                        render: this._getDefaultTemplate(column)\r\n                    }\r\n                },\r\n                _processTemplate: function(template, options) {\r\n                    var that = this;\r\n                    var resultTemplate;\r\n                    var column = options.column;\r\n                    var renderingTemplate = that.callBase(template);\r\n                    if (\"header\" === options.rowType && renderingTemplate && column.headerCellTemplate && !column.command) {\r\n                        resultTemplate = {\r\n                            render: function(options) {\r\n                                var $content = createCellContent(that, options.container, options.model);\r\n                                renderingTemplate.render(extend({}, options, {\r\n                                    container: $content\r\n                                }))\r\n                            }\r\n                        }\r\n                    } else {\r\n                        resultTemplate = renderingTemplate\r\n                    }\r\n                    return resultTemplate\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    if (\"refresh\" !== e.changeType) {\r\n                        return\r\n                    }\r\n                    if (this._isGroupingChanged || this._requireReady) {\r\n                        this._isGroupingChanged = false;\r\n                        this.render()\r\n                    }\r\n                },\r\n                _renderCell: function($row, options) {\r\n                    var $cell = this.callBase($row, options);\r\n                    if (\"header\" === options.row.rowType) {\r\n                        $cell.addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                        if (!this._isLegacyKeyboardNavigation()) {\r\n                            if (options.column && !options.column.type) {\r\n                                $cell.attr(\"tabindex\", this.option(\"tabindex\") || 0)\r\n                            }\r\n                        }\r\n                    }\r\n                    return $cell\r\n                },\r\n                _setCellAriaAttributes: function($cell, cellOptions) {\r\n                    this.callBase($cell, cellOptions);\r\n                    if (\"header\" === cellOptions.rowType) {\r\n                        this.setAria(\"role\", \"columnheader\", $cell);\r\n                        if (cellOptions.column && !cellOptions.column.command && !cellOptions.column.isBand) {\r\n                            $cell.attr(\"id\", cellOptions.column.headerId);\r\n                            this.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaColumn\") + \" \" + cellOptions.column.caption, $cell)\r\n                        }\r\n                    }\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    $row.toggleClass(COLUMN_LINES_CLASS, this.option(\"showColumnLines\"));\r\n                    if (\"header\" === row.rowType) {\r\n                        $row.addClass(HEADER_ROW_CLASS);\r\n                        if (!this._isLegacyKeyboardNavigation()) {\r\n                            registerKeyboardAction(\"columnHeaders\", this, $row, \"td\", this._handleActionKeyDown.bind(this))\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _handleActionKeyDown: function(args) {\r\n                    var event = args.event;\r\n                    var $target = $(event.target);\r\n                    this._lastActionElement = event.target;\r\n                    if ($target.is(HEADER_FILTER_CLASS_SELECTOR)) {\r\n                        var headerFilterController = this.getController(\"headerFilter\");\r\n                        var $column = $target.closest(\"td\");\r\n                        var columnIndex = this.getColumnIndexByElement($column);\r\n                        if (columnIndex >= 0) {\r\n                            headerFilterController.showHeaderFilterMenu(columnIndex, false)\r\n                        }\r\n                    } else {\r\n                        var $row = $target.closest(ROW_CLASS_SELECTOR);\r\n                        this._processHeaderAction(event, $row)\r\n                    }\r\n                    event.preventDefault()\r\n                },\r\n                _renderCore: function() {\r\n                    var that = this;\r\n                    var $container = that.element();\r\n                    if (that._tableElement && !that._dataController.isLoaded() && !that._hasRowElements) {\r\n                        return\r\n                    }\r\n                    $container.addClass(that.addWidgetPrefix(HEADERS_CLASS)).toggleClass(that.addWidgetPrefix(NOWRAP_CLASS), !that.option(\"wordWrapEnabled\")).empty();\r\n                    that.setAria(\"role\", \"presentation\", $container);\r\n                    that._updateContent(that._renderTable());\r\n                    if (that.getRowCount() > 1) {\r\n                        $container.addClass(MULTI_ROW_HEADER_CLASS)\r\n                    }\r\n                    that.callBase.apply(that, arguments)\r\n                },\r\n                _renderRows: function() {\r\n                    var that = this;\r\n                    if (that._dataController.isLoaded() || that._hasRowElements) {\r\n                        that.callBase.apply(that, arguments);\r\n                        that._hasRowElements = true\r\n                    }\r\n                },\r\n                _getRowVisibleColumns: function(rowIndex) {\r\n                    return this._columnsController.getVisibleColumns(rowIndex)\r\n                },\r\n                _renderRow: function($table, options) {\r\n                    options.columns = this._getRowVisibleColumns(options.row.rowIndex);\r\n                    this.callBase($table, options)\r\n                },\r\n                _createCell: function(options) {\r\n                    var column = options.column;\r\n                    var $cellElement = this.callBase.apply(this, arguments);\r\n                    column.rowspan > 1 && \"header\" === options.rowType && $cellElement.attr(\"rowSpan\", column.rowspan);\r\n                    return $cellElement\r\n                },\r\n                _getRows: function() {\r\n                    var result = [];\r\n                    var rowCount = this.getRowCount();\r\n                    if (this.option(\"showColumnHeaders\")) {\r\n                        for (var i = 0; i < rowCount; i++) {\r\n                            result.push({\r\n                                rowType: \"header\",\r\n                                rowIndex: i\r\n                            })\r\n                        }\r\n                    }\r\n                    return result\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    if (\"header\" === options.rowType) {\r\n                        return this._getHeaderTemplate(options.column)\r\n                    }\r\n                },\r\n                _columnOptionChanged: function(e) {\r\n                    var changeTypes = e.changeTypes;\r\n                    var optionNames = e.optionNames;\r\n                    if (changeTypes.grouping || changeTypes.groupExpanding) {\r\n                        if (changeTypes.grouping) {\r\n                            this._isGroupingChanged = true\r\n                        }\r\n                        return\r\n                    }\r\n                    this.callBase(e);\r\n                    if (optionNames.width || optionNames.visible) {\r\n                        this.resizeCompleted.fire()\r\n                    }\r\n                },\r\n                _isElementVisible: function(elementOptions) {\r\n                    return elementOptions && elementOptions.visible\r\n                },\r\n                _alignCaptionByCenter: function($cell) {\r\n                    var $indicatorsContainer = this._getIndicatorContainer($cell, true);\r\n                    if ($indicatorsContainer && $indicatorsContainer.length) {\r\n                        $indicatorsContainer.filter(\".\" + VISIBILITY_HIDDEN_CLASS).remove();\r\n                        $indicatorsContainer = this._getIndicatorContainer($cell);\r\n                        $indicatorsContainer.clone().addClass(VISIBILITY_HIDDEN_CLASS).css(\"float\", \"\").insertBefore($cell.children(\".\" + this.addWidgetPrefix(CELL_CONTENT_CLASS)))\r\n                    }\r\n                },\r\n                _updateCell: function($cell, options) {\r\n                    if (\"header\" === options.rowType && \"center\" === options.column.alignment) {\r\n                        this._alignCaptionByCenter($cell)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _updateIndicator: function($cell, column, indicatorName) {\r\n                    var $indicatorElement = this.callBase.apply(this, arguments);\r\n                    if (\"center\" === column.alignment) {\r\n                        this._alignCaptionByCenter($cell)\r\n                    }\r\n                    addCssClassesToCellContent(this, $cell, column);\r\n                    return $indicatorElement\r\n                },\r\n                _getIndicatorContainer: function($cell, returnAll) {\r\n                    var $indicatorsContainer = this.callBase($cell);\r\n                    return returnAll ? $indicatorsContainer : $indicatorsContainer.filter(\":not(.\" + VISIBILITY_HIDDEN_CLASS + \")\")\r\n                },\r\n                _isSortableElement: function() {\r\n                    return true\r\n                },\r\n                getHeadersRowHeight: function() {\r\n                    var $tableElement = this.getTableElement();\r\n                    var $headerRows = $tableElement && $tableElement.find(\".\" + HEADER_ROW_CLASS);\r\n                    return $headerRows && $headerRows.toArray().reduce((function(sum, headerRow) {\r\n                        return sum + getHeight(headerRow)\r\n                    }), 0) || 0\r\n                },\r\n                getHeaderElement: function(index) {\r\n                    var columnElements = this.getColumnElements();\r\n                    return columnElements && columnElements.eq(index)\r\n                },\r\n                getColumnElements: function(index, bandColumnIndex) {\r\n                    var that = this;\r\n                    var $cellElement;\r\n                    var columnsController = that._columnsController;\r\n                    var rowCount = that.getRowCount();\r\n                    if (that.option(\"showColumnHeaders\")) {\r\n                        if (rowCount > 1 && (!isDefined(index) || isDefined(bandColumnIndex))) {\r\n                            var result = [];\r\n                            var visibleColumns = isDefined(bandColumnIndex) ? columnsController.getChildrenByBandColumn(bandColumnIndex, true) : columnsController.getVisibleColumns();\r\n                            each(visibleColumns, (function(_, column) {\r\n                                var rowIndex = isDefined(index) ? index : columnsController.getRowIndex(column.index);\r\n                                $cellElement = that._getCellElement(rowIndex, columnsController.getVisibleIndex(column.index, rowIndex));\r\n                                $cellElement && result.push($cellElement.get(0))\r\n                            }));\r\n                            return $(result)\r\n                        } else if (!index || index < rowCount) {\r\n                            return that.getCellElements(index || 0)\r\n                        }\r\n                    }\r\n                },\r\n                getColumnIndexByElement: function($cell) {\r\n                    var cellIndex = this.getCellIndex($cell);\r\n                    var $row = $cell.closest(\".dx-row\");\r\n                    var rowIndex = $row[0].rowIndex;\r\n                    var column = this.getColumns(rowIndex)[cellIndex];\r\n                    return column ? column.index : -1\r\n                },\r\n                getVisibleColumnIndex: function(columnIndex, rowIndex) {\r\n                    var column = this.getColumns()[columnIndex];\r\n                    return column ? this._columnsController.getVisibleIndex(column.index, rowIndex) : -1\r\n                },\r\n                getColumnWidths: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    if ($columnElements && $columnElements.length) {\r\n                        return this._getWidths($columnElements)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                allowDragging: function(column, sourceLocation, draggingPanels) {\r\n                    var i;\r\n                    var draggableColumnCount = 0;\r\n                    var rowIndex = column && this._columnsController.getRowIndex(column.index);\r\n                    var columns = this.getColumns(0 === rowIndex ? 0 : null);\r\n                    var canHideColumn = (null === column || void 0 === column ? void 0 : column.allowHiding) && columns.length > 1;\r\n                    var allowDrag = function(column) {\r\n                        return column.allowReordering || column.allowGrouping || column.allowHiding\r\n                    };\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        if (allowDrag(columns[i])) {\r\n                            draggableColumnCount++\r\n                        }\r\n                    }\r\n                    if (draggableColumnCount <= 1 && !canHideColumn) {\r\n                        return false\r\n                    } else if (!draggingPanels) {\r\n                        return (this.option(\"allowColumnReordering\") || this._columnsController.isColumnOptionUsed(\"allowReordering\")) && column && column.allowReordering\r\n                    }\r\n                    for (i = 0; i < draggingPanels.length; i++) {\r\n                        var draggingPanel = draggingPanels[i];\r\n                        if (draggingPanel && draggingPanel.allowDragging(column, sourceLocation)) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                getBoundingRect: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    if ($columnElements && $columnElements.length) {\r\n                        var offset = this.getTableElement().offset();\r\n                        return {\r\n                            top: offset.top\r\n                        }\r\n                    }\r\n                    return null\r\n                },\r\n                getName: function() {\r\n                    return \"headers\"\r\n                },\r\n                getColumnCount: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    return $columnElements ? $columnElements.length : 0\r\n                },\r\n                isVisible: function() {\r\n                    return this.option(\"showColumnHeaders\")\r\n                },\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"showColumnHeaders\":\r\n                        case \"wordWrapEnabled\":\r\n                        case \"showColumnLines\":\r\n                            this._invalidate(true, true);\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                getHeight: function() {\r\n                    return this.getElementHeight()\r\n                },\r\n                getContextMenuItems: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    if (options.row && (\"header\" === options.row.rowType || \"detailAdaptive\" === options.row.rowType)) {\r\n                        var sortingOptions = that.option(\"sorting\");\r\n                        if (sortingOptions && \"none\" !== sortingOptions.mode && column && column.allowSorting) {\r\n                            var onItemClick = function(params) {\r\n                                setTimeout((function() {\r\n                                    that._columnsController.changeSortOrder(column.index, params.itemData.value)\r\n                                }))\r\n                            };\r\n                            return [{\r\n                                text: sortingOptions.ascendingText,\r\n                                value: \"asc\",\r\n                                disabled: \"asc\" === column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_ASC_ICON,\r\n                                onItemClick: onItemClick\r\n                            }, {\r\n                                text: sortingOptions.descendingText,\r\n                                value: \"desc\",\r\n                                disabled: \"desc\" === column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_DESC_ICON,\r\n                                onItemClick: onItemClick\r\n                            }, {\r\n                                text: sortingOptions.clearText,\r\n                                value: \"none\",\r\n                                disabled: !column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_NONE_ICON,\r\n                                onItemClick: onItemClick\r\n                            }]\r\n                        }\r\n                    }\r\n                },\r\n                getRowCount: function() {\r\n                    return this._columnsController && this._columnsController.getRowCount()\r\n                },\r\n                setRowsOpacity: function(columnIndex, value, rowIndex) {\r\n                    var that = this;\r\n                    var i;\r\n                    var columnElements;\r\n                    var rowCount = that.getRowCount();\r\n                    var columns = that._columnsController.getColumns();\r\n                    var column = columns && columns[columnIndex];\r\n                    var columnID = column && column.isBand && column.index;\r\n                    var setColumnOpacity = function(index, column) {\r\n                        if (column.ownerBand === columnID) {\r\n                            columnElements.eq(index).css({\r\n                                opacity: value\r\n                            });\r\n                            if (column.isBand) {\r\n                                that.setRowsOpacity(column.index, value, i + 1)\r\n                            }\r\n                        }\r\n                    };\r\n                    if (isDefined(columnID)) {\r\n                        rowIndex = rowIndex || 0;\r\n                        for (i = rowIndex; i < rowCount; i++) {\r\n                            columnElements = that.getCellElements(i);\r\n                            each(that.getColumns(i), setColumnOpacity)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.column_headers.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnHeadersModule\r\n} from \"../grid_core/ui.grid_core.column_headers\";\r\nexport var ColumnHeadersView = columnHeadersModule.views.columnHeadersView;\r\ngridCore.registerModule(\"columnHeaders\", columnHeadersModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.columns_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    compileGetter,\r\n    compileSetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    isDefined,\r\n    isString,\r\n    isNumeric,\r\n    isFunction,\r\n    isObject,\r\n    isPlainObject,\r\n    type\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    inArray,\r\n    normalizeIndexes\r\n} from \"../../core/utils/array\";\r\nimport config from \"../../core/config\";\r\nimport {\r\n    orderEach,\r\n    deepExtendArraySafe\r\n} from \"../../core/utils/object\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport numberLocalization from \"../../localization/number\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport Store from \"../../data/abstract_store\";\r\nimport {\r\n    DataSource\r\n} from \"../../data/data_source/data_source\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"../../data/data_source/utils\";\r\nimport filterUtils from \"../shared/filtering\";\r\nvar USER_STATE_FIELD_NAMES_15_1 = [\"filterValues\", \"filterType\", \"fixed\", \"fixedPosition\"];\r\nvar USER_STATE_FIELD_NAMES = [\"visibleIndex\", \"dataField\", \"name\", \"dataType\", \"width\", \"visible\", \"sortOrder\", \"lastSortOrder\", \"sortIndex\", \"groupIndex\", \"filterValue\", \"selectedFilterOperation\", \"added\"].concat(USER_STATE_FIELD_NAMES_15_1);\r\nvar IGNORE_COLUMN_OPTION_NAMES = {\r\n    visibleWidth: true,\r\n    bestFitWidth: true,\r\n    bufferedFilterValue: true\r\n};\r\nvar COMMAND_EXPAND_CLASS = \"dx-command-expand\";\r\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\nvar GROUP_COMMAND_COLUMN_NAME = \"groupExpand\";\r\nvar regExp = /columns\\[(\\d+)\\]\\.?/gi;\r\nvar globalColumnId = 1;\r\nexport var columnsControllerModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            commonColumnSettings: {\r\n                allowFiltering: true,\r\n                allowHiding: true,\r\n                allowSorting: true,\r\n                allowEditing: true,\r\n                encodeHtml: true,\r\n                trueText: messageLocalization.format(\"dxDataGrid-trueText\"),\r\n                falseText: messageLocalization.format(\"dxDataGrid-falseText\")\r\n            },\r\n            allowColumnReordering: false,\r\n            allowColumnResizing: false,\r\n            columnResizingMode: \"nextColumn\",\r\n            columnMinWidth: void 0,\r\n            columnWidth: void 0,\r\n            adaptColumnWidthByRatio: true,\r\n            columns: void 0,\r\n            regenerateColumnsByVisibleItems: false,\r\n            customizeColumns: null,\r\n            dateSerializationFormat: void 0\r\n        }\r\n    },\r\n    controllers: {\r\n        columns: modules.Controller.inherit(function() {\r\n            var DEFAULT_COLUMN_OPTIONS = {\r\n                visible: true,\r\n                showInColumnChooser: true\r\n            };\r\n            var DATATYPE_OPERATIONS = {\r\n                number: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"],\r\n                string: [\"contains\", \"notcontains\", \"startswith\", \"endswith\", \"=\", \"<>\"],\r\n                date: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"],\r\n                datetime: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"]\r\n            };\r\n            var COLUMN_INDEX_OPTIONS = {\r\n                visibleIndex: true,\r\n                groupIndex: true,\r\n                grouped: true,\r\n                sortIndex: true,\r\n                sortOrder: true\r\n            };\r\n            var setFilterOperationsAsDefaultValues = function(column) {\r\n                column.filterOperations = column.defaultFilterOperations\r\n            };\r\n            var createColumn = function(that, columnOptions, userStateColumnOptions, bandColumn) {\r\n                var commonColumnOptions = {};\r\n                if (columnOptions) {\r\n                    if (isString(columnOptions)) {\r\n                        columnOptions = {\r\n                            dataField: columnOptions\r\n                        }\r\n                    }\r\n                    that.setName(columnOptions);\r\n                    var result = {};\r\n                    if (columnOptions.command) {\r\n                        result = deepExtendArraySafe(commonColumnOptions, columnOptions)\r\n                    } else {\r\n                        commonColumnOptions = that.getCommonSettings(columnOptions);\r\n                        if (userStateColumnOptions && userStateColumnOptions.name && userStateColumnOptions.dataField) {\r\n                            columnOptions = extend({}, columnOptions, {\r\n                                dataField: userStateColumnOptions.dataField\r\n                            })\r\n                        }\r\n                        var calculatedColumnOptions = that._createCalculatedColumnOptions(columnOptions, bandColumn);\r\n                        if (!columnOptions.type) {\r\n                            result = {\r\n                                headerId: \"dx-col-\".concat(globalColumnId++)\r\n                            }\r\n                        }\r\n                        result = deepExtendArraySafe(result, DEFAULT_COLUMN_OPTIONS);\r\n                        deepExtendArraySafe(result, commonColumnOptions);\r\n                        deepExtendArraySafe(result, calculatedColumnOptions);\r\n                        deepExtendArraySafe(result, columnOptions);\r\n                        deepExtendArraySafe(result, {\r\n                            selector: null\r\n                        })\r\n                    }\r\n                    if (columnOptions.filterOperations === columnOptions.defaultFilterOperations) {\r\n                        setFilterOperationsAsDefaultValues(result)\r\n                    }\r\n                    return result\r\n                }\r\n            };\r\n            var createColumnsFromOptions = function createColumnsFromOptions(that, columnsOptions, bandColumn) {\r\n                var result = [];\r\n                if (columnsOptions) {\r\n                    each(columnsOptions, (function(index, columnOptions) {\r\n                        var userStateColumnOptions = that._columnsUserState && checkUserStateColumn(columnOptions, that._columnsUserState[index]) && that._columnsUserState[index];\r\n                        var column = createColumn(that, columnOptions, userStateColumnOptions, bandColumn);\r\n                        if (column) {\r\n                            if (bandColumn) {\r\n                                column.ownerBand = bandColumn\r\n                            }\r\n                            result.push(column);\r\n                            if (column.columns) {\r\n                                result = result.concat(createColumnsFromOptions(that, column.columns, column));\r\n                                delete column.columns;\r\n                                column.hasColumns = true\r\n                            }\r\n                        }\r\n                    }))\r\n                }\r\n                return result\r\n            };\r\n            var getParentBandColumns = function(columnIndex, columnParentByIndex) {\r\n                var result = [];\r\n                var parent = columnParentByIndex[columnIndex];\r\n                while (parent) {\r\n                    result.unshift(parent);\r\n                    columnIndex = parent.index;\r\n                    parent = columnParentByIndex[columnIndex]\r\n                }\r\n                return result\r\n            };\r\n            var _getChildrenByBandColumn = function(columnIndex, columnChildrenByIndex, recursive) {\r\n                var result = [];\r\n                var children = columnChildrenByIndex[columnIndex];\r\n                if (children) {\r\n                    for (var i = 0; i < children.length; i++) {\r\n                        var column = children[i];\r\n                        if (!isDefined(column.groupIndex) || column.showWhenGrouped) {\r\n                            result.push(column);\r\n                            if (recursive && column.isBand) {\r\n                                result = result.concat(_getChildrenByBandColumn(column.index, columnChildrenByIndex, recursive))\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return result\r\n            };\r\n            var getColumnFullPath = function(that, column) {\r\n                var result = [];\r\n                var columns;\r\n                var bandColumnsCache = that.getBandColumnsCache();\r\n                var callbackFilter = function(item) {\r\n                    return item.ownerBand === column.ownerBand\r\n                };\r\n                if (bandColumnsCache.isPlain) {\r\n                    var columnIndex = that._columns.indexOf(column);\r\n                    if (columnIndex >= 0) {\r\n                        result = [\"columns[\".concat(columnIndex, \"]\")]\r\n                    }\r\n                } else {\r\n                    columns = that._columns.filter(callbackFilter);\r\n                    while (columns.length && -1 !== columns.indexOf(column)) {\r\n                        result.unshift(\"columns[\".concat(columns.indexOf(column), \"]\"));\r\n                        column = bandColumnsCache.columnParentByIndex[column.index];\r\n                        columns = column ? that._columns.filter(callbackFilter) : []\r\n                    }\r\n                }\r\n                return result.join(\".\")\r\n            };\r\n            var calculateColspan = function calculateColspan(that, columnID) {\r\n                var colspan = 0;\r\n                var columns = that.getChildrenByBandColumn(columnID, true);\r\n                each(columns, (function(_, column) {\r\n                    if (column.isBand) {\r\n                        column.colspan = column.colspan || calculateColspan(that, column.index);\r\n                        colspan += column.colspan || 1\r\n                    } else {\r\n                        colspan += 1\r\n                    }\r\n                }));\r\n                return colspan\r\n            };\r\n            var getValueDataType = function(value) {\r\n                var dataType = type(value);\r\n                if (\"string\" !== dataType && \"boolean\" !== dataType && \"number\" !== dataType && \"date\" !== dataType && \"object\" !== dataType) {\r\n                    dataType = void 0\r\n                }\r\n                return dataType\r\n            };\r\n            var getSerializationFormat = function(dataType, value) {\r\n                switch (dataType) {\r\n                    case \"date\":\r\n                    case \"datetime\":\r\n                        return dateSerialization.getDateSerializationFormat(value);\r\n                    case \"number\":\r\n                        if (isString(value)) {\r\n                            return \"string\"\r\n                        }\r\n                        if (isNumeric(value)) {\r\n                            return null\r\n                        }\r\n                }\r\n            };\r\n            var updateSerializers = function(options, dataType) {\r\n                if (!options.deserializeValue) {\r\n                    if (gridCoreUtils.isDateType(dataType)) {\r\n                        options.deserializeValue = function(value) {\r\n                            return dateSerialization.deserializeDate(value)\r\n                        };\r\n                        options.serializeValue = function(value) {\r\n                            return isString(value) ? value : dateSerialization.serializeDate(value, this.serializationFormat)\r\n                        }\r\n                    }\r\n                    if (\"number\" === dataType) {\r\n                        options.deserializeValue = function(value) {\r\n                            var parsedValue = parseFloat(value);\r\n                            return isNaN(parsedValue) ? value : parsedValue\r\n                        };\r\n                        options.serializeValue = function(value, target) {\r\n                            if (\"filter\" === target) {\r\n                                return value\r\n                            }\r\n                            return isDefined(value) && \"string\" === this.serializationFormat ? value.toString() : value\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            var customizeTextForBooleanDataType = function(e) {\r\n                if (true === e.value) {\r\n                    return this.trueText || \"true\"\r\n                } else if (false === e.value) {\r\n                    return this.falseText || \"false\"\r\n                } else {\r\n                    return e.valueText || \"\"\r\n                }\r\n            };\r\n            var getCustomizeTextByDataType = function(dataType) {\r\n                if (\"boolean\" === dataType) {\r\n                    return customizeTextForBooleanDataType\r\n                }\r\n            };\r\n            var updateColumnIndexes = function(that) {\r\n                each(that._columns, (function(index, column) {\r\n                    column.index = index\r\n                }));\r\n                each(that._columns, (function(index, column) {\r\n                    if (isObject(column.ownerBand)) {\r\n                        column.ownerBand = column.ownerBand.index\r\n                    }\r\n                }));\r\n                each(that._commandColumns, (function(index, column) {\r\n                    column.index = -(index + 1)\r\n                }))\r\n            };\r\n            var updateColumnGroupIndexes = function(that, currentColumn) {\r\n                normalizeIndexes(that._columns, \"groupIndex\", currentColumn, (function(column) {\r\n                    var grouped = column.grouped;\r\n                    delete column.grouped;\r\n                    return grouped\r\n                }))\r\n            };\r\n            var getColumnIndexByVisibleIndex = function(that, visibleIndex, location) {\r\n                var rowIndex = isObject(visibleIndex) ? visibleIndex.rowIndex : null;\r\n                var columns = \"group\" === location ? that.getGroupColumns() : \"columnChooser\" === location ? that.getChooserColumns() : that.getVisibleColumns(rowIndex);\r\n                var column;\r\n                visibleIndex = isObject(visibleIndex) ? visibleIndex.columnIndex : visibleIndex;\r\n                column = columns[visibleIndex];\r\n                if (column && column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                    column = that._columns.filter(col => column.type === col.type)[0] || column\r\n                }\r\n                return column && isDefined(column.index) ? column.index : -1\r\n            };\r\n\r\n            function checkUserStateColumn(column, userStateColumn) {\r\n                return column && userStateColumn && userStateColumn.name === (column.name || column.dataField) && (userStateColumn.dataField === column.dataField || column.name)\r\n            }\r\n            var applyUserState = function(that) {\r\n                var columnsUserState = that._columnsUserState;\r\n                var ignoreColumnOptionNames = that._ignoreColumnOptionNames || [];\r\n                var columns = that._columns;\r\n                var columnCountById = {};\r\n                var resultColumns = [];\r\n                var allColumnsHaveState = true;\r\n                var userStateColumnIndexes = [];\r\n                var column;\r\n                var userStateColumnIndex;\r\n                var i;\r\n\r\n                function applyFieldsState(column, userStateColumn) {\r\n                    if (!userStateColumn) {\r\n                        return\r\n                    }\r\n                    for (var index = 0; index < USER_STATE_FIELD_NAMES.length; index++) {\r\n                        var fieldName = USER_STATE_FIELD_NAMES[index];\r\n                        if (inArray(fieldName, ignoreColumnOptionNames) >= 0) {\r\n                            continue\r\n                        }\r\n                        if (\"dataType\" === fieldName) {\r\n                            column[fieldName] = column[fieldName] || userStateColumn[fieldName]\r\n                        } else if (inArray(fieldName, USER_STATE_FIELD_NAMES_15_1) >= 0) {\r\n                            if (fieldName in userStateColumn) {\r\n                                column[fieldName] = userStateColumn[fieldName]\r\n                            }\r\n                        } else {\r\n                            if (\"selectedFilterOperation\" === fieldName && userStateColumn[fieldName]) {\r\n                                column.defaultSelectedFilterOperation = column[fieldName] || null\r\n                            }\r\n                            column[fieldName] = userStateColumn[fieldName]\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function findUserStateColumn(columnsUserState, column) {\r\n                    var id = column.name || column.dataField;\r\n                    var count = columnCountById[id] || 0;\r\n                    for (var j = 0; j < columnsUserState.length; j++) {\r\n                        if (checkUserStateColumn(column, columnsUserState[j])) {\r\n                            if (count) {\r\n                                count--\r\n                            } else {\r\n                                columnCountById[id] = columnCountById[id] || 0;\r\n                                columnCountById[id]++;\r\n                                return j\r\n                            }\r\n                        }\r\n                    }\r\n                    return -1\r\n                }\r\n                if (columnsUserState) {\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        userStateColumnIndex = findUserStateColumn(columnsUserState, columns[i]);\r\n                        allColumnsHaveState = allColumnsHaveState && userStateColumnIndex >= 0;\r\n                        userStateColumnIndexes.push(userStateColumnIndex)\r\n                    }\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        column = columns[i];\r\n                        userStateColumnIndex = userStateColumnIndexes[i];\r\n                        if (that._hasUserState || allColumnsHaveState) {\r\n                            applyFieldsState(column, columnsUserState[userStateColumnIndex])\r\n                        }\r\n                        if (userStateColumnIndex >= 0 && isDefined(columnsUserState[userStateColumnIndex].initialIndex)) {\r\n                            resultColumns[userStateColumnIndex] = column\r\n                        } else {\r\n                            resultColumns.push(column)\r\n                        }\r\n                    }\r\n                    var hasAddedBands = false;\r\n                    for (i = 0; i < columnsUserState.length; i++) {\r\n                        var columnUserState = columnsUserState[i];\r\n                        if (columnUserState.added && findUserStateColumn(columns, columnUserState) < 0) {\r\n                            column = createColumn(that, columnUserState.added);\r\n                            applyFieldsState(column, columnUserState);\r\n                            resultColumns.push(column);\r\n                            if (columnUserState.added.columns) {\r\n                                hasAddedBands = true\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasAddedBands) {\r\n                        updateColumnIndexes(that);\r\n                        resultColumns = createColumnsFromOptions(that, resultColumns)\r\n                    }\r\n                    assignColumns(that, resultColumns)\r\n                }\r\n            };\r\n            var updateIndexes = function(that, column) {\r\n                updateColumnIndexes(that);\r\n                updateColumnGroupIndexes(that, column);\r\n                ! function(that, currentColumn) {\r\n                    each(that._columns, (function(index, column) {\r\n                        if (isDefined(column.sortIndex) && !isSortOrderValid(column.sortOrder)) {\r\n                            delete column.sortIndex\r\n                        }\r\n                    }));\r\n                    normalizeIndexes(that._columns, \"sortIndex\", currentColumn, (function(column) {\r\n                        return !isDefined(column.groupIndex) && isSortOrderValid(column.sortOrder)\r\n                    }))\r\n                }(that, column);\r\n                resetBandColumnsCache(that);\r\n                ! function(that, currentColumn) {\r\n                    var key;\r\n                    var column;\r\n                    var bandColumns = {};\r\n                    var result = [];\r\n                    var bandColumnsCache = that.getBandColumnsCache();\r\n                    var columns = that._columns.filter(column => !column.command);\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        column = columns[i];\r\n                        var parentBandColumns = getParentBandColumns(i, bandColumnsCache.columnParentByIndex);\r\n                        if (parentBandColumns.length) {\r\n                            var bandColumnIndex = parentBandColumns[parentBandColumns.length - 1].index;\r\n                            bandColumns[bandColumnIndex] = bandColumns[bandColumnIndex] || [];\r\n                            bandColumns[bandColumnIndex].push(column)\r\n                        } else {\r\n                            result.push(column)\r\n                        }\r\n                    }\r\n                    for (key in bandColumns) {\r\n                        normalizeIndexes(bandColumns[key], \"visibleIndex\", currentColumn)\r\n                    }\r\n                    normalizeIndexes(result, \"visibleIndex\", currentColumn)\r\n                }(that, column)\r\n            };\r\n            var resetColumnsCache = function(that) {\r\n                that.resetColumnsCache()\r\n            };\r\n\r\n            function assignColumns(that, columns) {\r\n                that._columns = columns;\r\n                resetColumnsCache(that);\r\n                that.updateColumnDataTypes()\r\n            }\r\n            var updateColumnChanges = function(that, changeType, optionName, columnIndex) {\r\n                var columnChanges = that._columnChanges || {\r\n                    optionNames: {\r\n                        length: 0\r\n                    },\r\n                    changeTypes: {\r\n                        length: 0\r\n                    },\r\n                    columnIndex: columnIndex\r\n                };\r\n                optionName = optionName || \"all\";\r\n                optionName = optionName.split(\".\")[0];\r\n                var changeTypes = columnChanges.changeTypes;\r\n                if (changeType && !changeTypes[changeType]) {\r\n                    changeTypes[changeType] = true;\r\n                    changeTypes.length++\r\n                }\r\n                var optionNames = columnChanges.optionNames;\r\n                if (optionName && !optionNames[optionName]) {\r\n                    optionNames[optionName] = true;\r\n                    optionNames.length++\r\n                }\r\n                if (void 0 === columnIndex || columnIndex !== columnChanges.columnIndex) {\r\n                    delete columnChanges.columnIndex\r\n                }\r\n                that._columnChanges = columnChanges;\r\n                resetColumnsCache(that)\r\n            };\r\n            var fireColumnsChanged = function(that) {\r\n                var onColumnsChanging = that.option(\"onColumnsChanging\");\r\n                var columnChanges = that._columnChanges;\r\n                var reinitOptionNames = [\"dataField\", \"lookup\", \"dataType\", \"columns\"];\r\n                if (that.isInitialized() && !that._updateLockCount && columnChanges) {\r\n                    if (onColumnsChanging) {\r\n                        that._updateLockCount++;\r\n                        onColumnsChanging(extend({\r\n                            component: that.component\r\n                        }, columnChanges));\r\n                        that._updateLockCount--\r\n                    }\r\n                    that._columnChanges = void 0;\r\n                    if (options = columnChanges.optionNames, options && reinitOptionNames.some(name => options[name])) {\r\n                        that.reinit()\r\n                    } else {\r\n                        that.columnsChanged.fire(columnChanges)\r\n                    }\r\n                }\r\n                var options\r\n            };\r\n            var updateSortOrderWhenGrouping = function(that, column, groupIndex, prevGroupIndex) {\r\n                var columnWasGrouped = prevGroupIndex >= 0;\r\n                if (groupIndex >= 0) {\r\n                    if (!columnWasGrouped) {\r\n                        column.lastSortOrder = column.sortOrder\r\n                    }\r\n                } else {\r\n                    var sortMode = that.option(\"sorting.mode\");\r\n                    var sortOrder = column.lastSortOrder;\r\n                    if (\"single\" === sortMode) {\r\n                        var sortedByAnotherColumn = that._columns.some(col => col !== column && isDefined(col.sortIndex));\r\n                        if (sortedByAnotherColumn) {\r\n                            sortOrder = void 0\r\n                        }\r\n                    }\r\n                    column.sortOrder = sortOrder\r\n                }\r\n            };\r\n            var fireOptionChanged = function(that, options) {\r\n                var value = options.value;\r\n                var optionName = options.optionName;\r\n                var prevValue = options.prevValue;\r\n                var fullOptionName = options.fullOptionName;\r\n                var fullOptionPath = \"\".concat(fullOptionName, \".\").concat(optionName);\r\n                if (!IGNORE_COLUMN_OPTION_NAMES[optionName] && that._skipProcessingColumnsChange !== fullOptionPath) {\r\n                    that._skipProcessingColumnsChange = fullOptionPath;\r\n                    that.component._notifyOptionChanged(fullOptionPath, value, prevValue);\r\n                    that._skipProcessingColumnsChange = false\r\n                }\r\n            };\r\n            var columnOptionCore = function(that, column, optionName, value, notFireEvent) {\r\n                var optionGetter = compileGetter(optionName);\r\n                var columnIndex = column.index;\r\n                var columns;\r\n                var changeType;\r\n                var initialColumn;\r\n                if (3 === arguments.length) {\r\n                    return optionGetter(column, {\r\n                        functionsAsIs: true\r\n                    })\r\n                }\r\n                var prevValue = optionGetter(column, {\r\n                    functionsAsIs: true\r\n                });\r\n                if (prevValue !== value) {\r\n                    if (\"groupIndex\" === optionName || \"calculateGroupValue\" === optionName) {\r\n                        changeType = \"grouping\";\r\n                        updateSortOrderWhenGrouping(that, column, value, prevValue)\r\n                    } else if (\"sortIndex\" === optionName || \"sortOrder\" === optionName || \"calculateSortValue\" === optionName) {\r\n                        changeType = \"sorting\"\r\n                    } else {\r\n                        changeType = \"columns\"\r\n                    }\r\n                    var optionSetter = compileSetter(optionName);\r\n                    optionSetter(column, value, {\r\n                        functionsAsIs: true\r\n                    });\r\n                    var fullOptionName = getColumnFullPath(that, column);\r\n                    if (COLUMN_INDEX_OPTIONS[optionName]) {\r\n                        updateIndexes(that, column);\r\n                        value = optionGetter(column)\r\n                    }\r\n                    if (\"name\" === optionName || \"allowEditing\" === optionName) {\r\n                        that._checkColumns()\r\n                    }\r\n                    if (!isDefined(prevValue) && !isDefined(value) && 0 !== optionName.indexOf(\"buffer\")) {\r\n                        notFireEvent = true\r\n                    }\r\n                    if (!notFireEvent) {\r\n                        if (inArray(optionName, USER_STATE_FIELD_NAMES) < 0 && \"visibleWidth\" !== optionName) {\r\n                            columns = that.option(\"columns\");\r\n                            initialColumn = that.getColumnByPath(fullOptionName, columns);\r\n                            if (isString(initialColumn)) {\r\n                                initialColumn = columns[columnIndex] = {\r\n                                    dataField: initialColumn\r\n                                }\r\n                            }\r\n                            if (initialColumn && checkUserStateColumn(initialColumn, column)) {\r\n                                optionSetter(initialColumn, value, {\r\n                                    functionsAsIs: true\r\n                                })\r\n                            }\r\n                        }\r\n                        updateColumnChanges(that, changeType, optionName, columnIndex)\r\n                    } else {\r\n                        resetColumnsCache(that)\r\n                    }\r\n                    fullOptionName && fireOptionChanged(that, {\r\n                        fullOptionName: fullOptionName,\r\n                        optionName: optionName,\r\n                        value: value,\r\n                        prevValue: prevValue\r\n                    })\r\n                }\r\n            };\r\n\r\n            function isSortOrderValid(sortOrder) {\r\n                return \"asc\" === sortOrder || \"desc\" === sortOrder\r\n            }\r\n            var defaultSetCellValue = function(data, value) {\r\n                var path = this.dataField.split(\".\");\r\n                var dotCount = path.length - 1;\r\n                if (this.serializeValue) {\r\n                    value = this.serializeValue(value)\r\n                }\r\n                for (var i = 0; i < dotCount; i++) {\r\n                    var name = path[i];\r\n                    data = data[name] = data[name] || {}\r\n                }\r\n                data[path[dotCount]] = value\r\n            };\r\n            var isCustomCommandColumn = (that, commandColumn) => !!that._columns.filter(column => column.type === commandColumn.type).length;\r\n            var getFixedPosition = function(that, column) {\r\n                var rtlEnabled = that.option(\"rtlEnabled\");\r\n                if (column.command && !isCustomCommandColumn(that, column) || !column.fixedPosition) {\r\n                    return rtlEnabled ? \"right\" : \"left\"\r\n                }\r\n                return column.fixedPosition\r\n            };\r\n            var processExpandColumns = function(columns, expandColumns, type, columnIndex) {\r\n                var customColumnIndex;\r\n                var rowCount = this.getRowCount();\r\n                var rowspan = columns[columnIndex] && columns[columnIndex].rowspan;\r\n                var expandColumnsByType = expandColumns.filter(column => column.type === type);\r\n                columns.forEach((column, index) => {\r\n                    if (column.type === type) {\r\n                        customColumnIndex = index;\r\n                        rowspan = columns[index + 1] ? columns[index + 1].rowspan : rowCount\r\n                    }\r\n                });\r\n                if (rowspan > 1) {\r\n                    expandColumnsByType = map(expandColumnsByType, (function(expandColumn) {\r\n                        return extend({}, expandColumn, {\r\n                            rowspan: rowspan\r\n                        })\r\n                    }))\r\n                }\r\n                expandColumnsByType.unshift.apply(expandColumnsByType, isDefined(customColumnIndex) ? [customColumnIndex, 1] : [columnIndex, 0]);\r\n                columns.splice.apply(columns, expandColumnsByType);\r\n                return rowspan || 1\r\n            };\r\n            var numberToString = function(number, digitsCount) {\r\n                var str = number ? number.toString() : \"0\";\r\n                while (str.length < digitsCount) {\r\n                    str = \"0\" + str\r\n                }\r\n                return str\r\n            };\r\n            var mergeColumns = (that, columns, commandColumns, needToExtend) => {\r\n                var column;\r\n                var commandColumnIndex;\r\n                var result = columns.slice().map(column => extend({}, column));\r\n                var isColumnFixing = that._isColumnFixing();\r\n                var defaultCommandColumns = commandColumns.slice().map(column => extend({\r\n                    fixed: isColumnFixing\r\n                }, column));\r\n                var getCommandColumnIndex = column => commandColumns.reduce((result, commandColumn, index) => {\r\n                    var columnType = needToExtend && column.type === GROUP_COMMAND_COLUMN_NAME ? \"expand\" : column.type;\r\n                    return commandColumn.type === columnType || commandColumn.command === column.command ? index : result\r\n                }, -1);\r\n                var callbackFilter = commandColumn => commandColumn.command !== commandColumns[commandColumnIndex].command;\r\n                for (var i = 0; i < columns.length; i++) {\r\n                    column = columns[i];\r\n                    commandColumnIndex = column && (column.type || column.command) ? getCommandColumnIndex(column) : -1;\r\n                    if (commandColumnIndex >= 0) {\r\n                        if (needToExtend) {\r\n                            result[i] = extend({\r\n                                fixed: isColumnFixing\r\n                            }, commandColumns[commandColumnIndex], column);\r\n                            if (column.type !== GROUP_COMMAND_COLUMN_NAME) {\r\n                                defaultCommandColumns = defaultCommandColumns.filter(callbackFilter)\r\n                            }\r\n                        } else {\r\n                            var columnOptions = {\r\n                                visibleIndex: column.visibleIndex,\r\n                                index: column.index,\r\n                                headerId: column.headerId,\r\n                                allowFixing: 0 === column.groupIndex,\r\n                                allowReordering: 0 === column.groupIndex,\r\n                                groupIndex: column.groupIndex\r\n                            };\r\n                            result[i] = extend({}, column, commandColumns[commandColumnIndex], column.type === GROUP_COMMAND_COLUMN_NAME && columnOptions)\r\n                        }\r\n                    }\r\n                }\r\n                if (columns.length && needToExtend && defaultCommandColumns.length) {\r\n                    result = result.concat(defaultCommandColumns)\r\n                }\r\n                return result\r\n            };\r\n            var isColumnFixed = (that, column) => isDefined(column.fixed) || !column.type ? column.fixed : that._isColumnFixing();\r\n            var resetBandColumnsCache = that => {\r\n                that._bandColumnsCache = void 0\r\n            };\r\n            var findColumn = (columns, identifier) => {\r\n                var identifierOptionName = isString(identifier) && identifier.substr(0, identifier.indexOf(\":\"));\r\n                var column;\r\n                if (void 0 === identifier) {\r\n                    return\r\n                }\r\n                if (identifierOptionName) {\r\n                    identifier = identifier.substr(identifierOptionName.length + 1)\r\n                }\r\n                if (identifierOptionName) {\r\n                    column = columns.filter(column => \"\" + column[identifierOptionName] === identifier)[0]\r\n                } else {\r\n                    [\"index\", \"name\", \"dataField\", \"caption\"].some(optionName => {\r\n                        column = columns.filter(column => column[optionName] === identifier)[0];\r\n                        return !!column\r\n                    })\r\n                }\r\n                return column\r\n            };\r\n            return {\r\n                _getExpandColumnOptions: function() {\r\n                    return {\r\n                        type: \"expand\",\r\n                        command: \"expand\",\r\n                        width: \"auto\",\r\n                        cssClass: COMMAND_EXPAND_CLASS,\r\n                        allowEditing: false,\r\n                        allowGrouping: false,\r\n                        allowSorting: false,\r\n                        allowResizing: false,\r\n                        allowReordering: false,\r\n                        allowHiding: false\r\n                    }\r\n                },\r\n                _getFirstItems: function(dataSource) {\r\n                    var groupsCount;\r\n                    var items = [];\r\n                    if (dataSource && dataSource.items().length > 0) {\r\n                        groupsCount = gridCoreUtils.normalizeSortingInfo(dataSource.group()).length;\r\n                        items = function getFirstItemsCore(items, groupsCount) {\r\n                            if (!items || !groupsCount) {\r\n                                return items\r\n                            }\r\n                            for (var i = 0; i < items.length; i++) {\r\n                                var childItems = getFirstItemsCore(items[i].items || items[i].collapsedItems, groupsCount - 1);\r\n                                if (childItems && childItems.length) {\r\n                                    return childItems\r\n                                }\r\n                            }\r\n                        }(dataSource.items(), groupsCount) || []\r\n                    }\r\n                    return items\r\n                },\r\n                _endUpdateCore: function() {\r\n                    !this._skipProcessingColumnsChange && fireColumnsChanged(this)\r\n                },\r\n                init: function() {\r\n                    var columns = this.option(\"columns\");\r\n                    this._commandColumns = this._commandColumns || [];\r\n                    this._columns = this._columns || [];\r\n                    this._isColumnsFromOptions = !!columns;\r\n                    if (this._isColumnsFromOptions) {\r\n                        assignColumns(this, columns ? createColumnsFromOptions(this, columns) : []);\r\n                        applyUserState(this)\r\n                    } else {\r\n                        assignColumns(this, this._columnsUserState ? createColumnsFromOptions(this, this._columnsUserState) : this._columns)\r\n                    }! function(that) {\r\n                        var options = that._getExpandColumnOptions();\r\n                        that.addCommandColumn(options)\r\n                    }(this);\r\n                    if (this._dataSourceApplied) {\r\n                        this.applyDataSource(this._dataSource, true)\r\n                    } else {\r\n                        updateIndexes(this)\r\n                    }\r\n                    this._checkColumns()\r\n                },\r\n                callbackNames: function() {\r\n                    return [\"columnsChanged\"]\r\n                },\r\n                getColumnByPath: function(path, columns) {\r\n                    var column;\r\n                    var columnIndexes = [];\r\n                    path.replace(regExp, (function(_, columnIndex) {\r\n                        columnIndexes.push(parseInt(columnIndex));\r\n                        return \"\"\r\n                    }));\r\n                    if (columnIndexes.length) {\r\n                        if (columns) {\r\n                            column = columnIndexes.reduce((function(column, index) {\r\n                                return column && column.columns && column.columns[index]\r\n                            }), {\r\n                                columns: columns\r\n                            })\r\n                        } else {\r\n                            column = function(that, columnIndexes) {\r\n                                var result;\r\n                                var columns;\r\n                                var bandColumnsCache = that.getBandColumnsCache();\r\n                                var callbackFilter = function(column) {\r\n                                    var ownerBand = result ? result.index : void 0;\r\n                                    return column.ownerBand === ownerBand\r\n                                };\r\n                                if (bandColumnsCache.isPlain) {\r\n                                    result = that._columns[columnIndexes[0]]\r\n                                } else {\r\n                                    columns = that._columns.filter(callbackFilter);\r\n                                    for (var i = 0; i < columnIndexes.length; i++) {\r\n                                        result = columns[columnIndexes[i]];\r\n                                        if (result) {\r\n                                            columns = that._columns.filter(callbackFilter)\r\n                                        }\r\n                                    }\r\n                                }\r\n                                return result\r\n                            }(this, columnIndexes)\r\n                        }\r\n                    }\r\n                    return column\r\n                },\r\n                optionChanged: function(args) {\r\n                    var needUpdateRequireResize;\r\n                    switch (args.name) {\r\n                        case \"adaptColumnWidthByRatio\":\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"dataSource\":\r\n                            if (args.value !== args.previousValue && !this.option(\"columns\") && (!Array.isArray(args.value) || !Array.isArray(args.previousValue))) {\r\n                                this._columns = []\r\n                            }\r\n                            break;\r\n                        case \"columns\":\r\n                            needUpdateRequireResize = this._skipProcessingColumnsChange;\r\n                            args.handled = true;\r\n                            if (!this._skipProcessingColumnsChange) {\r\n                                if (args.name === args.fullName) {\r\n                                    this._columnsUserState = null;\r\n                                    this._ignoreColumnOptionNames = null;\r\n                                    this.init()\r\n                                } else {\r\n                                    this._columnOptionChanged(args);\r\n                                    needUpdateRequireResize = true\r\n                                }\r\n                            }\r\n                            if (needUpdateRequireResize) {\r\n                                this._updateRequireResize(args)\r\n                            }\r\n                            break;\r\n                        case \"commonColumnSettings\":\r\n                        case \"columnAutoWidth\":\r\n                        case \"allowColumnResizing\":\r\n                        case \"allowColumnReordering\":\r\n                        case \"columnFixing\":\r\n                        case \"grouping\":\r\n                        case \"groupPanel\":\r\n                        case \"regenerateColumnsByVisibleItems\":\r\n                        case \"customizeColumns\":\r\n                        case \"columnHidingEnabled\":\r\n                        case \"dateSerializationFormat\":\r\n                        case \"columnResizingMode\":\r\n                        case \"columnMinWidth\":\r\n                        case \"columnWidth\":\r\n                            args.handled = true;\r\n                            var ignoreColumnOptionNames = \"columnWidth\" === args.fullName && [\"width\"];\r\n                            this.reinit(ignoreColumnOptionNames);\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            this.reinit();\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                _columnOptionChanged: function(args) {\r\n                    var columnOptionValue = {};\r\n                    var column = this.getColumnByPath(args.fullName);\r\n                    var columnOptionName = args.fullName.replace(regExp, \"\");\r\n                    if (column) {\r\n                        if (columnOptionName) {\r\n                            columnOptionValue[columnOptionName] = args.value\r\n                        } else {\r\n                            columnOptionValue = args.value\r\n                        }\r\n                        this._skipProcessingColumnsChange = args.fullName;\r\n                        this.columnOption(column.index, columnOptionValue);\r\n                        this._skipProcessingColumnsChange = false\r\n                    }\r\n                },\r\n                _updateRequireResize: function(args) {\r\n                    var component = this.component;\r\n                    if (\"width\" === args.fullName.replace(regExp, \"\") && component._updateLockCount) {\r\n                        component._requireResize = true\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"addColumn\", \"deleteColumn\", \"columnOption\", \"columnCount\", \"clearSorting\", \"clearGrouping\", \"getVisibleColumns\", \"getVisibleColumnIndex\"]\r\n                },\r\n                applyDataSource: function(dataSource, forceApplying) {\r\n                    var isDataSourceLoaded = dataSource && dataSource.isLoaded();\r\n                    this._dataSource = dataSource;\r\n                    if (!this._dataSourceApplied || 0 === this._dataSourceColumnsCount || forceApplying || this.option(\"regenerateColumnsByVisibleItems\")) {\r\n                        if (isDataSourceLoaded) {\r\n                            if (!this._isColumnsFromOptions) {\r\n                                var columnsFromDataSource = function(that, dataSource) {\r\n                                    var firstItems = that._getFirstItems(dataSource);\r\n                                    var fieldName;\r\n                                    var processedFields = {};\r\n                                    var result = [];\r\n                                    for (var i = 0; i < firstItems.length; i++) {\r\n                                        if (firstItems[i]) {\r\n                                            for (fieldName in firstItems[i]) {\r\n                                                if (!isFunction(firstItems[i][fieldName]) || variableWrapper.isWrapped(firstItems[i][fieldName])) {\r\n                                                    processedFields[fieldName] = true\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    for (fieldName in processedFields) {\r\n                                        if (0 !== fieldName.indexOf(\"__\")) {\r\n                                            var column = createColumn(that, fieldName);\r\n                                            result.push(column)\r\n                                        }\r\n                                    }\r\n                                    return result\r\n                                }(this, dataSource);\r\n                                if (columnsFromDataSource.length) {\r\n                                    assignColumns(this, columnsFromDataSource);\r\n                                    this._dataSourceColumnsCount = this._columns.length;\r\n                                    applyUserState(this)\r\n                                }\r\n                            }\r\n                            return this.updateColumns(dataSource, forceApplying)\r\n                        } else {\r\n                            this._dataSourceApplied = false;\r\n                            updateIndexes(this)\r\n                        }\r\n                    } else if (isDataSourceLoaded && !this.isAllDataTypesDefined(true) && this.updateColumnDataTypes(dataSource)) {\r\n                        updateColumnChanges(this, \"columns\");\r\n                        fireColumnsChanged(this);\r\n                        return (new Deferred).reject().promise()\r\n                    }\r\n                },\r\n                reset: function() {\r\n                    this._dataSource = null;\r\n                    this._dataSourceApplied = false;\r\n                    this._dataSourceColumnsCount = void 0;\r\n                    this.reinit()\r\n                },\r\n                resetColumnsCache: function() {\r\n                    this._visibleColumns = void 0;\r\n                    this._fixedColumns = void 0;\r\n                    this._rowCount = void 0;\r\n                    resetBandColumnsCache(this)\r\n                },\r\n                reinit: function(ignoreColumnOptionNames) {\r\n                    this._columnsUserState = this.getUserState();\r\n                    this._ignoreColumnOptionNames = ignoreColumnOptionNames || null;\r\n                    this.init();\r\n                    if (ignoreColumnOptionNames) {\r\n                        this._ignoreColumnOptionNames = null\r\n                    }\r\n                },\r\n                isInitialized: function() {\r\n                    return !!this._columns.length || !!this.option(\"columns\")\r\n                },\r\n                isDataSourceApplied: function() {\r\n                    return this._dataSourceApplied\r\n                },\r\n                getCommonSettings: function(column) {\r\n                    var commonColumnSettings = (!column || !column.type) && this.option(\"commonColumnSettings\") || {};\r\n                    var groupingOptions = this.option(\"grouping\") || {};\r\n                    var groupPanelOptions = this.option(\"groupPanel\") || {};\r\n                    return extend({\r\n                        allowFixing: this.option(\"columnFixing.enabled\"),\r\n                        allowResizing: this.option(\"allowColumnResizing\") || void 0,\r\n                        allowReordering: this.option(\"allowColumnReordering\"),\r\n                        minWidth: this.option(\"columnMinWidth\"),\r\n                        width: this.option(\"columnWidth\"),\r\n                        autoExpandGroup: groupingOptions.autoExpandAll,\r\n                        allowCollapsing: groupingOptions.allowCollapsing,\r\n                        allowGrouping: groupPanelOptions.allowColumnDragging && groupPanelOptions.visible || groupingOptions.contextMenuEnabled\r\n                    }, commonColumnSettings)\r\n                },\r\n                isColumnOptionUsed: function(optionName) {\r\n                    for (var i = 0; i < this._columns.length; i++) {\r\n                        if (this._columns[i][optionName]) {\r\n                            return true\r\n                        }\r\n                    }\r\n                },\r\n                isAllDataTypesDefined: function(checkSerializers) {\r\n                    var columns = this._columns;\r\n                    if (!columns.length) {\r\n                        return false\r\n                    }\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        if (!columns[i].dataField && columns[i].calculateCellValue === columns[i].defaultCalculateCellValue) {\r\n                            continue\r\n                        }\r\n                        if (!columns[i].dataType || checkSerializers && columns[i].deserializeValue && void 0 === columns[i].serializationFormat) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                getColumns: function() {\r\n                    return this._columns\r\n                },\r\n                isBandColumnsUsed: function() {\r\n                    return this.getColumns().some((function(column) {\r\n                        return column.isBand\r\n                    }))\r\n                },\r\n                getGroupColumns: function() {\r\n                    var result = [];\r\n                    each(this._columns, (function() {\r\n                        if (isDefined(this.groupIndex)) {\r\n                            result[this.groupIndex] = this\r\n                        }\r\n                    }));\r\n                    return result\r\n                },\r\n                getVisibleColumns: function(rowIndex) {\r\n                    this._visibleColumns = this._visibleColumns || this._getVisibleColumnsCore();\r\n                    rowIndex = isDefined(rowIndex) ? rowIndex : this._visibleColumns.length - 1;\r\n                    return this._visibleColumns[rowIndex] || []\r\n                },\r\n                getFixedColumns: function(rowIndex) {\r\n                    this._fixedColumns = this._fixedColumns || this._getFixedColumnsCore();\r\n                    rowIndex = isDefined(rowIndex) ? rowIndex : this._fixedColumns.length - 1;\r\n                    return this._fixedColumns[rowIndex] || []\r\n                },\r\n                getFilteringColumns: function() {\r\n                    return this.getColumns().filter(item => (item.dataField || item.name) && (item.allowFiltering || item.allowHeaderFiltering)).map(item => {\r\n                        var field = extend(true, {}, item);\r\n                        if (!isDefined(field.dataField)) {\r\n                            field.dataField = field.name\r\n                        }\r\n                        field.filterOperations = item.filterOperations !== item.defaultFilterOperations ? field.filterOperations : null;\r\n                        return field\r\n                    })\r\n                },\r\n                getColumnIndexOffset: function() {\r\n                    return 0\r\n                },\r\n                _getFixedColumnsCore: function() {\r\n                    var result = [];\r\n                    var rowCount = this.getRowCount();\r\n                    var isColumnFixing = this._isColumnFixing();\r\n                    var transparentColumn = {\r\n                        command: \"transparent\"\r\n                    };\r\n                    var transparentColspan = 0;\r\n                    var notFixedColumnCount;\r\n                    var transparentColumnIndex;\r\n                    var lastFixedPosition;\r\n                    if (isColumnFixing) {\r\n                        for (var i = 0; i <= rowCount; i++) {\r\n                            notFixedColumnCount = 0;\r\n                            lastFixedPosition = null;\r\n                            transparentColumnIndex = null;\r\n                            var visibleColumns = this.getVisibleColumns(i, true);\r\n                            for (var j = 0; j < visibleColumns.length; j++) {\r\n                                var prevColumn = visibleColumns[j - 1];\r\n                                var column = visibleColumns[j];\r\n                                if (!column.fixed) {\r\n                                    if (0 === i) {\r\n                                        if (column.isBand && column.colspan) {\r\n                                            transparentColspan += column.colspan\r\n                                        } else {\r\n                                            transparentColspan++\r\n                                        }\r\n                                    }\r\n                                    notFixedColumnCount++;\r\n                                    if (!isDefined(transparentColumnIndex)) {\r\n                                        transparentColumnIndex = j\r\n                                    }\r\n                                } else if (prevColumn && prevColumn.fixed && getFixedPosition(this, prevColumn) !== getFixedPosition(this, column)) {\r\n                                    if (!isDefined(transparentColumnIndex)) {\r\n                                        transparentColumnIndex = j\r\n                                    }\r\n                                } else {\r\n                                    lastFixedPosition = column.fixedPosition\r\n                                }\r\n                            }\r\n                            if (0 === i && (0 === notFixedColumnCount || notFixedColumnCount >= visibleColumns.length)) {\r\n                                return []\r\n                            }\r\n                            if (!isDefined(transparentColumnIndex)) {\r\n                                transparentColumnIndex = \"right\" === lastFixedPosition ? 0 : visibleColumns.length\r\n                            }\r\n                            result[i] = visibleColumns.slice(0);\r\n                            if (!transparentColumn.colspan) {\r\n                                transparentColumn.colspan = transparentColspan\r\n                            }\r\n                            result[i].splice(transparentColumnIndex, notFixedColumnCount, transparentColumn)\r\n                        }\r\n                    }\r\n                    return result.map(columns => columns.map(column => {\r\n                        var newColumn = _extends({}, column);\r\n                        if (newColumn.headerId) {\r\n                            newColumn.headerId += \"-fixed\"\r\n                        }\r\n                        return newColumn\r\n                    }))\r\n                },\r\n                _isColumnFixing: function() {\r\n                    var isColumnFixing = this.option(\"columnFixing.enabled\");\r\n                    !isColumnFixing && each(this._columns, (function(_, column) {\r\n                        if (column.fixed) {\r\n                            isColumnFixing = true;\r\n                            return false\r\n                        }\r\n                    }));\r\n                    return isColumnFixing\r\n                },\r\n                _getExpandColumnsCore: function() {\r\n                    return this.getGroupColumns()\r\n                },\r\n                getExpandColumns: function() {\r\n                    var expandColumns = this._getExpandColumnsCore();\r\n                    var expandColumn;\r\n                    var firstGroupColumn = expandColumns.filter(column => 0 === column.groupIndex)[0];\r\n                    var isFixedFirstGroupColumn = firstGroupColumn && firstGroupColumn.fixed;\r\n                    var isColumnFixing = this._isColumnFixing();\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (expandColumns.length) {\r\n                        expandColumn = this.columnOption(\"command:expand\")\r\n                    }\r\n                    expandColumns = map(expandColumns, column => extend({}, column, {\r\n                        visibleWidth: null,\r\n                        minWidth: null,\r\n                        cellTemplate: !isDefined(column.groupIndex) ? column.cellTemplate : null,\r\n                        headerCellTemplate: null,\r\n                        fixed: !isDefined(column.groupIndex) || !isFixedFirstGroupColumn ? isColumnFixing : true,\r\n                        fixedPosition: rtlEnabled ? \"right\" : \"left\"\r\n                    }, expandColumn, {\r\n                        index: column.index,\r\n                        type: column.type || GROUP_COMMAND_COLUMN_NAME\r\n                    }));\r\n                    return expandColumns\r\n                },\r\n                getBandColumnsCache: function() {\r\n                    if (!this._bandColumnsCache) {\r\n                        var columns = this._columns;\r\n                        var columnChildrenByIndex = {};\r\n                        var columnParentByIndex = {};\r\n                        var isPlain = true;\r\n                        columns.forEach((function(column) {\r\n                            var ownerBand = column.ownerBand;\r\n                            var parentIndex = isObject(ownerBand) ? ownerBand.index : ownerBand;\r\n                            var parent = columns[parentIndex];\r\n                            if (column.hasColumns) {\r\n                                isPlain = false\r\n                            }\r\n                            if (column.colspan) {\r\n                                column.colspan = void 0\r\n                            }\r\n                            if (column.rowspan) {\r\n                                column.rowspan = void 0\r\n                            }\r\n                            if (parent) {\r\n                                columnParentByIndex[column.index] = parent\r\n                            } else {\r\n                                parentIndex = -1\r\n                            }\r\n                            columnChildrenByIndex[parentIndex] = columnChildrenByIndex[parentIndex] || [];\r\n                            columnChildrenByIndex[parentIndex].push(column)\r\n                        }));\r\n                        this._bandColumnsCache = {\r\n                            isPlain: isPlain,\r\n                            columnChildrenByIndex: columnChildrenByIndex,\r\n                            columnParentByIndex: columnParentByIndex\r\n                        }\r\n                    }\r\n                    return this._bandColumnsCache\r\n                },\r\n                _isColumnVisible: function(column) {\r\n                    return column.visible && this.isParentColumnVisible(column.index)\r\n                },\r\n                _getVisibleColumnsCore: function() {\r\n                    var that = this;\r\n                    var i;\r\n                    var result = [];\r\n                    var rowspanGroupColumns = 0;\r\n                    var rowspanExpandColumns = 0;\r\n                    var rowCount = that.getRowCount();\r\n                    var positiveIndexedColumns = [];\r\n                    var negativeIndexedColumns = [];\r\n                    var notGroupedColumnsCount = 0;\r\n                    var isFixedToEnd;\r\n                    var rtlEnabled = that.option(\"rtlEnabled\");\r\n                    var bandColumnsCache = that.getBandColumnsCache();\r\n                    var expandColumns = mergeColumns(that, that.getExpandColumns(), that._columns);\r\n                    var columns = mergeColumns(that, that._columns, that._commandColumns, true);\r\n                    var columnDigitsCount = function(number) {\r\n                        var i;\r\n                        for (i = 0; number > 1; i++) {\r\n                            number /= 10\r\n                        }\r\n                        return i\r\n                    }(columns.length);\r\n                    ! function(that, columns, bandColumnsCache) {\r\n                        var rowspan;\r\n                        for (var i = 0; i < columns.length; i++) {\r\n                            var column = columns[i];\r\n                            if (column.visible || column.command) {\r\n                                if (column.isBand) {\r\n                                    column.colspan = column.colspan || calculateColspan(that, column.index)\r\n                                }\r\n                                if (!column.isBand || !column.colspan) {\r\n                                    rowspan = that.getRowCount();\r\n                                    if (!column.command && (!isDefined(column.groupIndex) || column.showWhenGrouped)) {\r\n                                        rowspan -= getParentBandColumns(column.index, bandColumnsCache.columnParentByIndex).length\r\n                                    }\r\n                                    if (rowspan > 1) {\r\n                                        column.rowspan = rowspan\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }(that, columns, bandColumnsCache);\r\n                    for (i = 0; i < rowCount; i++) {\r\n                        result[i] = [];\r\n                        negativeIndexedColumns[i] = [{}];\r\n                        positiveIndexedColumns[i] = [{}, {}, {}]\r\n                    }\r\n                    each(columns, (function() {\r\n                        var visibleIndex = this.visibleIndex;\r\n                        var indexedColumns;\r\n                        var parentBandColumns = getParentBandColumns(this.index, bandColumnsCache.columnParentByIndex);\r\n                        var visible = that._isColumnVisible(this);\r\n                        if (visible && (!isDefined(this.groupIndex) || this.showWhenGrouped)) {\r\n                            var rowIndex = parentBandColumns.length;\r\n                            if (visibleIndex < 0) {\r\n                                visibleIndex = -visibleIndex;\r\n                                indexedColumns = negativeIndexedColumns[rowIndex]\r\n                            } else {\r\n                                this.fixed = parentBandColumns.length ? parentBandColumns[0].fixed : this.fixed;\r\n                                this.fixedPosition = parentBandColumns.length ? parentBandColumns[0].fixedPosition : this.fixedPosition;\r\n                                if (this.fixed) {\r\n                                    isFixedToEnd = \"right\" === this.fixedPosition;\r\n                                    if (rtlEnabled && (!this.command || isCustomCommandColumn(that, this))) {\r\n                                        isFixedToEnd = !isFixedToEnd\r\n                                    }\r\n                                    if (isFixedToEnd) {\r\n                                        indexedColumns = positiveIndexedColumns[rowIndex][2]\r\n                                    } else {\r\n                                        indexedColumns = positiveIndexedColumns[rowIndex][0]\r\n                                    }\r\n                                } else {\r\n                                    indexedColumns = positiveIndexedColumns[rowIndex][1]\r\n                                }\r\n                            }\r\n                            if (parentBandColumns.length) {\r\n                                visibleIndex = numberToString(visibleIndex, columnDigitsCount);\r\n                                for (i = parentBandColumns.length - 1; i >= 0; i--) {\r\n                                    visibleIndex = numberToString(parentBandColumns[i].visibleIndex, columnDigitsCount) + visibleIndex\r\n                                }\r\n                            }\r\n                            indexedColumns[visibleIndex] = indexedColumns[visibleIndex] || [];\r\n                            indexedColumns[visibleIndex].push(this);\r\n                            notGroupedColumnsCount++\r\n                        }\r\n                    }));\r\n                    each(result, (function(rowIndex) {\r\n                        orderEach(negativeIndexedColumns[rowIndex], (function(_, columns) {\r\n                            result[rowIndex].unshift.apply(result[rowIndex], columns)\r\n                        }));\r\n                        var firstPositiveIndexColumn = result[rowIndex].length;\r\n                        each(positiveIndexedColumns[rowIndex], (function(index, columnsByFixing) {\r\n                            orderEach(columnsByFixing, (function(_, columnsByVisibleIndex) {\r\n                                result[rowIndex].push.apply(result[rowIndex], columnsByVisibleIndex)\r\n                            }))\r\n                        }));\r\n                        if (rowspanExpandColumns < rowIndex + 1) {\r\n                            rowspanExpandColumns += processExpandColumns.call(that, result[rowIndex], expandColumns, \"detailExpand\", firstPositiveIndexColumn)\r\n                        }\r\n                        if (rowspanGroupColumns < rowIndex + 1) {\r\n                            rowspanGroupColumns += processExpandColumns.call(that, result[rowIndex], expandColumns, GROUP_COMMAND_COLUMN_NAME, firstPositiveIndexColumn)\r\n                        }\r\n                    }));\r\n                    result.push(function getDataColumns(columns, rowIndex, bandColumnID) {\r\n                        var result = [];\r\n                        rowIndex = rowIndex || 0;\r\n                        columns[rowIndex] && each(columns[rowIndex], (function(_, column) {\r\n                            if (column.ownerBand === bandColumnID || column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                                if (!column.isBand || !column.colspan) {\r\n                                    if (!column.command || rowIndex < 1) {\r\n                                        result.push(column)\r\n                                    }\r\n                                } else {\r\n                                    result.push.apply(result, getDataColumns(columns, rowIndex + 1, column.index))\r\n                                }\r\n                            }\r\n                        }));\r\n                        return result\r\n                    }(result));\r\n                    if (!notGroupedColumnsCount && that._columns.length) {\r\n                        result[rowCount].push({\r\n                            command: \"empty\"\r\n                        })\r\n                    }\r\n                    return result\r\n                },\r\n                getInvisibleColumns: function(columns, bandColumnIndex) {\r\n                    var that = this;\r\n                    var result = [];\r\n                    var hiddenColumnsByBand;\r\n                    columns = columns || that._columns;\r\n                    each(columns, (function(_, column) {\r\n                        if (column.ownerBand !== bandColumnIndex) {\r\n                            return\r\n                        }\r\n                        if (column.isBand) {\r\n                            if (!column.visible) {\r\n                                hiddenColumnsByBand = that.getChildrenByBandColumn(column.index)\r\n                            } else {\r\n                                hiddenColumnsByBand = that.getInvisibleColumns(that.getChildrenByBandColumn(column.index), column.index)\r\n                            }\r\n                            if (hiddenColumnsByBand.length) {\r\n                                result.push(column);\r\n                                result = result.concat(hiddenColumnsByBand)\r\n                            }\r\n                            return\r\n                        }\r\n                        if (!column.visible) {\r\n                            result.push(column)\r\n                        }\r\n                    }));\r\n                    return result\r\n                },\r\n                getChooserColumns: function(getAllColumns) {\r\n                    var columns = getAllColumns ? this.getColumns() : this.getInvisibleColumns();\r\n                    var columnChooserColumns = columns.filter(column => column.showInColumnChooser);\r\n                    var sortOrder = this.option(\"columnChooser.sortOrder\");\r\n                    return ((columns, sortOrder) => {\r\n                        if (\"asc\" !== sortOrder && \"desc\" !== sortOrder) {\r\n                            return columns\r\n                        }\r\n                        var sign = \"asc\" === sortOrder ? 1 : -1;\r\n                        columns.sort((function(column1, column2) {\r\n                            var caption1 = column1.caption || \"\";\r\n                            var caption2 = column2.caption || \"\";\r\n                            return sign * caption1.localeCompare(caption2)\r\n                        }));\r\n                        return columns\r\n                    })(columnChooserColumns, sortOrder)\r\n                },\r\n                allowMoveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var columnIndex = getColumnIndexByVisibleIndex(this, fromVisibleIndex, sourceLocation);\r\n                    var sourceColumn = this._columns[columnIndex];\r\n                    if (sourceColumn && (sourceColumn.allowReordering || sourceColumn.allowGrouping || sourceColumn.allowHiding)) {\r\n                        if (sourceLocation === targetLocation) {\r\n                            if (\"columnChooser\" === sourceLocation) {\r\n                                return false\r\n                            }\r\n                            fromVisibleIndex = isObject(fromVisibleIndex) ? fromVisibleIndex.columnIndex : fromVisibleIndex;\r\n                            toVisibleIndex = isObject(toVisibleIndex) ? toVisibleIndex.columnIndex : toVisibleIndex;\r\n                            return fromVisibleIndex !== toVisibleIndex && fromVisibleIndex + 1 !== toVisibleIndex\r\n                        } else if (\"group\" === sourceLocation && \"columnChooser\" !== targetLocation || \"group\" === targetLocation) {\r\n                            return sourceColumn && sourceColumn.allowGrouping\r\n                        } else if (\"columnChooser\" === sourceLocation || \"columnChooser\" === targetLocation) {\r\n                            return sourceColumn && sourceColumn.allowHiding\r\n                        }\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                moveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var options = {};\r\n                    var prevGroupIndex;\r\n                    var fromIndex = getColumnIndexByVisibleIndex(this, fromVisibleIndex, sourceLocation);\r\n                    var toIndex = getColumnIndexByVisibleIndex(this, toVisibleIndex, targetLocation);\r\n                    var targetGroupIndex;\r\n                    if (fromIndex >= 0) {\r\n                        var column = this._columns[fromIndex];\r\n                        toVisibleIndex = isObject(toVisibleIndex) ? toVisibleIndex.columnIndex : toVisibleIndex;\r\n                        targetGroupIndex = toIndex >= 0 ? this._columns[toIndex].groupIndex : -1;\r\n                        if (isDefined(column.groupIndex) && \"group\" === sourceLocation) {\r\n                            if (targetGroupIndex > column.groupIndex) {\r\n                                targetGroupIndex--\r\n                            }\r\n                            if (\"group\" !== targetLocation) {\r\n                                options.groupIndex = void 0\r\n                            } else {\r\n                                prevGroupIndex = column.groupIndex;\r\n                                delete column.groupIndex;\r\n                                updateColumnGroupIndexes(this)\r\n                            }\r\n                        }\r\n                        if (\"group\" === targetLocation) {\r\n                            options.groupIndex = function(that, column, groupIndex) {\r\n                                var groupColumns = that.getGroupColumns();\r\n                                var i;\r\n                                if (groupIndex >= 0) {\r\n                                    for (i = 0; i < groupColumns.length; i++) {\r\n                                        if (groupColumns[i].groupIndex >= groupIndex) {\r\n                                            groupColumns[i].groupIndex++\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    groupIndex = 0;\r\n                                    for (i = 0; i < groupColumns.length; i++) {\r\n                                        groupIndex = Math.max(groupIndex, groupColumns[i].groupIndex + 1)\r\n                                    }\r\n                                }\r\n                                return groupIndex\r\n                            }(this, 0, targetGroupIndex);\r\n                            column.groupIndex = prevGroupIndex\r\n                        } else if (toVisibleIndex >= 0) {\r\n                            var targetColumn = this._columns[toIndex];\r\n                            if (!targetColumn || column.ownerBand !== targetColumn.ownerBand) {\r\n                                options.visibleIndex = MAX_SAFE_INTEGER\r\n                            } else if (isColumnFixed(this, column) ^ isColumnFixed(this, targetColumn)) {\r\n                                options.visibleIndex = MAX_SAFE_INTEGER\r\n                            } else {\r\n                                options.visibleIndex = targetColumn.visibleIndex\r\n                            }\r\n                        }\r\n                        var isVisible = \"columnChooser\" !== targetLocation;\r\n                        if (column.visible !== isVisible) {\r\n                            options.visible = isVisible\r\n                        }\r\n                        this.columnOption(column.index, options)\r\n                    }\r\n                },\r\n                changeSortOrder: function(columnIndex, sortOrder) {\r\n                    var options = {};\r\n                    var sortingOptions = this.option(\"sorting\");\r\n                    var sortingMode = sortingOptions && sortingOptions.mode;\r\n                    var needResetSorting = \"single\" === sortingMode || !sortOrder;\r\n                    var allowSorting = \"single\" === sortingMode || \"multiple\" === sortingMode;\r\n                    var column = this._columns[columnIndex];\r\n                    if (allowSorting && column && column.allowSorting) {\r\n                        if (needResetSorting && !isDefined(column.groupIndex)) {\r\n                            each(this._columns, (function(index) {\r\n                                if (index !== columnIndex && this.sortOrder) {\r\n                                    if (!isDefined(this.groupIndex)) {\r\n                                        delete this.sortOrder\r\n                                    }\r\n                                    delete this.sortIndex\r\n                                }\r\n                            }))\r\n                        }\r\n                        if (isSortOrderValid(sortOrder)) {\r\n                            if (column.sortOrder !== sortOrder) {\r\n                                options.sortOrder = sortOrder\r\n                            }\r\n                        } else if (\"none\" === sortOrder) {\r\n                            if (column.sortOrder) {\r\n                                options.sortIndex = void 0;\r\n                                options.sortOrder = void 0\r\n                            }\r\n                        } else {\r\n                            ! function(column) {\r\n                                if (\"ctrl\" === sortOrder) {\r\n                                    if (!(\"sortOrder\" in column && \"sortIndex\" in column)) {\r\n                                        return false\r\n                                    }\r\n                                    options.sortOrder = void 0;\r\n                                    options.sortIndex = void 0\r\n                                } else if (isDefined(column.groupIndex) || isDefined(column.sortIndex)) {\r\n                                    options.sortOrder = \"desc\" === column.sortOrder ? \"asc\" : \"desc\"\r\n                                } else {\r\n                                    options.sortOrder = \"asc\"\r\n                                }\r\n                                return true\r\n                            }(column)\r\n                        }\r\n                    }\r\n                    this.columnOption(column.index, options)\r\n                },\r\n                getSortDataSourceParameters: function(useLocalSelector) {\r\n                    var sortColumns = [];\r\n                    var sort = [];\r\n                    each(this._columns, (function() {\r\n                        if ((this.dataField || this.selector || this.calculateCellValue) && isDefined(this.sortIndex) && !isDefined(this.groupIndex)) {\r\n                            sortColumns[this.sortIndex] = this\r\n                        }\r\n                    }));\r\n                    each(sortColumns, (function() {\r\n                        var sortOrder = this && this.sortOrder;\r\n                        if (isSortOrderValid(sortOrder)) {\r\n                            var sortItem = {\r\n                                selector: this.calculateSortValue || this.displayField || this.calculateDisplayValue || useLocalSelector && this.selector || this.dataField || this.calculateCellValue,\r\n                                desc: \"desc\" === this.sortOrder\r\n                            };\r\n                            if (this.sortingMethod) {\r\n                                sortItem.compare = this.sortingMethod.bind(this)\r\n                            }\r\n                            sort.push(sortItem)\r\n                        }\r\n                    }));\r\n                    return sort.length > 0 ? sort : null\r\n                },\r\n                getGroupDataSourceParameters: function(useLocalSelector) {\r\n                    var group = [];\r\n                    each(this.getGroupColumns(), (function() {\r\n                        var selector = this.calculateGroupValue || this.displayField || this.calculateDisplayValue || useLocalSelector && this.selector || this.dataField || this.calculateCellValue;\r\n                        if (selector) {\r\n                            var groupItem = {\r\n                                selector: selector,\r\n                                desc: \"desc\" === this.sortOrder,\r\n                                isExpanded: !!this.autoExpandGroup\r\n                            };\r\n                            if (this.sortingMethod) {\r\n                                groupItem.compare = this.sortingMethod.bind(this)\r\n                            }\r\n                            group.push(groupItem)\r\n                        }\r\n                    }));\r\n                    return group.length > 0 ? group : null\r\n                },\r\n                refresh: function(updateNewLookupsOnly) {\r\n                    var deferreds = [];\r\n                    each(this._columns, (function() {\r\n                        var lookup = this.lookup;\r\n                        if (lookup && !this.calculateDisplayValue) {\r\n                            if (updateNewLookupsOnly && lookup.valueMap) {\r\n                                return\r\n                            }\r\n                            if (lookup.update) {\r\n                                deferreds.push(lookup.update())\r\n                            }\r\n                        }\r\n                    }));\r\n                    return when.apply($, deferreds).done(resetColumnsCache.bind(null, this))\r\n                },\r\n                _updateColumnOptions: function(column, columnIndex) {\r\n                    column.selector = column.selector || function(data) {\r\n                        return column.calculateCellValue(data)\r\n                    };\r\n                    each([\"calculateSortValue\", \"calculateGroupValue\", \"calculateDisplayValue\"], (function(_, calculateCallbackName) {\r\n                        var calculateCallback = column[calculateCallbackName];\r\n                        if (isFunction(calculateCallback)) {\r\n                            if (!calculateCallback.originalCallback) {\r\n                                var context = {\r\n                                    column: column\r\n                                };\r\n                                column[calculateCallbackName] = function(data) {\r\n                                    return calculateCallback.call(context.column, data)\r\n                                };\r\n                                column[calculateCallbackName].originalCallback = calculateCallback;\r\n                                column[calculateCallbackName].columnIndex = columnIndex;\r\n                                column[calculateCallbackName].context = context\r\n                            } else {\r\n                                column[calculateCallbackName].context.column = column\r\n                            }\r\n                        }\r\n                    }));\r\n                    if (isString(column.calculateDisplayValue)) {\r\n                        column.displayField = column.calculateDisplayValue;\r\n                        column.calculateDisplayValue = compileGetter(column.displayField)\r\n                    }\r\n                    if (column.calculateDisplayValue) {\r\n                        column.displayValueMap = column.displayValueMap || {}\r\n                    }\r\n                    updateSerializers(column, column.dataType);\r\n                    var lookup = column.lookup;\r\n                    if (lookup) {\r\n                        updateSerializers(lookup, lookup.dataType)\r\n                    }\r\n                    var dataType = lookup ? lookup.dataType : column.dataType;\r\n                    if (dataType) {\r\n                        column.alignment = column.alignment || function(dataType, isRTL) {\r\n                            switch (dataType) {\r\n                                case \"number\":\r\n                                    return \"right\";\r\n                                case \"boolean\":\r\n                                    return \"center\";\r\n                                default:\r\n                                    return getDefaultAlignment(isRTL)\r\n                            }\r\n                        }(dataType, this.option(\"rtlEnabled\"));\r\n                        column.format = column.format || gridCoreUtils.getFormatByDataType(dataType);\r\n                        column.customizeText = column.customizeText || getCustomizeTextByDataType(dataType);\r\n                        column.defaultFilterOperations = column.defaultFilterOperations || !lookup && DATATYPE_OPERATIONS[dataType] || [];\r\n                        if (!isDefined(column.filterOperations)) {\r\n                            setFilterOperationsAsDefaultValues(column)\r\n                        }\r\n                        column.defaultFilterOperation = column.filterOperations && column.filterOperations[0] || \"=\";\r\n                        column.showEditorAlways = isDefined(column.showEditorAlways) ? column.showEditorAlways : \"boolean\" === dataType && !column.cellTemplate && !column.lookup\r\n                    }\r\n                },\r\n                updateColumnDataTypes: function(dataSource) {\r\n                    var that = this;\r\n                    var dateSerializationFormat = that.option(\"dateSerializationFormat\");\r\n                    var firstItems = that._getFirstItems(dataSource);\r\n                    var isColumnDataTypesUpdated = false;\r\n                    each(that._columns, (function(index, column) {\r\n                        var i;\r\n                        var value;\r\n                        var dataType;\r\n                        var lookupDataType;\r\n                        var valueDataType;\r\n                        var lookup = column.lookup;\r\n                        if (gridCoreUtils.isDateType(column.dataType) && void 0 === column.serializationFormat) {\r\n                            column.serializationFormat = dateSerializationFormat\r\n                        }\r\n                        if (lookup && gridCoreUtils.isDateType(lookup.dataType) && void 0 === column.serializationFormat) {\r\n                            lookup.serializationFormat = dateSerializationFormat\r\n                        }\r\n                        if (column.calculateCellValue && firstItems.length) {\r\n                            if (!column.dataType || lookup && !lookup.dataType) {\r\n                                for (i = 0; i < firstItems.length; i++) {\r\n                                    value = column.calculateCellValue(firstItems[i]);\r\n                                    if (!column.dataType) {\r\n                                        valueDataType = getValueDataType(value);\r\n                                        dataType = dataType || valueDataType;\r\n                                        if (dataType && valueDataType && dataType !== valueDataType) {\r\n                                            dataType = \"string\"\r\n                                        }\r\n                                    }\r\n                                    if (lookup && !lookup.dataType) {\r\n                                        valueDataType = getValueDataType(gridCoreUtils.getDisplayValue(column, value, firstItems[i]));\r\n                                        lookupDataType = lookupDataType || valueDataType;\r\n                                        if (lookupDataType && valueDataType && lookupDataType !== valueDataType) {\r\n                                            lookupDataType = \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (dataType || lookupDataType) {\r\n                                    if (dataType) {\r\n                                        column.dataType = dataType\r\n                                    }\r\n                                    if (lookup && lookupDataType) {\r\n                                        lookup.dataType = lookupDataType\r\n                                    }\r\n                                    isColumnDataTypesUpdated = true\r\n                                }\r\n                            }\r\n                            if (void 0 === column.serializationFormat || lookup && void 0 === lookup.serializationFormat) {\r\n                                for (i = 0; i < firstItems.length; i++) {\r\n                                    value = column.calculateCellValue(firstItems[i], true);\r\n                                    if (void 0 === column.serializationFormat) {\r\n                                        column.serializationFormat = getSerializationFormat(column.dataType, value)\r\n                                    }\r\n                                    if (lookup && void 0 === lookup.serializationFormat) {\r\n                                        lookup.serializationFormat = getSerializationFormat(lookup.dataType, lookup.calculateCellValue(value, true))\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        that._updateColumnOptions(column, index)\r\n                    }));\r\n                    return isColumnDataTypesUpdated\r\n                },\r\n                _customizeColumns: function(columns) {\r\n                    var customizeColumns = this.option(\"customizeColumns\");\r\n                    if (customizeColumns) {\r\n                        var hasOwnerBand = columns.some((function(column) {\r\n                            return isObject(column.ownerBand)\r\n                        }));\r\n                        if (hasOwnerBand) {\r\n                            updateIndexes(this)\r\n                        }\r\n                        customizeColumns(columns);\r\n                        assignColumns(this, createColumnsFromOptions(this, columns))\r\n                    }\r\n                },\r\n                updateColumns: function(dataSource, forceApplying) {\r\n                    if (!forceApplying) {\r\n                        this.updateSortingGrouping(dataSource)\r\n                    }\r\n                    if (!dataSource || dataSource.isLoaded()) {\r\n                        var sortParameters = dataSource ? dataSource.sort() || [] : this.getSortDataSourceParameters();\r\n                        var groupParameters = dataSource ? dataSource.group() || [] : this.getGroupDataSourceParameters();\r\n                        var filterParameters = null === dataSource || void 0 === dataSource ? void 0 : dataSource.lastLoadOptions().filter;\r\n                        this._customizeColumns(this._columns);\r\n                        updateIndexes(this);\r\n                        var columns = this._columns;\r\n                        return when(this.refresh(true)).always(() => {\r\n                            if (this._columns !== columns) {\r\n                                return\r\n                            }\r\n                            this._updateChanges(dataSource, {\r\n                                sorting: sortParameters,\r\n                                grouping: groupParameters,\r\n                                filtering: filterParameters\r\n                            });\r\n                            fireColumnsChanged(this)\r\n                        })\r\n                    }\r\n                },\r\n                _updateChanges: function(dataSource, parameters) {\r\n                    if (dataSource) {\r\n                        this.updateColumnDataTypes(dataSource);\r\n                        this._dataSourceApplied = true\r\n                    }\r\n                    if (!gridCoreUtils.equalSortParameters(parameters.sorting, this.getSortDataSourceParameters())) {\r\n                        updateColumnChanges(this, \"sorting\")\r\n                    }\r\n                    if (!gridCoreUtils.equalSortParameters(parameters.grouping, this.getGroupDataSourceParameters())) {\r\n                        updateColumnChanges(this, \"grouping\")\r\n                    }\r\n                    var dataController = this.getController(\"data\");\r\n                    if (dataController && !gridCoreUtils.equalFilterParameters(parameters.filtering, dataController.getCombinedFilter())) {\r\n                        updateColumnChanges(this, \"filtering\")\r\n                    }\r\n                    updateColumnChanges(this, \"columns\")\r\n                },\r\n                updateSortingGrouping: function(dataSource, fromDataSource) {\r\n                    var that = this;\r\n                    var sortParameters;\r\n                    var isColumnsChanged;\r\n                    var updateSortGroupParameterIndexes = function(columns, sortParameters, indexParameterName) {\r\n                        each(columns, (function(index, column) {\r\n                            delete column[indexParameterName];\r\n                            if (sortParameters) {\r\n                                for (var i = 0; i < sortParameters.length; i++) {\r\n                                    var selector = sortParameters[i].selector;\r\n                                    var isExpanded = sortParameters[i].isExpanded;\r\n                                    if (selector === column.dataField || selector === column.name || selector === column.selector || selector === column.calculateCellValue || selector === column.calculateGroupValue || selector === column.calculateDisplayValue) {\r\n                                        column.sortOrder = column.sortOrder || (sortParameters[i].desc ? \"desc\" : \"asc\");\r\n                                        if (void 0 !== isExpanded) {\r\n                                            column.autoExpandGroup = isExpanded\r\n                                        }\r\n                                        column[indexParameterName] = i;\r\n                                        break\r\n                                    }\r\n                                }\r\n                            }\r\n                        }))\r\n                    };\r\n                    if (dataSource) {\r\n                        sortParameters = gridCoreUtils.normalizeSortingInfo(dataSource.sort());\r\n                        var groupParameters = gridCoreUtils.normalizeSortingInfo(dataSource.group());\r\n                        var columnsGroupParameters = that.getGroupDataSourceParameters();\r\n                        var columnsSortParameters = that.getSortDataSourceParameters();\r\n                        var groupingChanged = !gridCoreUtils.equalSortParameters(groupParameters, columnsGroupParameters, true);\r\n                        var groupExpandingChanged = !groupingChanged && !gridCoreUtils.equalSortParameters(groupParameters, columnsGroupParameters);\r\n                        if (!that._columns.length) {\r\n                            each(groupParameters, (function(index, group) {\r\n                                that._columns.push(group.selector)\r\n                            }));\r\n                            each(sortParameters, (function(index, sort) {\r\n                                that._columns.push(sort.selector)\r\n                            }));\r\n                            assignColumns(that, createColumnsFromOptions(that, that._columns))\r\n                        }\r\n                        if ((fromDataSource || !columnsGroupParameters && !that._hasUserState) && (groupingChanged || groupExpandingChanged)) {\r\n                            updateSortGroupParameterIndexes(that._columns, groupParameters, \"groupIndex\");\r\n                            if (fromDataSource) {\r\n                                groupingChanged && updateColumnChanges(that, \"grouping\");\r\n                                groupExpandingChanged && updateColumnChanges(that, \"groupExpanding\");\r\n                                isColumnsChanged = true\r\n                            }\r\n                        }\r\n                        if ((fromDataSource || !columnsSortParameters && !that._hasUserState) && !gridCoreUtils.equalSortParameters(sortParameters, columnsSortParameters)) {\r\n                            updateSortGroupParameterIndexes(that._columns, sortParameters, \"sortIndex\");\r\n                            if (fromDataSource) {\r\n                                updateColumnChanges(that, \"sorting\");\r\n                                isColumnsChanged = true\r\n                            }\r\n                        }\r\n                        if (isColumnsChanged) {\r\n                            fireColumnsChanged(that)\r\n                        }\r\n                    }\r\n                },\r\n                updateFilter: function(filter, remoteFiltering, columnIndex, filterValue) {\r\n                    if (!Array.isArray(filter)) {\r\n                        return filter\r\n                    }\r\n                    filter = extend([], filter);\r\n                    columnIndex = void 0 !== filter.columnIndex ? filter.columnIndex : columnIndex;\r\n                    filterValue = void 0 !== filter.filterValue ? filter.filterValue : filterValue;\r\n                    if (isString(filter[0]) && \"!\" !== filter[0]) {\r\n                        var column = this.columnOption(filter[0]);\r\n                        if (remoteFiltering) {\r\n                            if (config().forceIsoDateParsing && column && column.serializeValue && filter.length > 1) {\r\n                                filter[filter.length - 1] = column.serializeValue(filter[filter.length - 1], \"filter\")\r\n                            }\r\n                        } else if (column && column.selector) {\r\n                            filter[0] = column.selector;\r\n                            filter[0].columnIndex = column.index\r\n                        }\r\n                    } else if (isFunction(filter[0])) {\r\n                        filter[0].columnIndex = columnIndex;\r\n                        filter[0].filterValue = filterValue\r\n                    }\r\n                    for (var i = 0; i < filter.length; i++) {\r\n                        filter[i] = this.updateFilter(filter[i], remoteFiltering, columnIndex, filterValue)\r\n                    }\r\n                    return filter\r\n                },\r\n                columnCount: function() {\r\n                    return this._columns ? this._columns.length : 0\r\n                },\r\n                columnOption: function(identifier, option, value, notFireEvent) {\r\n                    var that = this;\r\n                    var columns = that._columns.concat(that._commandColumns);\r\n                    var column = findColumn(columns, identifier);\r\n                    if (column) {\r\n                        if (1 === arguments.length) {\r\n                            return extend({}, column)\r\n                        }\r\n                        if (isString(option)) {\r\n                            if (2 === arguments.length) {\r\n                                return columnOptionCore(that, column, option)\r\n                            } else {\r\n                                columnOptionCore(that, column, option, value, notFireEvent)\r\n                            }\r\n                        } else if (isObject(option)) {\r\n                            each(option, (function(optionName, value) {\r\n                                columnOptionCore(that, column, optionName, value, notFireEvent)\r\n                            }))\r\n                        }\r\n                        fireColumnsChanged(that)\r\n                    }\r\n                },\r\n                clearSorting: function() {\r\n                    var columnCount = this.columnCount();\r\n                    this.beginUpdate();\r\n                    for (var i = 0; i < columnCount; i++) {\r\n                        this.columnOption(i, \"sortOrder\", void 0)\r\n                    }\r\n                    this.endUpdate()\r\n                },\r\n                clearGrouping: function() {\r\n                    var columnCount = this.columnCount();\r\n                    this.beginUpdate();\r\n                    for (var i = 0; i < columnCount; i++) {\r\n                        this.columnOption(i, \"groupIndex\", void 0)\r\n                    }\r\n                    this.endUpdate()\r\n                },\r\n                getVisibleIndex: function(index, rowIndex) {\r\n                    var columns = this.getVisibleColumns(rowIndex);\r\n                    for (var i = columns.length - 1; i >= 0; i--) {\r\n                        if (columns[i].index === index) {\r\n                            return i\r\n                        }\r\n                    }\r\n                    return -1\r\n                },\r\n                getVisibleIndexByColumn: function(column, rowIndex) {\r\n                    var visibleColumns = this.getVisibleColumns(rowIndex);\r\n                    var visibleColumn = visibleColumns.filter(col => col.index === column.index && col.command === column.command)[0];\r\n                    return visibleColumns.indexOf(visibleColumn)\r\n                },\r\n                getVisibleColumnIndex: function(id, rowIndex) {\r\n                    var index = this.columnOption(id, \"index\");\r\n                    return this.getVisibleIndex(index, rowIndex)\r\n                },\r\n                addColumn: function(options) {\r\n                    var column = createColumn(this, options);\r\n                    var index = this._columns.length;\r\n                    this._columns.push(column);\r\n                    if (column.isBand) {\r\n                        this._columns = createColumnsFromOptions(this, this._columns);\r\n                        column = this._columns[index]\r\n                    }\r\n                    column.added = options;\r\n                    updateIndexes(this, column);\r\n                    this.updateColumns(this._dataSource);\r\n                    this._checkColumns()\r\n                },\r\n                deleteColumn: function(id) {\r\n                    var column = this.columnOption(id);\r\n                    if (column && column.index >= 0) {\r\n                        columns = this._columns, void columns.forEach(column => {\r\n                            if (isDefined(column.ownerBand)) {\r\n                                column.ownerBand = columns[column.ownerBand]\r\n                            }\r\n                        });\r\n                        this._columns.splice(column.index, 1);\r\n                        if (column.isBand) {\r\n                            var childIndexes = this.getChildrenByBandColumn(column.index).map(column => column.index);\r\n                            this._columns = this._columns.filter(column => childIndexes.indexOf(column.index) < 0)\r\n                        }\r\n                        updateIndexes(this);\r\n                        this.updateColumns(this._dataSource)\r\n                    }\r\n                    var columns\r\n                },\r\n                addCommandColumn: function(options) {\r\n                    var commandColumn = this._commandColumns.filter(column => column.command === options.command)[0];\r\n                    if (!commandColumn) {\r\n                        commandColumn = options;\r\n                        this._commandColumns.push(commandColumn)\r\n                    }\r\n                },\r\n                getUserState: function() {\r\n                    var columns = this._columns;\r\n                    var result = [];\r\n                    var i;\r\n\r\n                    function handleStateField(index, value) {\r\n                        if (void 0 !== columns[i][value]) {\r\n                            result[i][value] = columns[i][value]\r\n                        }\r\n                    }\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        result[i] = {};\r\n                        each(USER_STATE_FIELD_NAMES, handleStateField)\r\n                    }\r\n                    return result\r\n                },\r\n                setName: function(column) {\r\n                    column.name = column.name || column.dataField || column.type\r\n                },\r\n                setUserState: function(state) {\r\n                    var dataSource = this._dataSource;\r\n                    var ignoreColumnOptionNames = this.option(\"stateStoring.ignoreColumnOptionNames\");\r\n                    null === state || void 0 === state ? void 0 : state.forEach(this.setName);\r\n                    if (!ignoreColumnOptionNames) {\r\n                        ignoreColumnOptionNames = [];\r\n                        var commonColumnSettings = this.getCommonSettings();\r\n                        if (!this.option(\"columnChooser.enabled\")) {\r\n                            ignoreColumnOptionNames.push(\"visible\")\r\n                        }\r\n                        if (\"none\" === this.option(\"sorting.mode\")) {\r\n                            ignoreColumnOptionNames.push(\"sortIndex\", \"sortOrder\")\r\n                        }\r\n                        if (!commonColumnSettings.allowGrouping) {\r\n                            ignoreColumnOptionNames.push(\"groupIndex\")\r\n                        }\r\n                        if (!commonColumnSettings.allowFixing) {\r\n                            ignoreColumnOptionNames.push(\"fixed\", \"fixedPosition\")\r\n                        }\r\n                        if (!commonColumnSettings.allowResizing) {\r\n                            ignoreColumnOptionNames.push(\"width\", \"visibleWidth\")\r\n                        }\r\n                        var isFilterPanelHidden = !this.option(\"filterPanel.visible\");\r\n                        if (!this.option(\"filterRow.visible\") && isFilterPanelHidden) {\r\n                            ignoreColumnOptionNames.push(\"filterValue\", \"selectedFilterOperation\")\r\n                        }\r\n                        if (!this.option(\"headerFilter.visible\") && isFilterPanelHidden) {\r\n                            ignoreColumnOptionNames.push(\"filterValues\", \"filterType\")\r\n                        }\r\n                    }\r\n                    this._columnsUserState = state;\r\n                    this._ignoreColumnOptionNames = ignoreColumnOptionNames;\r\n                    this._hasUserState = !!state;\r\n                    updateColumnChanges(this, \"filtering\");\r\n                    this.init();\r\n                    if (dataSource) {\r\n                        dataSource.sort(this.getSortDataSourceParameters());\r\n                        dataSource.group(this.getGroupDataSourceParameters())\r\n                    }\r\n                },\r\n                _checkColumns: function() {\r\n                    var usedNames = {};\r\n                    var hasEditableColumnWithoutName = false;\r\n                    var duplicatedNames = [];\r\n                    this._columns.forEach(column => {\r\n                        var _column$columns;\r\n                        var name = column.name;\r\n                        var isBand = null === (_column$columns = column.columns) || void 0 === _column$columns ? void 0 : _column$columns.length;\r\n                        var isEditable = column.allowEditing && (column.dataField || column.setCellValue) && !isBand;\r\n                        if (name) {\r\n                            if (usedNames[name]) {\r\n                                duplicatedNames.push('\"'.concat(name, '\"'))\r\n                            }\r\n                            usedNames[name] = true\r\n                        } else if (isEditable) {\r\n                            hasEditableColumnWithoutName = true\r\n                        }\r\n                    });\r\n                    if (duplicatedNames.length) {\r\n                        errors.log(\"E1059\", duplicatedNames.join(\", \"))\r\n                    }\r\n                    if (hasEditableColumnWithoutName) {\r\n                        errors.log(\"E1060\")\r\n                    }\r\n                },\r\n                _createCalculatedColumnOptions: function(columnOptions, bandColumn) {\r\n                    var calculatedColumnOptions = {};\r\n                    var dataField = columnOptions.dataField;\r\n                    if (Array.isArray(columnOptions.columns) && columnOptions.columns.length || columnOptions.isBand) {\r\n                        calculatedColumnOptions.isBand = true;\r\n                        dataField = null\r\n                    }\r\n                    if (dataField) {\r\n                        if (isString(dataField)) {\r\n                            var getter = compileGetter(dataField);\r\n                            calculatedColumnOptions = {\r\n                                caption: captionize(dataField),\r\n                                calculateCellValue: function(data, skipDeserialization) {\r\n                                    var value = getter(data);\r\n                                    return this.deserializeValue && !skipDeserialization ? this.deserializeValue(value) : value\r\n                                },\r\n                                setCellValue: defaultSetCellValue,\r\n                                parseValue: function(text) {\r\n                                    var result;\r\n                                    var parsedValue;\r\n                                    if (\"number\" === this.dataType) {\r\n                                        if (isString(text) && this.format) {\r\n                                            result = function(text, format) {\r\n                                                var parsedValue = numberLocalization.parse(text);\r\n                                                if (isNumeric(parsedValue)) {\r\n                                                    var formattedValue = numberLocalization.format(parsedValue, format);\r\n                                                    var formattedValueWithDefaultFormat = numberLocalization.format(parsedValue, \"decimal\");\r\n                                                    if (formattedValue === text || formattedValueWithDefaultFormat === text) {\r\n                                                        return parsedValue\r\n                                                    }\r\n                                                }\r\n                                            }(text.trim(), this.format)\r\n                                        } else if (isDefined(text) && isNumeric(text)) {\r\n                                            result = Number(text)\r\n                                        }\r\n                                    } else if (\"boolean\" === this.dataType) {\r\n                                        if (text === this.trueText) {\r\n                                            result = true\r\n                                        } else if (text === this.falseText) {\r\n                                            result = false\r\n                                        }\r\n                                    } else if (gridCoreUtils.isDateType(this.dataType)) {\r\n                                        parsedValue = dateLocalization.parse(text, this.format);\r\n                                        if (parsedValue) {\r\n                                            result = parsedValue\r\n                                        }\r\n                                    } else {\r\n                                        result = text\r\n                                    }\r\n                                    return result\r\n                                }\r\n                            }\r\n                        }\r\n                        calculatedColumnOptions.allowFiltering = true\r\n                    } else {\r\n                        calculatedColumnOptions.allowFiltering = !!columnOptions.calculateFilterExpression\r\n                    }\r\n                    calculatedColumnOptions.calculateFilterExpression = function() {\r\n                        return filterUtils.defaultCalculateFilterExpression.apply(this, arguments)\r\n                    };\r\n                    calculatedColumnOptions.createFilterExpression = function(filterValue) {\r\n                        var result;\r\n                        if (this.calculateFilterExpression) {\r\n                            result = this.calculateFilterExpression.apply(this, arguments)\r\n                        }\r\n                        if (isFunction(result)) {\r\n                            result = [result, \"=\", true]\r\n                        }\r\n                        if (result) {\r\n                            result.columnIndex = this.index;\r\n                            result.filterValue = filterValue\r\n                        }\r\n                        return result\r\n                    };\r\n                    if (!dataField || !isString(dataField)) {\r\n                        extend(true, calculatedColumnOptions, {\r\n                            allowSorting: false,\r\n                            allowGrouping: false,\r\n                            calculateCellValue: function() {\r\n                                return null\r\n                            }\r\n                        })\r\n                    }\r\n                    if (bandColumn) {\r\n                        calculatedColumnOptions.allowFixing = false\r\n                    }\r\n                    if (columnOptions.dataType) {\r\n                        calculatedColumnOptions.userDataType = columnOptions.dataType\r\n                    }\r\n                    if (columnOptions.selectedFilterOperation && !(\"defaultSelectedFilterOperation\" in calculatedColumnOptions)) {\r\n                        calculatedColumnOptions.defaultSelectedFilterOperation = columnOptions.selectedFilterOperation\r\n                    }\r\n                    if (columnOptions.lookup) {\r\n                        calculatedColumnOptions.lookup = {\r\n                            calculateCellValue: function(value, skipDeserialization) {\r\n                                if (this.valueExpr) {\r\n                                    value = this.valueMap && this.valueMap[value]\r\n                                }\r\n                                return this.deserializeValue && !skipDeserialization ? this.deserializeValue(value) : value\r\n                            },\r\n                            updateValueMap: function() {\r\n                                this.valueMap = {};\r\n                                if (this.items) {\r\n                                    var calculateValue = compileGetter(this.valueExpr);\r\n                                    var calculateDisplayValue = compileGetter(this.displayExpr);\r\n                                    for (var i = 0; i < this.items.length; i++) {\r\n                                        var item = this.items[i];\r\n                                        var displayValue = calculateDisplayValue(item);\r\n                                        this.valueMap[calculateValue(item)] = displayValue;\r\n                                        this.dataType = this.dataType || getValueDataType(displayValue)\r\n                                    }\r\n                                }\r\n                            },\r\n                            update: function() {\r\n                                var that = this;\r\n                                var dataSource = that.dataSource;\r\n                                if (dataSource) {\r\n                                    if (isFunction(dataSource) && !variableWrapper.isWrapped(dataSource)) {\r\n                                        dataSource = dataSource({})\r\n                                    }\r\n                                    if (isPlainObject(dataSource) || dataSource instanceof Store || Array.isArray(dataSource)) {\r\n                                        if (that.valueExpr) {\r\n                                            var dataSourceOptions = normalizeDataSourceOptions(dataSource);\r\n                                            dataSourceOptions.paginate = false;\r\n                                            dataSource = new DataSource(dataSourceOptions);\r\n                                            return dataSource.load().done((function(data) {\r\n                                                that.items = data;\r\n                                                that.updateValueMap && that.updateValueMap()\r\n                                            }))\r\n                                        }\r\n                                    } else {\r\n                                        errors.log(\"E1016\")\r\n                                    }\r\n                                } else {\r\n                                    that.updateValueMap && that.updateValueMap()\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    calculatedColumnOptions.resizedCallbacks = Callbacks();\r\n                    if (columnOptions.resized) {\r\n                        calculatedColumnOptions.resizedCallbacks.add(columnOptions.resized.bind(columnOptions))\r\n                    }\r\n                    each(calculatedColumnOptions, (function(optionName) {\r\n                        if (isFunction(calculatedColumnOptions[optionName]) && 0 !== optionName.indexOf(\"default\")) {\r\n                            var defaultOptionName = \"default\" + optionName.charAt(0).toUpperCase() + optionName.substr(1);\r\n                            calculatedColumnOptions[defaultOptionName] = calculatedColumnOptions[optionName]\r\n                        }\r\n                    }));\r\n                    return calculatedColumnOptions\r\n                },\r\n                getRowCount: function() {\r\n                    this._rowCount = this._rowCount || function(that) {\r\n                        var rowCount = 1;\r\n                        var bandColumnsCache = that.getBandColumnsCache();\r\n                        var columnParentByIndex = bandColumnsCache.columnParentByIndex;\r\n                        that._columns.forEach((function(column) {\r\n                            var parents = getParentBandColumns(column.index, columnParentByIndex);\r\n                            var invisibleParents = parents.filter((function(column) {\r\n                                return !column.visible\r\n                            }));\r\n                            if (column.visible && !invisibleParents.length) {\r\n                                rowCount = Math.max(rowCount, parents.length + 1)\r\n                            }\r\n                        }));\r\n                        return rowCount\r\n                    }(this);\r\n                    return this._rowCount\r\n                },\r\n                getRowIndex: function(columnIndex, alwaysGetRowIndex) {\r\n                    var column = this._columns[columnIndex];\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    return column && (alwaysGetRowIndex || column.visible && !(column.command || isDefined(column.groupIndex))) ? getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex).length : 0\r\n                },\r\n                getChildrenByBandColumn: function(bandColumnIndex, onlyVisibleDirectChildren) {\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var result = _getChildrenByBandColumn(bandColumnIndex, bandColumnsCache.columnChildrenByIndex, !onlyVisibleDirectChildren);\r\n                    if (onlyVisibleDirectChildren) {\r\n                        return result.filter((function(column) {\r\n                            return column.visible && !column.command\r\n                        })).sort((function(column1, column2) {\r\n                            return column1.visibleIndex - column2.visibleIndex\r\n                        }))\r\n                    }\r\n                    return result\r\n                },\r\n                isParentBandColumn: function(columnIndex, bandColumnIndex) {\r\n                    var result = false;\r\n                    var column = this._columns[columnIndex];\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var parentBandColumns = column && getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex);\r\n                    if (parentBandColumns) {\r\n                        each(parentBandColumns, (function(_, bandColumn) {\r\n                            if (bandColumn.index === bandColumnIndex) {\r\n                                result = true;\r\n                                return false\r\n                            }\r\n                        }))\r\n                    }\r\n                    return result\r\n                },\r\n                isParentColumnVisible: function(columnIndex) {\r\n                    var result = true;\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var bandColumns = columnIndex >= 0 && getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex);\r\n                    bandColumns && each(bandColumns, (function(_, bandColumn) {\r\n                        result = result && bandColumn.visible;\r\n                        return result\r\n                    }));\r\n                    return result\r\n                },\r\n                getColumnId: function(column) {\r\n                    if (column.command && column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                        if (isCustomCommandColumn(this, column)) {\r\n                            return \"type:\" + column.type\r\n                        }\r\n                        return \"command:\" + column.command\r\n                    }\r\n                    return column.index\r\n                },\r\n                getCustomizeTextByDataType: getCustomizeTextByDataType,\r\n                getHeaderContentAlignment: function(columnAlignment) {\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (rtlEnabled) {\r\n                        return \"left\" === columnAlignment ? \"right\" : \"left\"\r\n                    }\r\n                    return columnAlignment\r\n                }\r\n            }\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.columns_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnsControllerModule\r\n} from \"../grid_core/ui.grid_core.columns_controller\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\ngridCore.registerModule(\"columns\", {\r\n    defaultOptions: function() {\r\n        return extend(true, {}, columnsControllerModule.defaultOptions(), {\r\n            commonColumnSettings: {\r\n                allowExporting: true\r\n            }\r\n        })\r\n    },\r\n    controllers: columnsControllerModule.controllers\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.data_source_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport gridCore from \"../data_grid/ui.data_grid.core\";\r\nimport {\r\n    executeAsync,\r\n    getKeyHash\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport ArrayStore from \"../../data/array_store\";\r\nimport {\r\n    applyBatch\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nexport default gridCore.Controller.inherit(function() {\r\n    function cloneItems(items, groupCount) {\r\n        if (items) {\r\n            items = items.slice(0);\r\n            if (groupCount) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    items[i] = extend({\r\n                        key: items[i].key\r\n                    }, items[i]);\r\n                    items[i].items = cloneItems(items[i].items, groupCount - 1)\r\n                }\r\n            }\r\n        }\r\n        return items\r\n    }\r\n\r\n    function calculateOperationTypes(loadOptions, lastLoadOptions, isFullReload) {\r\n        var operationTypes = {\r\n            reload: true,\r\n            fullReload: true\r\n        };\r\n        if (lastLoadOptions) {\r\n            operationTypes = {\r\n                sorting: !gridCore.equalSortParameters(loadOptions.sort, lastLoadOptions.sort),\r\n                grouping: !gridCore.equalSortParameters(loadOptions.group, lastLoadOptions.group, true),\r\n                groupExpanding: !gridCore.equalSortParameters(loadOptions.group, lastLoadOptions.group) || lastLoadOptions.groupExpand,\r\n                filtering: !gridCore.equalFilterParameters(loadOptions.filter, lastLoadOptions.filter),\r\n                pageIndex: loadOptions.pageIndex !== lastLoadOptions.pageIndex,\r\n                skip: loadOptions.skip !== lastLoadOptions.skip,\r\n                take: loadOptions.take !== lastLoadOptions.take,\r\n                pageSize: loadOptions.pageSize !== lastLoadOptions.pageSize,\r\n                fullReload: isFullReload\r\n            };\r\n            operationTypes.reload = isFullReload || operationTypes.sorting || operationTypes.grouping || operationTypes.filtering;\r\n            operationTypes.paging = operationTypes.pageIndex || operationTypes.pageSize || operationTypes.take\r\n        }\r\n        return operationTypes\r\n    }\r\n\r\n    function getPageDataFromCache(options, updatePaging) {\r\n        var groupCount = gridCore.normalizeSortingInfo(options.group || options.storeLoadOptions.group || options.loadOptions.group).length;\r\n        var items = [];\r\n        if (fillItemsFromCache(items, options, groupCount)) {\r\n            return items\r\n        } else if (updatePaging) {\r\n            ! function(cacheItemsFromBegin, options, groupCount) {\r\n                var cacheItemBeginCount = cacheItemsFromBegin.length;\r\n                var {\r\n                    storeLoadOptions: storeLoadOptions\r\n                } = options;\r\n                if (void 0 !== storeLoadOptions.skip && storeLoadOptions.take && !groupCount) {\r\n                    var cacheItemsFromEnd = [];\r\n                    fillItemsFromCache(cacheItemsFromEnd, options, groupCount, true);\r\n                    var cacheItemEndCount = cacheItemsFromEnd.length;\r\n                    if (cacheItemBeginCount || cacheItemEndCount) {\r\n                        var _options$skip2, _options$take2;\r\n                        options.skip = null !== (_options$skip2 = options.skip) && void 0 !== _options$skip2 ? _options$skip2 : storeLoadOptions.skip;\r\n                        options.take = null !== (_options$take2 = options.take) && void 0 !== _options$take2 ? _options$take2 : storeLoadOptions.take\r\n                    }\r\n                    if (cacheItemBeginCount) {\r\n                        storeLoadOptions.skip += cacheItemBeginCount;\r\n                        storeLoadOptions.take -= cacheItemBeginCount;\r\n                        options.cachedDataPartBegin = cacheItemsFromBegin\r\n                    }\r\n                    if (cacheItemEndCount) {\r\n                        storeLoadOptions.take -= cacheItemEndCount;\r\n                        options.cachedDataPartEnd = cacheItemsFromEnd.reverse()\r\n                    }\r\n                }\r\n            }(items, options, groupCount)\r\n        }\r\n    }\r\n\r\n    function fillItemsFromCache(items, options, groupCount, fromEnd) {\r\n        var _ref, _options$take, _options$cachedData;\r\n        var {\r\n            storeLoadOptions: storeLoadOptions\r\n        } = options;\r\n        var take = null !== (_ref = null !== (_options$take = options.take) && void 0 !== _options$take ? _options$take : storeLoadOptions.take) && void 0 !== _ref ? _ref : 0;\r\n        var cachedItems = null === (_options$cachedData = options.cachedData) || void 0 === _options$cachedData ? void 0 : _options$cachedData.items;\r\n        if (take && cachedItems) {\r\n            var _ref2, _options$skip;\r\n            var skip = null !== (_ref2 = null !== (_options$skip = options.skip) && void 0 !== _options$skip ? _options$skip : storeLoadOptions.skip) && void 0 !== _ref2 ? _ref2 : 0;\r\n            for (var i = 0; i < take; i++) {\r\n                var localIndex = fromEnd ? take - 1 - i : i;\r\n                var cacheItemIndex = localIndex + skip;\r\n                var cacheItem = cachedItems[cacheItemIndex];\r\n                if (void 0 === cacheItem && cacheItemIndex in cachedItems) {\r\n                    return true\r\n                }\r\n                var item = getItemFromCache(options, cacheItem, groupCount, localIndex, take);\r\n                if (item) {\r\n                    items.push(item)\r\n                } else {\r\n                    return false\r\n                }\r\n            }\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    function getItemFromCache(options, cacheItem, groupCount, index, take) {\r\n        if (groupCount && cacheItem) {\r\n            var skips = 0 === index && options.skips || [];\r\n            var takes = index === take - 1 && options.takes || [];\r\n            return function getGroupItemFromCache(cacheItem, groupCount, skips, takes) {\r\n                if (groupCount && cacheItem) {\r\n                    var result = _extends({}, cacheItem);\r\n                    var skip = skips[0] || 0;\r\n                    var take = takes[0];\r\n                    var items = cacheItem.items;\r\n                    if (items) {\r\n                        if (void 0 === take && !items[skip]) {\r\n                            return\r\n                        }\r\n                        result.items = [];\r\n                        if (skips.length) {\r\n                            result.isContinuation = true\r\n                        }\r\n                        if (takes.length) {\r\n                            result.isContinuationOnNextPage = true\r\n                        }\r\n                        for (var i = 0; void 0 === take ? items[i + skip] : i < take; i++) {\r\n                            var childCacheItem = items[i + skip];\r\n                            var isLast = i + 1 === take;\r\n                            var item = getGroupItemFromCache(childCacheItem, groupCount - 1, 0 === i ? skips.slice(1) : [], isLast ? takes.slice(1) : []);\r\n                            if (void 0 !== item) {\r\n                                result.items.push(item)\r\n                            } else {\r\n                                return\r\n                            }\r\n                        }\r\n                    }\r\n                    return result\r\n                }\r\n                return cacheItem\r\n            }(cacheItem, groupCount, skips, takes)\r\n        } else {\r\n            return cacheItem\r\n        }\r\n    }\r\n\r\n    function getCacheItem(cacheItem, loadedItem, groupCount, skips) {\r\n        if (groupCount && loadedItem) {\r\n            var result = _extends({}, loadedItem);\r\n            delete result.isContinuation;\r\n            delete result.isContinuationOnNextPage;\r\n            var skip = skips[0] || 0;\r\n            if (loadedItem.items) {\r\n                result.items = (null === cacheItem || void 0 === cacheItem ? void 0 : cacheItem.items) || {};\r\n                loadedItem.items.forEach((item, index) => {\r\n                    var globalIndex = index + skip;\r\n                    var childSkips = 0 === index ? skips.slice(1) : [];\r\n                    result.items[globalIndex] = getCacheItem(result.items[globalIndex], item, groupCount - 1, childSkips)\r\n                })\r\n            }\r\n            return result\r\n        }\r\n        return loadedItem\r\n    }\r\n    return {\r\n        init: function(dataSource, remoteOperations) {\r\n            var that = this;\r\n            that._dataSource = dataSource;\r\n            that._remoteOperations = remoteOperations || {};\r\n            that._isLastPage = !dataSource.isLastPage();\r\n            that._hasLastPage = false;\r\n            that._currentTotalCount = 0;\r\n            that._cachedData = {\r\n                items: {}\r\n            };\r\n            that._lastOperationTypes = {};\r\n            that._eventsStrategy = dataSource._eventsStrategy;\r\n            that._totalCountCorrection = 0;\r\n            that._isLoadingAll = false;\r\n            that.changed = Callbacks();\r\n            that.loadingChanged = Callbacks();\r\n            that.loadError = Callbacks();\r\n            that.customizeStoreLoadOptions = Callbacks();\r\n            that.changing = Callbacks();\r\n            that.pushed = Callbacks();\r\n            that._dataChangedHandler = that._handleDataChanged.bind(that);\r\n            that._customizeStoreLoadOptionsHandler = that._handleCustomizeStoreLoadOptions.bind(that);\r\n            that._dataLoadedHandler = that._handleDataLoaded.bind(that);\r\n            that._loadingChangedHandler = that._handleLoadingChanged.bind(that);\r\n            that._loadErrorHandler = that._handleLoadError.bind(that);\r\n            that._pushHandler = that._handlePush.bind(that);\r\n            that._changingHandler = that._handleChanging.bind(that);\r\n            dataSource.on(\"changed\", that._dataChangedHandler);\r\n            dataSource.on(\"customizeStoreLoadOptions\", that._customizeStoreLoadOptionsHandler);\r\n            dataSource.on(\"customizeLoadResult\", that._dataLoadedHandler);\r\n            dataSource.on(\"loadingChanged\", that._loadingChangedHandler);\r\n            dataSource.on(\"loadError\", that._loadErrorHandler);\r\n            dataSource.on(\"changing\", that._changingHandler);\r\n            dataSource.store().on(\"beforePush\", that._pushHandler);\r\n            each(dataSource, (function(memberName, member) {\r\n                if (!that[memberName] && isFunction(member)) {\r\n                    that[memberName] = function() {\r\n                        return this._dataSource[memberName].apply(this._dataSource, arguments)\r\n                    }\r\n                }\r\n            }))\r\n        },\r\n        remoteOperations: function() {\r\n            return this._remoteOperations\r\n        },\r\n        dispose: function(isSharedDataSource) {\r\n            var dataSource = this._dataSource;\r\n            var store = dataSource.store();\r\n            dataSource.off(\"changed\", this._dataChangedHandler);\r\n            dataSource.off(\"customizeStoreLoadOptions\", this._customizeStoreLoadOptionsHandler);\r\n            dataSource.off(\"customizeLoadResult\", this._dataLoadedHandler);\r\n            dataSource.off(\"loadingChanged\", this._loadingChangedHandler);\r\n            dataSource.off(\"loadError\", this._loadErrorHandler);\r\n            dataSource.off(\"changing\", this._changingHandler);\r\n            store && store.off(\"beforePush\", this._pushHandler);\r\n            if (!isSharedDataSource) {\r\n                dataSource.dispose()\r\n            }\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var dataSource = this._dataSource;\r\n            if (operationTypes.reload) {\r\n                this.resetCurrentTotalCount();\r\n                this._isLastPage = !dataSource.paginate();\r\n                this._hasLastPage = this._isLastPage\r\n            }\r\n        },\r\n        resetCurrentTotalCount: function() {\r\n            this._currentTotalCount = 0;\r\n            this._totalCountCorrection = 0\r\n        },\r\n        resetCache: function() {\r\n            this._cachedStoreData = void 0;\r\n            this._cachedPagingData = void 0\r\n        },\r\n        resetPagesCache: function() {\r\n            this._cachedData = {\r\n                items: {}\r\n            }\r\n        },\r\n        _needClearStoreDataCache: function() {\r\n            var remoteOperations = this.remoteOperations();\r\n            var operationTypes = calculateOperationTypes(this._lastLoadOptions || {}, {});\r\n            var isLocalOperations = Object.keys(remoteOperations).every(operationName => !operationTypes[operationName] || !remoteOperations[operationName]);\r\n            return !isLocalOperations\r\n        },\r\n        push: function(changes, fromStore) {\r\n            var store = this.store();\r\n            if (this._needClearStoreDataCache()) {\r\n                this._cachedStoreData = void 0\r\n            }\r\n            this._cachedPagingData = void 0;\r\n            this.resetPagesCache(true);\r\n            if (this._cachedStoreData) {\r\n                applyBatch({\r\n                    keyInfo: store,\r\n                    data: this._cachedStoreData,\r\n                    changes: changes\r\n                })\r\n            }\r\n            if (!fromStore) {\r\n                this._applyBatch(changes)\r\n            }\r\n            this.pushed.fire(changes)\r\n        },\r\n        getDataIndexGetter: function() {\r\n            if (!this._dataIndexGetter) {\r\n                var indexByKey;\r\n                var storeData;\r\n                var store = this.store();\r\n                this._dataIndexGetter = data => {\r\n                    var isCacheUpdated = storeData && storeData !== this._cachedStoreData;\r\n                    if (!indexByKey || isCacheUpdated) {\r\n                        storeData = this._cachedStoreData || [];\r\n                        indexByKey = {};\r\n                        for (var i = 0; i < storeData.length; i++) {\r\n                            indexByKey[getKeyHash(store.keyOf(storeData[i]))] = i\r\n                        }\r\n                    }\r\n                    return indexByKey[getKeyHash(store.keyOf(data))]\r\n                }\r\n            }\r\n            return this._dataIndexGetter\r\n        },\r\n        _getKeyInfo: function() {\r\n            return this.store()\r\n        },\r\n        _applyBatch: function(changes) {\r\n            var keyInfo = this._getKeyInfo();\r\n            var dataSource = this._dataSource;\r\n            var groupCount = gridCore.normalizeSortingInfo(this.group()).length;\r\n            var totalCount = this.totalCount();\r\n            var isVirtualMode = \"virtual\" === this.option(\"scrolling.mode\");\r\n            changes = changes.filter((function(change) {\r\n                return !dataSource.paginate() || \"insert\" !== change.type || void 0 !== change.index\r\n            }));\r\n            var getItemCount = () => groupCount ? this.itemsCount() : this.items().length;\r\n            var oldItemCount = getItemCount();\r\n            applyBatch({\r\n                keyInfo: keyInfo,\r\n                data: this._items,\r\n                changes: changes,\r\n                groupCount: groupCount,\r\n                useInsertIndex: true\r\n            });\r\n            applyBatch({\r\n                keyInfo: keyInfo,\r\n                data: dataSource.items(),\r\n                changes: changes,\r\n                groupCount: groupCount,\r\n                useInsertIndex: true\r\n            });\r\n            if (this._currentTotalCount > 0 || isVirtualMode && totalCount === oldItemCount) {\r\n                this._totalCountCorrection += getItemCount() - oldItemCount\r\n            }\r\n            changes.splice(0, changes.length)\r\n        },\r\n        _handlePush: function(_ref5) {\r\n            var {\r\n                changes: changes\r\n            } = _ref5;\r\n            this.push(changes, true)\r\n        },\r\n        _handleChanging: function(e) {\r\n            this.changing.fire(e);\r\n            this._applyBatch(e.changes)\r\n        },\r\n        _needCleanCacheByOperation: function(operationType, remoteOperations) {\r\n            var operationTypesByOrder = [\"filtering\", \"sorting\", \"paging\"];\r\n            var operationTypeIndex = operationTypesByOrder.indexOf(operationType);\r\n            var currentOperationTypes = operationTypeIndex >= 0 ? operationTypesByOrder.slice(operationTypeIndex) : [operationType];\r\n            return currentOperationTypes.some(operationType => remoteOperations[operationType])\r\n        },\r\n        _customizeRemoteOperations: function(options, operationTypes) {\r\n            var cachedStoreData = this._cachedStoreData;\r\n            var cachedPagingData = this._cachedPagingData;\r\n            var cachedData = this._cachedData;\r\n            if (options.storeLoadOptions.filter && !options.remoteOperations.filtering || options.storeLoadOptions.sort && !options.remoteOperations.sorting) {\r\n                options.remoteOperations = {\r\n                    filtering: options.remoteOperations.filtering,\r\n                    summary: options.remoteOperations.summary\r\n                }\r\n            }\r\n            if (operationTypes.fullReload) {\r\n                cachedStoreData = void 0;\r\n                cachedPagingData = void 0;\r\n                cachedData = {\r\n                    items: {}\r\n                }\r\n            } else {\r\n                if (operationTypes.reload) {\r\n                    cachedPagingData = void 0;\r\n                    cachedData = {\r\n                        items: {}\r\n                    }\r\n                } else if (operationTypes.groupExpanding) {\r\n                    cachedData = {\r\n                        items: {}\r\n                    }\r\n                }\r\n                each(operationTypes, (operationType, value) => {\r\n                    if (value && this._needCleanCacheByOperation(operationType, options.remoteOperations)) {\r\n                        cachedStoreData = void 0;\r\n                        cachedPagingData = void 0\r\n                    }\r\n                })\r\n            }\r\n            if (cachedPagingData) {\r\n                options.remoteOperations.paging = false\r\n            }\r\n            options.cachedStoreData = cachedStoreData;\r\n            options.cachedPagingData = cachedPagingData;\r\n            options.cachedData = cachedData;\r\n            if (!options.isCustomLoading) {\r\n                this._cachedStoreData = cachedStoreData;\r\n                this._cachedPagingData = cachedPagingData;\r\n                this._cachedData = cachedData\r\n            }\r\n        },\r\n        _handleCustomizeStoreLoadOptions(options) {\r\n            var _options$data;\r\n            this._handleDataLoading(options);\r\n            if (!(0 === (null === (_options$data = options.data) || void 0 === _options$data ? void 0 : _options$data.length))) {\r\n                options.data = getPageDataFromCache(options, true) || options.cachedStoreData\r\n            }\r\n        },\r\n        _handleDataLoading: function(options) {\r\n            var dataSource = this._dataSource;\r\n            var lastLoadOptions = this._lastLoadOptions;\r\n            this.customizeStoreLoadOptions.fire(options);\r\n            options.delay = this.option(\"loadingTimeout\");\r\n            options.originalStoreLoadOptions = options.storeLoadOptions;\r\n            options.remoteOperations = extend({}, this.remoteOperations());\r\n            var isFullReload = !this.isLoaded() && !this._isRefreshing;\r\n            if (this.option(\"integrationOptions.renderedOnServer\") && !this.isLoaded()) {\r\n                options.delay = void 0\r\n            }\r\n            var loadOptions = extend({\r\n                pageIndex: this.pageIndex(),\r\n                pageSize: this.pageSize()\r\n            }, options.storeLoadOptions);\r\n            var operationTypes = calculateOperationTypes(loadOptions, lastLoadOptions, isFullReload);\r\n            this._customizeRemoteOperations(options, operationTypes);\r\n            if (!options.isCustomLoading) {\r\n                var isRefreshing = this._isRefreshing;\r\n                options.pageIndex = dataSource.pageIndex();\r\n                options.lastLoadOptions = loadOptions;\r\n                options.operationTypes = operationTypes;\r\n                this._loadingOperationTypes = operationTypes;\r\n                this._isRefreshing = true;\r\n                when(isRefreshing || this._isRefreshed || this.refresh(options, operationTypes)).done(() => {\r\n                    if (this._lastOperationId === options.operationId) {\r\n                        this._isRefreshed = true;\r\n                        this.load().always(() => {\r\n                            this._isRefreshed = false\r\n                        })\r\n                    }\r\n                }).fail(() => {\r\n                    dataSource.cancel(options.operationId)\r\n                }).always(() => {\r\n                    this._isRefreshing = false\r\n                });\r\n                dataSource.cancel(this._lastOperationId);\r\n                this._lastOperationId = options.operationId;\r\n                if (this._isRefreshing) {\r\n                    dataSource.cancel(this._lastOperationId)\r\n                }\r\n            }\r\n            this._handleDataLoadingCore(options)\r\n        },\r\n        _handleDataLoadingCore: function(options) {\r\n            var remoteOperations = options.remoteOperations;\r\n            options.loadOptions = {};\r\n            var cachedExtra = options.cachedData.extra;\r\n            var localLoadOptionNames = {\r\n                filter: !remoteOperations.filtering,\r\n                sort: !remoteOperations.sorting,\r\n                group: !remoteOperations.grouping,\r\n                summary: !remoteOperations.summary,\r\n                skip: !remoteOperations.paging,\r\n                take: !remoteOperations.paging,\r\n                requireTotalCount: cachedExtra && \"totalCount\" in cachedExtra || !remoteOperations.paging\r\n            };\r\n            each(options.storeLoadOptions, (function(optionName, optionValue) {\r\n                if (localLoadOptionNames[optionName]) {\r\n                    options.loadOptions[optionName] = optionValue;\r\n                    delete options.storeLoadOptions[optionName]\r\n                }\r\n            }));\r\n            if (cachedExtra) {\r\n                options.extra = cachedExtra\r\n            }\r\n        },\r\n        _handleDataLoaded: function(options) {\r\n            var loadOptions = options.loadOptions;\r\n            var localPaging = options.remoteOperations && !options.remoteOperations.paging;\r\n            var cachedData = options.cachedData;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var needCache = false !== this.option(\"cacheEnabled\") && storeLoadOptions;\r\n            var needPageCache = needCache && !options.isCustomLoading && cachedData && (!localPaging || storeLoadOptions.group);\r\n            var needPagingCache = needCache && localPaging;\r\n            var needStoreCache = needPagingCache && !options.isCustomLoading;\r\n            if (!loadOptions) {\r\n                this._dataSource.cancel(options.operationId);\r\n                return\r\n            }\r\n            if (localPaging) {\r\n                options.skip = loadOptions.skip;\r\n                options.take = loadOptions.take;\r\n                delete loadOptions.skip;\r\n                delete loadOptions.take\r\n            }\r\n            if (loadOptions.group) {\r\n                loadOptions.group = options.group || loadOptions.group\r\n            }\r\n            var groupCount = gridCore.normalizeSortingInfo(options.group || storeLoadOptions.group || loadOptions.group).length;\r\n            if (options.cachedDataPartBegin) {\r\n                options.data = options.cachedDataPartBegin.concat(options.data)\r\n            }\r\n            if (options.cachedDataPartEnd) {\r\n                options.data = options.data.concat(options.cachedDataPartEnd)\r\n            }\r\n            if (!needPageCache || !getPageDataFromCache(options)) {\r\n                if (needPagingCache && options.cachedPagingData) {\r\n                    options.data = cloneItems(options.cachedPagingData, groupCount)\r\n                } else {\r\n                    if (needStoreCache) {\r\n                        if (!this._cachedStoreData) {\r\n                            this._cachedStoreData = cloneItems(options.data, gridCore.normalizeSortingInfo(storeLoadOptions.group).length)\r\n                        } else if (options.mergeStoreLoadData) {\r\n                            options.data = this._cachedStoreData = this._cachedStoreData.concat(options.data)\r\n                        }\r\n                    }\r\n                    new ArrayStore(options.data).load(loadOptions).done(data => {\r\n                        options.data = data;\r\n                        if (needStoreCache) {\r\n                            this._cachedPagingData = cloneItems(options.data, groupCount)\r\n                        }\r\n                    }).fail(error => {\r\n                        options.data = (new Deferred).reject(error)\r\n                    })\r\n                }\r\n                if (loadOptions.requireTotalCount && localPaging) {\r\n                    options.extra = isPlainObject(options.extra) ? options.extra : {};\r\n                    options.extra.totalCount = options.data.length\r\n                }\r\n                if (options.extra && options.extra.totalCount >= 0 && (false === storeLoadOptions.requireTotalCount || false === loadOptions.requireTotalCount)) {\r\n                    options.extra.totalCount = -1\r\n                }\r\n                this._handleDataLoadedCore(options);\r\n                if (needPageCache) {\r\n                    cachedData.extra = cachedData.extra || extend({}, options.extra);\r\n                    when(options.data).done(data => {\r\n                        ! function(options, data, groupCount) {\r\n                            var _ref3, _options$skip3, _ref4, _options$take3;\r\n                            var {\r\n                                storeLoadOptions: storeLoadOptions\r\n                            } = options;\r\n                            var skip = null !== (_ref3 = null !== (_options$skip3 = options.skip) && void 0 !== _options$skip3 ? _options$skip3 : storeLoadOptions.skip) && void 0 !== _ref3 ? _ref3 : 0;\r\n                            var take = null !== (_ref4 = null !== (_options$take3 = options.take) && void 0 !== _options$take3 ? _options$take3 : storeLoadOptions.take) && void 0 !== _ref4 ? _ref4 : 0;\r\n                            for (var i = 0; i < take; i++) {\r\n                                var globalIndex = i + skip;\r\n                                var cacheItems = options.cachedData.items;\r\n                                var skips = 0 === i && options.skips || [];\r\n                                cacheItems[globalIndex] = getCacheItem(cacheItems[globalIndex], data[i], groupCount, skips)\r\n                            }\r\n                        }(options, data, groupCount)\r\n                    })\r\n                }\r\n            }\r\n            when(options.data).done(() => {\r\n                if (options.lastLoadOptions) {\r\n                    this._lastLoadOptions = options.lastLoadOptions;\r\n                    Object.keys(options.operationTypes).forEach(operationType => {\r\n                        this._lastOperationTypes[operationType] = this._lastOperationTypes[operationType] || options.operationTypes[operationType]\r\n                    })\r\n                }\r\n            });\r\n            options.storeLoadOptions = options.originalStoreLoadOptions\r\n        },\r\n        _handleDataLoadedCore: function(options) {\r\n            if (options.remoteOperations && !options.remoteOperations.paging && Array.isArray(options.data)) {\r\n                if (void 0 !== options.skip) {\r\n                    options.data = options.data.slice(options.skip)\r\n                }\r\n                if (void 0 !== options.take) {\r\n                    options.data = options.data.slice(0, options.take)\r\n                }\r\n            }\r\n        },\r\n        _handleLoadingChanged: function(isLoading) {\r\n            this.loadingChanged.fire(isLoading)\r\n        },\r\n        _handleLoadError: function(error) {\r\n            this.loadError.fire(error);\r\n            this.changed.fire({\r\n                changeType: \"loadError\",\r\n                error: error\r\n            })\r\n        },\r\n        _loadPageSize: function() {\r\n            return this.pageSize()\r\n        },\r\n        _handleDataChanged: function(args) {\r\n            var currentTotalCount;\r\n            var dataSource = this._dataSource;\r\n            var isLoading = false;\r\n            var isDataLoading = !args || isDefined(args.changeType);\r\n            var itemsCount = this.itemsCount();\r\n            if (isDataLoading) {\r\n                this._isLastPage = !itemsCount || !this._loadPageSize() || itemsCount < this._loadPageSize();\r\n                if (this._isLastPage) {\r\n                    this._hasLastPage = true\r\n                }\r\n            }\r\n            if (dataSource.totalCount() >= 0) {\r\n                if (dataSource.pageIndex() >= this.pageCount()) {\r\n                    dataSource.pageIndex(this.pageCount() - 1);\r\n                    this.pageIndex(dataSource.pageIndex());\r\n                    this.resetPagesCache();\r\n                    dataSource.load();\r\n                    isLoading = true\r\n                }\r\n            } else if (isDataLoading) {\r\n                currentTotalCount = dataSource.pageIndex() * this.pageSize() + itemsCount;\r\n                if (currentTotalCount > this._currentTotalCount) {\r\n                    this._currentTotalCount = currentTotalCount;\r\n                    if (0 === dataSource.pageIndex() || !this.option(\"scrolling.legacyMode\")) {\r\n                        this._totalCountCorrection = 0\r\n                    }\r\n                }\r\n                if (0 === itemsCount && dataSource.pageIndex() >= this.pageCount()) {\r\n                    dataSource.pageIndex(this.pageCount() - 1);\r\n                    if (\"infinite\" !== this.option(\"scrolling.mode\")) {\r\n                        dataSource.load();\r\n                        isLoading = true\r\n                    }\r\n                }\r\n            }\r\n            if (!isLoading) {\r\n                this._operationTypes = this._lastOperationTypes;\r\n                this._lastOperationTypes = {};\r\n                this.component._optionCache = {};\r\n                this.changed.fire(args);\r\n                this.component._optionCache = void 0\r\n            }\r\n        },\r\n        _scheduleCustomLoadCallbacks: function(deferred) {\r\n            var that = this;\r\n            that._isCustomLoading = true;\r\n            deferred.always((function() {\r\n                that._isCustomLoading = false\r\n            }))\r\n        },\r\n        loadingOperationTypes: function() {\r\n            return this._loadingOperationTypes\r\n        },\r\n        operationTypes: function() {\r\n            return this._operationTypes\r\n        },\r\n        lastLoadOptions: function() {\r\n            return this._lastLoadOptions || {}\r\n        },\r\n        isLastPage: function() {\r\n            return this._isLastPage\r\n        },\r\n        _dataSourceTotalCount: function() {\r\n            return this._dataSource.totalCount()\r\n        },\r\n        totalCount: function() {\r\n            return parseInt((this._currentTotalCount || this._dataSourceTotalCount()) + this._totalCountCorrection)\r\n        },\r\n        totalCountCorrection: function() {\r\n            return this._totalCountCorrection\r\n        },\r\n        itemsCount: function() {\r\n            return this._dataSource.items().length\r\n        },\r\n        totalItemsCount: function() {\r\n            return this.totalCount()\r\n        },\r\n        pageSize: function() {\r\n            var dataSource = this._dataSource;\r\n            if (!arguments.length && !dataSource.paginate()) {\r\n                return 0\r\n            }\r\n            return dataSource.pageSize.apply(dataSource, arguments)\r\n        },\r\n        pageCount: function() {\r\n            var count = this.totalItemsCount() - this._totalCountCorrection;\r\n            var pageSize = this.pageSize();\r\n            if (pageSize && count > 0) {\r\n                return Math.max(1, Math.ceil(count / pageSize))\r\n            }\r\n            return 1\r\n        },\r\n        hasKnownLastPage: function() {\r\n            return this._hasLastPage || this._dataSource.totalCount() >= 0\r\n        },\r\n        loadFromStore: function(loadOptions, store) {\r\n            var dataSource = this._dataSource;\r\n            var d = new Deferred;\r\n            if (!dataSource) {\r\n                return\r\n            }\r\n            store = store || dataSource.store();\r\n            store.load(loadOptions).done((function(data, extra) {\r\n                if (data && !Array.isArray(data) && Array.isArray(data.data)) {\r\n                    extra = data;\r\n                    data = data.data\r\n                }\r\n                d.resolve(data, extra)\r\n            })).fail(d.reject);\r\n            return d\r\n        },\r\n        isCustomLoading: function() {\r\n            return !!this._isCustomLoading\r\n        },\r\n        load: function(options) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var d = new Deferred;\r\n            if (options) {\r\n                var store = dataSource.store();\r\n                var dataSourceLoadOptions = dataSource.loadOptions();\r\n                var loadResult = {\r\n                    storeLoadOptions: options,\r\n                    isCustomLoading: true\r\n                };\r\n                each(store._customLoadOptions() || [], (function(_, optionName) {\r\n                    if (!(optionName in loadResult.storeLoadOptions)) {\r\n                        loadResult.storeLoadOptions[optionName] = dataSourceLoadOptions[optionName]\r\n                    }\r\n                }));\r\n                this._isLoadingAll = options.isLoadingAll;\r\n                that._scheduleCustomLoadCallbacks(d);\r\n                dataSource._scheduleLoadCallbacks(d);\r\n                that._handleCustomizeStoreLoadOptions(loadResult);\r\n                ! function(action, timeout) {\r\n                    if (isDefined(timeout)) {\r\n                        executeAsync(action, timeout)\r\n                    } else {\r\n                        action()\r\n                    }\r\n                }((function() {\r\n                    if (!dataSource.store()) {\r\n                        return d.reject(\"canceled\")\r\n                    }\r\n                    when(loadResult.data || that.loadFromStore(loadResult.storeLoadOptions)).done((function(data, extra) {\r\n                        loadResult.data = data;\r\n                        loadResult.extra = extra || {};\r\n                        that._handleDataLoaded(loadResult);\r\n                        if (options.requireTotalCount && void 0 === loadResult.extra.totalCount) {\r\n                            loadResult.extra.totalCount = store.totalCount(loadResult.storeLoadOptions)\r\n                        }\r\n                        when(loadResult.data, loadResult.extra.totalCount).done((function(data, totalCount) {\r\n                            loadResult.extra.totalCount = totalCount;\r\n                            d.resolve(data, loadResult.extra)\r\n                        })).fail(d.reject)\r\n                    })).fail(d.reject)\r\n                }), that.option(\"loadingTimeout\"));\r\n                return d.fail((function() {\r\n                    that._eventsStrategy.fireEvent(\"loadError\", arguments)\r\n                })).always(() => {\r\n                    this._isLoadingAll = false\r\n                }).promise()\r\n            } else {\r\n                return dataSource.load()\r\n            }\r\n        },\r\n        reload: function(full) {\r\n            return full ? this._dataSource.reload() : this._dataSource.load()\r\n        },\r\n        getCachedStoreData: function() {\r\n            return this._cachedStoreData\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.data_source_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport DataSourceAdapter from \"../grid_core/ui.grid_core.data_source_adapter\";\r\nvar dataSourceAdapterType = DataSourceAdapter;\r\nexport default {\r\n    extend: function(extender) {\r\n        dataSourceAdapterType = dataSourceAdapterType.inherit(extender)\r\n    },\r\n    create: function(component) {\r\n        return new dataSourceAdapterType(component)\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.data_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport ArrayStore from \"../../data/array_store\";\r\nimport CustomStore from \"../../data/custom_store\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    noop,\r\n    deferRender,\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport DataHelperMixin from \"../../data_helper\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    findChanges\r\n} from \"../../core/utils/array_compare\";\r\nexport var dataControllerModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            loadingTimeout: 0,\r\n            dataSource: null,\r\n            cacheEnabled: true,\r\n            repaintChangesOnly: false,\r\n            highlightChanges: false,\r\n            onDataErrorOccurred: null,\r\n            remoteOperations: \"auto\",\r\n            paging: {\r\n                enabled: true,\r\n                pageSize: void 0,\r\n                pageIndex: void 0\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        data: modules.Controller.inherit({}).include(DataHelperMixin).inherit(function() {\r\n            var changePaging = function(that, optionName, value) {\r\n                var dataSource = that._dataSource;\r\n                if (dataSource) {\r\n                    if (void 0 !== value) {\r\n                        var oldValue = that._getPagingOptionValue(optionName);\r\n                        if (oldValue !== value) {\r\n                            if (\"pageSize\" === optionName) {\r\n                                dataSource.pageIndex(0)\r\n                            }\r\n                            dataSource[optionName](value);\r\n                            that._skipProcessingPagingChange = true;\r\n                            that.option(\"paging.\" + optionName, value);\r\n                            that._skipProcessingPagingChange = false;\r\n                            var pageIndex = dataSource.pageIndex();\r\n                            return dataSource[\"pageIndex\" === optionName ? \"load\" : \"reload\"]().done(() => that.pageChanged.fire(pageIndex))\r\n                        }\r\n                        return Deferred().resolve().promise()\r\n                    }\r\n                    return dataSource[optionName]()\r\n                }\r\n                return 0\r\n            };\r\n            var members = {\r\n                init: function() {\r\n                    var that = this;\r\n                    that._items = [];\r\n                    that._cachedProcessedItems = null;\r\n                    that._columnsController = that.getController(\"columns\");\r\n                    that._currentOperationTypes = null;\r\n                    that._dataChangedHandler = e => {\r\n                        that._currentOperationTypes = this._dataSource.operationTypes();\r\n                        that._handleDataChanged(e);\r\n                        that._currentOperationTypes = null\r\n                    };\r\n                    that._columnsChangedHandler = that._handleColumnsChanged.bind(that);\r\n                    that._loadingChangedHandler = that._handleLoadingChanged.bind(that);\r\n                    that._loadErrorHandler = that._handleLoadError.bind(that);\r\n                    that._customizeStoreLoadOptionsHandler = that._handleCustomizeStoreLoadOptions.bind(that);\r\n                    that._changingHandler = that._handleChanging.bind(that);\r\n                    that._dataPushedHandler = that._handleDataPushed.bind(that);\r\n                    that._columnsController.columnsChanged.add(that._columnsChangedHandler);\r\n                    that._isLoading = false;\r\n                    that._isCustomLoading = false;\r\n                    that._repaintChangesOnly = void 0;\r\n                    that._changes = [];\r\n                    that.createAction(\"onDataErrorOccurred\");\r\n                    that.dataErrorOccurred.add((function(error) {\r\n                        return that.executeAction(\"onDataErrorOccurred\", {\r\n                            error: error\r\n                        })\r\n                    }));\r\n                    that._refreshDataSource()\r\n                },\r\n                _getPagingOptionValue: function(optionName) {\r\n                    return this._dataSource[optionName]()\r\n                },\r\n                callbackNames: function() {\r\n                    return [\"changed\", \"loadingChanged\", \"dataErrorOccurred\", \"pageChanged\", \"dataSourceChanged\", \"pushed\"]\r\n                },\r\n                callbackFlags: function(name) {\r\n                    if (\"dataErrorOccurred\" === name) {\r\n                        return {\r\n                            stopOnFalse: true\r\n                        }\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"beginCustomLoading\", \"endCustomLoading\", \"refresh\", \"filter\", \"clearFilter\", \"getCombinedFilter\", \"keyOf\", \"byKey\", \"getDataByKeys\", \"pageIndex\", \"pageSize\", \"pageCount\", \"totalCount\", \"_disposeDataSource\", \"getKeyByRowIndex\", \"getRowIndexByKey\", \"getDataSource\", \"getVisibleRows\", \"repaintRows\"]\r\n                },\r\n                reset: function() {\r\n                    this._columnsController.reset();\r\n                    this._items = [];\r\n                    this._refreshDataSource()\r\n                },\r\n                _handleDataSourceChange(args) {\r\n                    if (args.value === args.previousValue || this.option(\"columns\") && Array.isArray(args.value) && Array.isArray(args.previousValue)) {\r\n                        var _this$_dataSource;\r\n                        var isValueChanged = args.value !== args.previousValue;\r\n                        if (isValueChanged) {\r\n                            var store = this.store();\r\n                            if (store) {\r\n                                store._array = args.value\r\n                            }\r\n                        }\r\n                        var isParasiteChange = Array.isArray(args.value) && !isValueChanged && (null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.isLoading());\r\n                        if (!isParasiteChange) {\r\n                            this.refresh(this.option(\"repaintChangesOnly\"))\r\n                        }\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                optionChanged: function(args) {\r\n                    var that = this;\r\n                    var dataSource;\r\n\r\n                    function handled() {\r\n                        args.handled = true\r\n                    }\r\n                    if (\"dataSource\" === args.name && args.name === args.fullName && this._handleDataSourceChange(args)) {\r\n                        handled();\r\n                        return\r\n                    }\r\n                    switch (args.name) {\r\n                        case \"cacheEnabled\":\r\n                        case \"repaintChangesOnly\":\r\n                        case \"highlightChanges\":\r\n                        case \"loadingTimeout\":\r\n                            handled();\r\n                            break;\r\n                        case \"remoteOperations\":\r\n                        case \"keyExpr\":\r\n                        case \"dataSource\":\r\n                        case \"scrolling\":\r\n                            handled();\r\n                            that.reset();\r\n                            break;\r\n                        case \"paging\":\r\n                            dataSource = that.dataSource();\r\n                            if (dataSource && that._setPagingOptions(dataSource)) {\r\n                                var pageIndex = dataSource.pageIndex();\r\n                                dataSource.load().done(() => that.pageChanged.fire(pageIndex))\r\n                            }\r\n                            handled();\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            that.reset();\r\n                            break;\r\n                        case \"columns\":\r\n                            dataSource = that.dataSource();\r\n                            if (dataSource && dataSource.isLoading() && args.name === args.fullName) {\r\n                                this._useSortingGroupingFromColumns = true;\r\n                                dataSource.load()\r\n                            }\r\n                            break;\r\n                        default:\r\n                            that.callBase(args)\r\n                    }\r\n                },\r\n                isReady: function() {\r\n                    return !this._isLoading\r\n                },\r\n                getDataSource: function() {\r\n                    return this._dataSource && this._dataSource._dataSource\r\n                },\r\n                getCombinedFilter: function(returnDataField) {\r\n                    return this.combinedFilter(void 0, returnDataField)\r\n                },\r\n                combinedFilter: function(filter, returnDataField) {\r\n                    var dataSource = this._dataSource;\r\n                    var columnsController = this._columnsController;\r\n                    if (dataSource) {\r\n                        if (void 0 === filter) {\r\n                            filter = dataSource.filter()\r\n                        }\r\n                        var additionalFilter = this._calculateAdditionalFilter();\r\n                        if (additionalFilter) {\r\n                            if (columnsController.isDataSourceApplied() || columnsController.isAllDataTypesDefined()) {\r\n                                filter = gridCoreUtils.combineFilters([additionalFilter, filter])\r\n                            }\r\n                        }\r\n                        filter = columnsController.updateFilter(filter, returnDataField || dataSource.remoteOperations().filtering)\r\n                    }\r\n                    return filter\r\n                },\r\n                waitReady: function() {\r\n                    if (this._updateLockCount) {\r\n                        this._readyDeferred = new Deferred;\r\n                        return this._readyDeferred\r\n                    }\r\n                    return when()\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var changes = this._changes;\r\n                    if (changes.length) {\r\n                        this._changes = [];\r\n                        var repaintChangesOnly = changes.every(change => change.repaintChangesOnly);\r\n                        this.updateItems(1 === changes.length ? changes[0] : {\r\n                            repaintChangesOnly: repaintChangesOnly\r\n                        })\r\n                    }\r\n                    if (this._readyDeferred) {\r\n                        this._readyDeferred.resolve();\r\n                        this._readyDeferred = null\r\n                    }\r\n                },\r\n                _handleCustomizeStoreLoadOptions: function(e) {\r\n                    var _storeLoadOptions$fil;\r\n                    var columnsController = this._columnsController;\r\n                    var dataSource = this._dataSource;\r\n                    var storeLoadOptions = e.storeLoadOptions;\r\n                    if (e.isCustomLoading && !storeLoadOptions.isLoadingAll) {\r\n                        return\r\n                    }\r\n                    storeLoadOptions.filter = this.combinedFilter(storeLoadOptions.filter);\r\n                    if (1 === (null === (_storeLoadOptions$fil = storeLoadOptions.filter) || void 0 === _storeLoadOptions$fil ? void 0 : _storeLoadOptions$fil.length) && \"!\" === storeLoadOptions.filter[0]) {\r\n                        e.data = [];\r\n                        e.extra = e.extra || {};\r\n                        e.extra.totalCount = 0\r\n                    }\r\n                    if (!columnsController.isDataSourceApplied()) {\r\n                        columnsController.updateColumnDataTypes(dataSource)\r\n                    }\r\n                    this._columnsUpdating = true;\r\n                    columnsController.updateSortingGrouping(dataSource, !this._useSortingGroupingFromColumns);\r\n                    this._columnsUpdating = false;\r\n                    storeLoadOptions.sort = columnsController.getSortDataSourceParameters();\r\n                    storeLoadOptions.group = columnsController.getGroupDataSourceParameters();\r\n                    dataSource.sort(storeLoadOptions.sort);\r\n                    dataSource.group(storeLoadOptions.group);\r\n                    storeLoadOptions.sort = columnsController.getSortDataSourceParameters(!dataSource.remoteOperations().sorting);\r\n                    e.group = columnsController.getGroupDataSourceParameters(!dataSource.remoteOperations().grouping)\r\n                },\r\n                _handleColumnsChanged: function(e) {\r\n                    var that = this;\r\n                    var changeTypes = e.changeTypes;\r\n                    var optionNames = e.optionNames;\r\n                    var filterValue;\r\n                    var filterValues;\r\n                    var filterApplied;\r\n                    if (changeTypes.sorting || changeTypes.grouping) {\r\n                        if (that._dataSource && !that._columnsUpdating) {\r\n                            that._dataSource.group(that._columnsController.getGroupDataSourceParameters());\r\n                            that._dataSource.sort(that._columnsController.getSortDataSourceParameters());\r\n                            that.reload()\r\n                        }\r\n                    } else if (changeTypes.columns) {\r\n                        filterValues = that._columnsController.columnOption(e.columnIndex, \"filterValues\");\r\n                        if (optionNames.filterValues || optionNames.filterType && Array.isArray(filterValues) || optionNames.filterValue || optionNames.selectedFilterOperation || optionNames.allowFiltering) {\r\n                            filterValue = that._columnsController.columnOption(e.columnIndex, \"filterValue\");\r\n                            if (Array.isArray(filterValues) || void 0 === e.columnIndex || isDefined(filterValue) || !optionNames.selectedFilterOperation || optionNames.filterValue) {\r\n                                that._applyFilter();\r\n                                filterApplied = true\r\n                            }\r\n                        }\r\n                        if (!that._needApplyFilter && !gridCoreUtils.checkChanges(optionNames, [\"width\", \"visibleWidth\", \"filterValue\", \"bufferedFilterValue\", \"selectedFilterOperation\", \"filterValues\", \"filterType\"])) {\r\n                            that._columnsController.columnsChanged.add((function updateItemsHandler() {\r\n                                that._columnsController.columnsChanged.remove(updateItemsHandler);\r\n                                that.updateItems({\r\n                                    repaintChangesOnly: false,\r\n                                    virtualColumnsScrolling: e.changeTypes.virtualColumnsScrolling\r\n                                })\r\n                            }))\r\n                        }\r\n                        if (isDefined(optionNames.visible)) {\r\n                            var column = that._columnsController.columnOption(e.columnIndex);\r\n                            if (column && (isDefined(column.filterValue) || isDefined(column.filterValues))) {\r\n                                that._applyFilter();\r\n                                filterApplied = true\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!filterApplied && changeTypes.filtering) {\r\n                        that.reload()\r\n                    }\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var columnsController = that._columnsController;\r\n                    var isAsyncDataSourceApplying = false;\r\n                    this._useSortingGroupingFromColumns = false;\r\n                    if (dataSource && !that._isDataSourceApplying) {\r\n                        that._isDataSourceApplying = true;\r\n                        when(that._columnsController.applyDataSource(dataSource)).done((function() {\r\n                            if (that._isLoading) {\r\n                                that._handleLoadingChanged(false)\r\n                            }\r\n                            if (isAsyncDataSourceApplying && e && e.isDelayed) {\r\n                                e.isDelayed = false\r\n                            }\r\n                            that._isDataSourceApplying = false;\r\n                            var needApplyFilter = that._needApplyFilter;\r\n                            that._needApplyFilter = false;\r\n                            if (needApplyFilter && !that._isAllDataTypesDefined && (additionalFilter = that._calculateAdditionalFilter(), additionalFilter && additionalFilter.length)) {\r\n                                errors.log(\"W1005\", that.component.NAME);\r\n                                that._applyFilter()\r\n                            } else {\r\n                                that.updateItems(e, true)\r\n                            }\r\n                            var additionalFilter\r\n                        })).fail((function() {\r\n                            that._isDataSourceApplying = false\r\n                        }));\r\n                        if (that._isDataSourceApplying) {\r\n                            isAsyncDataSourceApplying = true;\r\n                            that._handleLoadingChanged(true)\r\n                        }\r\n                        that._needApplyFilter = !that._columnsController.isDataSourceApplied();\r\n                        that._isAllDataTypesDefined = columnsController.isAllDataTypesDefined()\r\n                    }\r\n                },\r\n                _handleLoadingChanged: function(isLoading) {\r\n                    this._isLoading = isLoading;\r\n                    this._fireLoadingChanged()\r\n                },\r\n                _handleLoadError: function(e) {\r\n                    this.dataErrorOccurred.fire(e)\r\n                },\r\n                _handleDataPushed: function(changes) {\r\n                    this.pushed.fire(changes)\r\n                },\r\n                fireError: function() {\r\n                    this.dataErrorOccurred.fire(errors.Error.apply(errors, arguments))\r\n                },\r\n                _setPagingOptions: function(dataSource) {\r\n                    var pageIndex = this.option(\"paging.pageIndex\");\r\n                    var pageSize = this.option(\"paging.pageSize\");\r\n                    var pagingEnabled = this.option(\"paging.enabled\");\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var appendMode = \"infinite\" === scrollingMode;\r\n                    var virtualMode = \"virtual\" === scrollingMode;\r\n                    var paginate = pagingEnabled || virtualMode || appendMode;\r\n                    var isChanged = false;\r\n                    dataSource.requireTotalCount(!appendMode);\r\n                    if (void 0 !== pagingEnabled && dataSource.paginate() !== paginate) {\r\n                        dataSource.paginate(paginate);\r\n                        isChanged = true\r\n                    }\r\n                    if (void 0 !== pageSize && dataSource.pageSize() !== pageSize) {\r\n                        dataSource.pageSize(pageSize);\r\n                        isChanged = true\r\n                    }\r\n                    if (void 0 !== pageIndex && dataSource.pageIndex() !== pageIndex) {\r\n                        dataSource.pageIndex(pageIndex);\r\n                        isChanged = true\r\n                    }\r\n                    return isChanged\r\n                },\r\n                _getSpecificDataSourceOption: function() {\r\n                    var dataSource = this.option(\"dataSource\");\r\n                    if (Array.isArray(dataSource)) {\r\n                        return {\r\n                            store: {\r\n                                type: \"array\",\r\n                                data: dataSource,\r\n                                key: this.option(\"keyExpr\")\r\n                            }\r\n                        }\r\n                    }\r\n                    return dataSource\r\n                },\r\n                _initDataSource: function() {\r\n                    var dataSource = this.option(\"dataSource\");\r\n                    var oldDataSource = this._dataSource;\r\n                    this.callBase();\r\n                    dataSource = this._dataSource;\r\n                    this._useSortingGroupingFromColumns = true;\r\n                    this._cachedProcessedItems = null;\r\n                    if (dataSource) {\r\n                        this._setPagingOptions(dataSource);\r\n                        this.setDataSource(dataSource)\r\n                    } else if (oldDataSource) {\r\n                        this.updateItems()\r\n                    }\r\n                },\r\n                _loadDataSource: function() {\r\n                    var dataSource = this._dataSource;\r\n                    var result = new Deferred;\r\n                    when(this._columnsController.refresh(true)).always((function() {\r\n                        if (dataSource) {\r\n                            dataSource.load().done(result.resolve).fail(result.reject)\r\n                        } else {\r\n                            result.resolve()\r\n                        }\r\n                    }));\r\n                    return result.promise()\r\n                },\r\n                _beforeProcessItems: function(items) {\r\n                    return items.slice(0)\r\n                },\r\n                getRowIndexDelta: function() {\r\n                    return 0\r\n                },\r\n                _processItems: function(items, change) {\r\n                    var that = this;\r\n                    var rowIndexDelta = that.getRowIndexDelta();\r\n                    var changeType = change.changeType;\r\n                    var visibleColumns = that._columnsController.getVisibleColumns(null, \"loadingAll\" === changeType);\r\n                    var visibleItems = that._items;\r\n                    var lastVisibleItem = \"append\" === changeType && visibleItems.length > 0 ? visibleItems[visibleItems.length - 1] : null;\r\n                    var dataIndex = isDefined(null === lastVisibleItem || void 0 === lastVisibleItem ? void 0 : lastVisibleItem.dataIndex) ? lastVisibleItem.dataIndex + 1 : 0;\r\n                    var options = {\r\n                        visibleColumns: visibleColumns,\r\n                        dataIndex: dataIndex\r\n                    };\r\n                    var result = [];\r\n                    each(items, (function(index, item) {\r\n                        if (isDefined(item)) {\r\n                            options.rowIndex = index - rowIndexDelta;\r\n                            item = that._processItem(item, options);\r\n                            result.push(item)\r\n                        }\r\n                    }));\r\n                    return result\r\n                },\r\n                _processItem: function(item, options) {\r\n                    item = this._generateDataItem(item, options);\r\n                    item = this._processDataItem(item, options);\r\n                    item.dataIndex = options.dataIndex++;\r\n                    return item\r\n                },\r\n                _generateDataItem: function(data) {\r\n                    return {\r\n                        rowType: \"data\",\r\n                        data: data,\r\n                        key: this.keyOf(data)\r\n                    }\r\n                },\r\n                _processDataItem: function(dataItem, options) {\r\n                    dataItem.values = this.generateDataValues(dataItem.data, options.visibleColumns);\r\n                    return dataItem\r\n                },\r\n                generateDataValues: function(data, columns, isModified) {\r\n                    var values = [];\r\n                    var value;\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        var column = columns[i];\r\n                        value = isModified ? void 0 : null;\r\n                        if (!column.command) {\r\n                            if (column.calculateCellValue) {\r\n                                value = column.calculateCellValue(data)\r\n                            } else if (column.dataField) {\r\n                                value = data[column.dataField]\r\n                            }\r\n                        }\r\n                        values.push(value)\r\n                    }\r\n                    return values\r\n                },\r\n                _applyChange: function(change) {\r\n                    if (\"update\" === change.changeType) {\r\n                        this._applyChangeUpdate(change)\r\n                    } else if (this.items().length && change.repaintChangesOnly && \"refresh\" === change.changeType) {\r\n                        this._applyChangesOnly(change)\r\n                    } else if (\"refresh\" === change.changeType) {\r\n                        this._applyChangeFull(change)\r\n                    }\r\n                },\r\n                _applyChangeFull: function(change) {\r\n                    this._items = change.items.slice(0)\r\n                },\r\n                _getRowIndices: function(change) {\r\n                    var rowIndices = change.rowIndices.slice(0);\r\n                    var rowIndexDelta = this.getRowIndexDelta();\r\n                    rowIndices.sort((function(a, b) {\r\n                        return a - b\r\n                    }));\r\n                    for (var i = 0; i < rowIndices.length; i++) {\r\n                        var correctedRowIndex = rowIndices[i];\r\n                        if (change.allowInvisibleRowIndices) {\r\n                            correctedRowIndex += rowIndexDelta\r\n                        }\r\n                        if (correctedRowIndex < 0) {\r\n                            rowIndices.splice(i, 1);\r\n                            i--\r\n                        }\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                _applyChangeUpdate: function(change) {\r\n                    var that = this;\r\n                    var items = change.items;\r\n                    var rowIndices = that._getRowIndices(change);\r\n                    var rowIndexDelta = that.getRowIndexDelta();\r\n                    var repaintChangesOnly = that.option(\"repaintChangesOnly\");\r\n                    var prevIndex = -1;\r\n                    var rowIndexCorrection = 0;\r\n                    var changeType;\r\n                    change.items = [];\r\n                    change.rowIndices = [];\r\n                    change.columnIndices = [];\r\n                    change.changeTypes = [];\r\n                    var equalItems = function(item1, item2, strict) {\r\n                        var result = item1 && item2 && equalByValue(item1.key, item2.key);\r\n                        if (result && strict) {\r\n                            result = item1.rowType === item2.rowType && (\"detail\" !== item2.rowType || item1.isEditing === item2.isEditing)\r\n                        }\r\n                        return result\r\n                    };\r\n                    each(rowIndices, (function(index, rowIndex) {\r\n                        var columnIndices;\r\n                        rowIndex += rowIndexCorrection + rowIndexDelta;\r\n                        if (prevIndex === rowIndex) {\r\n                            return\r\n                        }\r\n                        prevIndex = rowIndex;\r\n                        var oldItem = that._items[rowIndex];\r\n                        var oldNextItem = that._items[rowIndex + 1];\r\n                        var newItem = items[rowIndex];\r\n                        var newNextItem = items[rowIndex + 1];\r\n                        var strict = equalItems(oldItem, oldNextItem) || equalItems(newItem, newNextItem);\r\n                        if (newItem) {\r\n                            newItem.rowIndex = rowIndex;\r\n                            change.items.push(newItem)\r\n                        }\r\n                        if (oldItem && newItem && equalItems(oldItem, newItem, strict)) {\r\n                            changeType = \"update\";\r\n                            that._items[rowIndex] = newItem;\r\n                            if (oldItem.visible !== newItem.visible) {\r\n                                change.items.splice(-1, 1, {\r\n                                    visible: newItem.visible\r\n                                })\r\n                            } else if (repaintChangesOnly && !change.isFullUpdate) {\r\n                                columnIndices = that._partialUpdateRow(oldItem, newItem, rowIndex - rowIndexDelta)\r\n                            }\r\n                        } else if (newItem && !oldItem || newNextItem && equalItems(oldItem, newNextItem, strict)) {\r\n                            changeType = \"insert\";\r\n                            that._items.splice(rowIndex, 0, newItem);\r\n                            rowIndexCorrection++\r\n                        } else if (oldItem && !newItem || oldNextItem && equalItems(newItem, oldNextItem, strict)) {\r\n                            changeType = \"remove\";\r\n                            that._items.splice(rowIndex, 1);\r\n                            rowIndexCorrection--;\r\n                            prevIndex = -1\r\n                        } else if (newItem) {\r\n                            changeType = \"update\";\r\n                            that._items[rowIndex] = newItem\r\n                        } else {\r\n                            return\r\n                        }\r\n                        change.rowIndices.push(rowIndex - rowIndexDelta);\r\n                        change.changeTypes.push(changeType);\r\n                        change.columnIndices.push(columnIndices)\r\n                    }))\r\n                },\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    if (JSON.stringify(oldRow.values[columnIndex]) !== JSON.stringify(newRow.values[columnIndex])) {\r\n                        return true\r\n                    }\r\n\r\n                    function isCellModified(row, columnIndex) {\r\n                        return row.modifiedValues ? void 0 !== row.modifiedValues[columnIndex] : false\r\n                    }\r\n                    if (isCellModified(oldRow, columnIndex) !== isCellModified(newRow, columnIndex)) {\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                _getChangedColumnIndices: function(oldItem, newItem, visibleRowIndex, isLiveUpdate) {\r\n                    var columnIndices;\r\n                    if (oldItem.rowType === newItem.rowType) {\r\n                        if (\"group\" !== newItem.rowType && \"groupFooter\" !== newItem.rowType) {\r\n                            columnIndices = [];\r\n                            if (\"detail\" !== newItem.rowType) {\r\n                                for (var columnIndex = 0; columnIndex < oldItem.values.length; columnIndex++) {\r\n                                    if (this._isCellChanged(oldItem, newItem, visibleRowIndex, columnIndex, isLiveUpdate)) {\r\n                                        columnIndices.push(columnIndex)\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (\"group\" === newItem.rowType && newItem.isExpanded === oldItem.isExpanded && oldItem.cells) {\r\n                            columnIndices = oldItem.cells.map((cell, index) => {\r\n                                var _cell$column;\r\n                                return \"groupExpand\" !== (null === (_cell$column = cell.column) || void 0 === _cell$column ? void 0 : _cell$column.type) ? index : -1\r\n                            }).filter(index => index >= 0)\r\n                        }\r\n                    }\r\n                    return columnIndices\r\n                },\r\n                _partialUpdateRow: function(oldItem, newItem, visibleRowIndex, isLiveUpdate) {\r\n                    var _changedColumnIndices;\r\n                    var changedColumnIndices = this._getChangedColumnIndices(oldItem, newItem, visibleRowIndex, isLiveUpdate);\r\n                    if (null !== (_changedColumnIndices = changedColumnIndices) && void 0 !== _changedColumnIndices && _changedColumnIndices.length && this.option(\"dataRowTemplate\")) {\r\n                        changedColumnIndices = void 0\r\n                    }\r\n                    if (changedColumnIndices) {\r\n                        oldItem.cells && oldItem.cells.forEach((function(cell, columnIndex) {\r\n                            var isCellChanged = changedColumnIndices.indexOf(columnIndex) >= 0;\r\n                            if (!isCellChanged && cell && cell.update) {\r\n                                cell.update(newItem)\r\n                            }\r\n                        }));\r\n                        newItem.update = oldItem.update;\r\n                        newItem.watch = oldItem.watch;\r\n                        newItem.cells = oldItem.cells;\r\n                        if (isLiveUpdate) {\r\n                            newItem.oldValues = oldItem.values\r\n                        }\r\n                        oldItem.update && oldItem.update(newItem)\r\n                    }\r\n                    return changedColumnIndices\r\n                },\r\n                _isItemEquals: function(item1, item2) {\r\n                    if (JSON.stringify(item1.values) !== JSON.stringify(item2.values)) {\r\n                        return false\r\n                    }\r\n                    if ([\"modified\", \"isNewRow\", \"removed\", \"isEditing\"].some(field => item1[field] !== item2[field])) {\r\n                        return false\r\n                    }\r\n                    if (\"group\" === item1.rowType || \"groupFooter\" === item1.rowType) {\r\n                        var _item1$data, _item2$data, _item1$data2, _item2$data2;\r\n                        var expandedMatch = item1.isExpanded === item2.isExpanded;\r\n                        var summaryCellsMatch = JSON.stringify(item1.summaryCells) === JSON.stringify(item2.summaryCells);\r\n                        var continuationMatch = (null === (_item1$data = item1.data) || void 0 === _item1$data ? void 0 : _item1$data.isContinuation) === (null === (_item2$data = item2.data) || void 0 === _item2$data ? void 0 : _item2$data.isContinuation) && (null === (_item1$data2 = item1.data) || void 0 === _item1$data2 ? void 0 : _item1$data2.isContinuationOnNextPage) === (null === (_item2$data2 = item2.data) || void 0 === _item2$data2 ? void 0 : _item2$data2.isContinuationOnNextPage);\r\n                        if (!expandedMatch || !summaryCellsMatch || !continuationMatch) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                _applyChangesOnly: function(change) {\r\n                    var rowIndices = [];\r\n                    var columnIndices = [];\r\n                    var changeTypes = [];\r\n                    var items = [];\r\n                    var newIndexByKey = {};\r\n\r\n                    function getRowKey(row) {\r\n                        if (row) {\r\n                            return row.rowType + \",\" + JSON.stringify(row.key)\r\n                        }\r\n                    }\r\n                    var currentItems = this._items;\r\n                    var oldItems = currentItems.slice();\r\n                    change.items.forEach((function(item, index) {\r\n                        var key = getRowKey(item);\r\n                        newIndexByKey[key] = index;\r\n                        item.rowIndex = index\r\n                    }));\r\n                    var result = findChanges(oldItems, change.items, getRowKey, (item1, item2) => {\r\n                        if (!this._isItemEquals(item1, item2)) {\r\n                            return false\r\n                        }\r\n                        if (item1.cells) {\r\n                            item1.update && item1.update(item2);\r\n                            item1.cells.forEach((function(cell) {\r\n                                if (cell && cell.update) {\r\n                                    cell.update(item2, true)\r\n                                }\r\n                            }))\r\n                        }\r\n                        return true\r\n                    });\r\n                    if (!result) {\r\n                        this._applyChangeFull(change);\r\n                        return\r\n                    }\r\n                    result.forEach(change => {\r\n                        switch (change.type) {\r\n                            case \"update\":\r\n                                var index = change.index;\r\n                                var newItem = change.data;\r\n                                var oldItem = change.oldItem;\r\n                                var changedColumnIndices = this._partialUpdateRow(oldItem, newItem, index, true);\r\n                                rowIndices.push(index);\r\n                                changeTypes.push(\"update\");\r\n                                items.push(newItem);\r\n                                currentItems[index] = newItem;\r\n                                columnIndices.push(changedColumnIndices);\r\n                                break;\r\n                            case \"insert\":\r\n                                rowIndices.push(change.index);\r\n                                changeTypes.push(\"insert\");\r\n                                items.push(change.data);\r\n                                columnIndices.push(void 0);\r\n                                currentItems.splice(change.index, 0, change.data);\r\n                                break;\r\n                            case \"remove\":\r\n                                rowIndices.push(change.index);\r\n                                changeTypes.push(\"remove\");\r\n                                currentItems.splice(change.index, 1);\r\n                                items.push(change.oldItem);\r\n                                columnIndices.push(void 0)\r\n                        }\r\n                    });\r\n                    change.repaintChangesOnly = true;\r\n                    change.changeType = \"update\";\r\n                    change.rowIndices = rowIndices;\r\n                    change.columnIndices = columnIndices;\r\n                    change.changeTypes = changeTypes;\r\n                    change.items = items;\r\n                    if (oldItems.length) {\r\n                        change.isLiveUpdate = true\r\n                    }\r\n                    this._correctRowIndices(rowIndex => {\r\n                        var oldRowIndexOffset = this._rowIndexOffset || 0;\r\n                        var rowIndexOffset = this.getRowIndexOffset();\r\n                        var oldItem = oldItems[rowIndex - oldRowIndexOffset];\r\n                        var key = getRowKey(oldItem);\r\n                        var newVisibleRowIndex = newIndexByKey[key];\r\n                        return newVisibleRowIndex >= 0 ? newVisibleRowIndex + rowIndexOffset - rowIndex : 0\r\n                    })\r\n                },\r\n                _correctRowIndices: noop,\r\n                _afterProcessItems: function(items) {\r\n                    return items\r\n                },\r\n                _updateItemsCore: function(change) {\r\n                    var items;\r\n                    var dataSource = this._dataSource;\r\n                    var changeType = change.changeType || \"refresh\";\r\n                    change.changeType = changeType;\r\n                    if (dataSource) {\r\n                        var cachedProcessedItems = this._cachedProcessedItems;\r\n                        if (change.useProcessedItemsCache && cachedProcessedItems) {\r\n                            items = cachedProcessedItems\r\n                        } else {\r\n                            items = change.items || dataSource.items();\r\n                            items = this._beforeProcessItems(items);\r\n                            items = this._processItems(items, change);\r\n                            this._cachedProcessedItems = items\r\n                        }\r\n                        items = this._afterProcessItems(items, change);\r\n                        change.items = items;\r\n                        var oldItems = this._items.length === items.length && this._items;\r\n                        this._applyChange(change);\r\n                        var rowIndexDelta = this.getRowIndexDelta();\r\n                        each(this._items, (index, item) => {\r\n                            item.rowIndex = index - rowIndexDelta;\r\n                            if (oldItems) {\r\n                                item.cells = oldItems[index].cells || []\r\n                            }\r\n                            var newItem = items[index];\r\n                            if (newItem) {\r\n                                item.loadIndex = newItem.loadIndex\r\n                            }\r\n                        });\r\n                        this._rowIndexOffset = this.getRowIndexOffset()\r\n                    } else {\r\n                        this._items = []\r\n                    }\r\n                },\r\n                _handleChanging: function(e) {\r\n                    var rows = this.getVisibleRows();\r\n                    var dataSource = this.dataSource();\r\n                    if (dataSource) {\r\n                        e.changes.forEach((function(change) {\r\n                            if (\"insert\" === change.type && change.index >= 0) {\r\n                                var dataIndex = 0;\r\n                                for (var i = 0; i < change.index; i++) {\r\n                                    var row = rows[i];\r\n                                    if (row && (\"data\" === row.rowType || \"group\" === row.rowType)) {\r\n                                        dataIndex++\r\n                                    }\r\n                                }\r\n                                change.index = dataIndex\r\n                            }\r\n                        }))\r\n                    }\r\n                },\r\n                updateItems: function(change, isDataChanged) {\r\n                    change = change || {};\r\n                    if (void 0 !== this._repaintChangesOnly) {\r\n                        var _change$repaintChange;\r\n                        change.repaintChangesOnly = null !== (_change$repaintChange = change.repaintChangesOnly) && void 0 !== _change$repaintChange ? _change$repaintChange : this._repaintChangesOnly;\r\n                        change.needUpdateDimensions = change.needUpdateDimensions || this._needUpdateDimensions\r\n                    } else if (change.changes) {\r\n                        change.repaintChangesOnly = this.option(\"repaintChangesOnly\")\r\n                    } else if (isDataChanged) {\r\n                        var operationTypes = this.dataSource().operationTypes();\r\n                        change.repaintChangesOnly = operationTypes && !operationTypes.grouping && !operationTypes.filtering && this.option(\"repaintChangesOnly\");\r\n                        change.isDataChanged = true;\r\n                        if (operationTypes && (operationTypes.reload || operationTypes.paging || operationTypes.groupExpanding)) {\r\n                            change.needUpdateDimensions = true\r\n                        }\r\n                    }\r\n                    if (this._updateLockCount) {\r\n                        this._changes.push(change);\r\n                        return\r\n                    }\r\n                    this._updateItemsCore(change);\r\n                    if (change.cancel) {\r\n                        return\r\n                    }\r\n                    this._fireChanged(change)\r\n                },\r\n                loadingOperationTypes: function() {\r\n                    var dataSource = this.dataSource();\r\n                    return dataSource && dataSource.loadingOperationTypes() || {}\r\n                },\r\n                _fireChanged: function(change) {\r\n                    if (this._currentOperationTypes) {\r\n                        change.operationTypes = this._currentOperationTypes;\r\n                        this._currentOperationTypes = null\r\n                    }\r\n                    deferRender(() => {\r\n                        this.changed.fire(change)\r\n                    })\r\n                },\r\n                isLoading: function() {\r\n                    return this._isLoading || this._isCustomLoading\r\n                },\r\n                _fireLoadingChanged: function() {\r\n                    this.loadingChanged.fire(this.isLoading(), this._loadingText)\r\n                },\r\n                _calculateAdditionalFilter: function() {\r\n                    return null\r\n                },\r\n                _applyFilter: function() {\r\n                    var dataSource = this._dataSource;\r\n                    if (dataSource) {\r\n                        dataSource.pageIndex(0);\r\n                        this._isFilterApplying = true;\r\n                        return this.reload().done(() => {\r\n                            if (this._isFilterApplying) {\r\n                                this.pageChanged.fire()\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                resetFilterApplying: function() {\r\n                    this._isFilterApplying = false\r\n                },\r\n                filter: function(filterExpr) {\r\n                    var dataSource = this._dataSource;\r\n                    var filter = dataSource && dataSource.filter();\r\n                    if (0 === arguments.length) {\r\n                        return filter\r\n                    }\r\n                    filterExpr = arguments.length > 1 ? Array.prototype.slice.call(arguments, 0) : filterExpr;\r\n                    if (gridCoreUtils.equalFilterParameters(filter, filterExpr)) {\r\n                        return\r\n                    }\r\n                    if (dataSource) {\r\n                        dataSource.filter(filterExpr)\r\n                    }\r\n                    this._applyFilter()\r\n                },\r\n                clearFilter: function(filterName) {\r\n                    var that = this;\r\n                    var columnsController = that._columnsController;\r\n                    var clearColumnOption = function(optionName) {\r\n                        var columnCount = columnsController.columnCount();\r\n                        for (var index = 0; index < columnCount; index++) {\r\n                            columnsController.columnOption(index, optionName, void 0)\r\n                        }\r\n                    };\r\n                    that.component.beginUpdate();\r\n                    if (arguments.length > 0) {\r\n                        switch (filterName) {\r\n                            case \"dataSource\":\r\n                                that.filter(null);\r\n                                break;\r\n                            case \"search\":\r\n                                that.searchByText(\"\");\r\n                                break;\r\n                            case \"header\":\r\n                                clearColumnOption(\"filterValues\");\r\n                                break;\r\n                            case \"row\":\r\n                                clearColumnOption(\"filterValue\")\r\n                        }\r\n                    } else {\r\n                        that.filter(null);\r\n                        that.searchByText(\"\");\r\n                        clearColumnOption(\"filterValue\");\r\n                        clearColumnOption(\"bufferedFilterValue\");\r\n                        clearColumnOption(\"filterValues\")\r\n                    }\r\n                    that.component.endUpdate()\r\n                },\r\n                _fireDataSourceChanged: function() {\r\n                    var that = this;\r\n                    that.changed.add((function changedHandler() {\r\n                        that.changed.remove(changedHandler);\r\n                        that.dataSourceChanged.fire()\r\n                    }))\r\n                },\r\n                _getDataSourceAdapter: noop,\r\n                _createDataSourceAdapterCore: function(dataSource, remoteOperations) {\r\n                    var dataSourceAdapterProvider = this._getDataSourceAdapter();\r\n                    var dataSourceAdapter = dataSourceAdapterProvider.create(this.component);\r\n                    dataSourceAdapter.init(dataSource, remoteOperations);\r\n                    return dataSourceAdapter\r\n                },\r\n                isLocalStore: function(store) {\r\n                    store = store || this.store();\r\n                    return store instanceof ArrayStore\r\n                },\r\n                isCustomStore: function(store) {\r\n                    store = store || this.store();\r\n                    return store instanceof CustomStore\r\n                },\r\n                _createDataSourceAdapter: function(dataSource) {\r\n                    var remoteOperations = this.option(\"remoteOperations\");\r\n                    var store = dataSource.store();\r\n                    var enabledRemoteOperations = {\r\n                        filtering: true,\r\n                        sorting: true,\r\n                        paging: true,\r\n                        grouping: true,\r\n                        summary: true\r\n                    };\r\n                    if (remoteOperations && remoteOperations.groupPaging) {\r\n                        remoteOperations = extend({}, enabledRemoteOperations, remoteOperations)\r\n                    }\r\n                    if (\"auto\" === remoteOperations) {\r\n                        remoteOperations = this.isLocalStore(store) || this.isCustomStore(store) ? {} : {\r\n                            filtering: true,\r\n                            sorting: true,\r\n                            paging: true\r\n                        }\r\n                    }\r\n                    if (true === remoteOperations) {\r\n                        remoteOperations = enabledRemoteOperations\r\n                    }\r\n                    return this._createDataSourceAdapterCore(dataSource, remoteOperations)\r\n                },\r\n                setDataSource: function(dataSource) {\r\n                    var oldDataSource = this._dataSource;\r\n                    if (!dataSource && oldDataSource) {\r\n                        oldDataSource.cancelAll();\r\n                        oldDataSource.changed.remove(this._dataChangedHandler);\r\n                        oldDataSource.loadingChanged.remove(this._loadingChangedHandler);\r\n                        oldDataSource.loadError.remove(this._loadErrorHandler);\r\n                        oldDataSource.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler);\r\n                        oldDataSource.changing.remove(this._changingHandler);\r\n                        oldDataSource.pushed.remove(this._dataPushedHandler);\r\n                        oldDataSource.dispose(this._isSharedDataSource)\r\n                    }\r\n                    if (dataSource) {\r\n                        dataSource = this._createDataSourceAdapter(dataSource)\r\n                    }\r\n                    this._dataSource = dataSource;\r\n                    if (dataSource) {\r\n                        this._fireDataSourceChanged();\r\n                        this._isLoading = !dataSource.isLoaded();\r\n                        this._needApplyFilter = true;\r\n                        this._isAllDataTypesDefined = this._columnsController.isAllDataTypesDefined();\r\n                        dataSource.changed.add(this._dataChangedHandler);\r\n                        dataSource.loadingChanged.add(this._loadingChangedHandler);\r\n                        dataSource.loadError.add(this._loadErrorHandler);\r\n                        dataSource.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler);\r\n                        dataSource.changing.add(this._changingHandler);\r\n                        dataSource.pushed.add(this._dataPushedHandler)\r\n                    }\r\n                },\r\n                items: function() {\r\n                    return this._items\r\n                },\r\n                isEmpty: function() {\r\n                    return !this.items().length\r\n                },\r\n                pageCount: function() {\r\n                    return this._dataSource ? this._dataSource.pageCount() : 1\r\n                },\r\n                dataSource: function() {\r\n                    return this._dataSource\r\n                },\r\n                store: function() {\r\n                    var dataSource = this._dataSource;\r\n                    return dataSource && dataSource.store()\r\n                },\r\n                loadAll: function(data) {\r\n                    var that = this;\r\n                    var d = new Deferred;\r\n                    var dataSource = that._dataSource;\r\n                    if (dataSource) {\r\n                        if (data) {\r\n                            var options = {\r\n                                data: data,\r\n                                isCustomLoading: true,\r\n                                storeLoadOptions: {\r\n                                    isLoadingAll: true\r\n                                },\r\n                                loadOptions: {\r\n                                    filter: that.getCombinedFilter(),\r\n                                    group: dataSource.group(),\r\n                                    sort: dataSource.sort()\r\n                                }\r\n                            };\r\n                            dataSource._handleDataLoaded(options);\r\n                            when(options.data).done((function(data) {\r\n                                data = that._beforeProcessItems(data);\r\n                                d.resolve(that._processItems(data, {\r\n                                    changeType: \"loadingAll\"\r\n                                }), options.extra && options.extra.summary)\r\n                            })).fail(d.reject)\r\n                        } else if (!dataSource.isLoading()) {\r\n                            var loadOptions = extend({}, dataSource.loadOptions(), {\r\n                                isLoadingAll: true,\r\n                                requireTotalCount: false\r\n                            });\r\n                            dataSource.load(loadOptions).done((function(items, extra) {\r\n                                items = that._beforeProcessItems(items);\r\n                                items = that._processItems(items, {\r\n                                    changeType: \"loadingAll\"\r\n                                });\r\n                                d.resolve(items, extra && extra.summary)\r\n                            })).fail(d.reject)\r\n                        } else {\r\n                            d.reject()\r\n                        }\r\n                    } else {\r\n                        d.resolve([])\r\n                    }\r\n                    return d\r\n                },\r\n                getKeyByRowIndex: function(rowIndex, byLoaded) {\r\n                    var item = this.items(byLoaded)[rowIndex];\r\n                    if (item) {\r\n                        return item.key\r\n                    }\r\n                },\r\n                getRowIndexByKey: function(key, byLoaded) {\r\n                    return gridCoreUtils.getIndexByKey(key, this.items(byLoaded))\r\n                },\r\n                keyOf: function(data) {\r\n                    var store = this.store();\r\n                    if (store) {\r\n                        return store.keyOf(data)\r\n                    }\r\n                },\r\n                byKey: function(key) {\r\n                    var store = this.store();\r\n                    var rowIndex = this.getRowIndexByKey(key);\r\n                    var result;\r\n                    if (!store) {\r\n                        return\r\n                    }\r\n                    if (rowIndex >= 0) {\r\n                        result = (new Deferred).resolve(this.items()[rowIndex].data)\r\n                    }\r\n                    return result || store.byKey(key)\r\n                },\r\n                key: function() {\r\n                    var store = this.store();\r\n                    if (store) {\r\n                        return store.key()\r\n                    }\r\n                },\r\n                getRowIndexOffset: function() {\r\n                    return 0\r\n                },\r\n                getDataByKeys: function(rowKeys) {\r\n                    var that = this;\r\n                    var result = new Deferred;\r\n                    var deferreds = [];\r\n                    var data = [];\r\n                    each(rowKeys, (function(index, key) {\r\n                        deferreds.push(that.byKey(key).done((function(keyData) {\r\n                            data[index] = keyData\r\n                        })))\r\n                    }));\r\n                    when.apply($, deferreds).always((function() {\r\n                        result.resolve(data)\r\n                    }));\r\n                    return result\r\n                },\r\n                pageIndex: function(value) {\r\n                    return changePaging(this, \"pageIndex\", value)\r\n                },\r\n                pageSize: function(value) {\r\n                    return changePaging(this, \"pageSize\", value)\r\n                },\r\n                beginCustomLoading: function(messageText) {\r\n                    this._isCustomLoading = true;\r\n                    this._loadingText = messageText || \"\";\r\n                    this._fireLoadingChanged()\r\n                },\r\n                endCustomLoading: function() {\r\n                    this._isCustomLoading = false;\r\n                    this._loadingText = void 0;\r\n                    this._fireLoadingChanged()\r\n                },\r\n                refresh: function(options) {\r\n                    if (true === options) {\r\n                        options = {\r\n                            reload: true,\r\n                            changesOnly: true\r\n                        }\r\n                    } else if (!options) {\r\n                        options = {\r\n                            lookup: true,\r\n                            selection: true,\r\n                            reload: true\r\n                        }\r\n                    }\r\n                    var that = this;\r\n                    var dataSource = that.getDataSource();\r\n                    var changesOnly = options.changesOnly;\r\n                    var d = new Deferred;\r\n                    var customizeLoadResult = function() {\r\n                        that._repaintChangesOnly = !!changesOnly\r\n                    };\r\n                    when(!options.lookup || that._columnsController.refresh()).always((function() {\r\n                        if (options.load || options.reload) {\r\n                            dataSource && dataSource.on(\"customizeLoadResult\", customizeLoadResult);\r\n                            when(that.reload(options.reload, changesOnly)).always((function() {\r\n                                dataSource && dataSource.off(\"customizeLoadResult\", customizeLoadResult);\r\n                                that._repaintChangesOnly = void 0\r\n                            })).done(d.resolve).fail(d.reject)\r\n                        } else {\r\n                            that.updateItems({\r\n                                repaintChangesOnly: options.changesOnly\r\n                            });\r\n                            d.resolve()\r\n                        }\r\n                    }));\r\n                    return d.promise()\r\n                },\r\n                getVisibleRows: function() {\r\n                    return this.items()\r\n                },\r\n                _disposeDataSource: function() {\r\n                    this.setDataSource(null)\r\n                },\r\n                dispose: function() {\r\n                    this._disposeDataSource();\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                repaintRows: function(rowIndexes, changesOnly) {\r\n                    rowIndexes = Array.isArray(rowIndexes) ? rowIndexes : [rowIndexes];\r\n                    if (rowIndexes.length > 1 || isDefined(rowIndexes[0])) {\r\n                        this.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: rowIndexes,\r\n                            isFullUpdate: !changesOnly\r\n                        })\r\n                    }\r\n                },\r\n                skipProcessingPagingChange: function(fullName) {\r\n                    return this._skipProcessingPagingChange && (\"paging.pageIndex\" === fullName || \"paging.pageSize\" === fullName)\r\n                },\r\n                getUserState: function() {\r\n                    return {\r\n                        searchText: this.option(\"searchPanel.text\"),\r\n                        pageIndex: this.pageIndex(),\r\n                        pageSize: this.pageSize()\r\n                    }\r\n                },\r\n                getCachedStoreData: function() {\r\n                    return this._dataSource && this._dataSource.getCachedStoreData()\r\n                },\r\n                isLastPageLoaded: function() {\r\n                    var pageIndex = this.pageIndex();\r\n                    var pageCount = this.pageCount();\r\n                    return pageIndex === pageCount - 1\r\n                }\r\n            };\r\n            gridCoreUtils.proxyMethod(members, \"load\");\r\n            gridCoreUtils.proxyMethod(members, \"reload\");\r\n            gridCoreUtils.proxyMethod(members, \"push\");\r\n            gridCoreUtils.proxyMethod(members, \"itemsCount\", 0);\r\n            gridCoreUtils.proxyMethod(members, \"totalItemsCount\", 0);\r\n            gridCoreUtils.proxyMethod(members, \"hasKnownLastPage\", true);\r\n            gridCoreUtils.proxyMethod(members, \"isLoaded\", true);\r\n            gridCoreUtils.proxyMethod(members, \"totalCount\", 0);\r\n            return members\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.data_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport dataSourceAdapterProvider from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    dataControllerModule\r\n} from \"../grid_core/ui.grid_core.data_controller\";\r\nexport var DataController = dataControllerModule.controllers.data.inherit({\r\n    _getDataSourceAdapter: function() {\r\n        return dataSourceAdapterProvider\r\n    },\r\n    _getSpecificDataSourceOption: function() {\r\n        var dataSource = this.option(\"dataSource\");\r\n        if (dataSource && !Array.isArray(dataSource) && this.option(\"keyExpr\")) {\r\n            errors.log(\"W1011\")\r\n        }\r\n        return this.callBase()\r\n    }\r\n});\r\ngridCore.registerModule(\"data\", {\r\n    defaultOptions: dataControllerModule.defaultOptions,\r\n    controllers: {\r\n        data: DataController\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.sorting_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport $ from \"../../core/renderer\";\r\nvar SORT_CLASS = \"dx-sort\";\r\nvar SORT_NONE_CLASS = \"dx-sort-none\";\r\nvar SORTUP_CLASS = \"dx-sort-up\";\r\nvar SORTDOWN_CLASS = \"dx-sort-down\";\r\nvar SORT_INDEX_CLASS = \"dx-sort-index\";\r\nvar SORT_INDEX_ICON_CLASS = \"dx-sort-index-icon\";\r\nvar HEADERS_ACTION_CLASS = \"action\";\r\nexport default {\r\n    _applyColumnState: function(options) {\r\n        var ariaSortState;\r\n        var $sortIndicator;\r\n        var sortingMode = this.option(\"sorting.mode\");\r\n        var rootElement = options.rootElement;\r\n        var column = options.column;\r\n        var $indicatorsContainer = this._getIndicatorContainer(rootElement);\r\n        if (\"sort\" === options.name) {\r\n            rootElement.find(\".\" + SORT_CLASS).remove();\r\n            !$indicatorsContainer.children().length && $indicatorsContainer.remove();\r\n            var isSortingAllowed = \"none\" !== sortingMode && column.allowSorting;\r\n            if (!isDefined(column.groupIndex) && (isSortingAllowed || isDefined(column.sortOrder))) {\r\n                ariaSortState = \"asc\" === column.sortOrder ? \"ascending\" : \"descending\";\r\n                $sortIndicator = this.callBase(options).toggleClass(SORTUP_CLASS, \"asc\" === column.sortOrder).toggleClass(SORTDOWN_CLASS, \"desc\" === column.sortOrder);\r\n                var hasSeveralSortIndexes = this.getController && !!this.getController(\"columns\").columnOption(\"sortIndex:1\");\r\n                if (hasSeveralSortIndexes && this.option(\"sorting.showSortIndexes\") && column.sortIndex >= 0) {\r\n                    $(\"<span>\").addClass(SORT_INDEX_ICON_CLASS).text(column.sortIndex + 1).appendTo($sortIndicator);\r\n                    $sortIndicator.addClass(SORT_INDEX_CLASS)\r\n                }\r\n                if (isSortingAllowed) {\r\n                    options.rootElement.addClass(this.addWidgetPrefix(HEADERS_ACTION_CLASS))\r\n                }\r\n            }\r\n            if (!isDefined(column.sortOrder)) {\r\n                this.setAria(\"sort\", \"none\", rootElement)\r\n            } else {\r\n                this.setAria(\"sort\", ariaSortState, rootElement)\r\n            }\r\n            return $sortIndicator\r\n        } else {\r\n            return this.callBase(options)\r\n        }\r\n    },\r\n    _getIndicatorClassName: function(name) {\r\n        if (\"sort\" === name) {\r\n            return SORT_CLASS\r\n        } else if (\"sortIndex\" === name) {\r\n            return SORT_INDEX_ICON_CLASS\r\n        }\r\n        return this.callBase(name)\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var column = options.column;\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        if (\"sort\" === options.name) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            if (!isDefined(column.sortOrder)) {\r\n                $indicator && $indicator.addClass(SORT_NONE_CLASS)\r\n            }\r\n            if ($container.children().length && (!rtlEnabled && \"left\" === options.columnAlignment || rtlEnabled && \"right\" === options.columnAlignment)) {\r\n                $container.prepend($indicator);\r\n                return\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        if (\"sort\" === indicatorName && isDefined(column.groupIndex)) {\r\n            return\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _getIndicatorElements: function($cell, returnAll) {\r\n        var $indicatorElements = this.callBase($cell);\r\n        return returnAll ? $indicatorElements : $indicatorElements && $indicatorElements.not(\".\" + SORT_NONE_CLASS)\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.sorting.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport sortingMixin from \"../grid_core/ui.grid_core.sorting_mixin\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    addNamespace,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nvar COLUMN_HEADERS_VIEW_NAMESPACE = \"dxDataGridColumnHeadersView\";\r\nvar ColumnHeadersViewSortingExtender = extend({}, sortingMixin, {\r\n    _createRow(row) {\r\n        var $row = this.callBase(row);\r\n        if (\"header\" === row.rowType) {\r\n            eventsEngine.on($row, addNamespace(clickEventName, COLUMN_HEADERS_VIEW_NAMESPACE), \"td\", this.createAction(e => {\r\n                this._processHeaderAction(e.event, $row)\r\n            }))\r\n        }\r\n        return $row\r\n    },\r\n    _processHeaderAction: function(event, $row) {\r\n        if ($(event.currentTarget).parent().get(0) !== $row.get(0)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var keyName = null;\r\n        var $cellElementFromEvent = $(event.currentTarget);\r\n        var rowIndex = $cellElementFromEvent.parent().index();\r\n        var columnIndex = -1;\r\n        [].slice.call(that.getCellElements(rowIndex)).some(($cellElement, index) => {\r\n            if ($cellElement === $cellElementFromEvent.get(0)) {\r\n                columnIndex = index;\r\n                return true\r\n            }\r\n        });\r\n        var visibleColumns = that._columnsController.getVisibleColumns(rowIndex);\r\n        var column = visibleColumns[columnIndex];\r\n        var editingController = that.getController(\"editing\");\r\n        var editingMode = that.option(\"editing.mode\");\r\n        var isCellEditing = editingController && editingController.isEditing() && (\"batch\" === editingMode || \"cell\" === editingMode);\r\n        if (isCellEditing || !that._isSortableElement($(event.target))) {\r\n            return\r\n        }\r\n        if (column && !isDefined(column.groupIndex) && !column.command) {\r\n            if (event.shiftKey) {\r\n                keyName = \"shift\"\r\n            } else if (isCommandKeyPressed(event)) {\r\n                keyName = \"ctrl\"\r\n            }\r\n            setTimeout(() => {\r\n                that._columnsController.changeSortOrder(column.index, keyName)\r\n            })\r\n        }\r\n    },\r\n    _renderCellContent($cell, options) {\r\n        var column = options.column;\r\n        if (!column.command && \"header\" === options.rowType) {\r\n            this._applyColumnState({\r\n                name: \"sort\",\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: this.option(\"showColumnLines\")\r\n            })\r\n        }\r\n        this.callBase($cell, options)\r\n    },\r\n    _columnOptionChanged(e) {\r\n        var changeTypes = e.changeTypes;\r\n        if (1 === changeTypes.length && changeTypes.sorting) {\r\n            this._updateIndicators(\"sort\");\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"sorting\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar HeaderPanelSortingExtender = extend({}, sortingMixin, {\r\n    _createGroupPanelItem($rootElement, groupColumn) {\r\n        var that = this;\r\n        var $item = that.callBase(...arguments);\r\n        eventsEngine.on($item, addNamespace(clickEventName, \"dxDataGridHeaderPanel\"), that.createAction(() => {\r\n            that._processGroupItemAction(groupColumn.index)\r\n        }));\r\n        that._applyColumnState({\r\n            name: \"sort\",\r\n            rootElement: $item,\r\n            column: {\r\n                alignment: that.option(\"rtlEnabled\") ? \"right\" : \"left\",\r\n                allowSorting: groupColumn.allowSorting,\r\n                sortOrder: \"desc\" === groupColumn.sortOrder ? \"desc\" : \"asc\"\r\n            },\r\n            showColumnLines: true\r\n        });\r\n        return $item\r\n    },\r\n    _processGroupItemAction(groupColumnIndex) {\r\n        setTimeout(() => this.getController(\"columns\").changeSortOrder(groupColumnIndex))\r\n    },\r\n    optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"sorting\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport var sortingModule = {\r\n    defaultOptions: () => ({\r\n        sorting: {\r\n            mode: \"single\",\r\n            ascendingText: messageLocalization.format(\"dxDataGrid-sortingAscendingText\"),\r\n            descendingText: messageLocalization.format(\"dxDataGrid-sortingDescendingText\"),\r\n            clearText: messageLocalization.format(\"dxDataGrid-sortingClearText\"),\r\n            showSortIndexes: true\r\n        }\r\n    }),\r\n    extenders: {\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewSortingExtender,\r\n            headerPanel: HeaderPanelSortingExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.sorting.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    sortingModule\r\n} from \"../grid_core/ui.grid_core.sorting\";\r\ngridCore.registerModule(\"sorting\", sortingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.rows.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    getHeight,\r\n    getOuterHeight,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    deferRender,\r\n    deferUpdate\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    setHeight\r\n} from \"../../core/utils/style\";\r\nimport {\r\n    isDefined,\r\n    isNumeric,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect,\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    isEmpty\r\n} from \"../../core/utils/string\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport {\r\n    removeEvent\r\n} from \"../../events/remove\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport browser from \"../../core/utils/browser\";\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar NOWRAP_CLASS = \"nowrap\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar FREE_SPACE_CLASS = \"dx-freespace-row\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar ROW_ALTERNATION_CLASS = \"dx-row-alt\";\r\nvar LAST_ROW_BORDER = \"dx-last-row-border\";\r\nvar EMPTY_CLASS = \"dx-empty\";\r\nvar ROW_INSERTED_ANIMATION_CLASS = \"row-inserted-animation\";\r\nvar LOADPANEL_HIDE_TIMEOUT = 200;\r\n\r\nfunction getMaxHorizontalScrollOffset(scrollable) {\r\n    return scrollable ? Math.round(scrollable.scrollWidth() - scrollable.clientWidth()) : 0\r\n}\r\nexport var rowsModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            hoverStateEnabled: false,\r\n            scrolling: {\r\n                useNative: \"auto\"\r\n            },\r\n            loadPanel: {\r\n                enabled: \"auto\",\r\n                text: messageLocalization.format(\"Loading\"),\r\n                width: 200,\r\n                height: 90,\r\n                showIndicator: true,\r\n                indicatorSrc: \"\",\r\n                showPane: true\r\n            },\r\n            dataRowTemplate: null,\r\n            columnAutoWidth: false,\r\n            noDataText: messageLocalization.format(\"dxDataGrid-noDataText\"),\r\n            wordWrapEnabled: false,\r\n            showColumnLines: true,\r\n            showRowLines: false,\r\n            rowAlternationEnabled: false,\r\n            activeStateEnabled: false,\r\n            twoWayBindingEnabled: true\r\n        }\r\n    },\r\n    views: {\r\n        rowsView: ColumnsView.inherit(function() {\r\n            var defaultCellTemplate = function($container, options) {\r\n                var isDataTextEmpty = isEmpty(options.text) && \"data\" === options.rowType;\r\n                var text = options.text;\r\n                var container = $container.get(0);\r\n                if (isDataTextEmpty) {\r\n                    gridCoreUtils.setEmptyText($container)\r\n                } else if (options.column.encodeHtml) {\r\n                    container.textContent = text\r\n                } else {\r\n                    container.innerHTML = text\r\n                }\r\n            };\r\n            return {\r\n                _getDefaultTemplate: function(column) {\r\n                    switch (column.command) {\r\n                        case \"empty\":\r\n                            return function(container) {\r\n                                container.html(\"&nbsp;\")\r\n                            };\r\n                        default:\r\n                            return defaultCellTemplate\r\n                    }\r\n                },\r\n                _getDefaultGroupTemplate: function(column) {\r\n                    var summaryTexts = this.option(\"summary.texts\");\r\n                    return function($container, options) {\r\n                        var data = options.data;\r\n                        var text = options.column.caption + \": \" + options.text;\r\n                        var container = $container.get(0);\r\n                        if (options.summaryItems && options.summaryItems.length) {\r\n                            text += \" \" + gridCoreUtils.getGroupRowSummaryText(options.summaryItems, summaryTexts)\r\n                        }\r\n                        if (data) {\r\n                            if (options.groupContinuedMessage && options.groupContinuesMessage) {\r\n                                text += \" (\" + options.groupContinuedMessage + \". \" + options.groupContinuesMessage + \")\"\r\n                            } else if (options.groupContinuesMessage) {\r\n                                text += \" (\" + options.groupContinuesMessage + \")\"\r\n                            } else if (options.groupContinuedMessage) {\r\n                                text += \" (\" + options.groupContinuedMessage + \")\"\r\n                            }\r\n                        }\r\n                        $container.addClass(GROUP_CELL_CLASS);\r\n                        if (column.encodeHtml) {\r\n                            container.textContent = text\r\n                        } else {\r\n                            container.innerHTML = text\r\n                        }\r\n                    }\r\n                },\r\n                _update: function() {},\r\n                _getCellTemplate: function(options) {\r\n                    var column = options.column;\r\n                    var template;\r\n                    if (\"group\" === options.rowType && isDefined(column.groupIndex) && !column.showWhenGrouped && !column.command) {\r\n                        template = column.groupCellTemplate || {\r\n                            allowRenderToDetachedContainer: true,\r\n                            render: this._getDefaultGroupTemplate(column)\r\n                        }\r\n                    } else if ((\"data\" === options.rowType || column.command) && column.cellTemplate) {\r\n                        template = column.cellTemplate\r\n                    } else {\r\n                        template = {\r\n                            allowRenderToDetachedContainer: true,\r\n                            render: this._getDefaultTemplate(column)\r\n                        }\r\n                    }\r\n                    return template\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var isGroup = \"group\" === row.rowType;\r\n                        var isDataRow = \"data\" === row.rowType;\r\n                        isDataRow && $row.addClass(DATA_ROW_CLASS);\r\n                        isDataRow && this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                        this.option(\"showColumnLines\") && $row.addClass(COLUMN_LINES_CLASS);\r\n                        if (false === row.visible) {\r\n                            $row.hide()\r\n                        }\r\n                        if (isGroup) {\r\n                            $row.addClass(GROUP_ROW_CLASS);\r\n                            var isRowExpanded = row.isExpanded;\r\n                            this.setAria(\"role\", \"row\", $row);\r\n                            this.setAria(\"expanded\", isDefined(isRowExpanded) && isRowExpanded.toString(), $row)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _rowPrepared: function($row, rowOptions, row) {\r\n                    if (\"data\" === rowOptions.rowType) {\r\n                        if (this.option(\"rowAlternationEnabled\")) {\r\n                            this._isAltRow(row) && $row.addClass(ROW_ALTERNATION_CLASS);\r\n                            rowOptions.watch && rowOptions.watch(() => this._isAltRow(row), value => {\r\n                                $row.toggleClass(ROW_ALTERNATION_CLASS, value)\r\n                            })\r\n                        }\r\n                        this._setAriaRowIndex(rowOptions, $row);\r\n                        rowOptions.watch && rowOptions.watch(() => rowOptions.rowIndex, () => this._setAriaRowIndex(rowOptions, $row))\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _setAriaRowIndex: function(row, $row) {\r\n                    var component = this.component;\r\n                    var isPagerMode = \"standard\" === component.option(\"scrolling.mode\") && !gridCoreUtils.isVirtualRowRendering(component);\r\n                    var rowIndex = row.rowIndex + 1;\r\n                    if (isPagerMode) {\r\n                        rowIndex = component.pageIndex() * component.pageSize() + rowIndex\r\n                    } else {\r\n                        rowIndex += this._dataController.getRowIndexOffset()\r\n                    }\r\n                    this.setAria(\"rowindex\", rowIndex, $row)\r\n                },\r\n                _afterRowPrepared: function(e) {\r\n                    var arg = e.args[0];\r\n                    var dataController = this._dataController;\r\n                    var row = dataController.getVisibleRows()[arg.rowIndex];\r\n                    var watch = this.option(\"integrationOptions.watchMethod\");\r\n                    if (!arg.data || \"data\" !== arg.rowType || arg.isNewRow || !this.option(\"twoWayBindingEnabled\") || !watch || !row) {\r\n                        return\r\n                    }\r\n                    var dispose = watch(() => dataController.generateDataValues(arg.data, arg.columns), () => {\r\n                        dataController.repaintRows([row.rowIndex], this.option(\"repaintChangesOnly\"))\r\n                    }, {\r\n                        deep: true,\r\n                        skipImmediate: true\r\n                    });\r\n                    eventsEngine.on(arg.rowElement, removeEvent, dispose)\r\n                },\r\n                _renderScrollable: function(force) {\r\n                    var $element = this.element();\r\n                    if (!$element.children().length) {\r\n                        $element.append(\"<div>\")\r\n                    }\r\n                    if (force || !this._loadPanel) {\r\n                        this._renderLoadPanel($element, $element.parent(), this._dataController.isLocalStore())\r\n                    }\r\n                    if ((force || !this.getScrollable()) && this._dataController.isLoaded()) {\r\n                        var columns = this.getColumns();\r\n                        var allColumnsHasWidth = true;\r\n                        for (var i = 0; i < columns.length; i++) {\r\n                            if (!columns[i].width && !columns[i].minWidth) {\r\n                                allColumnsHasWidth = false;\r\n                                break\r\n                            }\r\n                        }\r\n                        if (this.option(\"columnAutoWidth\") || this._hasHeight || allColumnsHasWidth || this._columnsController._isColumnFixing()) {\r\n                            this._renderScrollableCore($element)\r\n                        }\r\n                    }\r\n                },\r\n                _handleScroll: function(e) {\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    var isNativeScrolling = e.component.option(\"useNative\");\r\n                    this._scrollTop = e.scrollOffset.top;\r\n                    this._scrollLeft = e.scrollOffset.left;\r\n                    var scrollLeft = e.scrollOffset.left;\r\n                    if (rtlEnabled) {\r\n                        this._scrollRight = getMaxHorizontalScrollOffset(e.component) - this._scrollLeft;\r\n                        if (isNativeScrolling) {\r\n                            scrollLeft = -this._scrollRight\r\n                        }\r\n                        if (!this.isScrollbarVisible(true)) {\r\n                            this._scrollLeft = -1\r\n                        }\r\n                    }\r\n                    this.scrollChanged.fire(_extends({}, e.scrollOffset, {\r\n                        left: scrollLeft\r\n                    }), this.name)\r\n                },\r\n                _renderScrollableCore: function($element) {\r\n                    var dxScrollableOptions = this._createScrollableOptions();\r\n                    var scrollHandler = this._handleScroll.bind(this);\r\n                    dxScrollableOptions.onScroll = scrollHandler;\r\n                    this._scrollable = this._createComponent($element, Scrollable, dxScrollableOptions);\r\n                    this._scrollableContainer = this._scrollable && $(this._scrollable.container())\r\n                },\r\n                _renderLoadPanel: gridCoreUtils.renderLoadPanel,\r\n                _renderContent: function(contentElement, tableElement) {\r\n                    contentElement.empty().append(tableElement);\r\n                    return this._findContentElement()\r\n                },\r\n                _updateContent: function(newTableElement, change) {\r\n                    var that = this;\r\n                    var tableElement = that.getTableElement();\r\n                    var contentElement = that._findContentElement();\r\n                    var changeType = change && change.changeType;\r\n                    var executors = [];\r\n                    var highlightChanges = this.option(\"highlightChanges\");\r\n                    var rowInsertedClass = this.addWidgetPrefix(ROW_INSERTED_ANIMATION_CLASS);\r\n                    switch (changeType) {\r\n                        case \"update\":\r\n                            each(change.rowIndices, (function(index, rowIndex) {\r\n                                var $newRowElement = that._getRowElements(newTableElement).eq(index);\r\n                                var changeType = change.changeTypes && change.changeTypes[index];\r\n                                var item = change.items && change.items[index];\r\n                                executors.push((function() {\r\n                                    var $rowsElement = that._getRowElements();\r\n                                    var $rowElement = $rowsElement.eq(rowIndex);\r\n                                    switch (changeType) {\r\n                                        case \"update\":\r\n                                            if (item) {\r\n                                                var columnIndices = change.columnIndices && change.columnIndices[index];\r\n                                                if (isDefined(item.visible) && item.visible !== $rowElement.is(\":visible\")) {\r\n                                                    $rowElement.toggle(item.visible)\r\n                                                } else if (columnIndices) {\r\n                                                    that._updateCells($rowElement, $newRowElement, columnIndices)\r\n                                                } else {\r\n                                                    $rowElement.replaceWith($newRowElement)\r\n                                                }\r\n                                            }\r\n                                            break;\r\n                                        case \"insert\":\r\n                                            if (!$rowsElement.length) {\r\n                                                if (tableElement) {\r\n                                                    var target = $newRowElement.is(\"tbody\") ? tableElement : tableElement.children(\"tbody\");\r\n                                                    $newRowElement.prependTo(target)\r\n                                                }\r\n                                            } else if ($rowElement.length) {\r\n                                                $newRowElement.insertBefore($rowElement)\r\n                                            } else {\r\n                                                $newRowElement.insertAfter($rowsElement.last())\r\n                                            }\r\n                                            if (highlightChanges && change.isLiveUpdate) {\r\n                                                $newRowElement.addClass(rowInsertedClass)\r\n                                            }\r\n                                            break;\r\n                                        case \"remove\":\r\n                                            $rowElement.remove()\r\n                                    }\r\n                                }))\r\n                            }));\r\n                            each(executors, (function() {\r\n                                this()\r\n                            }));\r\n                            newTableElement.remove();\r\n                            break;\r\n                        default:\r\n                            that.setTableElement(newTableElement);\r\n                            contentElement.addClass(that.addWidgetPrefix(CONTENT_CLASS));\r\n                            that._renderContent(contentElement, newTableElement)\r\n                    }\r\n                },\r\n                _createEmptyRow: function(className, isFixed, height) {\r\n                    var $cell;\r\n                    var $row = this._createRow();\r\n                    var columns = isFixed ? this.getFixedColumns() : this.getColumns();\r\n                    $row.addClass(className).toggleClass(COLUMN_LINES_CLASS, this.option(\"showColumnLines\"));\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        $cell = this._createCell({\r\n                            column: columns[i],\r\n                            rowType: \"freeSpace\",\r\n                            columnIndex: i,\r\n                            columns: columns\r\n                        });\r\n                        isNumeric(height) && $cell.css(\"height\", height);\r\n                        $row.append($cell)\r\n                    }\r\n                    this.setAria(\"role\", \"presentation\", $row);\r\n                    return $row\r\n                },\r\n                _appendEmptyRow: function($table, $emptyRow, location) {\r\n                    var $tBodies = this._getBodies($table);\r\n                    var isTableContainer = !$tBodies.length || $emptyRow.is(\"tbody\");\r\n                    var $container = isTableContainer ? $table : $tBodies;\r\n                    if (\"top\" === location) {\r\n                        $container.first().prepend($emptyRow);\r\n                        if (isTableContainer) {\r\n                            var $colgroup = $container.children(\"colgroup\");\r\n                            $container.prepend($colgroup)\r\n                        }\r\n                    } else {\r\n                        $container.last().append($emptyRow)\r\n                    }\r\n                },\r\n                _renderFreeSpaceRow: function($tableElement) {\r\n                    var $freeSpaceRowElement = this._createEmptyRow(FREE_SPACE_CLASS);\r\n                    $freeSpaceRowElement = this._wrapRowIfNeed($tableElement, $freeSpaceRowElement);\r\n                    this._appendEmptyRow($tableElement, $freeSpaceRowElement)\r\n                },\r\n                _checkRowKeys: function(options) {\r\n                    var that = this;\r\n                    var rows = that._getRows(options);\r\n                    var keyExpr = that._dataController.store() && that._dataController.store().key();\r\n                    keyExpr && rows.some((function(row) {\r\n                        if (\"data\" === row.rowType && void 0 === row.key) {\r\n                            that._dataController.fireError(\"E1046\", keyExpr);\r\n                            return true\r\n                        }\r\n                    }))\r\n                },\r\n                _needUpdateRowHeight: function(itemsCount) {\r\n                    return itemsCount > 0 && !this._rowHeight\r\n                },\r\n                _getRowsHeight: function($tableElement) {\r\n                    var $rowElements = $tableElement.children(\"tbody\").children().not(\".dx-virtual-row\").not(\".\" + FREE_SPACE_CLASS);\r\n                    return $rowElements.toArray().reduce((function(sum, row) {\r\n                        return sum + getBoundingRect(row).height\r\n                    }), 0)\r\n                },\r\n                _updateRowHeight: function() {\r\n                    var $tableElement = this.getTableElement();\r\n                    var itemsCount = this._dataController.items().length;\r\n                    if ($tableElement && this._needUpdateRowHeight(itemsCount)) {\r\n                        var rowsHeight = this._getRowsHeight($tableElement);\r\n                        this._rowHeight = rowsHeight / itemsCount\r\n                    }\r\n                },\r\n                _findContentElement: function() {\r\n                    var $content = this.element();\r\n                    var scrollable = this.getScrollable();\r\n                    if ($content) {\r\n                        if (scrollable) {\r\n                            $content = $(scrollable.content())\r\n                        }\r\n                        return $content.children().first()\r\n                    }\r\n                },\r\n                _getRowElements: function(tableElement) {\r\n                    var $rows = this.callBase(tableElement);\r\n                    return $rows && $rows.not(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getFreeSpaceRowElements: function($table) {\r\n                    var tableElements = $table || this.getTableElements();\r\n                    return tableElements && tableElements.children(\"tbody\").children(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getNoDataText: function() {\r\n                    return this.option(\"noDataText\")\r\n                },\r\n                _rowClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowClick\", extend({\r\n                        evaluate: function(expr) {\r\n                            var getter = compileGetter(expr);\r\n                            return getter(item.data)\r\n                        }\r\n                    }, e, item))\r\n                },\r\n                _rowDblClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowDblClick\", extend({}, e, item))\r\n                },\r\n                _getColumnsCountBeforeGroups: function(columns) {\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        if (\"groupExpand\" === columns[i].type) {\r\n                            return i\r\n                        }\r\n                    }\r\n                    return 0\r\n                },\r\n                _getGroupCellOptions: function(options) {\r\n                    var columnsCountBeforeGroups = this._getColumnsCountBeforeGroups(options.columns);\r\n                    var columnIndex = (options.row.groupIndex || 0) + columnsCountBeforeGroups;\r\n                    return {\r\n                        columnIndex: columnIndex,\r\n                        colspan: options.columns.length - columnIndex - 1\r\n                    }\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    if (\"group\" === options.row.rowType) {\r\n                        this._renderGroupedCells($row, options)\r\n                    } else if (options.row.values) {\r\n                        this.callBase($row, options)\r\n                    }\r\n                },\r\n                _renderGroupedCells: function($row, options) {\r\n                    var row = options.row;\r\n                    var expandColumn;\r\n                    var columns = options.columns;\r\n                    var rowIndex = row.rowIndex;\r\n                    var isExpanded;\r\n                    var groupCellOptions = this._getGroupCellOptions(options);\r\n                    for (var i = 0; i <= groupCellOptions.columnIndex; i++) {\r\n                        if (i === groupCellOptions.columnIndex && columns[i].allowCollapsing && \"infinite\" !== options.scrollingMode) {\r\n                            isExpanded = !!row.isExpanded;\r\n                            expandColumn = columns[i]\r\n                        } else {\r\n                            isExpanded = null;\r\n                            expandColumn = {\r\n                                command: \"expand\",\r\n                                cssClass: columns[i].cssClass\r\n                            }\r\n                        }\r\n                        if (this._needRenderCell(i, options.columnIndices)) {\r\n                            this._renderCell($row, {\r\n                                value: isExpanded,\r\n                                row: row,\r\n                                rowIndex: rowIndex,\r\n                                column: expandColumn,\r\n                                columnIndex: i,\r\n                                columnIndices: options.columnIndices\r\n                            })\r\n                        }\r\n                    }\r\n                    var groupColumnAlignment = getDefaultAlignment(this.option(\"rtlEnabled\"));\r\n                    var groupColumn = extend({}, columns[groupCellOptions.columnIndex], {\r\n                        command: null,\r\n                        type: null,\r\n                        cssClass: null,\r\n                        width: null,\r\n                        showWhenGrouped: false,\r\n                        alignment: groupColumnAlignment\r\n                    });\r\n                    if (groupCellOptions.colspan > 1) {\r\n                        groupColumn.colspan = groupCellOptions.colspan\r\n                    }\r\n                    if (this._needRenderCell(groupCellOptions.columnIndex + 1, options.columnIndices)) {\r\n                        this._renderCell($row, {\r\n                            value: row.values[row.groupIndex],\r\n                            row: row,\r\n                            rowIndex: rowIndex,\r\n                            column: groupColumn,\r\n                            columnIndex: groupCellOptions.columnIndex + 1,\r\n                            columnIndices: options.columnIndices\r\n                        })\r\n                    }\r\n                },\r\n                _renderRows: function($table, options) {\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    this.callBase($table, extend({\r\n                        scrollingMode: scrollingMode\r\n                    }, options));\r\n                    this._checkRowKeys(options.change);\r\n                    this._renderFreeSpaceRow($table);\r\n                    if (!this._hasHeight) {\r\n                        this.updateFreeSpaceRowHeight($table)\r\n                    }\r\n                },\r\n                _renderDataRowByTemplate($table, options, dataRowTemplate) {\r\n                    var row = options.row;\r\n                    var rowOptions = extend({\r\n                        columns: options.columns\r\n                    }, row);\r\n                    var $tbody = this._createRow(row, \"tbody\");\r\n                    $tbody.appendTo($table);\r\n                    this.renderTemplate($tbody, dataRowTemplate, rowOptions, true, options.change);\r\n                    this._rowPrepared($tbody, rowOptions, options.row)\r\n                },\r\n                _renderRow: function($table, options) {\r\n                    var row = options.row;\r\n                    var rowTemplate = this.option().rowTemplate;\r\n                    var dataRowTemplate = this.option(\"dataRowTemplate\");\r\n                    if (\"data\" === row.rowType && dataRowTemplate) {\r\n                        this._renderDataRowByTemplate($table, options, dataRowTemplate)\r\n                    } else if ((\"data\" === row.rowType || \"group\" === row.rowType) && !isDefined(row.groupIndex) && rowTemplate) {\r\n                        this.renderTemplate($table, rowTemplate, extend({\r\n                            columns: options.columns\r\n                        }, row), true)\r\n                    } else {\r\n                        this.callBase($table, options)\r\n                    }\r\n                },\r\n                _renderTable: function(options) {\r\n                    var that = this;\r\n                    var $table = that.callBase(options);\r\n                    if (!isDefined(that.getTableElement())) {\r\n                        that.setTableElement($table);\r\n                        that._renderScrollable(true);\r\n                        that.resizeCompleted.add((function resizeCompletedHandler() {\r\n                            var scrollableInstance = that.getScrollable();\r\n                            if (scrollableInstance && that.element().closest(getWindow().document).length) {\r\n                                that.resizeCompleted.remove(resizeCompletedHandler);\r\n                                scrollableInstance._visibilityChanged(true)\r\n                            }\r\n                        }))\r\n                    } else {\r\n                        that._renderScrollable()\r\n                    }\r\n                    return $table\r\n                },\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    if (this.option().rowTemplate || this.option().dataRowTemplate) {\r\n                        $table.appendTo(this.component.$element())\r\n                    }\r\n                    return $table\r\n                },\r\n                _renderCore: function(change) {\r\n                    var $element = this.element();\r\n                    $element.addClass(this.addWidgetPrefix(ROWS_VIEW_CLASS)).toggleClass(this.addWidgetPrefix(NOWRAP_CLASS), !this.option(\"wordWrapEnabled\"));\r\n                    $element.toggleClass(EMPTY_CLASS, this._dataController.isEmpty());\r\n                    this.setAria(\"role\", \"presentation\", $element);\r\n                    var $table = this._renderTable({\r\n                        change: change\r\n                    });\r\n                    this._updateContent($table, change);\r\n                    this.callBase(change);\r\n                    this._lastColumnWidths = null\r\n                },\r\n                _getRows: function(change) {\r\n                    return change && change.items || this._dataController.items()\r\n                },\r\n                _getCellOptions: function(options) {\r\n                    var column = options.column;\r\n                    var row = options.row;\r\n                    var data = row.data;\r\n                    var summaryCells = row && row.summaryCells;\r\n                    var value = options.value;\r\n                    var displayValue = gridCoreUtils.getDisplayValue(column, value, data, row.rowType);\r\n                    var parameters = this.callBase(options);\r\n                    parameters.value = value;\r\n                    parameters.oldValue = options.oldValue;\r\n                    parameters.displayValue = displayValue;\r\n                    parameters.row = row;\r\n                    parameters.key = row.key;\r\n                    parameters.data = data;\r\n                    parameters.rowType = row.rowType;\r\n                    parameters.values = row.values;\r\n                    parameters.text = !column.command ? gridCoreUtils.formatValue(displayValue, column) : \"\";\r\n                    parameters.rowIndex = row.rowIndex;\r\n                    parameters.summaryItems = summaryCells && summaryCells[options.columnIndex];\r\n                    parameters.resized = column.resizedCallbacks;\r\n                    if (isDefined(column.groupIndex) && !column.command) {\r\n                        var groupingTextsOptions = this.option(\"grouping.texts\");\r\n                        var scrollingMode = this.option(\"scrolling.mode\");\r\n                        if (\"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                            parameters.groupContinuesMessage = data && data.isContinuationOnNextPage && groupingTextsOptions && groupingTextsOptions.groupContinuesMessage;\r\n                            parameters.groupContinuedMessage = data && data.isContinuation && groupingTextsOptions && groupingTextsOptions.groupContinuedMessage\r\n                        }\r\n                    }\r\n                    return parameters\r\n                },\r\n                _setRowsOpacityCore: function($rows, visibleColumns, columnIndex, value) {\r\n                    var columnsController = this._columnsController;\r\n                    var columns = columnsController.getColumns();\r\n                    var column = columns && columns[columnIndex];\r\n                    var columnID = column && column.isBand && column.index;\r\n                    each($rows, (function(rowIndex, row) {\r\n                        if (!$(row).hasClass(GROUP_ROW_CLASS)) {\r\n                            for (var i = 0; i < visibleColumns.length; i++) {\r\n                                if (isNumeric(columnID) && columnsController.isParentBandColumn(visibleColumns[i].index, columnID) || visibleColumns[i].index === columnIndex) {\r\n                                    $rows.eq(rowIndex).children().eq(i).css({\r\n                                        opacity: value\r\n                                    });\r\n                                    if (!isNumeric(columnID)) {\r\n                                        break\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }))\r\n                },\r\n                _getDevicePixelRatio: function() {\r\n                    return getWindow().devicePixelRatio\r\n                },\r\n                renderNoDataText: gridCoreUtils.renderNoDataText,\r\n                getCellOptions: function(rowIndex, columnIdentifier) {\r\n                    var rowOptions = this._dataController.items()[rowIndex];\r\n                    var cellOptions;\r\n                    var column;\r\n                    if (rowOptions) {\r\n                        if (isString(columnIdentifier)) {\r\n                            column = this._columnsController.columnOption(columnIdentifier)\r\n                        } else {\r\n                            column = this._columnsController.getVisibleColumns()[columnIdentifier]\r\n                        }\r\n                        if (column) {\r\n                            cellOptions = this._getCellOptions({\r\n                                value: column.calculateCellValue(rowOptions.data),\r\n                                rowIndex: rowOptions.rowIndex,\r\n                                row: rowOptions,\r\n                                column: column\r\n                            })\r\n                        }\r\n                    }\r\n                    return cellOptions\r\n                },\r\n                getRow: function(index) {\r\n                    if (index >= 0) {\r\n                        var rows = this._getRowElements();\r\n                        if (rows.length > index) {\r\n                            return $(rows[index])\r\n                        }\r\n                    }\r\n                },\r\n                updateFreeSpaceRowHeight: function($table) {\r\n                    var dataController = this._dataController;\r\n                    var itemCount = dataController.items(true).length;\r\n                    var contentElement = this._findContentElement();\r\n                    var freeSpaceRowElements = this._getFreeSpaceRowElements($table);\r\n                    if (freeSpaceRowElements && contentElement && dataController.totalCount() >= 0) {\r\n                        var isFreeSpaceRowVisible = false;\r\n                        if (itemCount > 0) {\r\n                            if (!this._hasHeight) {\r\n                                var freeSpaceRowCount = dataController.pageSize() - itemCount;\r\n                                var scrollingMode = this.option(\"scrolling.mode\");\r\n                                if (freeSpaceRowCount > 0 && dataController.pageCount() > 1 && \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                                    setHeight(freeSpaceRowElements, freeSpaceRowCount * this._rowHeight);\r\n                                    isFreeSpaceRowVisible = true\r\n                                }\r\n                                if (!isFreeSpaceRowVisible && $table) {\r\n                                    setHeight(freeSpaceRowElements, 0)\r\n                                } else {\r\n                                    freeSpaceRowElements.toggle(isFreeSpaceRowVisible)\r\n                                }\r\n                                this._updateLastRowBorder(isFreeSpaceRowVisible)\r\n                            } else {\r\n                                freeSpaceRowElements.hide();\r\n                                deferUpdate(() => {\r\n                                    var scrollbarWidth = this.getScrollbarWidth(true);\r\n                                    var elementHeightWithoutScrollbar = getHeight(this.element()) - scrollbarWidth;\r\n                                    var contentHeight = getOuterHeight(contentElement);\r\n                                    var showFreeSpaceRow = elementHeightWithoutScrollbar - contentHeight > 0;\r\n                                    var rowsHeight = this._getRowsHeight(contentElement.children().first());\r\n                                    var $tableElement = $table || this.getTableElements();\r\n                                    var borderTopWidth = Math.ceil(parseFloat($tableElement.css(\"borderTopWidth\")));\r\n                                    var heightCorrection = this._getHeightCorrection();\r\n                                    var resultHeight = elementHeightWithoutScrollbar - rowsHeight - borderTopWidth - heightCorrection;\r\n                                    if (showFreeSpaceRow) {\r\n                                        deferRender(() => {\r\n                                            freeSpaceRowElements.css(\"height\", resultHeight);\r\n                                            isFreeSpaceRowVisible = true;\r\n                                            freeSpaceRowElements.show()\r\n                                        })\r\n                                    }\r\n                                    deferRender(() => this._updateLastRowBorder(isFreeSpaceRowVisible))\r\n                                })\r\n                            }\r\n                        } else {\r\n                            freeSpaceRowElements.css(\"height\", 0);\r\n                            freeSpaceRowElements.show();\r\n                            this._updateLastRowBorder(true)\r\n                        }\r\n                    }\r\n                },\r\n                _getHeightCorrection: function() {\r\n                    var isZoomedWebkit = browser.webkit && this._getDevicePixelRatio() >= 2;\r\n                    var isChromeLatest = browser.chrome && browser.version >= 91;\r\n                    var hasExtraBorderTop = browser.mozilla && browser.version >= 70 && !this.option(\"showRowLines\");\r\n                    return isZoomedWebkit || hasExtraBorderTop || isChromeLatest ? 1 : 0\r\n                },\r\n                _columnOptionChanged: function(e) {\r\n                    var optionNames = e.optionNames;\r\n                    if (e.changeTypes.grouping) {\r\n                        return\r\n                    }\r\n                    if (optionNames.width || optionNames.visibleWidth) {\r\n                        this.callBase(e);\r\n                        this._fireColumnResizedCallbacks()\r\n                    }\r\n                },\r\n                getScrollable: function() {\r\n                    return this._scrollable\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    var dataController = that.getController(\"data\");\r\n                    that.callBase();\r\n                    that._editorFactoryController = that.getController(\"editorFactory\");\r\n                    that._rowHeight = 0;\r\n                    that._scrollTop = 0;\r\n                    that._scrollLeft = -1;\r\n                    that._scrollRight = 0;\r\n                    that._hasHeight = false;\r\n                    dataController.loadingChanged.add((function(isLoading, messageText) {\r\n                        that.setLoading(isLoading, messageText)\r\n                    }));\r\n                    dataController.dataSourceChanged.add((function() {\r\n                        if (that._scrollLeft >= 0) {\r\n                            that._handleScroll({\r\n                                component: that.getScrollable(),\r\n                                scrollOffset: {\r\n                                    top: that._scrollTop,\r\n                                    left: that._scrollLeft\r\n                                }\r\n                            })\r\n                        }\r\n                    }))\r\n                },\r\n                _handleDataChanged: function(change) {\r\n                    switch (change.changeType) {\r\n                        case \"refresh\":\r\n                        case \"prepend\":\r\n                        case \"append\":\r\n                        case \"update\":\r\n                            this.render(null, change);\r\n                            break;\r\n                        default:\r\n                            this._update(change)\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"isScrollbarVisible\", \"getTopVisibleRowData\", \"getScrollbarWidth\", \"getCellElement\", \"getRowElement\", \"getScrollable\"]\r\n                },\r\n                contentWidth: function() {\r\n                    return getWidth(this.element()) - this.getScrollbarWidth()\r\n                },\r\n                getScrollbarWidth: function(isHorizontal) {\r\n                    var scrollableContainer = this._scrollableContainer && this._scrollableContainer.get(0);\r\n                    var scrollbarWidth = 0;\r\n                    if (scrollableContainer) {\r\n                        if (!isHorizontal) {\r\n                            scrollbarWidth = scrollableContainer.clientWidth ? scrollableContainer.offsetWidth - scrollableContainer.clientWidth : 0\r\n                        } else {\r\n                            scrollbarWidth = scrollableContainer.clientHeight ? scrollableContainer.offsetHeight - scrollableContainer.clientHeight : 0;\r\n                            scrollbarWidth += (that = this, scrollable = that.getScrollable(), scrollable ? Math.ceil(parseFloat($(scrollable.content()).css(\"paddingBottom\"))) : 0)\r\n                        }\r\n                    }\r\n                    var that, scrollable;\r\n                    return scrollbarWidth > 0 ? scrollbarWidth : 0\r\n                },\r\n                _fireColumnResizedCallbacks: function() {\r\n                    var lastColumnWidths = this._lastColumnWidths || [];\r\n                    var columnWidths = [];\r\n                    var columns = this.getColumns();\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        columnWidths[i] = columns[i].visibleWidth;\r\n                        if (columns[i].resizedCallbacks && !isDefined(columns[i].groupIndex) && lastColumnWidths[i] !== columnWidths[i]) {\r\n                            columns[i].resizedCallbacks.fire(columnWidths[i])\r\n                        }\r\n                    }\r\n                    this._lastColumnWidths = columnWidths\r\n                },\r\n                _updateLastRowBorder: function(isFreeSpaceRowVisible) {\r\n                    if (this.option(\"showBorders\") && this.option(\"showRowLines\") && !isFreeSpaceRowVisible) {\r\n                        this.element().addClass(LAST_ROW_BORDER)\r\n                    } else {\r\n                        this.element().removeClass(LAST_ROW_BORDER)\r\n                    }\r\n                },\r\n                _updateScrollable: function() {\r\n                    var dxScrollable = Scrollable.getInstance(this.element());\r\n                    if (dxScrollable) {\r\n                        dxScrollable.update();\r\n                        this._updateHorizontalScrollPosition()\r\n                    }\r\n                },\r\n                _updateHorizontalScrollPosition: function() {\r\n                    var scrollable = this.getScrollable();\r\n                    var scrollLeft = scrollable && scrollable.scrollOffset().left;\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (rtlEnabled) {\r\n                        var maxHorizontalScrollOffset = getMaxHorizontalScrollOffset(scrollable);\r\n                        var scrollRight = maxHorizontalScrollOffset - scrollLeft;\r\n                        if (scrollRight !== this._scrollRight) {\r\n                            this._scrollLeft = maxHorizontalScrollOffset - this._scrollRight\r\n                        }\r\n                    }\r\n                    if (this._scrollLeft >= 0 && scrollLeft !== this._scrollLeft) {\r\n                        scrollable.scrollTo({\r\n                            x: this._scrollLeft\r\n                        })\r\n                    }\r\n                },\r\n                _resizeCore: function() {\r\n                    var that = this;\r\n                    that._fireColumnResizedCallbacks();\r\n                    that._updateRowHeight();\r\n                    deferRender((function() {\r\n                        that._renderScrollable();\r\n                        that.renderNoDataText();\r\n                        that.updateFreeSpaceRowHeight();\r\n                        deferUpdate((function() {\r\n                            that._updateScrollable()\r\n                        }))\r\n                    }))\r\n                },\r\n                scrollTo: function(location) {\r\n                    var $element = this.element();\r\n                    var dxScrollable = $element && Scrollable.getInstance($element);\r\n                    if (dxScrollable) {\r\n                        dxScrollable.scrollTo(location)\r\n                    }\r\n                },\r\n                height: function(_height, hasHeight) {\r\n                    var that = this;\r\n                    var $element = this.element();\r\n                    if (0 === arguments.length) {\r\n                        return $element ? getOuterHeight($element, true) : 0\r\n                    }\r\n                    that._hasHeight = void 0 === hasHeight ? \"auto\" !== _height : hasHeight;\r\n                    if (isDefined(_height) && $element) {\r\n                        setHeight($element, _height)\r\n                    }\r\n                },\r\n                setLoading: function(isLoading, messageText) {\r\n                    var loadPanel = this._loadPanel;\r\n                    var dataController = this._dataController;\r\n                    var loadPanelOptions = this.option(\"loadPanel\") || {};\r\n                    var animation = dataController.isLoaded() ? loadPanelOptions.animation : null;\r\n                    var $element = this.element();\r\n                    if (!hasWindow()) {\r\n                        return\r\n                    }\r\n                    if (!loadPanel && void 0 !== messageText && dataController.isLocalStore() && \"auto\" === loadPanelOptions.enabled && $element) {\r\n                        this._renderLoadPanel($element, $element.parent());\r\n                        loadPanel = this._loadPanel\r\n                    }\r\n                    if (loadPanel) {\r\n                        var visibilityOptions = {\r\n                            message: messageText || loadPanelOptions.text,\r\n                            animation: animation,\r\n                            visible: isLoading\r\n                        };\r\n                        if (isLoading) {\r\n                            visibilityOptions.position = gridCoreUtils.calculateLoadPanelPosition($element)\r\n                        }\r\n                        clearTimeout(this._hideLoadingTimeoutID);\r\n                        if (loadPanel.option(\"visible\") && !isLoading) {\r\n                            this._hideLoadingTimeoutID = setTimeout((function() {\r\n                                loadPanel.option(visibilityOptions)\r\n                            }), LOADPANEL_HIDE_TIMEOUT)\r\n                        } else {\r\n                            loadPanel.option(visibilityOptions)\r\n                        }\r\n                    }\r\n                },\r\n                setRowsOpacity: function(columnIndex, value) {\r\n                    var $rows = this._getRowElements().not(\".\" + GROUP_ROW_CLASS) || [];\r\n                    this._setRowsOpacityCore($rows, this.getColumns(), columnIndex, value)\r\n                },\r\n                _getCellElementsCore: function(rowIndex) {\r\n                    var $cells = this.callBase.apply(this, arguments);\r\n                    if ($cells) {\r\n                        var groupCellIndex = $cells.filter(\".\" + GROUP_CELL_CLASS).index();\r\n                        if (groupCellIndex >= 0 && $cells.length > groupCellIndex + 1) {\r\n                            return $cells.slice(0, groupCellIndex + 1)\r\n                        }\r\n                    }\r\n                    return $cells\r\n                },\r\n                _getBoundaryVisibleItemIndex: function(isTop, isFloor) {\r\n                    var itemIndex = 0;\r\n                    var prevOffset = 0;\r\n                    var offset = 0;\r\n                    var viewportBoundary = this._scrollTop;\r\n                    var $contentElement = this._findContentElement();\r\n                    var contentElementOffsetTop = $contentElement && $contentElement.offset().top;\r\n                    var dataController = this.getController(\"data\");\r\n                    var items = dataController.items();\r\n                    var tableElement = this.getTableElement();\r\n                    if (items.length && tableElement) {\r\n                        var rowElements = this._getRowElements(tableElement).filter(\":visible\");\r\n                        if (!isTop) {\r\n                            var height = this._hasHeight ? getOuterHeight(this.element()) : $(getWindow()).outerHeight();\r\n                            viewportBoundary += height\r\n                        }\r\n                        for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\r\n                            prevOffset = offset;\r\n                            var $rowElement = $(rowElements).eq(itemIndex);\r\n                            if ($rowElement.length) {\r\n                                offset = $rowElement.offset();\r\n                                offset = (isTop ? offset.top : offset.top + getOuterHeight($rowElement)) - contentElementOffsetTop;\r\n                                if (offset > viewportBoundary) {\r\n                                    if (itemIndex) {\r\n                                        if (isFloor || 2 * viewportBoundary < Math.round(offset + prevOffset)) {\r\n                                            itemIndex--\r\n                                        }\r\n                                    }\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                        if (itemIndex && itemIndex === items.length) {\r\n                            itemIndex--\r\n                        }\r\n                    }\r\n                    return itemIndex\r\n                },\r\n                getTopVisibleItemIndex: function(isFloor) {\r\n                    return this._getBoundaryVisibleItemIndex(true, isFloor)\r\n                },\r\n                getBottomVisibleItemIndex: function(isFloor) {\r\n                    return this._getBoundaryVisibleItemIndex(false, isFloor)\r\n                },\r\n                getTopVisibleRowData: function() {\r\n                    var itemIndex = this.getTopVisibleItemIndex();\r\n                    var items = this._dataController.items();\r\n                    if (items[itemIndex]) {\r\n                        return items[itemIndex].data\r\n                    }\r\n                },\r\n                _scrollToElement: function($element, offset) {\r\n                    var scrollable = this.getScrollable();\r\n                    scrollable && scrollable.scrollToElement($element, offset)\r\n                },\r\n                optionChanged: function(args) {\r\n                    this.callBase(args);\r\n                    switch (args.name) {\r\n                        case \"wordWrapEnabled\":\r\n                        case \"showColumnLines\":\r\n                        case \"showRowLines\":\r\n                        case \"rowAlternationEnabled\":\r\n                        case \"rowTemplate\":\r\n                        case \"dataRowTemplate\":\r\n                        case \"twoWayBindingEnabled\":\r\n                            this._invalidate(true, true);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"scrolling\":\r\n                            this._rowHeight = null;\r\n                            this._tableElement = null;\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            this._rowHeight = null;\r\n                            this._tableElement = null;\r\n                            break;\r\n                        case \"loadPanel\":\r\n                            this._tableElement = null;\r\n                            this._invalidate(true, \"loadPanel.enabled\" !== args.fullName);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"noDataText\":\r\n                            this.renderNoDataText();\r\n                            args.handled = true\r\n                    }\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._hideLoadingTimeoutID);\r\n                    this._scrollable && this._scrollable.dispose()\r\n                },\r\n                setScrollerSpacing: function() {},\r\n                _restoreErrorRow: function() {}\r\n            }\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.rows.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    rowsModule\r\n} from \"../grid_core/ui.grid_core.rows\";\r\nexport var RowsView = rowsModule.views.rowsView;\r\ngridCore.registerModule(\"rows\", rowsModule);\r\n","/**\r\n * DevExtreme (esm/ui/hierarchical_collection/ui.data_converter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport errors from \"../../ui/widget/ui.errors\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isPrimitive\r\n} from \"../../core/utils/type\";\r\nvar DataConverter = Class.inherit({\r\n    ctor: function() {\r\n        this._dataStructure = [];\r\n        this._itemsCount = 0;\r\n        this._visibleItemsCount = 0\r\n    },\r\n    _indexByKey: {},\r\n    _convertItemsToNodes: function(items, parentKey) {\r\n        var that = this;\r\n        each(items, (function(_, item) {\r\n            var parentId = isDefined(parentKey) ? parentKey : that._getParentId(item);\r\n            var node = that._convertItemToNode(item, parentId);\r\n            that._dataStructure.push(node);\r\n            that._checkForDuplicateId(node.internalFields.key);\r\n            that._indexByKey[node.internalFields.key] = that._dataStructure.length - 1;\r\n            if (that._itemHasChildren(item)) {\r\n                that._convertItemsToNodes(that._dataAccessors.getters.items(item), node.internalFields.key)\r\n            }\r\n        }))\r\n    },\r\n    _checkForDuplicateId: function(key) {\r\n        if (isDefined(this._indexByKey[key])) {\r\n            throw errors.Error(\"E1040\", key)\r\n        }\r\n    },\r\n    _getParentId: function(item) {\r\n        return \"plain\" === this._dataType ? this._dataAccessors.getters.parentKey(item) : void 0\r\n    },\r\n    _itemHasChildren: function(item) {\r\n        if (\"plain\" === this._dataType) {\r\n            return\r\n        }\r\n        var items = this._dataAccessors.getters.items(item);\r\n        return items && items.length\r\n    },\r\n    _getUniqueKey: function(item) {\r\n        var keyGetter = this._dataAccessors.getters.key;\r\n        var itemKey = keyGetter(item);\r\n        var isCorrectKey = keyGetter && (itemKey || 0 === itemKey) && isPrimitive(itemKey);\r\n        return isCorrectKey ? itemKey : this.getItemsCount()\r\n    },\r\n    _convertItemToNode: function(item, parentKey) {\r\n        this._itemsCount++;\r\n        false !== item.visible && this._visibleItemsCount++;\r\n        var node = {\r\n            internalFields: {\r\n                disabled: this._dataAccessors.getters.disabled(item, {\r\n                    defaultValue: false\r\n                }),\r\n                expanded: this._dataAccessors.getters.expanded(item, {\r\n                    defaultValue: false\r\n                }),\r\n                selected: this._dataAccessors.getters.selected(item, {\r\n                    defaultValue: false\r\n                }),\r\n                key: this._getUniqueKey(item),\r\n                parentKey: isDefined(parentKey) ? parentKey : this._rootValue,\r\n                item: this._makeObjectFromPrimitive(item),\r\n                childrenKeys: []\r\n            }\r\n        };\r\n        extend(node, item);\r\n        delete node.items;\r\n        return node\r\n    },\r\n    setChildrenKeys: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (node.internalFields.parentKey === that._rootValue) {\r\n                return\r\n            }\r\n            var parent = that.getParentNode(node);\r\n            parent && parent.internalFields.childrenKeys.push(node.internalFields.key)\r\n        }))\r\n    },\r\n    _makeObjectFromPrimitive: function(item) {\r\n        if (isPrimitive(item)) {\r\n            var key = item;\r\n            item = {};\r\n            this._dataAccessors.setters.key(item, key)\r\n        }\r\n        return item\r\n    },\r\n    _convertToPublicNode: function(node, parent) {\r\n        if (!node) {\r\n            return null\r\n        }\r\n        var publicNode = {\r\n            text: this._dataAccessors.getters.display(node),\r\n            key: node.internalFields.key,\r\n            selected: node.internalFields.selected,\r\n            expanded: node.internalFields.expanded,\r\n            disabled: node.internalFields.disabled,\r\n            parent: parent || null,\r\n            itemData: node.internalFields.item,\r\n            children: [],\r\n            items: []\r\n        };\r\n        if (publicNode.parent) {\r\n            publicNode.parent.children.push(publicNode);\r\n            publicNode.parent.items.push(publicNode)\r\n        }\r\n        return publicNode\r\n    },\r\n    convertToPublicNodes: function(data, parent) {\r\n        if (!data.length) {\r\n            return []\r\n        }\r\n        var that = this;\r\n        var publicNodes = [];\r\n        each(data, (function(_, node) {\r\n            node = isPrimitive(node) ? that._getByKey(node) : node;\r\n            var publicNode = that._convertToPublicNode(node, parent);\r\n            publicNode.children = that.convertToPublicNodes(node.internalFields.childrenKeys, publicNode);\r\n            publicNodes.push(publicNode);\r\n            node.internalFields.publicNode = publicNode\r\n        }));\r\n        return publicNodes\r\n    },\r\n    setDataAccessors: function(accessors) {\r\n        this._dataAccessors = accessors\r\n    },\r\n    _getByKey: function(key) {\r\n        return this._dataStructure[this.getIndexByKey(key)] || null\r\n    },\r\n    getParentNode: function(node) {\r\n        return this._getByKey(node.internalFields.parentKey)\r\n    },\r\n    getByKey: function(data, key) {\r\n        if (null === key || void 0 === key) {\r\n            return null\r\n        }\r\n        var result = null;\r\n        var that = this;\r\n        var getByKey = function(data, key) {\r\n            each(data, (function(_, element) {\r\n                var currentElementKey = element.internalFields && element.internalFields.key || that._dataAccessors.getters.key(element);\r\n                if (currentElementKey.toString() === key.toString()) {\r\n                    result = element;\r\n                    return false\r\n                }\r\n            }));\r\n            return result\r\n        };\r\n        return getByKey(data, key)\r\n    },\r\n    getItemsCount: function() {\r\n        return this._itemsCount\r\n    },\r\n    getVisibleItemsCount: function() {\r\n        return this._visibleItemsCount\r\n    },\r\n    updateIndexByKey: function() {\r\n        var that = this;\r\n        this._indexByKey = {};\r\n        each(this._dataStructure, (function(index, node) {\r\n            that._checkForDuplicateId(node.internalFields.key);\r\n            that._indexByKey[node.internalFields.key] = index\r\n        }))\r\n    },\r\n    updateChildrenKeys: function() {\r\n        this._indexByKey = {};\r\n        this.removeChildrenKeys();\r\n        this.updateIndexByKey();\r\n        this.setChildrenKeys()\r\n    },\r\n    removeChildrenKeys: function() {\r\n        this._indexByKey = {};\r\n        each(this._dataStructure, (function(index, node) {\r\n            node.internalFields.childrenKeys = []\r\n        }))\r\n    },\r\n    getIndexByKey: function(key) {\r\n        return this._indexByKey[key]\r\n    },\r\n    createPlainStructure: function(items, rootValue, dataType) {\r\n        this._itemsCount = 0;\r\n        this._visibleItemsCount = 0;\r\n        this._rootValue = rootValue;\r\n        this._dataType = dataType;\r\n        this._indexByKey = {};\r\n        this._convertItemsToNodes(items);\r\n        this.setChildrenKeys();\r\n        return this._dataStructure\r\n    }\r\n});\r\nexport default DataConverter;\r\n","/**\r\n * DevExtreme (esm/ui/hierarchical_collection/ui.data_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isFunction,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport errors from \"../../ui/widget/ui.errors\";\r\nimport uiSearchBoxMixin from \"../../ui/widget/ui.search_box_mixin\";\r\nimport TextBox from \"../../ui/text_box\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport query from \"../../data/query\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nimport HierarchicalDataConverter from \"./ui.data_converter\";\r\nvar EXPANDED = \"expanded\";\r\nvar SELECTED = \"selected\";\r\nvar DISABLED = \"disabled\";\r\nuiSearchBoxMixin.setEditorClass(TextBox);\r\nvar DataAdapter = Class.inherit({\r\n    ctor: function(options) {\r\n        this.options = {};\r\n        extend(this.options, this._defaultOptions(), options);\r\n        this.options.dataConverter.setDataAccessors(this.options.dataAccessors);\r\n        this._selectedNodesKeys = [];\r\n        this._expandedNodesKeys = [];\r\n        this._dataStructure = [];\r\n        this._createInternalDataStructure();\r\n        this.getTreeNodes()\r\n    },\r\n    setOption: function(name, value) {\r\n        this.options[name] = value;\r\n        if (\"recursiveSelection\" === name) {\r\n            this._updateSelection()\r\n        }\r\n    },\r\n    _defaultOptions: function() {\r\n        return {\r\n            dataAccessors: void 0,\r\n            items: [],\r\n            multipleSelection: true,\r\n            recursiveSelection: false,\r\n            recursiveExpansion: false,\r\n            rootValue: 0,\r\n            searchValue: \"\",\r\n            dataType: \"tree\",\r\n            searchMode: \"contains\",\r\n            dataConverter: new HierarchicalDataConverter,\r\n            onNodeChanged: noop,\r\n            sort: null\r\n        }\r\n    },\r\n    _createInternalDataStructure: function() {\r\n        this._initialDataStructure = this.options.dataConverter.createPlainStructure(this.options.items, this.options.rootValue, this.options.dataType);\r\n        this._dataStructure = this.options.searchValue.length ? this.search(this.options.searchValue) : this._initialDataStructure;\r\n        this.options.dataConverter._dataStructure = this._dataStructure;\r\n        this._updateSelection();\r\n        this._updateExpansion()\r\n    },\r\n    _updateSelection: function() {\r\n        if (this.options.recursiveSelection) {\r\n            this._setChildrenSelection();\r\n            this._setParentSelection()\r\n        }\r\n        this._selectedNodesKeys = this._updateNodesKeysArray(SELECTED)\r\n    },\r\n    _updateExpansion: function(key) {\r\n        if (this.options.recursiveExpansion) {\r\n            key ? this._updateOneBranch(key) : this._setParentExpansion()\r\n        }\r\n        this._expandedNodesKeys = this._updateNodesKeysArray(EXPANDED)\r\n    },\r\n    _updateNodesKeysArray: function(property) {\r\n        var that = this;\r\n        var array = [];\r\n        each(that._getDataBySelectionMode(), (function(_, node) {\r\n            if (!that._isNodeVisible(node)) {\r\n                return\r\n            }\r\n            if (node.internalFields[property]) {\r\n                if (property === EXPANDED || that.options.multipleSelection) {\r\n                    array.push(node.internalFields.key)\r\n                } else {\r\n                    array.length && that.toggleSelection(array[0], false, true);\r\n                    array = [node.internalFields.key]\r\n                }\r\n            }\r\n        }));\r\n        return array\r\n    },\r\n    _getDataBySelectionMode: function() {\r\n        return this.options.multipleSelection ? this.getData() : this.getFullData()\r\n    },\r\n    _isNodeVisible: function(node) {\r\n        return false !== node.internalFields.item.visible\r\n    },\r\n    _getByKey: function(data, key) {\r\n        return data === this._dataStructure ? this.options.dataConverter._getByKey(key) : this.options.dataConverter.getByKey(data, key)\r\n    },\r\n    _setChildrenSelection: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (!node.internalFields.childrenKeys.length) {\r\n                return\r\n            }\r\n            var isSelected = node.internalFields.selected;\r\n            true === isSelected && that._toggleChildrenSelection(node, isSelected)\r\n        }))\r\n    },\r\n    _setParentSelection: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            var parent = that.options.dataConverter.getParentNode(node);\r\n            if (parent && node.internalFields.parentKey !== that.options.rootValue) {\r\n                that._iterateParents(node, (function(parent) {\r\n                    var newParentState = that._calculateSelectedState(parent);\r\n                    that._setFieldState(parent, SELECTED, newParentState)\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _setParentExpansion: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (!node.internalFields.expanded) {\r\n                return\r\n            }\r\n            that._updateOneBranch(node.internalFields.key)\r\n        }))\r\n    },\r\n    _updateOneBranch: function(key) {\r\n        var that = this;\r\n        var node = this.getNodeByKey(key);\r\n        that._iterateParents(node, (function(parent) {\r\n            that._setFieldState(parent, EXPANDED, true)\r\n        }))\r\n    },\r\n    _iterateChildren: function(node, recursive, callback, processedKeys) {\r\n        if (!isFunction(callback)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var nodeKey = node.internalFields.key;\r\n        processedKeys = processedKeys || [];\r\n        if (-1 === processedKeys.indexOf(nodeKey)) {\r\n            processedKeys.push(nodeKey);\r\n            each(node.internalFields.childrenKeys, (function(_, key) {\r\n                var child = that.getNodeByKey(key);\r\n                callback(child);\r\n                if (child.internalFields.childrenKeys.length && recursive) {\r\n                    that._iterateChildren(child, recursive, callback, processedKeys)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    _iterateParents: function(node, callback, processedKeys) {\r\n        if (node.internalFields.parentKey === this.options.rootValue || !isFunction(callback)) {\r\n            return\r\n        }\r\n        processedKeys = processedKeys || [];\r\n        var key = node.internalFields.key;\r\n        if (-1 === processedKeys.indexOf(key)) {\r\n            processedKeys.push(key);\r\n            var parent = this.options.dataConverter.getParentNode(node);\r\n            if (parent) {\r\n                callback(parent);\r\n                if (parent.internalFields.parentKey !== this.options.rootValue) {\r\n                    this._iterateParents(parent, callback, processedKeys)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _calculateSelectedState: function(node) {\r\n        var itemsCount = node.internalFields.childrenKeys.length;\r\n        var selectedItemsCount = 0;\r\n        var invisibleItemsCount = 0;\r\n        var result = false;\r\n        for (var i = 0; i <= itemsCount - 1; i++) {\r\n            var childNode = this.getNodeByKey(node.internalFields.childrenKeys[i]);\r\n            var isChildInvisible = false === childNode.internalFields.item.visible;\r\n            var childState = childNode.internalFields.selected;\r\n            if (isChildInvisible) {\r\n                invisibleItemsCount++;\r\n                continue\r\n            }\r\n            if (childState) {\r\n                selectedItemsCount++\r\n            } else if (void 0 === childState) {\r\n                selectedItemsCount += .5\r\n            }\r\n        }\r\n        if (selectedItemsCount) {\r\n            result = selectedItemsCount === itemsCount - invisibleItemsCount ? true : void 0\r\n        }\r\n        return result\r\n    },\r\n    _toggleChildrenSelection: function(node, state) {\r\n        var that = this;\r\n        this._iterateChildren(node, true, (function(child) {\r\n            if (that._isNodeVisible(child)) {\r\n                that._setFieldState(child, SELECTED, state)\r\n            }\r\n        }))\r\n    },\r\n    _setFieldState: function(node, field, state) {\r\n        if (node.internalFields[field] === state) {\r\n            return\r\n        }\r\n        node.internalFields[field] = state;\r\n        if (node.internalFields.publicNode) {\r\n            node.internalFields.publicNode[field] = state\r\n        }\r\n        this.options.dataAccessors.setters[field](node.internalFields.item, state);\r\n        this.options.onNodeChanged(node)\r\n    },\r\n    _markChildren: function(keys) {\r\n        var that = this;\r\n        each(keys, (function(_, key) {\r\n            var index = that.getIndexByKey(key);\r\n            var node = that.getNodeByKey(key);\r\n            that._dataStructure[index] = 0;\r\n            node.internalFields.childrenKeys.length && that._markChildren(node.internalFields.childrenKeys)\r\n        }))\r\n    },\r\n    _removeNode: function(key) {\r\n        var node = this.getNodeByKey(key);\r\n        this._dataStructure[this.getIndexByKey(key)] = 0;\r\n        this._markChildren(node.internalFields.childrenKeys);\r\n        var that = this;\r\n        var counter = 0;\r\n        var items = extend([], this._dataStructure);\r\n        each(items, (function(index, item) {\r\n            if (!item) {\r\n                that._dataStructure.splice(index - counter, 1);\r\n                counter++\r\n            }\r\n        }))\r\n    },\r\n    _addNode: function(item) {\r\n        var dataConverter = this.options.dataConverter;\r\n        var node = dataConverter._convertItemToNode(item, this.options.dataAccessors.getters.parentKey(item));\r\n        this._dataStructure = this._dataStructure.concat(node);\r\n        this._initialDataStructure = this._initialDataStructure.concat(node);\r\n        dataConverter._dataStructure = dataConverter._dataStructure.concat(node)\r\n    },\r\n    _updateFields: function() {\r\n        this.options.dataConverter.updateChildrenKeys();\r\n        this._updateSelection();\r\n        this._updateExpansion()\r\n    },\r\n    getSelectedNodesKeys: function() {\r\n        return this._selectedNodesKeys\r\n    },\r\n    getExpandedNodesKeys: function() {\r\n        return this._expandedNodesKeys\r\n    },\r\n    getData: function() {\r\n        return this._dataStructure\r\n    },\r\n    getFullData: function() {\r\n        return this._initialDataStructure\r\n    },\r\n    getNodeByItem: function(item) {\r\n        var result = null;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (node.internalFields.item === item) {\r\n                result = node;\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    getNodesByItems: function(items) {\r\n        var that = this;\r\n        var nodes = [];\r\n        each(items, (function(_, item) {\r\n            var node = that.getNodeByItem(item);\r\n            node && nodes.push(node)\r\n        }));\r\n        return nodes\r\n    },\r\n    getNodeByKey: function(key, data) {\r\n        return this._getByKey(data || this._getDataBySelectionMode(), key)\r\n    },\r\n    getTreeNodes: function() {\r\n        return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())\r\n    },\r\n    getItemsCount: function() {\r\n        return this.options.dataConverter.getItemsCount()\r\n    },\r\n    getVisibleItemsCount: function() {\r\n        return this.options.dataConverter.getVisibleItemsCount()\r\n    },\r\n    getPublicNode: function(node) {\r\n        return node.internalFields.publicNode\r\n    },\r\n    getRootNodes: function() {\r\n        return this.getChildrenNodes(this.options.rootValue)\r\n    },\r\n    getChildrenNodes: function(parentKey) {\r\n        return query(this._dataStructure).filter([\"internalFields.parentKey\", parentKey]).toArray()\r\n    },\r\n    getIndexByKey: function(key) {\r\n        return this.options.dataConverter.getIndexByKey(key)\r\n    },\r\n    addItem: function(item) {\r\n        this._addNode(item);\r\n        this._updateFields()\r\n    },\r\n    removeItem: function(key) {\r\n        this._removeNode(key);\r\n        this._updateFields()\r\n    },\r\n    toggleSelection: function(key, state, selectRecursive) {\r\n        var isSingleModeUnselect = this._isSingleModeUnselect(state);\r\n        var node = this._getByKey(selectRecursive || isSingleModeUnselect ? this._initialDataStructure : this._dataStructure, key);\r\n        this._setFieldState(node, SELECTED, state);\r\n        if (this.options.recursiveSelection && !selectRecursive) {\r\n            state ? this._setChildrenSelection() : this._toggleChildrenSelection(node, state);\r\n            this._setParentSelection()\r\n        }\r\n        this._selectedNodesKeys = this._updateNodesKeysArray(SELECTED)\r\n    },\r\n    _isSingleModeUnselect: function(selectionState) {\r\n        return !this.options.multipleSelection && !selectionState\r\n    },\r\n    toggleNodeDisabledState: function(key, state) {\r\n        var node = this.getNodeByKey(key);\r\n        this._setFieldState(node, DISABLED, state)\r\n    },\r\n    toggleSelectAll: function(state) {\r\n        if (!isDefined(state)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var lastSelectedKey = that._selectedNodesKeys[that._selectedNodesKeys.length - 1];\r\n        var dataStructure = that._isSingleModeUnselect(state) ? this._initialDataStructure : this._dataStructure;\r\n        each(dataStructure, (function(index, node) {\r\n            if (!that._isNodeVisible(node)) {\r\n                return\r\n            }\r\n            that._setFieldState(node, SELECTED, state)\r\n        }));\r\n        that._selectedNodesKeys = that._updateNodesKeysArray(SELECTED);\r\n        if (!state && that.options.selectionRequired) {\r\n            that.toggleSelection(lastSelectedKey, true)\r\n        }\r\n    },\r\n    isAllSelected: function() {\r\n        if (this.getSelectedNodesKeys().length) {\r\n            return this.getSelectedNodesKeys().length === this.getVisibleItemsCount() ? true : void 0\r\n        } else {\r\n            return false\r\n        }\r\n    },\r\n    toggleExpansion: function(key, state) {\r\n        var node = this.getNodeByKey(key);\r\n        this._setFieldState(node, EXPANDED, state);\r\n        if (state) {\r\n            this._updateExpansion(key)\r\n        }\r\n        this._expandedNodesKeys = this._updateNodesKeysArray(EXPANDED)\r\n    },\r\n    isFiltered: function(item) {\r\n        return !this.options.searchValue.length || !!this._filterDataStructure(this.options.searchValue, [item]).length\r\n    },\r\n    _createCriteria: function(selector, value, operation) {\r\n        var searchFilter = [];\r\n        if (!Array.isArray(selector)) {\r\n            return [selector, operation, value]\r\n        }\r\n        each(selector, (function(i, item) {\r\n            searchFilter.push([item, operation, value], \"or\")\r\n        }));\r\n        searchFilter.pop();\r\n        return searchFilter\r\n    },\r\n    _filterDataStructure: function(filterValue, dataStructure) {\r\n        var selector = this.options.searchExpr || this.options.dataAccessors.getters.display;\r\n        var operation = uiSearchBoxMixin.getOperationBySearchMode(this.options.searchMode);\r\n        var criteria = this._createCriteria(selector, filterValue, operation);\r\n        dataStructure = dataStructure || this._initialDataStructure;\r\n        return query(dataStructure).filter(criteria).toArray()\r\n    },\r\n    search: function(searchValue) {\r\n        var that = this;\r\n        var matches = this._filterDataStructure(searchValue);\r\n        var dataConverter = this.options.dataConverter;\r\n        ! function lookForParents(matches, index) {\r\n            var length = matches.length;\r\n            while (index < length) {\r\n                var node = matches[index];\r\n                if (node.internalFields.parentKey === that.options.rootValue) {\r\n                    index++;\r\n                    continue\r\n                }\r\n                var parent = dataConverter.getParentNode(node);\r\n                if (!parent) {\r\n                    errors.log(\"W1007\", node.internalFields.parentKey, node.internalFields.key);\r\n                    index++;\r\n                    continue\r\n                }\r\n                if (!parent.internalFields.expanded) {\r\n                    that._setFieldState(parent, EXPANDED, true)\r\n                }\r\n                if (inArray(parent, matches) > -1) {\r\n                    index++;\r\n                    continue\r\n                }\r\n                matches.splice(index, 0, parent);\r\n                lookForParents(matches, index)\r\n            }\r\n        }(matches, 0);\r\n        if (this.options.sort) {\r\n            matches = storeHelper.queryByOptions(query(matches), {\r\n                sort: this.options.sort\r\n            }).toArray()\r\n        }\r\n        dataConverter._indexByKey = {};\r\n        each(matches, (function(index, node) {\r\n            node.internalFields.childrenKeys = [];\r\n            dataConverter._indexByKey[node.internalFields.key] = index\r\n        }));\r\n        dataConverter._dataStructure = matches;\r\n        dataConverter.setChildrenKeys();\r\n        return dataConverter._dataStructure\r\n    }\r\n});\r\nexport default DataAdapter;\r\n","/**\r\n * DevExtreme (esm/ui/hierarchical_collection/ui.hierarchical_collection_widget.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    compileGetter,\r\n    compileSetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    getImageContainer\r\n} from \"../../core/utils/icon\";\r\nimport HierarchicalDataAdapter from \"./ui.data_adapter\";\r\nimport CollectionWidget from \"../collection/ui.collection_widget.edit\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../../core/templates/bindable_template\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar HierarchicalCollectionWidget = CollectionWidget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            keyExpr: \"id\",\r\n            displayExpr: \"text\",\r\n            selectedExpr: \"selected\",\r\n            disabledExpr: \"disabled\",\r\n            itemsExpr: \"items\",\r\n            hoverStateEnabled: true,\r\n            parentIdExpr: \"parentId\",\r\n            expandedExpr: \"expanded\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initAccessors();\r\n        this._initDataAdapter();\r\n        this._initDynamicTemplates()\r\n    },\r\n    _initDataSource: function() {\r\n        this.callBase();\r\n        this._dataSource && this._dataSource.paginate(false)\r\n    },\r\n    _initDataAdapter: function() {\r\n        var accessors = this._createDataAdapterAccessors();\r\n        this._dataAdapter = new HierarchicalDataAdapter(extend({\r\n            dataAccessors: {\r\n                getters: accessors.getters,\r\n                setters: accessors.setters\r\n            },\r\n            items: this.option(\"items\")\r\n        }, this._getDataAdapterOptions()))\r\n    },\r\n    _getDataAdapterOptions: noop,\r\n    _initDynamicTemplates: function() {\r\n        var that = this;\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, itemData) {\r\n                $container.html(itemData.html).append(this._getIconContainer(itemData)).append(this._getTextContainer(itemData)).append(this._getPopoutContainer(itemData));\r\n                that._addContentClasses(itemData, $container.parent())\r\n            }.bind(this), [\"text\", \"html\", \"items\", \"icon\"], this.option(\"integrationOptions.watchMethod\"), {\r\n                text: this._displayGetter,\r\n                items: this._itemsGetter\r\n            })\r\n        })\r\n    },\r\n    _getIconContainer: function(itemData) {\r\n        return itemData.icon ? getImageContainer(itemData.icon) : void 0\r\n    },\r\n    _getTextContainer: function(itemData) {\r\n        return $(\"<span>\").text(itemData.text)\r\n    },\r\n    _getPopoutContainer: noop,\r\n    _addContentClasses: noop,\r\n    _initAccessors: function() {\r\n        var that = this;\r\n        each(this._getAccessors(), (function(_, accessor) {\r\n            that._compileAccessor(accessor)\r\n        }));\r\n        this._compileDisplayGetter()\r\n    },\r\n    _getAccessors: function() {\r\n        return [\"key\", \"selected\", \"items\", \"disabled\", \"parentId\", \"expanded\"]\r\n    },\r\n    _getChildNodes: function(node) {\r\n        var that = this;\r\n        var arr = [];\r\n        each(node.internalFields.childrenKeys, (function(_, key) {\r\n            var childNode = that._dataAdapter.getNodeByKey(key);\r\n            arr.push(childNode)\r\n        }));\r\n        return arr\r\n    },\r\n    _hasChildren: function(node) {\r\n        return node && node.internalFields.childrenKeys.length\r\n    },\r\n    _compileAccessor: function(optionName) {\r\n        var getter = \"_\" + optionName + \"Getter\";\r\n        var setter = \"_\" + optionName + \"Setter\";\r\n        var optionExpr = this.option(optionName + \"Expr\");\r\n        if (!optionExpr) {\r\n            this[getter] = noop;\r\n            this[setter] = noop;\r\n            return\r\n        } else if (isFunction(optionExpr)) {\r\n            this[setter] = function(obj, value) {\r\n                obj[optionExpr()] = value\r\n            };\r\n            this[getter] = function(obj) {\r\n                return obj[optionExpr()]\r\n            };\r\n            return\r\n        }\r\n        this[getter] = compileGetter(optionExpr);\r\n        this[setter] = compileSetter(optionExpr)\r\n    },\r\n    _createDataAdapterAccessors: function() {\r\n        var that = this;\r\n        var accessors = {\r\n            getters: {},\r\n            setters: {}\r\n        };\r\n        each(this._getAccessors(), (function(_, accessor) {\r\n            var getterName = \"_\" + accessor + \"Getter\";\r\n            var setterName = \"_\" + accessor + \"Setter\";\r\n            var newAccessor = \"parentId\" === accessor ? \"parentKey\" : accessor;\r\n            accessors.getters[newAccessor] = that[getterName];\r\n            accessors.setters[newAccessor] = that[setterName]\r\n        }));\r\n        accessors.getters.display = !this._displayGetter ? itemData => itemData.text : this._displayGetter;\r\n        return accessors\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._addWidgetClass()\r\n    },\r\n    _addWidgetClass: function() {\r\n        this._focusTarget().addClass(this._widgetClass())\r\n    },\r\n    _widgetClass: noop,\r\n    _renderItemFrame: function(index, itemData) {\r\n        var $itemFrame = this.callBase.apply(this, arguments);\r\n        $itemFrame.toggleClass(DISABLED_STATE_CLASS, !!this._disabledGetter(itemData));\r\n        return $itemFrame\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"displayExpr\":\r\n            case \"keyExpr\":\r\n                this._initAccessors();\r\n                this._initDynamicTemplates();\r\n                this.repaint();\r\n                break;\r\n            case \"itemsExpr\":\r\n            case \"selectedExpr\":\r\n            case \"disabledExpr\":\r\n            case \"expandedExpr\":\r\n            case \"parentIdExpr\":\r\n                this._initAccessors();\r\n                this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            case \"items\":\r\n                this._initDataAdapter();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport default HierarchicalCollectionWidget;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu/ui.menu_base.edit.strategy.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport PlainEditStrategy from \"../collection/ui.collection_widget.edit.strategy.plain\";\r\nclass MenuBaseEditStrategy extends PlainEditStrategy {\r\n    _getPlainItems() {\r\n        return map(this._collectionWidget.option(\"items\"), (function getMenuItems(item) {\r\n            return item.items ? [item].concat(map(item.items, getMenuItems)) : item\r\n        }))\r\n    }\r\n    _stringifyItem(item) {\r\n        return JSON.stringify(item, (key, value) => {\r\n            if (\"template\" === key) {\r\n                return this._getTemplateString(value)\r\n            }\r\n            return value\r\n        })\r\n    }\r\n    _getTemplateString(template) {\r\n        var result;\r\n        if (\"object\" === typeof template) {\r\n            result = $(template).text()\r\n        } else {\r\n            result = template.toString()\r\n        }\r\n        return result\r\n    }\r\n}\r\nexport default MenuBaseEditStrategy;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu/ui.menu_base.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop,\r\n    asyncNoop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isPlainObject,\r\n    isObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    render\r\n} from \"../widget/utils.ink_ripple\";\r\nimport HierarchicalCollectionWidget from \"../hierarchical_collection/ui.hierarchical_collection_widget\";\r\nimport MenuBaseEditStrategy from \"./ui.menu_base.edit.strategy\";\r\nimport devices from \"../../core/devices\";\r\nimport MenuItem from \"../collection/item\";\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_NO_ICONS_CLASS = DX_MENU_CLASS + \"-no-icons\";\r\nvar DX_MENU_BASE_CLASS = \"dx-menu-base\";\r\nvar ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_ITEM_CONTENT_CLASS = ITEM_CLASS + \"-content\";\r\nvar DX_MENU_SELECTED_ITEM_CLASS = ITEM_CLASS + \"-selected\";\r\nvar DX_MENU_ITEM_WRAPPER_CLASS = ITEM_CLASS + \"-wrapper\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = ITEM_CLASS + \"-expanded\";\r\nvar DX_MENU_SEPARATOR_CLASS = DX_MENU_CLASS + \"-separator\";\r\nvar DX_MENU_ITEM_LAST_GROUP_ITEM = DX_MENU_CLASS + \"-last-group-item\";\r\nvar DX_ITEM_HAS_TEXT = ITEM_CLASS + \"-has-text\";\r\nvar DX_ITEM_HAS_ICON = ITEM_CLASS + \"-has-icon\";\r\nvar DX_ITEM_HAS_SUBMENU = ITEM_CLASS + \"-has-submenu\";\r\nvar DX_MENU_ITEM_POPOUT_CLASS = ITEM_CLASS + \"-popout\";\r\nvar DX_MENU_ITEM_POPOUT_CONTAINER_CLASS = DX_MENU_ITEM_POPOUT_CLASS + \"-container\";\r\nvar DX_MENU_ITEM_CAPTION_CLASS = ITEM_CLASS + \"-text\";\r\nvar SINGLE_SELECTION_MODE = \"single\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nclass MenuBase extends HierarchicalCollectionWidget {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            items: [],\r\n            cssClass: \"\",\r\n            activeStateEnabled: true,\r\n            showSubmenuMode: {\r\n                name: \"onHover\",\r\n                delay: {\r\n                    show: 50,\r\n                    hide: 300\r\n                }\r\n            },\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    from: 0,\r\n                    to: 1,\r\n                    duration: 100\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    from: 1,\r\n                    to: 0,\r\n                    duration: 100\r\n                }\r\n            },\r\n            selectByClick: false,\r\n            focusOnSelectedItem: false,\r\n            keyExpr: null,\r\n            _itemAttributes: {\r\n                role: \"menuitem\"\r\n            },\r\n            useInkRipple: false\r\n        })\r\n    }\r\n    _itemDataKey() {\r\n        return \"dxMenuItemDataKey\"\r\n    }\r\n    _itemClass() {\r\n        return ITEM_CLASS\r\n    }\r\n    _setAriaSelected() {}\r\n    _selectedItemClass() {\r\n        return DX_MENU_SELECTED_ITEM_CLASS\r\n    }\r\n    _widgetClass() {\r\n        return DX_MENU_BASE_CLASS\r\n    }\r\n    _focusTarget() {\r\n        return this._itemContainer()\r\n    }\r\n    _clean() {\r\n        this.option(\"focusedElement\", null);\r\n        super._clean()\r\n    }\r\n    _supportedKeys() {\r\n        return extend(super._supportedKeys(), {\r\n            space: () => {\r\n                var $item = $(this.option(\"focusedElement\"));\r\n                if (!$item.length || !this._isSelectionEnabled()) {\r\n                    return\r\n                }\r\n                this.selectItem($item[0])\r\n            },\r\n            pageUp: noop,\r\n            pageDown: noop\r\n        })\r\n    }\r\n    _isSelectionEnabled() {\r\n        return this.option(\"selectionMode\") === SINGLE_SELECTION_MODE\r\n    }\r\n    _init() {\r\n        this._activeStateUnit = \".\".concat(ITEM_CLASS);\r\n        super._init();\r\n        this._renderSelectedItem();\r\n        this._initActions()\r\n    }\r\n    _getTextContainer(itemData) {\r\n        var itemText = itemData.text;\r\n        var $itemContainer = $(\"<span>\").addClass(DX_MENU_ITEM_CAPTION_CLASS);\r\n        var itemContent = isPlainObject(itemData) ? itemText : String(itemData);\r\n        return itemText && $itemContainer.text(itemContent)\r\n    }\r\n    _getPopoutContainer(itemData) {\r\n        var items = itemData.items;\r\n        var $popOutContainer;\r\n        if (items && items.length) {\r\n            var $popOutImage = $(\"<div>\").addClass(DX_MENU_ITEM_POPOUT_CLASS);\r\n            $popOutContainer = $(\"<span>\").addClass(DX_MENU_ITEM_POPOUT_CONTAINER_CLASS).append($popOutImage)\r\n        }\r\n        return $popOutContainer\r\n    }\r\n    _getDataAdapterOptions() {\r\n        return {\r\n            rootValue: 0,\r\n            multipleSelection: false,\r\n            recursiveSelection: false,\r\n            recursiveExpansion: false,\r\n            searchValue: \"\"\r\n        }\r\n    }\r\n    _selectByItem(selectedItem) {\r\n        if (!selectedItem) {\r\n            return\r\n        }\r\n        var nodeToSelect = this._dataAdapter.getNodeByItem(selectedItem);\r\n        this._dataAdapter.toggleSelection(nodeToSelect.internalFields.key, true)\r\n    }\r\n    _renderSelectedItem() {\r\n        var selectedKeys = this._dataAdapter.getSelectedNodesKeys();\r\n        var selectedKey = selectedKeys.length && selectedKeys[0];\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        if (!selectedKey) {\r\n            this._selectByItem(selectedItem);\r\n            return\r\n        }\r\n        var node = this._dataAdapter.getNodeByKey(selectedKey);\r\n        if (false === node.selectable) {\r\n            return\r\n        }\r\n        if (!selectedItem) {\r\n            this.option(\"selectedItem\", node.internalFields.item);\r\n            return\r\n        }\r\n        if (selectedItem !== node.internalFields.item) {\r\n            this._dataAdapter.toggleSelection(selectedKey, false);\r\n            this._selectByItem(selectedItem)\r\n        }\r\n    }\r\n    _initActions() {}\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        this._addCustomCssClass(this.$element());\r\n        this.option(\"useInkRipple\") && this._renderInkRipple()\r\n    }\r\n    _renderInkRipple() {\r\n        this._inkRipple = render()\r\n    }\r\n    _toggleActiveState($element, value, e) {\r\n        super._toggleActiveState.apply(this, arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    }\r\n    _getShowSubmenuMode() {\r\n        var optionValue = this.option(\"showSubmenuMode\");\r\n        optionValue = isObject(optionValue) ? optionValue.name : optionValue;\r\n        return this._isDesktopDevice() ? optionValue : \"onClick\"\r\n    }\r\n    _initSelectedItems() {}\r\n    _isDesktopDevice() {\r\n        return \"desktop\" === devices.real().deviceType\r\n    }\r\n    _initEditStrategy() {\r\n        var Strategy = MenuBaseEditStrategy;\r\n        this._editStrategy = new Strategy(this)\r\n    }\r\n    _addCustomCssClass($element) {\r\n        $element.addClass(this.option(\"cssClass\"))\r\n    }\r\n    _itemWrapperSelector() {\r\n        return \".\".concat(DX_MENU_ITEM_WRAPPER_CLASS)\r\n    }\r\n    _hoverStartHandler(e) {\r\n        var $itemElement = this._getItemElementByEventArgs(e);\r\n        if (!$itemElement || this._isItemDisabled($itemElement)) {\r\n            return\r\n        }\r\n        e.stopPropagation();\r\n        if (\"onHover\" === this._getShowSubmenuMode()) {\r\n            clearTimeout(this._showSubmenusTimeout);\r\n            this._showSubmenusTimeout = setTimeout(this._showSubmenu.bind(this, $itemElement), this._getSubmenuDelay(\"show\"))\r\n        }\r\n    }\r\n    _getAvailableItems($itemElements) {\r\n        return super._getAvailableItems($itemElements).filter((function() {\r\n            return \"hidden\" !== $(this).css(\"visibility\")\r\n        }))\r\n    }\r\n    _isItemDisabled($item) {\r\n        return this._disabledGetter($item.data(this._itemDataKey()))\r\n    }\r\n    _showSubmenu($itemElement) {\r\n        this._addExpandedClass($itemElement)\r\n    }\r\n    _addExpandedClass(itemElement) {\r\n        $(itemElement).addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n    }\r\n    _getSubmenuDelay(action) {\r\n        var {\r\n            delay: delay\r\n        } = this.option(\"showSubmenuMode\");\r\n        if (!isDefined(delay)) {\r\n            return DEFAULT_DELAY[action]\r\n        }\r\n        return isObject(delay) ? delay[action] : delay\r\n    }\r\n    _getItemElementByEventArgs(eventArgs) {\r\n        var $target = $(eventArgs.target);\r\n        if ($target.hasClass(this._itemClass()) || $target.get(0) === eventArgs.currentTarget) {\r\n            return $target\r\n        }\r\n        while (!$target.hasClass(this._itemClass())) {\r\n            $target = $target.parent();\r\n            if ($target.hasClass(\"dx-submenu\")) {\r\n                return null\r\n            }\r\n        }\r\n        return $target\r\n    }\r\n    _hoverEndHandler() {\r\n        clearTimeout(this._showSubmenusTimeout)\r\n    }\r\n    _hasSubmenu(node) {\r\n        return node && node.internalFields.childrenKeys.length\r\n    }\r\n    _renderContentImpl() {\r\n        this._renderItems(this._dataAdapter.getRootNodes())\r\n    }\r\n    _renderItems(nodes, submenuContainer) {\r\n        if (nodes.length) {\r\n            this.hasIcons = false;\r\n            var $nodeContainer = this._renderContainer(this.$element(), submenuContainer);\r\n            var firstVisibleIndex = -1;\r\n            var nextGroupFirstIndex = -1;\r\n            each(nodes, (index, node) => {\r\n                var isVisibleNode = false !== node.visible;\r\n                if (isVisibleNode && firstVisibleIndex < 0) {\r\n                    firstVisibleIndex = index\r\n                }\r\n                var isBeginGroup = firstVisibleIndex < index && (node.beginGroup || index === nextGroupFirstIndex);\r\n                if (isBeginGroup) {\r\n                    nextGroupFirstIndex = isVisibleNode ? index : index + 1\r\n                }\r\n                if (index === nextGroupFirstIndex && firstVisibleIndex < index) {\r\n                    this._renderSeparator($nodeContainer)\r\n                }\r\n                this._renderItem(index, node, $nodeContainer)\r\n            });\r\n            if (!this.hasIcons) {\r\n                $nodeContainer.addClass(DX_MENU_NO_ICONS_CLASS)\r\n            }\r\n        }\r\n    }\r\n    _renderContainer($wrapper) {\r\n        var $container = $(\"<ul>\");\r\n        this.setAria(\"role\", \"none\", $container);\r\n        return $container.appendTo($wrapper).addClass(DX_MENU_ITEMS_CONTAINER_CLASS)\r\n    }\r\n    _createDOMElement($nodeContainer) {\r\n        var $node = $(\"<li>\");\r\n        this.setAria(\"role\", \"none\", $node);\r\n        return $node.appendTo($nodeContainer).addClass(DX_MENU_ITEM_WRAPPER_CLASS)\r\n    }\r\n    _renderItem(index, node, $nodeContainer, $nodeElement) {\r\n        var items = this.option(\"items\");\r\n        var $node = $nodeElement || this._createDOMElement($nodeContainer);\r\n        if (items[index + 1] && items[index + 1].beginGroup) {\r\n            $node.addClass(DX_MENU_ITEM_LAST_GROUP_ITEM)\r\n        }\r\n        var $itemFrame = super._renderItem(index, node.internalFields.item, $node);\r\n        if (node.internalFields.item === this.option(\"selectedItem\")) {\r\n            $itemFrame.addClass(DX_MENU_SELECTED_ITEM_CLASS)\r\n        }\r\n        $itemFrame.attr(\"tabIndex\", -1);\r\n        if (this._hasSubmenu(node)) {\r\n            this.setAria(\"haspopup\", \"true\", $itemFrame)\r\n        }\r\n    }\r\n    _renderItemFrame(index, itemData, $itemContainer) {\r\n        var $itemFrame = $itemContainer.children(\".\".concat(ITEM_CLASS));\r\n        return $itemFrame.length ? $itemFrame : super._renderItemFrame.apply(this, arguments)\r\n    }\r\n    _refreshItem($item, item) {\r\n        var node = this._dataAdapter.getNodeByItem(item);\r\n        var index = $item.data(this._itemIndexKey());\r\n        var $nodeContainer = $item.closest(\"ul\");\r\n        var $nodeElement = $item.closest(\"li\");\r\n        this._renderItem(index, node, $nodeContainer, $nodeElement)\r\n    }\r\n    _addContentClasses(itemData, $itemFrame) {\r\n        var hasText = itemData.text ? !!itemData.text.length : false;\r\n        var hasIcon = !!itemData.icon;\r\n        var hasSubmenu = itemData.items ? !!itemData.items.length : false;\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_TEXT, hasText);\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_ICON, hasIcon);\r\n        if (!this.hasIcons) {\r\n            this.hasIcons = hasIcon\r\n        }\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_SUBMENU, hasSubmenu)\r\n    }\r\n    _getItemContent($itemFrame) {\r\n        var $itemContent = super._getItemContent($itemFrame);\r\n        if (!$itemContent.length) {\r\n            $itemContent = $itemFrame.children(\".\".concat(DX_ITEM_CONTENT_CLASS))\r\n        }\r\n        return $itemContent\r\n    }\r\n    _postprocessRenderItem(args) {\r\n        var $itemElement = $(args.itemElement);\r\n        var selectedIndex = this._dataAdapter.getSelectedNodesKeys();\r\n        if (!selectedIndex.length || !this._selectedGetter(args.itemData) || !this._isItemSelectable(args.itemData)) {\r\n            this._setAriaSelected($itemElement, \"false\");\r\n            return\r\n        }\r\n        var node = this._dataAdapter.getNodeByItem(args.itemData);\r\n        if (node.internalFields.key === selectedIndex[0]) {\r\n            $itemElement.addClass(this._selectedItemClass());\r\n            this._setAriaSelected($itemElement, \"true\")\r\n        } else {\r\n            this._setAriaSelected($itemElement, \"false\")\r\n        }\r\n    }\r\n    _isItemSelectable(item) {\r\n        return false !== item.selectable\r\n    }\r\n    _renderSeparator($itemsContainer) {\r\n        $(\"<li>\").appendTo($itemsContainer).addClass(DX_MENU_SEPARATOR_CLASS)\r\n    }\r\n    _itemClickHandler(e) {\r\n        if (e._skipHandling) {\r\n            return\r\n        }\r\n        var itemClickActionHandler = this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));\r\n        this._itemDXEventHandler(e, \"onItemClick\", {}, {\r\n            afterExecute: itemClickActionHandler.bind(this)\r\n        });\r\n        e._skipHandling = true\r\n    }\r\n    _updateSubmenuVisibilityOnClick(actionArgs) {\r\n        this._updateSelectedItemOnClick(actionArgs);\r\n        if (\"onClick\" === this._getShowSubmenuMode()) {\r\n            this._addExpandedClass(actionArgs.args[0].itemElement)\r\n        }\r\n    }\r\n    _updateSelectedItemOnClick(actionArgs) {\r\n        var args = actionArgs.args ? actionArgs.args[0] : actionArgs;\r\n        if (!this._isItemSelectionAllowed(args.itemData)) {\r\n            return\r\n        }\r\n        var selectedItemKey = this._dataAdapter.getSelectedNodesKeys();\r\n        var selectedNode = selectedItemKey.length && this._dataAdapter.getNodeByKey(selectedItemKey[0]);\r\n        if (selectedNode) {\r\n            this._toggleItemSelection(selectedNode, false)\r\n        }\r\n        if (!selectedNode || selectedNode.internalFields.item !== args.itemData) {\r\n            this.selectItem(args.itemData)\r\n        } else {\r\n            this._fireSelectionChangeEvent(null, this.option(\"selectedItem\"));\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n        }\r\n    }\r\n    _isItemSelectionAllowed(item) {\r\n        var isSelectionByClickEnabled = this._isSelectionEnabled() && this.option(\"selectByClick\");\r\n        return !this._isContainerEmpty() && isSelectionByClickEnabled && this._isItemSelectable(item) && !this._itemsGetter(item)\r\n    }\r\n    _isContainerEmpty() {\r\n        return this._itemContainer().is(\":empty\")\r\n    }\r\n    _syncSelectionOptions() {\r\n        return asyncNoop()\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"showSubmenuMode\":\r\n                break;\r\n            case \"selectedItem\":\r\n                var node = this._dataAdapter.getNodeByItem(args.value);\r\n                var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n                if (node && node.internalFields.key !== selectedKey) {\r\n                    if (false === node.selectable) {\r\n                        break\r\n                    }\r\n                    if (selectedKey) {\r\n                        this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n                    }\r\n                    this._toggleItemSelection(node, true);\r\n                    this._updateSelectedItems()\r\n                }\r\n                break;\r\n            case \"cssClass\":\r\n            case \"position\":\r\n            case \"selectByClick\":\r\n            case \"animation\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _toggleItemSelection(node, value) {\r\n        var itemElement = this._getElementByItem(node.internalFields.item);\r\n        itemElement && $(itemElement).toggleClass(DX_MENU_SELECTED_ITEM_CLASS);\r\n        this._dataAdapter.toggleSelection(node.internalFields.key, value)\r\n    }\r\n    _getElementByItem(itemData) {\r\n        var result;\r\n        each(this._itemElements(), (_, itemElement) => {\r\n            if ($(itemElement).data(this._itemDataKey()) !== itemData) {\r\n                return true\r\n            }\r\n            result = itemElement;\r\n            return false\r\n        });\r\n        return result\r\n    }\r\n    _updateSelectedItems(oldSelection, newSelection) {\r\n        if (oldSelection || newSelection) {\r\n            this._fireSelectionChangeEvent(newSelection, oldSelection)\r\n        }\r\n    }\r\n    _fireSelectionChangeEvent(addedSelection, removedSelection) {\r\n        this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })({\r\n            addedItems: [addedSelection],\r\n            removedItems: [removedSelection]\r\n        })\r\n    }\r\n    selectItem(itemElement) {\r\n        var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n        var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        if (node.internalFields.key !== selectedKey) {\r\n            if (selectedKey) {\r\n                this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n            }\r\n            this._toggleItemSelection(node, true);\r\n            this._updateSelectedItems(selectedItem, itemData);\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", itemData)\r\n        }\r\n    }\r\n    unselectItem(itemElement) {\r\n        var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        if (node.internalFields.selected) {\r\n            this._toggleItemSelection(node, false);\r\n            this._updateSelectedItems(selectedItem, null);\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n        }\r\n    }\r\n}\r\nMenuBase.ItemClass = MenuItem;\r\nexport default MenuBase;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu/ui.context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isObject,\r\n    isRenderer,\r\n    isWindow,\r\n    isFunction,\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    contains\r\n} from \"../../core/utils/dom\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport fx from \"../../animation/fx\";\r\nimport animationPosition from \"../../animation/position\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport MenuBase from \"./ui.menu_base\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    name as contextMenuEventName\r\n} from \"../../events/contextmenu\";\r\nimport holdEvent from \"../../events/hold\";\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_MENU_PHONE_CLASS = \"dx-menu-phone-overlay\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_WRAPPER_CLASS = DX_MENU_ITEM_CLASS + \"-wrapper\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_HAS_CONTEXT_MENU_CLASS = \"dx-has-context-menu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_FOCUSED_CLASS = \"dx-state-focused\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar FOCUS_FIRST = \"first\";\r\nvar FOCUS_LAST = \"last\";\r\nvar ACTIONS = [\"onShowing\", \"onShown\", \"onSubmenuCreated\", \"onHiding\", \"onHidden\", \"onPositioning\", \"onLeftFirstItem\", \"onLeftLastItem\", \"onCloseRootSubmenu\", \"onExpandLastSubmenu\"];\r\nvar LOCAL_SUBMENU_DIRECTIONS = [FOCUS_UP, FOCUS_DOWN, FOCUS_FIRST, FOCUS_LAST];\r\nvar DEFAULT_SHOW_EVENT = \"dxcontextmenu\";\r\nclass ContextMenu extends MenuBase {\r\n    getShowEvent(showEventOption) {\r\n        var result = null;\r\n        if (isObject(showEventOption)) {\r\n            if (null !== showEventOption.name) {\r\n                result = showEventOption.name || DEFAULT_SHOW_EVENT\r\n            }\r\n        } else {\r\n            result = showEventOption\r\n        }\r\n        return result\r\n    }\r\n    getShowDelay(showEventOption) {\r\n        return isObject(showEventOption) && showEventOption.delay\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            showEvent: DEFAULT_SHOW_EVENT,\r\n            closeOnOutsideClick: true,\r\n            position: {\r\n                at: \"top left\",\r\n                my: \"top left\"\r\n            },\r\n            onShowing: null,\r\n            onShown: null,\r\n            onSubmenuCreated: null,\r\n            onHiding: null,\r\n            onHidden: null,\r\n            onPositioning: null,\r\n            submenuDirection: \"auto\",\r\n            visible: false,\r\n            target: void 0,\r\n            onLeftFirstItem: null,\r\n            onLeftLastItem: null,\r\n            onCloseRootSubmenu: null,\r\n            onExpandLastSubmenu: null\r\n        })\r\n    }\r\n    _defaultOptionsRules() {\r\n        return super._defaultOptionsRules().concat([{\r\n            device: () => !hasWindow(),\r\n            options: {\r\n                animation: null\r\n            }\r\n        }])\r\n    }\r\n    _initActions() {\r\n        this._actions = {};\r\n        each(ACTIONS, (index, action) => {\r\n            this._actions[action] = this._createActionByOption(action) || noop\r\n        })\r\n    }\r\n    _setOptionsByReference() {\r\n        super._setOptionsByReference();\r\n        extend(this._optionsByReference, {\r\n            animation: true,\r\n            selectedItem: true\r\n        })\r\n    }\r\n    _focusInHandler() {}\r\n    _itemContainer() {\r\n        return this._overlay ? this._overlay.$content() : $()\r\n    }\r\n    _eventBindingTarget() {\r\n        return this._itemContainer()\r\n    }\r\n    itemsContainer() {\r\n        return this._overlay ? this._overlay.$content() : void 0\r\n    }\r\n    _supportedKeys() {\r\n        return extend(super._supportedKeys(), {\r\n            space: () => {\r\n                var $item = $(this.option(\"focusedElement\"));\r\n                this.hide();\r\n                if (!$item.length || !this._isSelectionEnabled()) {\r\n                    return\r\n                }\r\n                this.selectItem($item[0])\r\n            },\r\n            escape: this.hide\r\n        })\r\n    }\r\n    _getActiveItem() {\r\n        var $availableItems = this._getAvailableItems();\r\n        var $focusedItem = $availableItems.filter(\".\".concat(DX_STATE_FOCUSED_CLASS));\r\n        var $hoveredItem = $availableItems.filter(\".\".concat(DX_STATE_HOVER_CLASS));\r\n        var $hoveredItemContainer = $hoveredItem.closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS));\r\n        if ($hoveredItemContainer.find(\".\".concat(DX_MENU_ITEM_CLASS)).index($focusedItem) >= 0) {\r\n            return $focusedItem\r\n        }\r\n        if ($hoveredItem.length) {\r\n            return $hoveredItem\r\n        }\r\n        return super._getActiveItem()\r\n    }\r\n    _moveFocus(location) {\r\n        var $items = this._getItemsByLocation(location);\r\n        var $oldTarget = this._getActiveItem(true);\r\n        var $hoveredItem = this.itemsContainer().find(\".\".concat(DX_STATE_HOVER_CLASS));\r\n        var $focusedItem = $(this.option(\"focusedElement\"));\r\n        var $activeItemHighlighted = !!($focusedItem.length || $hoveredItem.length);\r\n        var $newTarget;\r\n        switch (location) {\r\n            case FOCUS_UP:\r\n                $newTarget = $activeItemHighlighted ? this._prevItem($items) : $oldTarget;\r\n                this._setFocusedElement($newTarget);\r\n                if ($oldTarget.is($items.first())) {\r\n                    this._actions.onLeftFirstItem($oldTarget)\r\n                }\r\n                break;\r\n            case FOCUS_DOWN:\r\n                $newTarget = $activeItemHighlighted ? this._nextItem($items) : $oldTarget;\r\n                this._setFocusedElement($newTarget);\r\n                if ($oldTarget.is($items.last())) {\r\n                    this._actions.onLeftLastItem($oldTarget)\r\n                }\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                $newTarget = this.option(\"rtlEnabled\") ? this._hideSubmenuHandler() : this._expandSubmenuHandler($items, location);\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            case FOCUS_LEFT:\r\n                $newTarget = this.option(\"rtlEnabled\") ? this._expandSubmenuHandler($items, location) : this._hideSubmenuHandler();\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            case FOCUS_FIRST:\r\n                $newTarget = $items.first();\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            case FOCUS_LAST:\r\n                $newTarget = $items.last();\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            default:\r\n                return super._moveFocus(location)\r\n        }\r\n    }\r\n    _setFocusedElement($element) {\r\n        if ($element && 0 !== $element.length) {\r\n            this.option(\"focusedElement\", getPublicElement($element))\r\n        }\r\n    }\r\n    _getItemsByLocation(location) {\r\n        var $activeItem = this._getActiveItem(true);\r\n        var $items;\r\n        if (inArray(location, LOCAL_SUBMENU_DIRECTIONS) >= 0) {\r\n            $items = $activeItem.closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).children().children()\r\n        }\r\n        $items = this._getAvailableItems($items);\r\n        return $items\r\n    }\r\n    _getAriaTarget() {\r\n        return this.$element()\r\n    }\r\n    _refreshActiveDescendant() {\r\n        if (isDefined(this._overlay)) {\r\n            var $target = this._overlay.$content();\r\n            super._refreshActiveDescendant($target)\r\n        }\r\n    }\r\n    _hideSubmenuHandler() {\r\n        var $curItem = this._getActiveItem(true);\r\n        var $parentItem = $curItem.parents(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).first();\r\n        if ($parentItem.length) {\r\n            this._hideSubmenusOnSameLevel($parentItem);\r\n            this._hideSubmenu($curItem.closest(\".\".concat(DX_SUBMENU_CLASS)));\r\n            return $parentItem\r\n        }\r\n        this._actions.onCloseRootSubmenu($curItem);\r\n        return $curItem\r\n    }\r\n    _expandSubmenuHandler($items, location) {\r\n        var $curItem = this._getActiveItem(true);\r\n        var itemData = this._getItemData($curItem);\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        var isItemHasSubmenu = this._hasSubmenu(node);\r\n        var $submenu = $curItem.children(\".\".concat(DX_SUBMENU_CLASS));\r\n        if (isItemHasSubmenu && !$curItem.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n            if (!$submenu.length || \"hidden\" === $submenu.css(\"visibility\")) {\r\n                this._showSubmenu($curItem)\r\n            }\r\n            return this._nextItem(this._getItemsByLocation(location))\r\n        }\r\n        this._actions.onExpandLastSubmenu($curItem);\r\n        return\r\n    }\r\n    _clean() {\r\n        if (this._overlay) {\r\n            this._overlay.$element().remove();\r\n            this._overlay = null\r\n        }\r\n        this._detachShowContextMenuEvents(this._getTarget());\r\n        super._clean()\r\n    }\r\n    _initMarkup() {\r\n        this.$element().addClass(DX_HAS_CONTEXT_MENU_CLASS);\r\n        super._initMarkup()\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this._renderVisibility(this.option(\"visible\"));\r\n        this._addWidgetClass()\r\n    }\r\n    _renderContentImpl() {\r\n        this._detachShowContextMenuEvents(this._getTarget());\r\n        this._attachShowContextMenuEvents()\r\n    }\r\n    _attachKeyboardEvents() {\r\n        !this._keyboardListenerId && this._focusTarget().length && super._attachKeyboardEvents()\r\n    }\r\n    _renderContextMenuOverlay() {\r\n        if (this._overlay) {\r\n            return\r\n        }\r\n        var overlayOptions = this._getOverlayOptions();\r\n        this._overlay = this._createComponent($(\"<div>\").appendTo(this._$element), Overlay, overlayOptions);\r\n        var $overlayContent = this._overlay.$content();\r\n        $overlayContent.addClass(DX_CONTEXT_MENU_CLASS);\r\n        this._addCustomCssClass($overlayContent);\r\n        this._addPlatformDependentClass($overlayContent);\r\n        this._attachContextMenuEvent()\r\n    }\r\n    preventShowingDefaultContextMenuAboveOverlay() {\r\n        var $itemContainer = this._itemContainer();\r\n        var eventName = addNamespace(contextMenuEventName, this.NAME);\r\n        eventsEngine.off($itemContainer, eventName, \".\".concat(DX_SUBMENU_CLASS));\r\n        eventsEngine.on($itemContainer, eventName, \".\".concat(DX_SUBMENU_CLASS), (e => {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            eventsEngine.off($itemContainer, eventName, \".\".concat(DX_SUBMENU_CLASS))\r\n        }).bind(this))\r\n    }\r\n    _itemContextMenuHandler(e) {\r\n        super._itemContextMenuHandler(e);\r\n        e.stopPropagation()\r\n    }\r\n    _addPlatformDependentClass($element) {\r\n        if (devices.current().phone) {\r\n            $element.addClass(DX_MENU_PHONE_CLASS)\r\n        }\r\n    }\r\n    _detachShowContextMenuEvents(target) {\r\n        var showEvent = this.getShowEvent(this.option(\"showEvent\"));\r\n        if (!showEvent) {\r\n            return\r\n        }\r\n        var eventName = addNamespace(showEvent, this.NAME);\r\n        if (this._showContextMenuEventHandler) {\r\n            eventsEngine.off(domAdapter.getDocument(), eventName, target, this._showContextMenuEventHandler)\r\n        } else {\r\n            eventsEngine.off($(target), eventName)\r\n        }\r\n    }\r\n    _attachShowContextMenuEvents() {\r\n        var target = this._getTarget();\r\n        var showEvent = this.getShowEvent(this.option(\"showEvent\"));\r\n        if (!showEvent) {\r\n            return\r\n        }\r\n        var eventName = addNamespace(showEvent, this.NAME);\r\n        var contextMenuAction = this._createAction(e => {\r\n            var delay = this.getShowDelay(this.option(\"showEvent\"));\r\n            if (delay) {\r\n                setTimeout(() => this._show(e.event), delay)\r\n            } else {\r\n                this._show(e.event)\r\n            }\r\n        }, {\r\n            validatingTargetName: \"target\"\r\n        });\r\n        var handler = e => contextMenuAction({\r\n            event: e,\r\n            target: $(e.currentTarget)\r\n        });\r\n        contextMenuAction = this._createAction(contextMenuAction);\r\n        if (isRenderer(target) || target.nodeType || isWindow(target)) {\r\n            this._showContextMenuEventHandler = void 0;\r\n            eventsEngine.on(target, eventName, handler)\r\n        } else {\r\n            this._showContextMenuEventHandler = handler;\r\n            eventsEngine.on(domAdapter.getDocument(), eventName, target, this._showContextMenuEventHandler)\r\n        }\r\n    }\r\n    _hoverEndHandler(e) {\r\n        super._hoverEndHandler(e);\r\n        e.stopPropagation()\r\n    }\r\n    _renderDimensions() {}\r\n    _renderContainer($wrapper, submenuContainer) {\r\n        var $holder = submenuContainer || this._itemContainer();\r\n        $wrapper = $(\"<div>\");\r\n        $wrapper.appendTo($holder).addClass(DX_SUBMENU_CLASS).css(\"visibility\", submenuContainer ? \"hidden\" : \"visible\");\r\n        var $itemsContainer = super._renderContainer($wrapper);\r\n        if (submenuContainer) {\r\n            return $itemsContainer\r\n        }\r\n        if (this.option(\"width\")) {\r\n            return $itemsContainer.css(\"minWidth\", this.option(\"width\"))\r\n        }\r\n        if (this.option(\"height\")) {\r\n            return $itemsContainer.css(\"minHeight\", this.option(\"height\"))\r\n        }\r\n        return $itemsContainer\r\n    }\r\n    _renderSubmenuItems(node, $itemFrame) {\r\n        this._renderItems(this._getChildNodes(node), $itemFrame);\r\n        this._actions.onSubmenuCreated({\r\n            itemElement: getPublicElement($itemFrame),\r\n            itemData: node.internalFields.item,\r\n            submenuElement: getPublicElement($itemFrame.children(\".\".concat(DX_SUBMENU_CLASS)))\r\n        })\r\n    }\r\n    _getOverlayOptions() {\r\n        var position = this.option(\"position\");\r\n        var overlayOptions = {\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            animation: this.option(\"animation\"),\r\n            innerOverlay: true,\r\n            closeOnOutsideClick: this._closeOnOutsideClickHandler.bind(this),\r\n            propagateOutsideClick: true,\r\n            hideOnParentScroll: true,\r\n            deferRendering: false,\r\n            position: {\r\n                at: position.at,\r\n                my: position.my,\r\n                of: this._getTarget(),\r\n                collision: \"flipfit\"\r\n            },\r\n            shading: false,\r\n            showTitle: false,\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            onShown: this._overlayShownActionHandler.bind(this),\r\n            onHiding: this._overlayHidingActionHandler.bind(this),\r\n            onHidden: this._overlayHiddenActionHandler.bind(this)\r\n        };\r\n        return overlayOptions\r\n    }\r\n    _overlayShownActionHandler(arg) {\r\n        this._actions.onShown(arg)\r\n    }\r\n    _overlayHidingActionHandler(arg) {\r\n        this._actions.onHiding(arg);\r\n        if (!arg.cancel) {\r\n            this._hideAllShownSubmenus();\r\n            this._setOptionWithoutOptionChange(\"visible\", false)\r\n        }\r\n    }\r\n    _overlayHiddenActionHandler(arg) {\r\n        this._actions.onHidden(arg)\r\n    }\r\n    _closeOnOutsideClickHandler(e) {\r\n        var closeOnOutsideClick = this.option(\"closeOnOutsideClick\");\r\n        if (isFunction(closeOnOutsideClick)) {\r\n            return closeOnOutsideClick(e)\r\n        }\r\n        if (!closeOnOutsideClick) {\r\n            return false\r\n        }\r\n        if (domAdapter.isDocument(e.target)) {\r\n            return true\r\n        }\r\n        var $activeItemContainer = this._getActiveItemsContainer(e.target);\r\n        var $itemContainers = this._getItemsContainers();\r\n        var $clickedItem = this._searchActiveItem(e.target);\r\n        var $rootItem = this.$element().parents(\".\".concat(DX_MENU_ITEM_CLASS));\r\n        var isRootItemClicked = $clickedItem[0] === $rootItem[0] && $clickedItem.length && $rootItem.length;\r\n        var isInnerOverlayClicked = this._isIncludeOverlay($activeItemContainer, $itemContainers) && $clickedItem.length;\r\n        if (isInnerOverlayClicked || isRootItemClicked) {\r\n            if (\"onClick\" === this._getShowSubmenuMode()) {\r\n                this._hideAllShownChildSubmenus($clickedItem)\r\n            }\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    _getActiveItemsContainer(target) {\r\n        return $(target).closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS))\r\n    }\r\n    _getItemsContainers() {\r\n        return this._overlay.$content().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS))\r\n    }\r\n    _searchActiveItem(target) {\r\n        return $(target).closest(\".\".concat(DX_MENU_ITEM_CLASS)).eq(0)\r\n    }\r\n    _isIncludeOverlay($activeOverlay, $allOverlays) {\r\n        var isSame = false;\r\n        each($allOverlays, (index, $overlay) => {\r\n            if ($activeOverlay.is($overlay) && !isSame) {\r\n                isSame = true\r\n            }\r\n        });\r\n        return isSame\r\n    }\r\n    _hideAllShownChildSubmenus($clickedItem) {\r\n        var $submenuElements = $clickedItem.find(\".\".concat(DX_SUBMENU_CLASS));\r\n        var shownSubmenus = extend([], this._shownSubmenus);\r\n        if ($submenuElements.length > 0) {\r\n            each(shownSubmenus, (index, $submenu) => {\r\n                var $context = this._searchActiveItem($submenu.context).parent();\r\n                if ($context.parent().is($clickedItem.parent().parent()) && !$context.is($clickedItem.parent())) {\r\n                    this._hideSubmenu($submenu)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    _showSubmenu($item) {\r\n        var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n        this._hideSubmenusOnSameLevel($item);\r\n        if (!this._hasSubmenu(node)) {\r\n            return\r\n        }\r\n        var $submenu = $item.children(\".\".concat(DX_SUBMENU_CLASS));\r\n        var isSubmenuRendered = $submenu.length;\r\n        super._showSubmenu($item);\r\n        if (!isSubmenuRendered) {\r\n            this._renderSubmenuItems(node, $item)\r\n        }\r\n        if (!this._isSubmenuVisible($submenu)) {\r\n            this._drawSubmenu($item)\r\n        }\r\n    }\r\n    _hideSubmenusOnSameLevel($item) {\r\n        var $expandedItems = $item.parent(\".\".concat(DX_MENU_ITEM_WRAPPER_CLASS)).siblings().find(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS));\r\n        if ($expandedItems.length) {\r\n            $expandedItems.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n            this._hideSubmenu($expandedItems.find(\".\".concat(DX_SUBMENU_CLASS)))\r\n        }\r\n    }\r\n    _hideSubmenuGroup($submenu) {\r\n        if (this._isSubmenuVisible($submenu)) {\r\n            this._hideSubmenuCore($submenu)\r\n        }\r\n    }\r\n    _isSubmenuVisible($submenu) {\r\n        return \"visible\" === $submenu.css(\"visibility\")\r\n    }\r\n    _drawSubmenu($itemElement) {\r\n        var animation = this.option(\"animation\") ? this.option(\"animation\").show : {};\r\n        var $submenu = $itemElement.children(\".\".concat(DX_SUBMENU_CLASS));\r\n        var submenuPosition = this._getSubmenuPosition($itemElement);\r\n        if (this._overlay && this._overlay.option(\"visible\")) {\r\n            if (!isDefined(this._shownSubmenus)) {\r\n                this._shownSubmenus = []\r\n            }\r\n            if (inArray($submenu, this._shownSubmenus)) {\r\n                this._shownSubmenus.push($submenu)\r\n            }\r\n            if (animation) {\r\n                fx.stop($submenu)\r\n            }\r\n            animationPosition.setup($submenu, submenuPosition);\r\n            if (animation) {\r\n                if (isPlainObject(animation.to)) {\r\n                    animation.to.position = submenuPosition\r\n                }\r\n                this._animate($submenu, animation)\r\n            }\r\n            $submenu.css(\"visibility\", \"visible\")\r\n        }\r\n    }\r\n    _animate($container, options) {\r\n        fx.animate($container, options)\r\n    }\r\n    _getSubmenuPosition($rootItem) {\r\n        var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n        var $rootItemWrapper = $rootItem.parent(\".\".concat(DX_MENU_ITEM_WRAPPER_CLASS));\r\n        var position = {\r\n            collision: \"flip\",\r\n            of: $rootItemWrapper,\r\n            offset: {\r\n                h: 0,\r\n                v: -1\r\n            }\r\n        };\r\n        switch (submenuDirection) {\r\n            case \"left\":\r\n                position.at = \"left top\";\r\n                position.my = \"right top\";\r\n                break;\r\n            case \"right\":\r\n                position.at = \"right top\";\r\n                position.my = \"left top\";\r\n                break;\r\n            default:\r\n                if (this.option(\"rtlEnabled\")) {\r\n                    position.at = \"left top\";\r\n                    position.my = \"right top\"\r\n                } else {\r\n                    position.at = \"right top\";\r\n                    position.my = \"left top\"\r\n                }\r\n        }\r\n        return position\r\n    }\r\n    _updateSubmenuVisibilityOnClick(actionArgs) {\r\n        if (!actionArgs.args.length) {\r\n            return\r\n        }\r\n        var itemData = actionArgs.args[0].itemData;\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        if (!node) {\r\n            return\r\n        }\r\n        var $itemElement = $(actionArgs.args[0].itemElement);\r\n        var $submenu = $itemElement.find(\".\".concat(DX_SUBMENU_CLASS));\r\n        var shouldRenderSubmenu = this._hasSubmenu(node) && !$submenu.length;\r\n        if (shouldRenderSubmenu) {\r\n            this._renderSubmenuItems(node, $itemElement);\r\n            $submenu = $itemElement.find(\".\".concat(DX_SUBMENU_CLASS))\r\n        }\r\n        if ($itemElement.context === $submenu.context && \"visible\" === $submenu.css(\"visibility\")) {\r\n            return\r\n        }\r\n        this._updateSelectedItemOnClick(actionArgs);\r\n        var notCloseMenuOnItemClick = itemData && false === itemData.closeMenuOnClick;\r\n        if (!itemData || itemData.disabled || notCloseMenuOnItemClick) {\r\n            return\r\n        }\r\n        if (0 === $submenu.length) {\r\n            var $prevSubmenu = $($itemElement.parents(\".\".concat(DX_SUBMENU_CLASS))[0]);\r\n            this._hideSubmenu($prevSubmenu);\r\n            if (!actionArgs.canceled && this._overlay && this._overlay.option(\"visible\")) {\r\n                this.option(\"visible\", false)\r\n            }\r\n        } else {\r\n            if (this._shownSubmenus && this._shownSubmenus.length > 0) {\r\n                if (this._shownSubmenus[0].is($submenu)) {\r\n                    this._hideSubmenu($submenu)\r\n                }\r\n            }\r\n            this._showSubmenu($itemElement)\r\n        }\r\n    }\r\n    _hideSubmenu($curSubmenu) {\r\n        var shownSubmenus = extend([], this._shownSubmenus);\r\n        each(shownSubmenus, (index, $submenu) => {\r\n            if ($curSubmenu.is($submenu) || contains($curSubmenu[0], $submenu[0])) {\r\n                $submenu.parent().removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n                this._hideSubmenuCore($submenu)\r\n            }\r\n        })\r\n    }\r\n    _hideSubmenuCore($submenu) {\r\n        var index = inArray($submenu, this._shownSubmenus);\r\n        var animation = this.option(\"animation\") ? this.option(\"animation\").hide : null;\r\n        if (index >= 0) {\r\n            this._shownSubmenus.splice(index, 1)\r\n        }\r\n        this._stopAnimate($submenu);\r\n        animation && this._animate($submenu, animation);\r\n        $submenu.css(\"visibility\", \"hidden\")\r\n    }\r\n    _stopAnimate($container) {\r\n        fx.stop($container, true)\r\n    }\r\n    _hideAllShownSubmenus() {\r\n        var shownSubmenus = extend([], this._shownSubmenus);\r\n        var $expandedItems = this._overlay.$content().find(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS));\r\n        $expandedItems.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n        each(shownSubmenus, (_, $submenu) => {\r\n            this._hideSubmenu($submenu)\r\n        })\r\n    }\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._renderContentImpl()\r\n        }\r\n    }\r\n    _optionChanged(args) {\r\n        if (inArray(args.name, ACTIONS) > -1) {\r\n            this._initActions();\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"visible\":\r\n                this._renderVisibility(args.value);\r\n                break;\r\n            case \"showEvent\":\r\n            case \"position\":\r\n            case \"submenuDirection\":\r\n                this._invalidate();\r\n                break;\r\n            case \"target\":\r\n                args.previousValue && this._detachShowContextMenuEvents(args.previousValue);\r\n                this._invalidate();\r\n                break;\r\n            case \"closeOnOutsideClick\":\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _renderVisibility(showing) {\r\n        return showing ? this._show() : this._hide()\r\n    }\r\n    _toggleVisibility() {}\r\n    _show(event) {\r\n        var args = {\r\n            jQEvent: event\r\n        };\r\n        var promise = (new Deferred).reject().promise();\r\n        this._actions.onShowing(args);\r\n        if (args.cancel) {\r\n            return promise\r\n        }\r\n        var position = this._positionContextMenu(event);\r\n        if (position) {\r\n            var _event$originalEvent;\r\n            if (!this._overlay) {\r\n                this._renderContextMenuOverlay();\r\n                this._overlay.$content().addClass(this._widgetClass());\r\n                this._renderFocusState();\r\n                this._attachHoverEvents();\r\n                this._attachClickEvent();\r\n                this._renderItems(this._dataAdapter.getRootNodes())\r\n            }\r\n            this._setOptionWithoutOptionChange(\"visible\", true);\r\n            this._overlay.option(\"position\", position);\r\n            promise = this._overlay.show();\r\n            event && event.stopPropagation();\r\n            this._setAriaAttributes();\r\n            if ((null === event || void 0 === event ? void 0 : null === (_event$originalEvent = event.originalEvent) || void 0 === _event$originalEvent ? void 0 : _event$originalEvent.type) === holdEvent.name) {\r\n                this.preventShowingDefaultContextMenuAboveOverlay()\r\n            }\r\n        }\r\n        return promise\r\n    }\r\n    _setAriaAttributes() {\r\n        this._overlayContentId = \"dx-\".concat(new Guid);\r\n        this.setAria(\"owns\", this._overlayContentId);\r\n        this.setAria({\r\n            id: this._overlayContentId,\r\n            role: \"menu\"\r\n        }, this._overlay.$content())\r\n    }\r\n    _cleanAriaAttributes() {\r\n        this._overlay && this.setAria(\"id\", null, this._overlay.$content());\r\n        this.setAria(\"owns\", void 0)\r\n    }\r\n    _getTarget() {\r\n        return this.option(\"target\") || this.option(\"position\").of || $(domAdapter.getDocument())\r\n    }\r\n    _getContextMenuPosition() {\r\n        return extend({}, this.option(\"position\"), {\r\n            of: this._getTarget()\r\n        })\r\n    }\r\n    _positionContextMenu(jQEvent) {\r\n        var position = this._getContextMenuPosition();\r\n        var isInitialPosition = this._isInitialOptionValue(\"position\");\r\n        var positioningAction = this._createActionByOption(\"onPositioning\", actionArgs);\r\n        if (jQEvent && jQEvent.preventDefault && isInitialPosition) {\r\n            position.of = jQEvent\r\n        }\r\n        var actionArgs = {\r\n            position: position,\r\n            event: jQEvent\r\n        };\r\n        positioningAction(actionArgs);\r\n        if (actionArgs.cancel) {\r\n            position = null\r\n        } else if (actionArgs.event) {\r\n            actionArgs.event.cancel = true;\r\n            jQEvent.preventDefault()\r\n        }\r\n        return position\r\n    }\r\n    _refresh() {\r\n        if (!hasWindow()) {\r\n            super._refresh()\r\n        } else if (this._overlay) {\r\n            var lastPosition = this._overlay.option(\"position\");\r\n            super._refresh();\r\n            this._overlay && this._overlay.option(\"position\", lastPosition)\r\n        } else {\r\n            super._refresh()\r\n        }\r\n    }\r\n    _hide() {\r\n        var promise;\r\n        if (this._overlay) {\r\n            promise = this._overlay.hide();\r\n            this._setOptionWithoutOptionChange(\"visible\", false)\r\n        }\r\n        this._cleanAriaAttributes();\r\n        this.option(\"focusedElement\", null);\r\n        return promise || (new Deferred).reject().promise()\r\n    }\r\n    toggle(showing) {\r\n        var visible = this.option(\"visible\");\r\n        showing = void 0 === showing ? !visible : showing;\r\n        return this._renderVisibility(showing)\r\n    }\r\n    show() {\r\n        return this.toggle(true)\r\n    }\r\n    hide() {\r\n        return this.toggle(false)\r\n    }\r\n}\r\nregisterComponent(\"dxContextMenu\", ContextMenu);\r\nexport default ContextMenu;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport ContextMenu from \"./context_menu/ui.context_menu\";\r\nexport default ContextMenu;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport ContextMenu from \"../context_menu\";\r\nvar CONTEXT_MENU = \"dx-context-menu\";\r\nvar viewName = {\r\n    columnHeadersView: \"header\",\r\n    rowsView: \"content\",\r\n    footerView: \"footer\",\r\n    headerPanel: \"headerPanel\"\r\n};\r\nvar VIEW_NAMES = [\"columnHeadersView\", \"rowsView\", \"footerView\", \"headerPanel\"];\r\nvar ContextMenuController = modules.ViewController.inherit({\r\n    init: function() {\r\n        this.createAction(\"onContextMenuPreparing\")\r\n    },\r\n    getContextMenuItems: function(dxEvent) {\r\n        if (!dxEvent) {\r\n            return false\r\n        }\r\n        var that = this;\r\n        var $targetElement = $(dxEvent.target);\r\n        var $element;\r\n        var $targetRowElement;\r\n        var $targetCellElement;\r\n        var menuItems;\r\n        each(VIEW_NAMES, (function() {\r\n            var view = that.getView(this);\r\n            $element = view && view.element();\r\n            if ($element && ($element.is($targetElement) || $element.find($targetElement).length)) {\r\n                var _rowOptions$cells;\r\n                $targetCellElement = $targetElement.closest(\".dx-row > td, .dx-row > tr\");\r\n                $targetRowElement = $targetCellElement.parent();\r\n                var rowIndex = view.getRowIndex($targetRowElement);\r\n                var columnIndex = $targetCellElement[0] && $targetCellElement[0].cellIndex;\r\n                var rowOptions = $targetRowElement.data(\"options\");\r\n                var options = {\r\n                    event: dxEvent,\r\n                    targetElement: getPublicElement($targetElement),\r\n                    target: viewName[this],\r\n                    rowIndex: rowIndex,\r\n                    row: view._getRows()[rowIndex],\r\n                    columnIndex: columnIndex,\r\n                    column: null === rowOptions || void 0 === rowOptions ? void 0 : null === (_rowOptions$cells = rowOptions.cells) || void 0 === _rowOptions$cells ? void 0 : _rowOptions$cells[columnIndex].column\r\n                };\r\n                options.items = view.getContextMenuItems && view.getContextMenuItems(options);\r\n                that.executeAction(\"onContextMenuPreparing\", options);\r\n                that._contextMenuPrepared(options);\r\n                menuItems = options.items;\r\n                if (menuItems) {\r\n                    return false\r\n                }\r\n            }\r\n        }));\r\n        return menuItems\r\n    },\r\n    _contextMenuPrepared: noop\r\n});\r\nvar ContextMenuView = modules.View.inherit({\r\n    _renderCore: function() {\r\n        var that = this;\r\n        var $element = that.element().addClass(CONTEXT_MENU);\r\n        this.setAria(\"role\", \"presentation\", $element);\r\n        this._createComponent($element, ContextMenu, {\r\n            onPositioning: function(actionArgs) {\r\n                var event = actionArgs.event;\r\n                var contextMenuInstance = actionArgs.component;\r\n                var items = that.getController(\"contextMenu\").getContextMenuItems(event);\r\n                if (items) {\r\n                    contextMenuInstance.option(\"items\", items);\r\n                    event.stopPropagation()\r\n                } else {\r\n                    actionArgs.cancel = true\r\n                }\r\n            },\r\n            onItemClick: function(params) {\r\n                params.itemData.onItemClick && params.itemData.onItemClick(params)\r\n            },\r\n            cssClass: that.getWidgetContainerClass(),\r\n            target: that.component.$element()\r\n        })\r\n    }\r\n});\r\nexport var contextMenuModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            onContextMenuPreparing: null\r\n        }\r\n    },\r\n    controllers: {\r\n        contextMenu: ContextMenuController\r\n    },\r\n    views: {\r\n        contextMenuView: ContextMenuView\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport treeListCore from \"./ui.data_grid.core\";\r\nimport {\r\n    contextMenuModule\r\n} from \"../grid_core/ui.grid_core.context_menu\";\r\ntreeListCore.registerModule(\"contextMenu\", contextMenuModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.error_handling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nvar ERROR_ROW_CLASS = \"dx-error-row\";\r\nvar ERROR_MESSAGE_CLASS = \"dx-error-message\";\r\nvar ERROR_CLOSEBUTTON_CLASS = \"dx-closebutton\";\r\nvar ACTION_CLASS = \"action\";\r\nvar ErrorHandlingController = modules.ViewController.inherit({\r\n    init: function() {\r\n        this._columnHeadersView = this.getView(\"columnHeadersView\");\r\n        this._rowsView = this.getView(\"rowsView\")\r\n    },\r\n    _createErrorRow: function(error, $tableElements) {\r\n        var that = this;\r\n        var $errorRow;\r\n        var $closeButton;\r\n        var $errorMessage = this._renderErrorMessage(error);\r\n        if ($tableElements) {\r\n            $errorRow = $(\"<tr>\").addClass(ERROR_ROW_CLASS);\r\n            $closeButton = $(\"<div>\").addClass(ERROR_CLOSEBUTTON_CLASS).addClass(that.addWidgetPrefix(ACTION_CLASS));\r\n            eventsEngine.on($closeButton, clickEventName, that.createAction((function(args) {\r\n                var e = args.event;\r\n                var $errorRow;\r\n                var errorRowIndex = $(e.currentTarget).closest(\".\" + ERROR_ROW_CLASS).index();\r\n                e.stopPropagation();\r\n                each($tableElements, (function(_, tableElement) {\r\n                    $errorRow = $(tableElement).children(\"tbody\").children(\"tr\").eq(errorRowIndex);\r\n                    that.removeErrorRow($errorRow)\r\n                }));\r\n                that.getController(\"resizing\") && that.getController(\"resizing\").fireContentReadyAction()\r\n            })));\r\n            $(\"<td>\").attr({\r\n                colSpan: that.getController(\"columns\").getVisibleColumns().length,\r\n                role: \"presentation\"\r\n            }).prepend($closeButton).append($errorMessage).appendTo($errorRow);\r\n            return $errorRow\r\n        }\r\n        return $errorMessage\r\n    },\r\n    _renderErrorMessage: function(error) {\r\n        var message = error.url ? error.message.replace(error.url, \"\") : error.message || error;\r\n        var $message = $(\"<div>\").addClass(ERROR_MESSAGE_CLASS).text(message);\r\n        if (error.url) {\r\n            $(\"<a>\").attr(\"href\", error.url).text(error.url).appendTo($message)\r\n        }\r\n        return $message\r\n    },\r\n    renderErrorRow: function(error, rowIndex, $popupContent) {\r\n        var that = this;\r\n        var $errorMessageElement;\r\n        var $firstErrorRow;\r\n        if ($popupContent) {\r\n            $popupContent.find(\".\" + ERROR_MESSAGE_CLASS).remove();\r\n            $errorMessageElement = that._createErrorRow(error);\r\n            $popupContent.prepend($errorMessageElement);\r\n            return $errorMessageElement\r\n        }\r\n        var viewElement = rowIndex >= 0 || !that._columnHeadersView.isVisible() ? that._rowsView : that._columnHeadersView;\r\n        var $tableElements = viewElement.getTableElements();\r\n        each($tableElements, (function(_, tableElement) {\r\n            $errorMessageElement = that._createErrorRow(error, $tableElements);\r\n            $firstErrorRow = $firstErrorRow || $errorMessageElement;\r\n            if (rowIndex >= 0) {\r\n                var $row = viewElement._getRowElements($(tableElement)).eq(rowIndex);\r\n                that.removeErrorRow($row.next());\r\n                $errorMessageElement.insertAfter($row)\r\n            } else {\r\n                var $tbody = $(tableElement).children(\"tbody\");\r\n                var rowElements = $tbody.children(\"tr\");\r\n                if (that._columnHeadersView.isVisible()) {\r\n                    that.removeErrorRow(rowElements.last());\r\n                    $(tableElement).append($errorMessageElement)\r\n                } else {\r\n                    that.removeErrorRow(rowElements.first());\r\n                    $tbody.first().prepend($errorMessageElement)\r\n                }\r\n            }\r\n        }));\r\n        var resizingController = that.getController(\"resizing\");\r\n        resizingController && resizingController.fireContentReadyAction();\r\n        return $firstErrorRow\r\n    },\r\n    removeErrorRow: function($row) {\r\n        if (!$row) {\r\n            var $columnHeaders = this._columnHeadersView && this._columnHeadersView.element();\r\n            $row = $columnHeaders && $columnHeaders.find(\".\" + ERROR_ROW_CLASS);\r\n            if (!$row || !$row.length) {\r\n                var $rowsViewElement = this._rowsView.element();\r\n                $row = $rowsViewElement && $rowsViewElement.find(\".\" + ERROR_ROW_CLASS)\r\n            }\r\n        }\r\n        $row && $row.hasClass(ERROR_ROW_CLASS) && $row.remove()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"errorRowEnabled\":\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport var errorHandlingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            errorRowEnabled: true\r\n        }\r\n    },\r\n    controllers: {\r\n        errorHandling: ErrorHandlingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    var that = this;\r\n                    var errorHandlingController = that.getController(\"errorHandling\");\r\n                    that.callBase();\r\n                    that.dataErrorOccurred.add((function(error, $popupContent) {\r\n                        if (that.option(\"errorRowEnabled\")) {\r\n                            errorHandlingController.renderErrorRow(error, void 0, $popupContent)\r\n                        }\r\n                    }));\r\n                    that.changed.add((function(e) {\r\n                        if (e && \"loadError\" === e.changeType) {\r\n                            return\r\n                        }\r\n                        var errorHandlingController = that.getController(\"errorHandling\");\r\n                        var editingController = that.getController(\"editing\");\r\n                        if (editingController && !editingController.hasChanges()) {\r\n                            errorHandlingController && errorHandlingController.removeErrorRow()\r\n                        }\r\n                    }))\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.error_handling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    errorHandlingModule\r\n} from \"../grid_core/ui.grid_core.error_handling\";\r\ngridCore.registerModule(\"errorHandling\", errorHandlingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.grid_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getInnerWidth,\r\n    getWidth,\r\n    getHeight,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    deferRender,\r\n    deferUpdate\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    hasWindow,\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isString,\r\n    isDefined,\r\n    isNumeric\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport * as accessibility from \"../shared/accessibility\";\r\nimport browser from \"../../core/utils/browser\";\r\nvar BORDERS_CLASS = \"borders\";\r\nvar TABLE_FIXED_CLASS = \"table-fixed\";\r\nvar IMPORTANT_MARGIN_CLASS = \"important-margin\";\r\nvar GRIDBASE_CONTAINER_CLASS = \"dx-gridbase-container\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"adaptiveHidden\";\r\nvar VIEW_NAMES = [\"columnsSeparatorView\", \"blockSeparatorView\", \"trackerView\", \"headerPanel\", \"columnHeadersView\", \"rowsView\", \"footerView\", \"columnChooserView\", \"filterPanelView\", \"pagerView\", \"draggingHeaderView\", \"contextMenuView\", \"errorView\", \"headerFilterView\", \"filterBuilderView\"];\r\nvar isPercentWidth = function(width) {\r\n    return isString(width) && \"%\" === width.slice(-1)\r\n};\r\nvar isPixelWidth = function(width) {\r\n    return isString(width) && \"px\" === width.slice(-2)\r\n};\r\nvar getContainerHeight = function($container) {\r\n    var clientHeight = $container.get(0).clientHeight;\r\n    var paddingTop = parseFloat($container.css(\"paddingTop\"));\r\n    var paddingBottom = parseFloat($container.css(\"paddingBottom\"));\r\n    return clientHeight - paddingTop - paddingBottom\r\n};\r\nvar calculateFreeWidth = function(that, widths) {\r\n    var contentWidth = that._rowsView.contentWidth();\r\n    var totalWidth = that._getTotalWidth(widths, contentWidth);\r\n    return contentWidth - totalWidth\r\n};\r\nvar calculateFreeWidthWithCurrentMinWidth = function(that, columnIndex, currentMinWidth, widths) {\r\n    return calculateFreeWidth(that, widths.map((function(width, index) {\r\n        return index === columnIndex ? currentMinWidth : width\r\n    })))\r\n};\r\nvar restoreFocus = function(focusedElement, selectionRange) {\r\n    accessibility.hiddenFocus(focusedElement);\r\n    gridCoreUtils.setSelectionRange(focusedElement, selectionRange)\r\n};\r\nvar ResizingController = modules.ViewController.inherit({\r\n    _initPostRenderHandlers: function() {\r\n        var dataController = this._dataController;\r\n        if (!this._refreshSizesHandler) {\r\n            this._refreshSizesHandler = e => {\r\n                dataController.changed.remove(this._refreshSizesHandler);\r\n                var templateDeferreds = e && e.templateDeferreds || [];\r\n                when.apply(this, templateDeferreds).done(() => {\r\n                    this._refreshSizes(e)\r\n                })\r\n            };\r\n            dataController.changed.add(() => {\r\n                dataController.changed.add(this._refreshSizesHandler)\r\n            })\r\n        }\r\n    },\r\n    _refreshSizes: function(e) {\r\n        var resizeDeferred;\r\n        var that = this;\r\n        var changeType = e && e.changeType;\r\n        var isDelayed = e && e.isDelayed;\r\n        var items = that._dataController.items();\r\n        if (!e || \"refresh\" === changeType || \"prepend\" === changeType || \"append\" === changeType) {\r\n            if (!isDelayed) {\r\n                resizeDeferred = that.resize()\r\n            }\r\n        } else if (\"update\" === changeType) {\r\n            var _e$changeTypes;\r\n            if (0 === (null === (_e$changeTypes = e.changeTypes) || void 0 === _e$changeTypes ? void 0 : _e$changeTypes.length)) {\r\n                return\r\n            }\r\n            if ((items.length > 1 || \"insert\" !== e.changeTypes[0]) && !(0 === items.length && \"remove\" === e.changeTypes[0]) && !e.needUpdateDimensions) {\r\n                deferUpdate(() => deferRender(() => deferUpdate(() => {\r\n                    that._setScrollerSpacing(that._hasHeight);\r\n                    that._rowsView.resize()\r\n                })))\r\n            } else {\r\n                resizeDeferred = that.resize()\r\n            }\r\n        }\r\n        if (changeType && \"updateSelection\" !== changeType && \"updateFocusedRow\" !== changeType && \"pageIndex\" !== changeType && !isDelayed) {\r\n            when(resizeDeferred).done((function() {\r\n                that._setAriaRowColCount();\r\n                that.fireContentReadyAction()\r\n            }))\r\n        }\r\n    },\r\n    fireContentReadyAction: function() {\r\n        this.component._fireContentReadyAction()\r\n    },\r\n    _setAriaRowColCount: function() {\r\n        var component = this.component;\r\n        component.setAria({\r\n            rowCount: this._dataController.totalItemsCount(),\r\n            colCount: component.columnCount()\r\n        }, component.$element().children(\".\" + GRIDBASE_CONTAINER_CLASS))\r\n    },\r\n    _getBestFitWidths: function() {\r\n        var _widths;\r\n        var rowsView = this._rowsView;\r\n        var columnHeadersView = this._columnHeadersView;\r\n        var widths = rowsView.getColumnWidths();\r\n        if (!(null !== (_widths = widths) && void 0 !== _widths && _widths.length)) {\r\n            var _rowsView$getTableEle;\r\n            var headersTableElement = columnHeadersView.getTableElement();\r\n            columnHeadersView.setTableElement(null === (_rowsView$getTableEle = rowsView.getTableElement()) || void 0 === _rowsView$getTableEle ? void 0 : _rowsView$getTableEle.children(\".dx-header\"));\r\n            widths = columnHeadersView.getColumnWidths();\r\n            columnHeadersView.setTableElement(headersTableElement)\r\n        }\r\n        return widths\r\n    },\r\n    _setVisibleWidths: function(visibleColumns, widths) {\r\n        var columnsController = this._columnsController;\r\n        columnsController.beginUpdate();\r\n        each(visibleColumns, (function(index, column) {\r\n            var columnId = columnsController.getColumnId(column);\r\n            columnsController.columnOption(columnId, \"visibleWidth\", widths[index])\r\n        }));\r\n        columnsController.endUpdate()\r\n    },\r\n    _toggleBestFitModeForView: function(view, className, isBestFit) {\r\n        if (!view || !view.isVisible()) {\r\n            return\r\n        }\r\n        var $rowsTables = this._rowsView.getTableElements();\r\n        var $viewTables = view.getTableElements();\r\n        each($rowsTables, (index, tableElement) => {\r\n            var $tableBody;\r\n            var $rowsTable = $(tableElement);\r\n            var $viewTable = $viewTables.eq(index);\r\n            if ($viewTable && $viewTable.length) {\r\n                if (isBestFit) {\r\n                    $tableBody = $viewTable.children(\"tbody\").appendTo($rowsTable)\r\n                } else {\r\n                    $tableBody = $rowsTable.children(\".\" + className).appendTo($viewTable)\r\n                }\r\n                $tableBody.toggleClass(className, isBestFit);\r\n                $tableBody.toggleClass(this.addWidgetPrefix(\"best-fit\"), isBestFit)\r\n            }\r\n        })\r\n    },\r\n    _toggleBestFitMode: function(isBestFit) {\r\n        var $rowsTable = this._rowsView.getTableElement();\r\n        var $rowsFixedTable = this._rowsView.getTableElements().eq(1);\r\n        if (!$rowsTable) {\r\n            return\r\n        }\r\n        $rowsTable.css(\"tableLayout\", isBestFit ? \"auto\" : \"fixed\");\r\n        $rowsTable.children(\"colgroup\").css(\"display\", isBestFit ? \"none\" : \"\");\r\n        $rowsFixedTable.toggleClass(this.addWidgetPrefix(TABLE_FIXED_CLASS), !isBestFit);\r\n        this._toggleBestFitModeForView(this._columnHeadersView, \"dx-header\", isBestFit);\r\n        this._toggleBestFitModeForView(this._footerView, \"dx-footer\", isBestFit);\r\n        this._toggleContentMinHeight(isBestFit);\r\n        if (this._needStretch()) {\r\n            $rowsTable.get(0).style.width = isBestFit ? \"auto\" : \"\"\r\n        }\r\n    },\r\n    _toggleContentMinHeight: function(isBestFit) {\r\n        if (this.option(\"wordWrapEnabled\")) {\r\n            var scrollable = this._rowsView.getScrollable();\r\n            var $contentElement = this._rowsView._findContentElement();\r\n            if (false === (null === scrollable || void 0 === scrollable ? void 0 : scrollable.option(\"useNative\"))) {\r\n                $contentElement.css({\r\n                    minHeight: isBestFit ? gridCoreUtils.getContentHeightLimit(browser) : \"\"\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _synchronizeColumns: function() {\r\n        var columnsController = this._columnsController;\r\n        var visibleColumns = columnsController.getVisibleColumns();\r\n        var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n        var needBestFit = this._needBestFit();\r\n        var hasMinWidth = false;\r\n        var resetBestFitMode;\r\n        var isColumnWidthsCorrected = false;\r\n        var resultWidths = [];\r\n        var focusedElement;\r\n        var selectionRange;\r\n        !needBestFit && each(visibleColumns, (function(index, column) {\r\n            if (\"auto\" === column.width) {\r\n                needBestFit = true;\r\n                return false\r\n            }\r\n        }));\r\n        each(visibleColumns, (function(index, column) {\r\n            if (column.minWidth) {\r\n                hasMinWidth = true;\r\n                return false\r\n            }\r\n        }));\r\n        this._setVisibleWidths(visibleColumns, []);\r\n        if (needBestFit) {\r\n            focusedElement = domAdapter.getActiveElement();\r\n            selectionRange = gridCoreUtils.getSelectionRange(focusedElement);\r\n            this._toggleBestFitMode(true);\r\n            resetBestFitMode = true\r\n        }\r\n        var $element = this.component.$element();\r\n        if ($element && $element[0] && this._maxWidth) {\r\n            delete this._maxWidth;\r\n            $element[0].style.maxWidth = \"\"\r\n        }\r\n        deferUpdate(() => {\r\n            if (needBestFit) {\r\n                resultWidths = this._getBestFitWidths();\r\n                each(visibleColumns, (function(index, column) {\r\n                    var columnId = columnsController.getColumnId(column);\r\n                    columnsController.columnOption(columnId, \"bestFitWidth\", resultWidths[index], true)\r\n                }))\r\n            } else if (hasMinWidth) {\r\n                resultWidths = this._getBestFitWidths()\r\n            }\r\n            each(visibleColumns, (function(index) {\r\n                var width = this.width;\r\n                if (\"auto\" !== width) {\r\n                    if (isDefined(width)) {\r\n                        resultWidths[index] = isNumeric(width) || isPixelWidth(width) ? parseFloat(width) : width\r\n                    } else if (!columnAutoWidth) {\r\n                        resultWidths[index] = void 0\r\n                    }\r\n                }\r\n            }));\r\n            if (resetBestFitMode) {\r\n                this._toggleBestFitMode(false);\r\n                resetBestFitMode = false;\r\n                if (focusedElement && focusedElement !== domAdapter.getActiveElement()) {\r\n                    var isFocusOutsideWindow = getBoundingRect(focusedElement).bottom < 0;\r\n                    if (!isFocusOutsideWindow) {\r\n                        restoreFocus(focusedElement, selectionRange)\r\n                    }\r\n                }\r\n            }\r\n            isColumnWidthsCorrected = this._correctColumnWidths(resultWidths, visibleColumns);\r\n            if (columnAutoWidth) {\r\n                ! function() {\r\n                    var expandColumnWidth;\r\n                    each(visibleColumns, (function(index, column) {\r\n                        if (\"groupExpand\" === column.type) {\r\n                            expandColumnWidth = resultWidths[index]\r\n                        }\r\n                    }));\r\n                    each(visibleColumns, (function(index, column) {\r\n                        if (\"groupExpand\" === column.type && expandColumnWidth) {\r\n                            resultWidths[index] = expandColumnWidth\r\n                        }\r\n                    }))\r\n                }();\r\n                if (this._needStretch()) {\r\n                    this._processStretch(resultWidths, visibleColumns)\r\n                }\r\n            }\r\n            deferRender(() => {\r\n                if (needBestFit || isColumnWidthsCorrected) {\r\n                    this._setVisibleWidths(visibleColumns, resultWidths)\r\n                }\r\n            })\r\n        })\r\n    },\r\n    _needBestFit: function() {\r\n        return this.option(\"columnAutoWidth\")\r\n    },\r\n    _needStretch: function() {\r\n        return this._columnsController.getVisibleColumns().some(c => \"auto\" === c.width && !c.command)\r\n    },\r\n    _getAverageColumnsWidth: function(resultWidths) {\r\n        var freeWidth = calculateFreeWidth(this, resultWidths);\r\n        var columnCountWithoutWidth = resultWidths.filter((function(width) {\r\n            return void 0 === width\r\n        })).length;\r\n        return freeWidth / columnCountWithoutWidth\r\n    },\r\n    _correctColumnWidths: function(resultWidths, visibleColumns) {\r\n        var that = this;\r\n        var i;\r\n        var hasPercentWidth = false;\r\n        var hasAutoWidth = false;\r\n        var isColumnWidthsCorrected = false;\r\n        var $element = that.component.$element();\r\n        var hasWidth = that._hasWidth;\r\n        var _loop = function() {\r\n            var index = i;\r\n            var column = visibleColumns[index];\r\n            var isHiddenColumn = resultWidths[index] === HIDDEN_COLUMNS_WIDTH;\r\n            var width = resultWidths[index];\r\n            var minWidth = column.minWidth;\r\n            if (minWidth) {\r\n                if (void 0 === width) {\r\n                    var averageColumnsWidth = that._getAverageColumnsWidth(resultWidths);\r\n                    width = averageColumnsWidth\r\n                } else if (isPercentWidth(width)) {\r\n                    var freeWidth = calculateFreeWidthWithCurrentMinWidth(that, index, minWidth, resultWidths);\r\n                    if (freeWidth < 0) {\r\n                        width = -1\r\n                    }\r\n                }\r\n            }\r\n            var realColumnWidth = that._getRealColumnWidth(index, resultWidths.map((function(columnWidth, columnIndex) {\r\n                return index === columnIndex ? width : columnWidth\r\n            })));\r\n            if (minWidth && !isHiddenColumn && realColumnWidth < minWidth) {\r\n                resultWidths[index] = minWidth;\r\n                isColumnWidthsCorrected = true;\r\n                i = -1\r\n            }\r\n            if (!isDefined(column.width)) {\r\n                hasAutoWidth = true\r\n            }\r\n            if (isPercentWidth(column.width)) {\r\n                hasPercentWidth = true\r\n            }\r\n        };\r\n        for (i = 0; i < visibleColumns.length; i++) {\r\n            _loop()\r\n        }\r\n        if (!hasAutoWidth && resultWidths.length) {\r\n            var $rowsViewElement = that._rowsView.element();\r\n            var contentWidth = that._rowsView.contentWidth();\r\n            var scrollbarWidth = that._rowsView.getScrollbarWidth();\r\n            var totalWidth = that._getTotalWidth(resultWidths, contentWidth);\r\n            if (totalWidth < contentWidth) {\r\n                var lastColumnIndex = gridCoreUtils.getLastResizableColumnIndex(visibleColumns, resultWidths);\r\n                if (lastColumnIndex >= 0) {\r\n                    resultWidths[lastColumnIndex] = \"auto\";\r\n                    isColumnWidthsCorrected = true;\r\n                    if (false === hasWidth && !hasPercentWidth) {\r\n                        var borderWidth = that.option(\"showBorders\") ? Math.ceil(getOuterWidth($rowsViewElement) - getInnerWidth($rowsViewElement)) : 0;\r\n                        that._maxWidth = totalWidth + scrollbarWidth + borderWidth;\r\n                        $element.css(\"maxWidth\", that._maxWidth)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return isColumnWidthsCorrected\r\n    },\r\n    _processStretch: function(resultSizes, visibleColumns) {\r\n        var groupSize = this._rowsView.contentWidth();\r\n        var tableSize = this._getTotalWidth(resultSizes, groupSize);\r\n        var unusedIndexes = {\r\n            length: 0\r\n        };\r\n        if (!resultSizes.length) {\r\n            return\r\n        }\r\n        each(visibleColumns, (function(index) {\r\n            if (this.width || resultSizes[index] === HIDDEN_COLUMNS_WIDTH) {\r\n                unusedIndexes[index] = true;\r\n                unusedIndexes.length++\r\n            }\r\n        }));\r\n        var diff = groupSize - tableSize;\r\n        var diffElement = Math.floor(diff / (resultSizes.length - unusedIndexes.length));\r\n        var onePixelElementsCount = diff - diffElement * (resultSizes.length - unusedIndexes.length);\r\n        if (diff >= 0) {\r\n            for (var i = 0; i < resultSizes.length; i++) {\r\n                if (unusedIndexes[i]) {\r\n                    continue\r\n                }\r\n                resultSizes[i] += diffElement;\r\n                if (onePixelElementsCount > 0) {\r\n                    if (onePixelElementsCount < 1) {\r\n                        resultSizes[i] += onePixelElementsCount;\r\n                        onePixelElementsCount = 0\r\n                    } else {\r\n                        resultSizes[i]++;\r\n                        onePixelElementsCount--\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _getRealColumnWidth: function(columnIndex, columnWidths, groupWidth) {\r\n        var ratio = 1;\r\n        var width = columnWidths[columnIndex];\r\n        if (!isPercentWidth(width)) {\r\n            return parseFloat(width)\r\n        }\r\n        var percentTotalWidth = columnWidths.reduce((sum, width, index) => {\r\n            if (!isPercentWidth(width)) {\r\n                return sum\r\n            }\r\n            return sum + parseFloat(width)\r\n        }, 0);\r\n        var pixelTotalWidth = columnWidths.reduce((sum, width) => {\r\n            if (!width || width === HIDDEN_COLUMNS_WIDTH || isPercentWidth(width)) {\r\n                return sum\r\n            }\r\n            return sum + parseFloat(width)\r\n        }, 0);\r\n        groupWidth = groupWidth || this._rowsView.contentWidth();\r\n        var freeSpace = groupWidth - pixelTotalWidth;\r\n        var percentTotalWidthInPixel = percentTotalWidth * groupWidth / 100;\r\n        if (pixelTotalWidth > 0 && percentTotalWidthInPixel + pixelTotalWidth >= groupWidth) {\r\n            ratio = percentTotalWidthInPixel > freeSpace ? freeSpace / percentTotalWidthInPixel : 1\r\n        }\r\n        return parseFloat(width) * groupWidth * ratio / 100\r\n    },\r\n    _getTotalWidth: function(widths, groupWidth) {\r\n        var result = 0;\r\n        for (var i = 0; i < widths.length; i++) {\r\n            var width = widths[i];\r\n            if (width && width !== HIDDEN_COLUMNS_WIDTH) {\r\n                result += this._getRealColumnWidth(i, widths, groupWidth)\r\n            }\r\n        }\r\n        return Math.ceil(result)\r\n    },\r\n    updateSize: function(rootElement) {\r\n        var $groupElement;\r\n        var width;\r\n        var $rootElement = $(rootElement);\r\n        var importantMarginClass = this.addWidgetPrefix(IMPORTANT_MARGIN_CLASS);\r\n        if (void 0 === this._hasHeight && $rootElement && $rootElement.is(\":visible\") && getWidth($rootElement)) {\r\n            $groupElement = $rootElement.children(\".\" + this.getWidgetContainerClass());\r\n            if ($groupElement.length) {\r\n                $groupElement.detach()\r\n            }\r\n            this._hasHeight = !!getContainerHeight($rootElement);\r\n            width = getWidth($rootElement);\r\n            $rootElement.addClass(importantMarginClass);\r\n            this._hasWidth = getWidth($rootElement) === width;\r\n            $rootElement.removeClass(importantMarginClass);\r\n            if ($groupElement.length) {\r\n                $groupElement.appendTo($rootElement)\r\n            }\r\n        }\r\n    },\r\n    publicMethods: function() {\r\n        return [\"resize\", \"updateDimensions\"]\r\n    },\r\n    resize: function() {\r\n        return !this.component._requireResize && this.updateDimensions()\r\n    },\r\n    updateDimensions: function(checkSize) {\r\n        var that = this;\r\n        that._initPostRenderHandlers();\r\n        if (!that._checkSize(checkSize)) {\r\n            return\r\n        }\r\n        var prevResult = that._resizeDeferred;\r\n        var result = that._resizeDeferred = new Deferred;\r\n        when(prevResult).always((function() {\r\n            deferRender((function() {\r\n                if (that._dataController.isLoaded()) {\r\n                    that._synchronizeColumns()\r\n                }\r\n                that._resetGroupElementHeight();\r\n                deferUpdate((function() {\r\n                    deferRender((function() {\r\n                        deferUpdate((function() {\r\n                            that._updateDimensionsCore()\r\n                        }))\r\n                    }))\r\n                }))\r\n            })).done(result.resolve).fail(result.reject)\r\n        }));\r\n        return result.promise()\r\n    },\r\n    _resetGroupElementHeight: function() {\r\n        var groupElement = this.component.$element().children().get(0);\r\n        var scrollable = this._rowsView.getScrollable();\r\n        if (groupElement && groupElement.style.height && (!scrollable || !scrollable.scrollTop())) {\r\n            groupElement.style.height = \"\"\r\n        }\r\n    },\r\n    _checkSize: function(checkSize) {\r\n        var $rootElement = this.component.$element();\r\n        if (checkSize && (this._lastWidth === getWidth($rootElement) && this._lastHeight === getHeight($rootElement) && this._devicePixelRatio === getWindow().devicePixelRatio || !$rootElement.is(\":visible\"))) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    _setScrollerSpacingCore: function(hasHeight) {\r\n        var that = this;\r\n        var vScrollbarWidth = hasHeight ? that._rowsView.getScrollbarWidth() : 0;\r\n        var hScrollbarWidth = that._rowsView.getScrollbarWidth(true);\r\n        deferRender((function() {\r\n            that._columnHeadersView && that._columnHeadersView.setScrollerSpacing(vScrollbarWidth);\r\n            that._footerView && that._footerView.setScrollerSpacing(vScrollbarWidth);\r\n            that._rowsView.setScrollerSpacing(vScrollbarWidth, hScrollbarWidth)\r\n        }))\r\n    },\r\n    _setScrollerSpacing: function(hasHeight) {\r\n        if (true === this.option(\"scrolling.useNative\")) {\r\n            deferRender(() => {\r\n                deferUpdate(() => {\r\n                    this._setScrollerSpacingCore(hasHeight)\r\n                })\r\n            })\r\n        } else {\r\n            this._setScrollerSpacingCore(hasHeight)\r\n        }\r\n    },\r\n    _updateDimensionsCore: function() {\r\n        var that = this;\r\n        var dataController = that._dataController;\r\n        var rowsView = that._rowsView;\r\n        var $rootElement = that.component.$element();\r\n        var groupElement = $rootElement.children().get(0);\r\n        var rootElementHeight = $rootElement && ($rootElement.get(0).clientHeight || getHeight($rootElement));\r\n        var maxHeight = parseInt($rootElement.css(\"maxHeight\"));\r\n        var maxHeightHappened = maxHeight && rootElementHeight >= maxHeight;\r\n        var height = that.option(\"height\") || $rootElement.get(0).style.height;\r\n        var editorFactory = that.getController(\"editorFactory\");\r\n        var isMaxHeightApplied = maxHeightHappened && groupElement.scrollHeight === groupElement.offsetHeight;\r\n        var $testDiv;\r\n        that.updateSize($rootElement);\r\n        var hasHeight = that._hasHeight || maxHeightHappened;\r\n        if (height && that._hasHeight ^ \"auto\" !== height) {\r\n            $testDiv = $(\"<div>\");\r\n            setHeight($testDiv, height);\r\n            $testDiv.appendTo($rootElement);\r\n            that._hasHeight = !!getHeight($testDiv);\r\n            $testDiv.remove()\r\n        }\r\n        deferRender((function() {\r\n            rowsView.height(null, hasHeight);\r\n            if (maxHeightHappened && !isMaxHeightApplied) {\r\n                $(groupElement).css(\"height\", maxHeight)\r\n            }\r\n            if (!dataController.isLoaded()) {\r\n                rowsView.setLoading(dataController.isLoading());\r\n                return\r\n            }\r\n            deferUpdate((function() {\r\n                that._updateLastSizes($rootElement);\r\n                that._setScrollerSpacing(hasHeight);\r\n                each(VIEW_NAMES, (function(index, viewName) {\r\n                    var view = that.getView(viewName);\r\n                    if (view) {\r\n                        view.resize()\r\n                    }\r\n                }));\r\n                editorFactory && editorFactory.resize()\r\n            }))\r\n        }))\r\n    },\r\n    _updateLastSizes: function($rootElement) {\r\n        this._lastWidth = getWidth($rootElement);\r\n        this._lastHeight = getHeight($rootElement);\r\n        this._devicePixelRatio = getWindow().devicePixelRatio\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"width\":\r\n            case \"height\":\r\n                this.component._renderDimensions();\r\n                this.resize();\r\n            case \"renderAsync\":\r\n                args.handled = true;\r\n                return;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    init: function() {\r\n        this._dataController = this.getController(\"data\");\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._columnHeadersView = this.getView(\"columnHeadersView\");\r\n        this._footerView = this.getView(\"footerView\");\r\n        this._rowsView = this.getView(\"rowsView\")\r\n    }\r\n});\r\nvar SynchronizeScrollingController = modules.ViewController.inherit({\r\n    _scrollChangedHandler: function(views, pos, viewName) {\r\n        for (var j = 0; j < views.length; j++) {\r\n            if (views[j] && views[j].name !== viewName) {\r\n                views[j].scrollTo({\r\n                    left: pos.left,\r\n                    top: pos.top\r\n                })\r\n            }\r\n        }\r\n    },\r\n    init: function() {\r\n        var views = [this.getView(\"columnHeadersView\"), this.getView(\"footerView\"), this.getView(\"rowsView\")];\r\n        for (var i = 0; i < views.length; i++) {\r\n            var view = views[i];\r\n            if (view) {\r\n                view.scrollChanged.add(this._scrollChangedHandler.bind(this, views))\r\n            }\r\n        }\r\n    }\r\n});\r\nvar GridView = modules.View.inherit({\r\n    _endUpdateCore: function() {\r\n        if (this.component._requireResize) {\r\n            this.component._requireResize = false;\r\n            this._resizingController.resize()\r\n        }\r\n    },\r\n    _getWidgetAriaLabel: function() {\r\n        return \"dxDataGrid-ariaDataGrid\"\r\n    },\r\n    init: function() {\r\n        this._resizingController = this.getController(\"resizing\");\r\n        this._dataController = this.getController(\"data\")\r\n    },\r\n    getView: function(name) {\r\n        return this.component._views[name]\r\n    },\r\n    element: function() {\r\n        return this._groupElement\r\n    },\r\n    optionChanged: function(args) {\r\n        if (isDefined(this._groupElement) && \"showBorders\" === args.name) {\r\n            this._groupElement.toggleClass(this.addWidgetPrefix(BORDERS_CLASS), !!args.value);\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    },\r\n    _renderViews: function($groupElement) {\r\n        var that = this;\r\n        each(VIEW_NAMES, (function(index, viewName) {\r\n            var view = that.getView(viewName);\r\n            if (view) {\r\n                view.render($groupElement)\r\n            }\r\n        }))\r\n    },\r\n    _getTableRoleName: function() {\r\n        return \"grid\"\r\n    },\r\n    render: function($rootElement) {\r\n        var isFirstRender = !this._groupElement;\r\n        var $groupElement = this._groupElement || $(\"<div>\").addClass(this.getWidgetContainerClass());\r\n        $groupElement.addClass(GRIDBASE_CONTAINER_CLASS);\r\n        $groupElement.toggleClass(this.addWidgetPrefix(BORDERS_CLASS), !!this.option(\"showBorders\"));\r\n        this.setAria(\"role\", \"presentation\", $rootElement);\r\n        this.component.setAria({\r\n            role: this._getTableRoleName(),\r\n            label: messageLocalization.format(this._getWidgetAriaLabel())\r\n        }, $groupElement);\r\n        this._rootElement = $rootElement || this._rootElement;\r\n        if (isFirstRender) {\r\n            this._groupElement = $groupElement;\r\n            hasWindow() && this.getController(\"resizing\").updateSize($rootElement);\r\n            $groupElement.appendTo($rootElement)\r\n        }\r\n        this._renderViews($groupElement)\r\n    },\r\n    update: function() {\r\n        var $rootElement = this._rootElement;\r\n        var $groupElement = this._groupElement;\r\n        var resizingController = this.getController(\"resizing\");\r\n        if ($rootElement && $groupElement) {\r\n            resizingController.resize();\r\n            if (this._dataController.isLoaded()) {\r\n                this._resizingController.fireContentReadyAction()\r\n            }\r\n        }\r\n    }\r\n});\r\nexport var gridViewModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            showBorders: false,\r\n            renderAsync: false\r\n        }\r\n    },\r\n    controllers: {\r\n        resizing: ResizingController,\r\n        synchronizeScrolling: SynchronizeScrollingController\r\n    },\r\n    views: {\r\n        gridView: GridView\r\n    },\r\n    VIEW_NAMES: VIEW_NAMES\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grid_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    gridViewModule\r\n} from \"../grid_core/ui.grid_core.grid_view\";\r\ngridCore.registerModule(\"gridView\", gridViewModule);\r\n","/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    ListBase\r\n} from \"../list/ui.list.base\";\r\nvar TOOLBAR_MENU_ACTION_CLASS = \"dx-toolbar-menu-action\";\r\nvar TOOLBAR_HIDDEN_BUTTON_CLASS = \"dx-toolbar-hidden-button\";\r\nvar TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS = \"dx-toolbar-hidden-button-group\";\r\nvar TOOLBAR_MENU_SECTION_CLASS = \"dx-toolbar-menu-section\";\r\nvar TOOLBAR_MENU_LAST_SECTION_CLASS = \"dx-toolbar-menu-last-section\";\r\nvar ToolbarMenu = ListBase.inherit({\r\n    _activeStateUnit: \".\" + TOOLBAR_MENU_ACTION_CLASS,\r\n    _initMarkup: function() {\r\n        this._renderSections();\r\n        this.callBase()\r\n    },\r\n    _getSections: function() {\r\n        return this._itemContainer().children()\r\n    },\r\n    _itemElements: function() {\r\n        return this._getSections().children(this._itemSelector())\r\n    },\r\n    _renderSections: function() {\r\n        var that = this;\r\n        var $container = this._itemContainer();\r\n        each([\"before\", \"center\", \"after\", \"menu\"], (function() {\r\n            var sectionName = \"_$\" + this + \"Section\";\r\n            var $section = that[sectionName];\r\n            if (!$section) {\r\n                that[sectionName] = $section = $(\"<div>\").addClass(TOOLBAR_MENU_SECTION_CLASS)\r\n            }\r\n            $section.appendTo($container)\r\n        }))\r\n    },\r\n    _renderItems: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._updateSections()\r\n    },\r\n    _updateSections: function() {\r\n        var $sections = this.$element().find(\".\" + TOOLBAR_MENU_SECTION_CLASS);\r\n        $sections.removeClass(TOOLBAR_MENU_LAST_SECTION_CLASS);\r\n        $sections.not(\":empty\").eq(-1).addClass(TOOLBAR_MENU_LAST_SECTION_CLASS)\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var location = item.location || \"menu\";\r\n        var $container = this[\"_$\" + location + \"Section\"];\r\n        var itemElement = this.callBase(index, item, $container, $after);\r\n        if (this._getItemTemplateName({\r\n                itemData: item\r\n            })) {\r\n            itemElement.addClass(\"dx-toolbar-menu-custom\")\r\n        }\r\n        if (\"menu\" === location || \"dxButton\" === item.widget || \"dxButtonGroup\" === item.widget || item.isAction) {\r\n            itemElement.addClass(TOOLBAR_MENU_ACTION_CLASS)\r\n        }\r\n        if (\"dxButton\" === item.widget) {\r\n            itemElement.addClass(TOOLBAR_HIDDEN_BUTTON_CLASS)\r\n        }\r\n        if (\"dxButtonGroup\" === item.widget) {\r\n            itemElement.addClass(TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS)\r\n        }\r\n        itemElement.addClass(item.cssClass);\r\n        return itemElement\r\n    },\r\n    _getItemTemplateName: function(args) {\r\n        var template = this.callBase(args);\r\n        var data = args.itemData;\r\n        var menuTemplate = data && data.menuItemTemplate;\r\n        return menuTemplate || template\r\n    },\r\n    _itemClickHandler: function(e, args, config) {\r\n        if ($(e.target).closest(\".\" + TOOLBAR_MENU_ACTION_CLASS).length) {\r\n            this.callBase(e, args, config)\r\n        }\r\n    },\r\n    _clean: function() {\r\n        this._getSections().empty();\r\n        this.callBase()\r\n    }\r\n});\r\nregisterComponent(\"dxToolbarMenu\", ToolbarMenu);\r\nexport default ToolbarMenu;\r\n","/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nvar BUTTON_GROUP_CLASS = \"dx-buttongroup\";\r\nvar TOOLBAR_ITEMS = [\"dxAutocomplete\", \"dxButton\", \"dxCheckBox\", \"dxDateBox\", \"dxMenu\", \"dxSelectBox\", \"dxTabs\", \"dxTextBox\", \"dxButtonGroup\", \"dxDropDownButton\"];\r\nvar getItemInstance = function($element) {\r\n    var itemData = $element.data && $element.data();\r\n    var dxComponents = itemData && itemData.dxComponents;\r\n    var widgetName = dxComponents && dxComponents[0];\r\n    return widgetName && itemData[widgetName]\r\n};\r\nexport function toggleItemFocusableElementTabIndex(context, item) {\r\n    var _itemData$options;\r\n    if (!context) {\r\n        return\r\n    }\r\n    var $item = context._findItemElementByItem(item);\r\n    if (!$item.length) {\r\n        return\r\n    }\r\n    var itemData = context._getItemData($item);\r\n    var isItemNotFocusable = !!(null !== (_itemData$options = itemData.options) && void 0 !== _itemData$options && _itemData$options.disabled || itemData.disabled || context.option(\"disabled\"));\r\n    var {\r\n        widget: widget\r\n    } = itemData;\r\n    if (widget && -1 !== TOOLBAR_ITEMS.indexOf(widget)) {\r\n        var $widget = $item.find(widget.toLowerCase().replace(\"dx\", \".dx-\"));\r\n        if ($widget.length) {\r\n            var _itemInstance$_focusT, _itemData$options2;\r\n            var itemInstance = getItemInstance($widget);\r\n            var $focusTarget = \"dxDropDownButton\" === widget ? itemInstance._focusTarget().find(\".\".concat(BUTTON_GROUP_CLASS)) : (null === itemInstance || void 0 === itemInstance ? void 0 : null === (_itemInstance$_focusT = itemInstance._focusTarget) || void 0 === _itemInstance$_focusT ? void 0 : _itemInstance$_focusT.call(itemInstance)) || $(itemInstance.element());\r\n            var tabIndex = null === (_itemData$options2 = itemData.options) || void 0 === _itemData$options2 ? void 0 : _itemData$options2.tabIndex;\r\n            if (isItemNotFocusable) {\r\n                $focusTarget.attr(\"tabIndex\", -1)\r\n            } else {\r\n                $focusTarget.attr(\"tabIndex\", tabIndex ? tabIndex : 0)\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    setHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport Widget from \"./widget/ui.widget\";\r\nimport Button from \"./button\";\r\nimport Popover from \"./popover\";\r\nimport DataHelperMixin from \"../data_helper\";\r\nimport List from \"./list_light\";\r\nimport {\r\n    isMaterial\r\n} from \"./themes\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../core/templates/child_default_template\";\r\nimport {\r\n    toggleItemFocusableElementTabIndex\r\n} from \"./toolbar/ui.toolbar.utils\";\r\nvar DROP_DOWN_MENU_CLASS = \"dx-dropdownmenu\";\r\nvar DROP_DOWN_MENU_POPUP_CLASS = \"dx-dropdownmenu-popup\";\r\nvar DROP_DOWN_MENU_POPUP_WRAPPER_CLASS = \"dx-dropdownmenu-popup-wrapper\";\r\nvar DROP_DOWN_MENU_LIST_CLASS = \"dx-dropdownmenu-list\";\r\nvar DROP_DOWN_MENU_BUTTON_CLASS = \"dx-dropdownmenu-button\";\r\nvar POPUP_OPTION_MAP = {\r\n    popupWidth: \"width\",\r\n    popupHeight: \"height\",\r\n    popupMaxHeight: \"maxHeight\",\r\n    popupAutoResizeEnabled: \"autoResizeEnabled\"\r\n};\r\nvar BUTTON_OPTION_MAP = {\r\n    buttonIcon: \"icon\",\r\n    buttonText: \"text\",\r\n    buttonWidth: \"width\",\r\n    buttonHeight: \"height\",\r\n    buttonTemplate: \"template\"\r\n};\r\nvar DropDownMenu = Widget.inherit({\r\n    _supportedKeys: function() {\r\n        var extension = {};\r\n        if (!this.option(\"opened\") || !this._list.option(\"focusedElement\")) {\r\n            extension = this._button._supportedKeys()\r\n        }\r\n        return extend(this.callBase(), extension, {\r\n            tab: function() {\r\n                this._popup && this._popup.hide()\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            items: [],\r\n            onItemClick: null,\r\n            dataSource: null,\r\n            itemTemplate: \"item\",\r\n            buttonText: \"\",\r\n            buttonIcon: \"overflow\",\r\n            buttonWidth: void 0,\r\n            buttonHeight: void 0,\r\n            buttonTemplate: \"content\",\r\n            onButtonClick: null,\r\n            usePopover: false,\r\n            popupWidth: \"auto\",\r\n            popupHeight: \"auto\",\r\n            activeStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            opened: false,\r\n            selectionMode: \"none\",\r\n            selectedItemKeys: [],\r\n            deferRendering: false,\r\n            popupPosition: {\r\n                my: \"top center\",\r\n                at: \"bottom center\",\r\n                collision: \"fit flip\",\r\n                offset: {\r\n                    v: 1\r\n                }\r\n            },\r\n            popupAnimation: void 0,\r\n            onItemRendered: null,\r\n            menuWidget: List,\r\n            popupMaxHeight: void 0,\r\n            closeOnClick: true,\r\n            useInkRipple: false,\r\n            container: void 0,\r\n            popupAutoResizeEnabled: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                usePopover: true\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: 4\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    my: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\r\n                    at: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\r\n                    collision: \"flipfit\"\r\n                },\r\n                popupAnimation: {\r\n                    show: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 0\r\n                        },\r\n                        to: {\r\n                            scale: 1\r\n                        }\r\n                    },\r\n                    hide: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 1\r\n                        },\r\n                        to: {\r\n                            scale: 0\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                useInkRipple: true\r\n            }\r\n        }])\r\n    },\r\n    _initOptions: function(options) {\r\n        if (\"android\" === devices.current().platform) {\r\n            if (!options.popupPosition) {\r\n                options.popupPosition = {\r\n                    at: (options.usePopover ? \"bottom \" : \"top \") + (options.rtlEnabled ? \"left\" : \"right\")\r\n                }\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(DROP_DOWN_MENU_CLASS);\r\n        this._initDataSource();\r\n        this._initItemClickAction();\r\n        this._initButtonClickAction()\r\n    },\r\n    _initItemClickAction: function() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initButtonClickAction: function() {\r\n        this._buttonClickAction = this._createActionByOption(\"onButtonClick\")\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            content: new ChildDefaultTemplate(\"content\")\r\n        });\r\n        this.callBase()\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderButton();\r\n        this.callBase()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this.setAria({\r\n            role: \"menubar\",\r\n            haspopup: true,\r\n            expanded: this.option(\"opened\")\r\n        })\r\n    },\r\n    _renderContentImpl: function() {\r\n        if (this.option(\"opened\")) {\r\n            this._renderPopup()\r\n        }\r\n    },\r\n    _clean: function() {\r\n        this._cleanFocusState();\r\n        if (this._popup) {\r\n            this._popup.$element().remove();\r\n            delete this._$popup\r\n        }\r\n    },\r\n    _renderButton: function() {\r\n        var $button = this.$element().addClass(DROP_DOWN_MENU_BUTTON_CLASS);\r\n        var config = this._buttonOptions();\r\n        this._button = this._createComponent($button, Button, config)\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this._button._toggleActiveState($element, value, e)\r\n    },\r\n    _buttonOptions: function() {\r\n        return {\r\n            text: this.option(\"buttonText\"),\r\n            icon: this.option(\"buttonIcon\"),\r\n            width: this.option(\"buttonWidth\"),\r\n            height: this.option(\"buttonHeight\"),\r\n            useInkRipple: this.option(\"useInkRipple\"),\r\n            template: this.option(\"buttonTemplate\"),\r\n            hoverStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onClick: function(e) {\r\n                this.option(\"opened\", !this.option(\"opened\"));\r\n                this._buttonClickAction(e)\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _toggleMenuVisibility: function(opened) {\r\n        var state = void 0 === opened ? !this._popup.option(\"visible\") : opened;\r\n        if (opened) {\r\n            this._renderPopup()\r\n        }\r\n        this._popup.toggle(state);\r\n        this.setAria(\"expanded\", state)\r\n    },\r\n    _renderPopup: function() {\r\n        if (this._$popup) {\r\n            return\r\n        }\r\n        var $popup = this._$popup = $(\"<div>\").appendTo(this.$element());\r\n        var config = this._popupOptions();\r\n        this._popup = this._createComponent($popup, Popover, config)\r\n    },\r\n    _popupOptions: function() {\r\n        var usePopup = !this.option(\"usePopover\");\r\n        return {\r\n            onInitialized: function(args) {\r\n                args.component.$wrapper().addClass(DROP_DOWN_MENU_POPUP_WRAPPER_CLASS).toggleClass(DROP_DOWN_MENU_POPUP_CLASS, usePopup)\r\n            },\r\n            visible: this.option(\"opened\"),\r\n            deferRendering: false,\r\n            contentTemplate: function(contentElement) {\r\n                this._renderList(contentElement)\r\n            }.bind(this),\r\n            position: this.option(\"popupPosition\"),\r\n            animation: this.option(\"popupAnimation\"),\r\n            onOptionChanged: function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    this.option(\"opened\", args.value)\r\n                }\r\n            }.bind(this),\r\n            target: this.$element(),\r\n            height: this.option(\"popupHeight\"),\r\n            width: this.option(\"popupWidth\"),\r\n            maxHeight: this.option(\"popupMaxHeight\"),\r\n            container: this.option(\"container\"),\r\n            autoResizeEnabled: this.option(\"popupAutoResizeEnabled\")\r\n        }\r\n    },\r\n    _renderList: function(contentElement) {\r\n        var $content = $(contentElement);\r\n        var listConfig = this._listOptions();\r\n        $content.addClass(DROP_DOWN_MENU_LIST_CLASS);\r\n        this._list = this._createComponent($content, this.option(\"menuWidget\"), listConfig);\r\n        this._list._getAriaTarget = function() {\r\n            return this.$element()\r\n        }.bind(this);\r\n        this._setListDataSource();\r\n        var listMaxHeight = .5 * getHeight(window);\r\n        if (getHeight($content) > listMaxHeight) {\r\n            setHeight($content, listMaxHeight)\r\n        }\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        var _this$_list;\r\n        null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list._itemOptionChanged(item, property, value);\r\n        toggleItemFocusableElementTabIndex(this._list, item)\r\n    },\r\n    _listOptions: function() {\r\n        return {\r\n            pageLoadMode: \"scrollBottom\",\r\n            indicateLoading: false,\r\n            noDataText: \"\",\r\n            selectionMode: this.option(\"selectionMode\"),\r\n            selectedItemKeys: this.option(\"selectedItemKeys\"),\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            onItemClick: function(e) {\r\n                if (this.option(\"closeOnClick\")) {\r\n                    this.option(\"opened\", false)\r\n                }\r\n                this._itemClickAction(e)\r\n            }.bind(this),\r\n            tabIndex: -1,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            onItemRendered: this.option(\"onItemRendered\"),\r\n            _itemAttributes: {\r\n                role: \"menuitem\"\r\n            }\r\n        }\r\n    },\r\n    _setListDataSource: function() {\r\n        if (this._list) {\r\n            this._list.option(\"dataSource\", this._dataSource || this.option(\"items\"))\r\n        }\r\n        delete this._deferRendering\r\n    },\r\n    _getKeyboardListeners() {\r\n        return this.callBase().concat([this._list])\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.callBase(visible);\r\n        this._button.option(\"visible\", visible)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        switch (name) {\r\n            case \"items\":\r\n            case \"dataSource\":\r\n                if (this.option(\"deferRendering\") && !this.option(\"opened\")) {\r\n                    this._deferRendering = true\r\n                } else {\r\n                    this._refreshDataSource();\r\n                    this._setListDataSource()\r\n                }\r\n                break;\r\n            case \"itemTemplate\":\r\n                if (this._list) {\r\n                    this._list.option(name, this._getTemplate(value))\r\n                }\r\n                break;\r\n            case \"onItemClick\":\r\n                this._initItemClickAction();\r\n                break;\r\n            case \"onButtonClick\":\r\n                this._buttonClickAction();\r\n                break;\r\n            case \"buttonIcon\":\r\n            case \"buttonText\":\r\n            case \"buttonWidth\":\r\n            case \"buttonHeight\":\r\n            case \"buttonTemplate\":\r\n                this._button.option(BUTTON_OPTION_MAP[name], value);\r\n                this._renderPopup();\r\n                break;\r\n            case \"popupWidth\":\r\n            case \"popupHeight\":\r\n            case \"popupMaxHeight\":\r\n            case \"popupAutoResizeEnabled\":\r\n                this._popup.option(POPUP_OPTION_MAP[name], value);\r\n                break;\r\n            case \"usePopover\":\r\n            case \"menuWidget\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"focusStateEnabled\":\r\n            case \"activeStateEnabled\":\r\n                if (this._list) {\r\n                    this._list.option(name, value)\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"selectionMode\":\r\n            case \"selectedItemKeys\":\r\n            case \"onItemRendered\":\r\n                if (this._list) {\r\n                    this._list.option(name, value)\r\n                }\r\n                break;\r\n            case \"opened\":\r\n                if (this._deferRendering) {\r\n                    this._refreshDataSource();\r\n                    this._setListDataSource()\r\n                }\r\n                this._toggleMenuVisibility(value);\r\n                this._updateFocusableItemsTabIndex();\r\n                break;\r\n            case \"deferRendering\":\r\n            case \"popupPosition\":\r\n            case \"closeOnClick\":\r\n                break;\r\n            case \"container\":\r\n                this._popup && this._popup.option(args.name, args.value);\r\n                break;\r\n            case \"disabled\":\r\n                if (this._list) {\r\n                    this._updateFocusableItemsTabIndex()\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _updateFocusableItemsTabIndex() {\r\n        this.option(\"items\").forEach(item => toggleItemFocusableElementTabIndex(this._list, item))\r\n    },\r\n    open: function() {\r\n        this.option(\"opened\", true)\r\n    },\r\n    close: function() {\r\n        this.option(\"opened\", false)\r\n    }\r\n}).include(DataHelperMixin);\r\nregisterComponent(\"dxDropDownMenu\", DropDownMenu);\r\nexport default DropDownMenu;\r\n","/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.drop_down_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport ToolbarMenu from \"./ui.toolbar.menu\";\r\nimport DropDownMenu from \"../drop_down_menu\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nvar MENU_INVISIBLE_CLASS = \"dx-state-invisible\";\r\nvar TOOLBAR_dropDownMenu_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\r\nvar POPOVER_BOUNDARY_OFFSET = 10;\r\nclass ToolbarDropDownMenu {\r\n    constructor(toolbar) {\r\n        this._toolbar = toolbar\r\n    }\r\n    render() {\r\n        if (!this._hasVisibleMenuItems()) {\r\n            return\r\n        }\r\n        this._renderMenuButtonContainer();\r\n        var $menu = $(\"<div>\").appendTo(this._dropDownMenuContainer());\r\n        this._dropDownMenu = this._toolbar._createComponent($menu, DropDownMenu, this._dropDownMenuOptions());\r\n        this.renderMenuItems()\r\n    }\r\n    renderMenuItems() {\r\n        if (!this._dropDownMenu) {\r\n            this.render()\r\n        }\r\n        this._dropDownMenu && this._dropDownMenu.option(\"items\", this._getMenuItems());\r\n        if (this._dropDownMenu && !this._dropDownMenu.option(\"items\").length) {\r\n            this._dropDownMenu.close()\r\n        }\r\n    }\r\n    _renderMenuButtonContainer() {\r\n        var $afterSection = this._toolbar._$afterSection;\r\n        this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_dropDownMenu_CONTAINER_CLASS)\r\n    }\r\n    _getMenuItemTemplate() {\r\n        return this._toolbar._getTemplateByOption(\"menuItemTemplate\")\r\n    }\r\n    _dropDownMenuOptions() {\r\n        var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\r\n        var topAndBottomOffset = 2 * POPOVER_BOUNDARY_OFFSET;\r\n        return {\r\n            disabled: this._toolbar.option(\"disabled\"),\r\n            itemTemplate: this._getMenuItemTemplate.bind(this),\r\n            onItemClick: function(e) {\r\n                itemClickAction(e)\r\n            }.bind(this),\r\n            deferRendering: true,\r\n            container: this._toolbar.option(\"menuContainer\"),\r\n            popupMaxHeight: \"android\" === devices.current().platform ? domAdapter.getDocumentElement().clientHeight - topAndBottomOffset : void 0,\r\n            menuWidget: ToolbarMenu,\r\n            onOptionChanged: _ref => {\r\n                var {\r\n                    name: name,\r\n                    value: value\r\n                } = _ref;\r\n                if (\"opened\" === name) {\r\n                    this._toolbar.option(\"overflowMenuVisible\", value)\r\n                }\r\n                if (\"items\" === name) {\r\n                    this._updateMenuVisibility(value)\r\n                }\r\n            },\r\n            popupPosition: {\r\n                at: \"bottom right\",\r\n                my: \"top right\"\r\n            }\r\n        }\r\n    }\r\n    _updateMenuVisibility(menuItems) {\r\n        var items = menuItems || this._getMenuItems();\r\n        var isMenuVisible = items.length && this._hasVisibleMenuItems(items);\r\n        this._toggleMenuVisibility(isMenuVisible)\r\n    }\r\n    _getMenuItems() {\r\n        return this._toolbar._getMenuItems()\r\n    }\r\n    _hasVisibleMenuItems(items) {\r\n        var menuItems = items || this._toolbar.option(\"items\");\r\n        var result = false;\r\n        var optionGetter = compileGetter(\"visible\");\r\n        var overflowGetter = compileGetter(\"locateInMenu\");\r\n        each(menuItems, (function(index, item) {\r\n            var itemVisible = optionGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            var itemOverflow = overflowGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\r\n                result = true\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    _toggleMenuVisibility(value) {\r\n        if (!this._dropDownMenuContainer()) {\r\n            return\r\n        }\r\n        this._dropDownMenuContainer().toggleClass(MENU_INVISIBLE_CLASS, !value)\r\n    }\r\n    _dropDownMenuContainer() {\r\n        return this._$menuButtonContainer\r\n    }\r\n    widgetOption(name, value) {\r\n        this._dropDownMenu && this._dropDownMenu.option(name, value)\r\n    }\r\n    itemOption(item, property, value) {\r\n        if (\"disabled\" === property || \"options.disabled\" === property) {\r\n            var _this$_dropDownMenu;\r\n            null === (_this$_dropDownMenu = this._dropDownMenu) || void 0 === _this$_dropDownMenu ? void 0 : _this$_dropDownMenu._itemOptionChanged(item, property, value)\r\n        } else {\r\n            this.renderMenuItems()\r\n        }\r\n    }\r\n}\r\nexport default ToolbarDropDownMenu;\r\n","/**\r\n * DevExtreme (esm/ui/toolbar.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    grep,\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    merge\r\n} from \"../core/utils/array\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport ToolbarDropDownMenu from \"./toolbar/ui.toolbar.drop_down_menu\";\r\nimport ToolbarBase from \"./toolbar/ui.toolbar.base\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../core/templates/child_default_template\";\r\nimport {\r\n    toggleItemFocusableElementTabIndex\r\n} from \"./toolbar/ui.toolbar.utils\";\r\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\r\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\r\nvar Toolbar = ToolbarBase.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            menuItemTemplate: \"menuItem\",\r\n            menuContainer: void 0,\r\n            overflowMenuVisible: false\r\n        })\r\n    },\r\n    updateDimensions: function() {\r\n        this._dimensionChanged()\r\n    },\r\n    _dimensionChanged: function(dimension) {\r\n        if (\"height\" === dimension) {\r\n            return\r\n        }\r\n        this.callBase();\r\n        this._menu.renderMenuItems()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            actionSheetItem: new ChildDefaultTemplate(\"item\")\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._updateFocusableItemsTabIndex();\r\n        this._renderMenu()\r\n    },\r\n    _postProcessRenderItems: function() {\r\n        this._hideOverflowItems();\r\n        this._menu._updateMenuVisibility();\r\n        this.callBase();\r\n        deferRender(() => {\r\n            this._menu.renderMenuItems()\r\n        })\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var itemElement = this.callBase(index, item, itemContainer, $after);\r\n        if (\"auto\" === item.locateInMenu) {\r\n            itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS)\r\n        }\r\n        if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\r\n            itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS)\r\n        }\r\n        return itemElement\r\n    },\r\n    _getItemsWidth: function() {\r\n        return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection])\r\n    },\r\n    _hideOverflowItems: function(elementWidth) {\r\n        var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n        if (!overflowItems.length) {\r\n            return\r\n        }\r\n        elementWidth = elementWidth || getWidth(this.$element());\r\n        $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\r\n        var itemsWidth = this._getItemsWidth();\r\n        while (overflowItems.length && elementWidth < itemsWidth) {\r\n            var $item = overflowItems.eq(-1);\r\n            itemsWidth -= getOuterWidth($item);\r\n            $item.addClass(TOOLBAR_HIDDEN_ITEM);\r\n            overflowItems.splice(-1, 1)\r\n        }\r\n    },\r\n    _getMenuItems: function() {\r\n        var that = this;\r\n        var menuItems = grep(this.option(\"items\") || [], (function(item) {\r\n            return that._isMenuItem(item)\r\n        }));\r\n        var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\r\n        this._restoreItems = this._restoreItems || [];\r\n        var overflowItems = [].slice.call($hiddenItems).map(item => {\r\n            var itemData = that._getItemData(item);\r\n            var $itemContainer = $(item).children();\r\n            var $itemMarkup = $itemContainer.children();\r\n            return extend({\r\n                menuItemTemplate: function() {\r\n                    that._restoreItems.push({\r\n                        container: $itemContainer,\r\n                        item: $itemMarkup\r\n                    });\r\n                    var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n                    return $container.append($itemMarkup)\r\n                }\r\n            }, itemData)\r\n        });\r\n        return merge(overflowItems, menuItems)\r\n    },\r\n    _getToolbarItems: function() {\r\n        var that = this;\r\n        return grep(this.option(\"items\") || [], (function(item) {\r\n            return !that._isMenuItem(item)\r\n        }))\r\n    },\r\n    _renderMenu: function() {\r\n        this._renderMenuStrategy();\r\n        deferRender(() => {\r\n            this._menu.render()\r\n        })\r\n    },\r\n    _renderMenuStrategy: function() {\r\n        if (!this._menu) {\r\n            this._menu = new ToolbarDropDownMenu(this)\r\n        }\r\n    },\r\n    _arrangeItems: function() {\r\n        if (this.$element().is(\":hidden\")) {\r\n            return\r\n        }\r\n        this._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            float: \"none\"\r\n        });\r\n        each(this._restoreItems || [], (function(_, obj) {\r\n            $(obj.container).append(obj.item)\r\n        }));\r\n        this._restoreItems = [];\r\n        var elementWidth = getWidth(this.$element());\r\n        this._hideOverflowItems(elementWidth);\r\n        this.callBase(elementWidth)\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        if (this._isMenuItem(item)) {\r\n            this._menu.itemOption(item, property, value)\r\n        } else if (this._isToolbarItem(item)) {\r\n            this.callBase(item, property, value)\r\n        } else {\r\n            this.callBase(item, property, value);\r\n            this._menu.itemOption(item, property, value)\r\n        }\r\n        if (\"disabled\" === property || \"options.disabled\" === property) {\r\n            toggleItemFocusableElementTabIndex(this, item)\r\n        }\r\n        if (\"location\" === property) {\r\n            this.repaint()\r\n        }\r\n    },\r\n    _updateFocusableItemsTabIndex() {\r\n        this._getToolbarItems().forEach(item => toggleItemFocusableElementTabIndex(this, item))\r\n    },\r\n    _isMenuItem: function(itemData) {\r\n        return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu\r\n    },\r\n    _isToolbarItem: function(itemData) {\r\n        return void 0 === itemData.location || \"never\" === itemData.locateInMenu\r\n    },\r\n    _optionChanged: function(args) {\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = args;\r\n        switch (name) {\r\n            case \"menuItemTemplate\":\r\n                this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\r\n                break;\r\n            case \"onItemClick\":\r\n                this._changeMenuOption(name, value);\r\n                this.callBase.apply(this, arguments);\r\n                break;\r\n            case \"menuContainer\":\r\n                this._changeMenuOption(\"container\", value);\r\n                break;\r\n            case \"overflowMenuVisible\":\r\n                this._changeMenuOption(\"opened\", value);\r\n                break;\r\n            case \"disabled\":\r\n                this._changeMenuOption(\"disabled\", value);\r\n                this.callBase.apply(this, arguments);\r\n                this._updateFocusableItemsTabIndex();\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _changeMenuOption: function(name, value) {\r\n        this._menu.widgetOption(name, value)\r\n    }\r\n});\r\nregisterComponent(\"dxToolbar\", Toolbar);\r\nexport default Toolbar;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Toolbar from \"../toolbar\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport \"../drop_down_menu\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getPathParts\r\n} from \"../../core/utils/data\";\r\nvar HEADER_PANEL_CLASS = \"header-panel\";\r\nvar TOOLBAR_BUTTON_CLASS = \"toolbar-button\";\r\nvar TOOLBAR_ARIA_LABEL = \"-ariaToolbar\";\r\nvar DEFAULT_TOOLBAR_ITEM_NAMES = [\"addRowButton\", \"applyFilterButton\", \"columnChooserButton\", \"exportButton\", \"groupPanel\", \"revertButton\", \"saveButton\", \"searchPanel\"];\r\nvar HeaderPanel = ColumnsView.inherit({\r\n    _getToolbarItems: function() {\r\n        return []\r\n    },\r\n    _getButtonContainer: function() {\r\n        return $(\"<div>\").addClass(this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS))\r\n    },\r\n    _getToolbarButtonClass: function(specificClass) {\r\n        var secondClass = specificClass ? \" \" + specificClass : \"\";\r\n        return this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS) + secondClass\r\n    },\r\n    _getToolbarOptions: function() {\r\n        var userToolbarOptions = this.option(\"toolbar\");\r\n        var options = {\r\n            toolbarOptions: {\r\n                items: this._getToolbarItems(),\r\n                visible: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.visible,\r\n                disabled: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.disabled,\r\n                onItemRendered: function(e) {\r\n                    var itemRenderedCallback = e.itemData.onItemRendered;\r\n                    if (itemRenderedCallback) {\r\n                        itemRenderedCallback(e)\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var userItems = null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.items;\r\n        options.toolbarOptions.items = this._normalizeToolbarItems(options.toolbarOptions.items, userItems);\r\n        this.executeAction(\"onToolbarPreparing\", options);\r\n        if (options.toolbarOptions && !isDefined(options.toolbarOptions.visible)) {\r\n            var toolbarItems = options.toolbarOptions.items;\r\n            options.toolbarOptions.visible = !!(null !== toolbarItems && void 0 !== toolbarItems && toolbarItems.length)\r\n        }\r\n        return options.toolbarOptions\r\n    },\r\n    _normalizeToolbarItems(defaultItems, userItems) {\r\n        defaultItems.forEach(button => {\r\n            if (!DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\r\n                throw new Error(\"Default toolbar item '\".concat(button.name, \"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES\"))\r\n            }\r\n        });\r\n        var defaultProps = {\r\n            location: \"after\"\r\n        };\r\n        var isArray = Array.isArray(userItems);\r\n        if (!isDefined(userItems)) {\r\n            return defaultItems\r\n        }\r\n        if (!isArray) {\r\n            userItems = [userItems]\r\n        }\r\n        var defaultButtonsByNames = {};\r\n        defaultItems.forEach(button => {\r\n            defaultButtonsByNames[button.name] = button\r\n        });\r\n        var normalizedItems = userItems.map(button => {\r\n            if (isString(button)) {\r\n                button = {\r\n                    name: button\r\n                }\r\n            }\r\n            if (isDefined(button.name)) {\r\n                if (isDefined(defaultButtonsByNames[button.name])) {\r\n                    button = extend(true, {}, defaultButtonsByNames[button.name], button)\r\n                } else if (DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\r\n                    button.visible = false\r\n                }\r\n            }\r\n            return extend(true, {}, defaultProps, button)\r\n        });\r\n        return isArray ? normalizedItems : normalizedItems[0]\r\n    },\r\n    _renderCore: function() {\r\n        if (!this._toolbar) {\r\n            var $headerPanel = this.element();\r\n            $headerPanel.addClass(this.addWidgetPrefix(HEADER_PANEL_CLASS));\r\n            var label = messageLocalization.format(this.component.NAME + TOOLBAR_ARIA_LABEL);\r\n            var $toolbar = $(\"<div>\").attr(\"aria-label\", label).appendTo($headerPanel);\r\n            this._toolbar = this._createComponent($toolbar, Toolbar, this._toolbarOptions)\r\n        } else {\r\n            this._toolbar.option(this._toolbarOptions)\r\n        }\r\n    },\r\n    _columnOptionChanged: noop,\r\n    _handleDataChanged: function() {\r\n        if (this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this.createAction(\"onToolbarPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    render: function() {\r\n        this._toolbarOptions = this._getToolbarOptions();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    setToolbarItemDisabled: function(name, optionValue) {\r\n        var toolbarInstance = this._toolbar;\r\n        if (toolbarInstance) {\r\n            var items = toolbarInstance.option(\"items\") || [];\r\n            var itemIndex = items.indexOf(items.filter((function(item) {\r\n                return item.name === name\r\n            }))[0]);\r\n            if (itemIndex >= 0) {\r\n                var itemOptionPrefix = \"items[\" + itemIndex + \"]\";\r\n                if (toolbarInstance.option(itemOptionPrefix + \".options\")) {\r\n                    toolbarInstance.option(itemOptionPrefix + \".options.disabled\", optionValue)\r\n                } else {\r\n                    toolbarInstance.option(itemOptionPrefix + \".disabled\", optionValue)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateToolbarDimensions: function() {\r\n        var _this$_toolbar;\r\n        null === (_this$_toolbar = this._toolbar) || void 0 === _this$_toolbar ? void 0 : _this$_toolbar.updateDimensions()\r\n    },\r\n    getHeaderPanel: function() {\r\n        return this.element()\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"onToolbarPreparing\" === args.name) {\r\n            this._invalidate();\r\n            args.handled = true\r\n        }\r\n        if (\"toolbar\" === args.name) {\r\n            args.handled = true;\r\n            if (this._toolbar) {\r\n                var parts = getPathParts(args.fullName);\r\n                var optionName = args.fullName.replace(/^toolbar\\./, \"\");\r\n                if (1 === parts.length) {\r\n                    var toolbarOptions = this._getToolbarOptions();\r\n                    this._toolbar.option(toolbarOptions)\r\n                } else if (\"items\" === parts[1]) {\r\n                    if (2 === parts.length) {\r\n                        var _toolbarOptions = this._getToolbarOptions();\r\n                        this._toolbar.option(\"items\", _toolbarOptions.items)\r\n                    } else if (3 === parts.length) {\r\n                        var normalizedItem = this._normalizeToolbarItems(this._getToolbarItems(), args.value);\r\n                        this._toolbar.option(optionName, normalizedItem)\r\n                    } else if (parts.length >= 4) {\r\n                        this._toolbar.option(optionName, args.value)\r\n                    }\r\n                } else {\r\n                    this._toolbar.option(optionName, args.value)\r\n                }\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    isVisible: function() {\r\n        return this._toolbarOptions && this._toolbarOptions.visible\r\n    },\r\n    allowDragging: noop\r\n});\r\nexport var headerPanelModule = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    views: {\r\n        headerPanel: HeaderPanel\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            resizing: {\r\n                _updateDimensionsCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this.getView(\"headerPanel\").updateToolbarDimensions()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.header_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    headerPanelModule\r\n} from \"../grid_core/ui.grid_core.header_panel\";\r\nexport var HeaderPanel = headerPanelModule.views.headerPanel;\r\ngridCore.registerModule(\"headerPanel\", headerPanelModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.base.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    deferRender,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isFunction,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    logger\r\n} from \"../../core/utils/console\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nvar DATAGRID_ROW_SELECTOR = \".dx-row\";\r\nvar DATAGRID_DEPRECATED_TEMPLATE_WARNING = \"Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.\";\r\nimport \"./ui.data_grid.column_headers\";\r\nimport \"./ui.data_grid.columns_controller\";\r\nimport \"./ui.data_grid.data_controller\";\r\nimport \"./ui.data_grid.sorting\";\r\nimport \"./ui.data_grid.rows\";\r\nimport \"./ui.data_grid.context_menu\";\r\nimport \"./ui.data_grid.error_handling\";\r\nimport \"./ui.data_grid.grid_view\";\r\nimport \"./ui.data_grid.header_panel\";\r\ngridCore.registerModulesOrder([\"stateStoring\", \"columns\", \"selection\", \"editorFactory\", \"columnChooser\", \"grouping\", \"editing\", \"editingRowBased\", \"editingFormBased\", \"editingCellBased\", \"masterDetail\", \"validating\", \"adaptivity\", \"data\", \"virtualScrolling\", \"columnHeaders\", \"filterRow\", \"headerPanel\", \"headerFilter\", \"sorting\", \"search\", \"rows\", \"pager\", \"columnsResizingReordering\", \"contextMenu\", \"keyboardNavigation\", \"errorHandling\", \"summary\", \"columnFixing\", \"export\", \"gridView\"]);\r\nvar DataGrid = Widget.inherit({\r\n    _activeStateUnit: DATAGRID_ROW_SELECTOR,\r\n    _getDefaultOptions: function() {\r\n        var result = this.callBase();\r\n        each(gridCore.modules, (function() {\r\n            if (isFunction(this.defaultOptions)) {\r\n                extend(true, result, this.defaultOptions())\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    _setDeprecatedOptions: function() {\r\n        this.callBase();\r\n        extend(this._deprecatedOptions, {\r\n            useKeyboard: {\r\n                since: \"19.2\",\r\n                alias: \"keyboardNavigation.enabled\"\r\n            },\r\n            rowTemplate: {\r\n                since: \"21.2\",\r\n                message: 'Use the \"dataRowTemplate\" option instead'\r\n            },\r\n            onToolbarPreparing: {\r\n                since: \"21.2\",\r\n                message: 'Use the \"toolbar\" option instead'\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                showRowLines: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                showRowLines: true,\r\n                showColumnLines: false,\r\n                headerFilter: {\r\n                    height: 315\r\n                },\r\n                editing: {\r\n                    useIcons: true\r\n                },\r\n                selection: {\r\n                    showCheckBoxesMode: \"always\"\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return browser.webkit\r\n            },\r\n            options: {\r\n                loadingTimeout: 30,\r\n                loadPanel: {\r\n                    animation: {\r\n                        show: {\r\n                            easing: \"cubic-bezier(1, 0, 1, 0)\",\r\n                            duration: 500,\r\n                            from: {\r\n                                opacity: 0\r\n                            },\r\n                            to: {\r\n                                opacity: 1\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return \"desktop\" !== _device.deviceType\r\n            },\r\n            options: {\r\n                grouping: {\r\n                    expandMode: \"rowClick\"\r\n                }\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        gridCore.processModules(this, gridCore);\r\n        gridCore.callModuleItemsMethod(this, \"init\")\r\n    },\r\n    _clean: noop,\r\n    _optionChanged: function(args) {\r\n        gridCore.callModuleItemsMethod(this, \"optionChanged\", [args]);\r\n        if (!args.handled) {\r\n            this.callBase(args)\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.updateDimensions(true)\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this.updateDimensions()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this.getView(\"gridView\").render(this.$element())\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.getView(\"gridView\").update()\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        deferRender((function() {\r\n            that._renderContentImpl()\r\n        }))\r\n    },\r\n    _getTemplate: function(templateName) {\r\n        var template = templateName;\r\n        if (isString(template) && \"#\" === template[0]) {\r\n            template = $(templateName);\r\n            logger.warn(DATAGRID_DEPRECATED_TEMPLATE_WARNING)\r\n        }\r\n        return this.callBase(template)\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        gridCore.callModuleItemsMethod(this, \"dispose\")\r\n    },\r\n    isReady: function() {\r\n        return this.getController(\"data\").isReady()\r\n    },\r\n    beginUpdate: function() {\r\n        this.callBase();\r\n        gridCore.callModuleItemsMethod(this, \"beginUpdate\")\r\n    },\r\n    endUpdate: function() {\r\n        gridCore.callModuleItemsMethod(this, \"endUpdate\");\r\n        this.callBase()\r\n    },\r\n    getController: function(name) {\r\n        return this._controllers[name]\r\n    },\r\n    getView: function(name) {\r\n        return this._views[name]\r\n    },\r\n    focus: function(element) {\r\n        this.getController(\"keyboardNavigation\").focus(element)\r\n    }\r\n});\r\nDataGrid.registerModule = gridCore.registerModule.bind(gridCore);\r\nregisterComponent(\"dxDataGrid\", DataGrid);\r\nexport default DataGrid;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.state_storing_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    sessionStorage\r\n} from \"../../core/utils/storage\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    fromPromise\r\n} from \"../../core/utils/deferred\";\r\nvar DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/;\r\nvar parseDates = function parseDates(state) {\r\n    if (!state) {\r\n        return\r\n    }\r\n    each(state, (function(key, value) {\r\n        if (isPlainObject(value) || Array.isArray(value)) {\r\n            parseDates(value)\r\n        } else if (\"string\" === typeof value) {\r\n            var date = DATE_REGEX.exec(value);\r\n            if (date) {\r\n                state[key] = new Date(Date.UTC(+date[1], +date[2] - 1, +date[3], +date[4], +date[5], +date[6]))\r\n            }\r\n        }\r\n    }))\r\n};\r\nexport var StateStoringController = modules.ViewController.inherit(function() {\r\n    var getStorage = function(options) {\r\n        var storage = \"sessionStorage\" === options.type ? sessionStorage() : getWindow().localStorage;\r\n        if (!storage) {\r\n            throw new Error(\"E1007\")\r\n        }\r\n        return storage\r\n    };\r\n    var getUniqueStorageKey = function(options) {\r\n        return isDefined(options.storageKey) ? options.storageKey : \"storage\"\r\n    };\r\n    return {\r\n        _loadState: function() {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                return options.customLoad && options.customLoad()\r\n            }\r\n            try {\r\n                return JSON.parse(getStorage(options).getItem(getUniqueStorageKey(options)))\r\n            } catch (e) {\r\n                errors.log(e.message)\r\n            }\r\n        },\r\n        _saveState: function(state) {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                options.customSave && options.customSave(state);\r\n                return\r\n            }\r\n            try {\r\n                getStorage(options).setItem(getUniqueStorageKey(options), JSON.stringify(state))\r\n            } catch (e) {\r\n                errors.log(e.message)\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"state\"]\r\n        },\r\n        isEnabled: function() {\r\n            return this.option(\"stateStoring.enabled\")\r\n        },\r\n        init: function() {\r\n            var that = this;\r\n            that._state = {};\r\n            that._isLoaded = false;\r\n            that._isLoading = false;\r\n            that._windowUnloadHandler = function() {\r\n                if (void 0 !== that._savingTimeoutID) {\r\n                    that._saveState(that.state())\r\n                }\r\n            };\r\n            eventsEngine.on(getWindow(), \"unload\", that._windowUnloadHandler);\r\n            return that\r\n        },\r\n        isLoaded: function() {\r\n            return this._isLoaded\r\n        },\r\n        isLoading: function() {\r\n            return this._isLoading\r\n        },\r\n        load: function() {\r\n            this._isLoading = true;\r\n            var loadResult = fromPromise(this._loadState());\r\n            loadResult.always(() => {\r\n                this._isLoaded = true;\r\n                this._isLoading = false\r\n            }).done(state => {\r\n                if (null !== state && !isEmptyObject(state)) {\r\n                    this.state(state)\r\n                }\r\n            });\r\n            return loadResult\r\n        },\r\n        state: function(_state) {\r\n            var that = this;\r\n            if (!arguments.length) {\r\n                return extend(true, {}, that._state)\r\n            } else {\r\n                that._state = extend({}, _state);\r\n                parseDates(that._state)\r\n            }\r\n        },\r\n        save: function() {\r\n            var that = this;\r\n            clearTimeout(that._savingTimeoutID);\r\n            that._savingTimeoutID = setTimeout((function() {\r\n                that._saveState(that.state());\r\n                that._savingTimeoutID = void 0\r\n            }), that.option(\"stateStoring.savingTimeout\"))\r\n        },\r\n        optionChanged: function(args) {\r\n            switch (args.name) {\r\n                case \"stateStoring\":\r\n                    if (this.isEnabled() && !this.isLoading()) {\r\n                        this.load()\r\n                    }\r\n                    args.handled = true;\r\n                    break;\r\n                default:\r\n                    this.callBase(args)\r\n            }\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._savingTimeoutID);\r\n            eventsEngine.off(getWindow(), \"unload\", this._windowUnloadHandler)\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.state_storing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getKeyHash,\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    StateStoringController\r\n} from \"./ui.grid_core.state_storing_core\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar getDataState = that => {\r\n    var pagerView = that.getView(\"pagerView\");\r\n    var dataController = that.getController(\"data\");\r\n    var state = {\r\n        allowedPageSizes: pagerView ? pagerView.getPageSizes() : void 0,\r\n        filterPanel: {\r\n            filterEnabled: that.option(\"filterPanel.filterEnabled\")\r\n        },\r\n        filterValue: that.option(\"filterValue\"),\r\n        focusedRowKey: that.option(\"focusedRowEnabled\") ? that.option(\"focusedRowKey\") : void 0\r\n    };\r\n    return extend(state, dataController.getUserState())\r\n};\r\nvar processLoadState = that => {\r\n    var columnsController = that.getController(\"columns\");\r\n    var selectionController = that.getController(\"selection\");\r\n    var exportController = that.getController(\"export\");\r\n    var dataController = that.getController(\"data\");\r\n    if (columnsController) {\r\n        columnsController.columnsChanged.add((function() {\r\n            that.updateState({\r\n                columns: columnsController.getUserState()\r\n            })\r\n        }))\r\n    }\r\n    if (selectionController) {\r\n        selectionController.selectionChanged.add((function(e) {\r\n            that.updateState({\r\n                selectedRowKeys: e.selectedRowKeys,\r\n                selectionFilter: e.selectionFilter\r\n            })\r\n        }))\r\n    }\r\n    if (dataController) {\r\n        that._initialPageSize = that.option(\"paging.pageSize\");\r\n        that._initialFilterValue = that.option(\"filterValue\");\r\n        dataController.changed.add((function() {\r\n            var state = getDataState(that);\r\n            that.updateState(state)\r\n        }))\r\n    }\r\n    if (exportController) {\r\n        exportController.selectionOnlyChanged.add((function() {\r\n            that.updateState({\r\n                exportSelectionOnly: exportController.selectionOnly()\r\n            })\r\n        }))\r\n    }\r\n};\r\nvar DEFAULT_FILTER_VALUE = null;\r\nvar getFilterValue = (that, state) => {\r\n    var filterSyncController = that.getController(\"filterSync\");\r\n    var columnsController = that.getController(\"columns\");\r\n    var hasFilterState = state.columns || void 0 !== state.filterValue;\r\n    if (filterSyncController) {\r\n        if (hasFilterState) {\r\n            return state.filterValue || filterSyncController.getFilterValueFromColumns(state.columns)\r\n        } else {\r\n            return that._initialFilterValue || filterSyncController.getFilterValueFromColumns(columnsController.getColumns())\r\n        }\r\n    }\r\n    return DEFAULT_FILTER_VALUE\r\n};\r\nexport var stateStoringModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            stateStoring: {\r\n                enabled: false,\r\n                storageKey: null,\r\n                type: \"localStorage\",\r\n                customLoad: null,\r\n                customSave: null,\r\n                savingTimeout: 2e3\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        stateStoring: StateStoringController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                init: function() {\r\n                    var that = this;\r\n                    var dataController = that.getController(\"data\");\r\n                    that.callBase();\r\n                    dataController.stateLoaded.add((function() {\r\n                        if (dataController.isLoaded() && !dataController.getDataSource()) {\r\n                            that.setLoading(false);\r\n                            that.renderNoDataText();\r\n                            var columnHeadersView = that.component.getView(\"columnHeadersView\");\r\n                            columnHeadersView && columnHeadersView.render();\r\n                            that.component._fireContentReadyAction()\r\n                        }\r\n                    }))\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            stateStoring: {\r\n                init: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    processLoadState(this)\r\n                },\r\n                isLoading: function() {\r\n                    return this.callBase() || this.getController(\"data\").isStateLoading()\r\n                },\r\n                state: function(_state) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    if (void 0 !== _state) {\r\n                        this.applyState(extend({}, _state))\r\n                    }\r\n                    return result\r\n                },\r\n                updateState: function(state) {\r\n                    if (this.isEnabled()) {\r\n                        var oldState = this.state();\r\n                        var newState = extend({}, oldState, state);\r\n                        var oldStateHash = getKeyHash(oldState);\r\n                        var newStateHash = getKeyHash(newState);\r\n                        if (!equalByValue(oldStateHash, newStateHash)) {\r\n                            extend(this._state, state);\r\n                            this.save()\r\n                        }\r\n                    } else {\r\n                        extend(this._state, state)\r\n                    }\r\n                },\r\n                applyState: function(state) {\r\n                    var allowedPageSizes = state.allowedPageSizes;\r\n                    var searchText = state.searchText;\r\n                    var selectedRowKeys = state.selectedRowKeys;\r\n                    var selectionFilter = state.selectionFilter;\r\n                    var exportController = this.getController(\"export\");\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var dataController = this.getController(\"data\");\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var isVirtualScrollingMode = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n                    var showPageSizeSelector = true === this.option(\"pager.visible\") && this.option(\"pager.showPageSizeSelector\");\r\n                    this.component.beginUpdate();\r\n                    if (columnsController) {\r\n                        columnsController.setUserState(state.columns)\r\n                    }\r\n                    if (exportController) {\r\n                        exportController.selectionOnly(state.exportSelectionOnly)\r\n                    }\r\n                    if (!this.option(\"selection.deferred\")) {\r\n                        this.option(\"selectedRowKeys\", selectedRowKeys || [])\r\n                    }\r\n                    this.option(\"selectionFilter\", selectionFilter);\r\n                    if (allowedPageSizes && \"auto\" === this.option(\"pager.allowedPageSizes\")) {\r\n                        this.option(\"pager\").allowedPageSizes = allowedPageSizes\r\n                    }\r\n                    if (this.option(\"focusedRowEnabled\")) {\r\n                        this.option(\"focusedRowIndex\", -1);\r\n                        this.option(\"focusedRowKey\", state.focusedRowKey || null)\r\n                    }\r\n                    this.component.endUpdate();\r\n                    this.option(\"searchPanel.text\", searchText || \"\");\r\n                    this.option(\"filterValue\", getFilterValue(this, state));\r\n                    this.option(\"filterPanel.filterEnabled\", state.filterPanel ? state.filterPanel.filterEnabled : true);\r\n                    this.option(\"paging.pageIndex\", state.pageIndex || 0);\r\n                    this.option(\"paging.pageSize\", (!isVirtualScrollingMode || showPageSizeSelector) && isDefined(state.pageSize) ? state.pageSize : this._initialPageSize);\r\n                    dataController && dataController.reset()\r\n                }\r\n            },\r\n            columns: {\r\n                getVisibleColumns: function() {\r\n                    var visibleColumns = this.callBase.apply(this, arguments);\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    return stateStoringController.isEnabled() && !stateStoringController.isLoaded() ? [] : visibleColumns\r\n                }\r\n            },\r\n            data: {\r\n                callbackNames: function() {\r\n                    return this.callBase().concat([\"stateLoaded\"])\r\n                },\r\n                _refreshDataSource: function() {\r\n                    var callBase = this.callBase;\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    if (stateStoringController.isEnabled() && !stateStoringController.isLoaded()) {\r\n                        clearTimeout(this._restoreStateTimeoutID);\r\n                        var deferred = new Deferred;\r\n                        this._restoreStateTimeoutID = setTimeout(() => {\r\n                            stateStoringController.load().always(() => {\r\n                                this._restoreStateTimeoutID = null\r\n                            }).done(() => {\r\n                                callBase.call(this);\r\n                                this.stateLoaded.fire();\r\n                                deferred.resolve()\r\n                            }).fail(error => {\r\n                                this.stateLoaded.fire();\r\n                                this._handleLoadError(error || \"Unknown error\");\r\n                                deferred.reject()\r\n                            })\r\n                        });\r\n                        return deferred.promise()\r\n                    } else if (!this.isStateLoading()) {\r\n                        callBase.call(this)\r\n                    }\r\n                },\r\n                isLoading: function() {\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    return this.callBase() || stateStoringController.isLoading()\r\n                },\r\n                isStateLoading: function() {\r\n                    return isDefined(this._restoreStateTimeoutID)\r\n                },\r\n                isLoaded: function() {\r\n                    return this.callBase() && !this.isStateLoading()\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._restoreStateTimeoutID);\r\n                    this.callBase()\r\n                }\r\n            },\r\n            selection: {\r\n                _fireSelectionChanged: function(options) {\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    var isDeferredSelection = this.option(\"selection.deferred\");\r\n                    if (stateStoringController.isLoading() && isDeferredSelection) {\r\n                        return\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.state_storing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    stateStoringModule\r\n} from \"../grid_core/ui.grid_core.state_storing\";\r\ngridCore.registerModule(\"stateStoring\", stateStoringModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.selection.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport gridCore from \"../data_grid/ui.data_grid.core\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    touch\r\n} from \"../../core/utils/support\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    addNamespace,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport holdEvent from \"../../events/hold\";\r\nimport Selection from \"../selection/selection\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport errors from \"../widget/ui.errors\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar ROW_SELECTION_CLASS = \"dx-selection\";\r\nvar SELECT_CHECKBOX_CLASS = \"dx-select-checkbox\";\r\nvar CHECKBOXES_HIDDEN_CLASS = \"dx-select-checkboxes-hidden\";\r\nvar COMMAND_SELECT_CLASS = \"dx-command-select\";\r\nvar SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar SHOW_CHECKBOXES_MODE = \"selection.showCheckBoxesMode\";\r\nvar SELECTION_MODE = \"selection.mode\";\r\nvar processLongTap = function(that, dxEvent) {\r\n    var selectionController = that.getController(\"selection\");\r\n    var rowsView = that.getView(\"rowsView\");\r\n    var $row = $(dxEvent.target).closest(\".\" + DATA_ROW_CLASS);\r\n    var rowIndex = rowsView.getRowIndex($row);\r\n    if (rowIndex < 0) {\r\n        return\r\n    }\r\n    if (\"onLongTap\" === that.option(SHOW_CHECKBOXES_MODE)) {\r\n        if (selectionController.isSelectionWithCheckboxes()) {\r\n            selectionController.stopSelectionWithCheckboxes()\r\n        } else {\r\n            selectionController.startSelectionWithCheckboxes()\r\n        }\r\n    } else {\r\n        if (\"onClick\" === that.option(SHOW_CHECKBOXES_MODE)) {\r\n            selectionController.startSelectionWithCheckboxes()\r\n        }\r\n        if (\"always\" !== that.option(SHOW_CHECKBOXES_MODE)) {\r\n            selectionController.changeItemSelection(rowIndex, {\r\n                control: true\r\n            })\r\n        }\r\n    }\r\n};\r\nvar SelectionController = gridCore.Controller.inherit(function() {\r\n    var selectionCellTemplate = (container, options) => {\r\n        var component = options.component;\r\n        var rowsView = component.getView(\"rowsView\");\r\n        if (component.option(\"renderAsync\") && !component.option(\"selection.deferred\")) {\r\n            options.value = component.isRowSelected(options.row.key)\r\n        }\r\n        rowsView.renderSelectCheckBoxContainer($(container), options)\r\n    };\r\n    var selectionHeaderTemplate = (container, options) => {\r\n        var column = options.column;\r\n        var $cellElement = $(container);\r\n        var columnHeadersView = options.component.getView(\"columnHeadersView\");\r\n        $cellElement.addClass(EDITOR_CELL_CLASS);\r\n        columnHeadersView._renderSelectAllCheckBox($cellElement, column);\r\n        columnHeadersView._attachSelectAllCheckBoxClickEvent($cellElement)\r\n    };\r\n    return {\r\n        init: function() {\r\n            var {\r\n                deferred: deferred,\r\n                selectAllMode: selectAllMode,\r\n                mode: mode\r\n            } = this.option(\"selection\") || {};\r\n            if (\"infinite\" === this.option(\"scrolling.mode\") && !deferred && \"multiple\" === mode && \"allPages\" === selectAllMode) {\r\n                errors.log(\"W1018\")\r\n            }\r\n            this._dataController = this.getController(\"data\");\r\n            this._selectionMode = mode;\r\n            this._isSelectionWithCheckboxes = false;\r\n            this._selection = this._createSelection();\r\n            this._updateSelectColumn();\r\n            this.createAction(\"onSelectionChanged\", {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            });\r\n            this._dataController && this._dataController.pushed.add(this._handleDataPushed.bind(this))\r\n        },\r\n        _handleDataPushed: function(changes) {\r\n            var removedKeys = changes.filter(change => \"remove\" === change.type).map(change => change.key);\r\n            removedKeys.length && this.deselectRows(removedKeys)\r\n        },\r\n        _getSelectionConfig: function() {\r\n            var dataController = this._dataController;\r\n            var columnsController = this.getController(\"columns\");\r\n            var selectionOptions = this.option(\"selection\") || {};\r\n            var deferred = selectionOptions.deferred;\r\n            var scrollingMode = this.option(\"scrolling.mode\");\r\n            var virtualPaging = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n            var allowSelectAll = this.option(\"selection.allowSelectAll\");\r\n            var legacyScrollingMode = this.option(\"scrolling.legacyMode\");\r\n            return {\r\n                selectedKeys: this.option(\"selectedRowKeys\"),\r\n                mode: this._selectionMode,\r\n                deferred: deferred,\r\n                maxFilterLengthInRequest: selectionOptions.maxFilterLengthInRequest,\r\n                selectionFilter: this.option(\"selectionFilter\"),\r\n                ignoreDisabledItems: true,\r\n                allowLoadByRange: function() {\r\n                    var hasGroupColumns = columnsController.getGroupColumns().length > 0;\r\n                    return virtualPaging && !legacyScrollingMode && !hasGroupColumns && allowSelectAll && !deferred\r\n                },\r\n                key: function() {\r\n                    return null === dataController || void 0 === dataController ? void 0 : dataController.key()\r\n                },\r\n                keyOf: function(item) {\r\n                    return null === dataController || void 0 === dataController ? void 0 : dataController.keyOf(item)\r\n                },\r\n                dataFields: function() {\r\n                    var _dataController$dataS;\r\n                    return null === (_dataController$dataS = dataController.dataSource()) || void 0 === _dataController$dataS ? void 0 : _dataController$dataS.select()\r\n                },\r\n                load: function(options) {\r\n                    var _dataController$dataS2;\r\n                    return (null === (_dataController$dataS2 = dataController.dataSource()) || void 0 === _dataController$dataS2 ? void 0 : _dataController$dataS2.load(options)) || (new Deferred).resolve([])\r\n                },\r\n                plainItems: function() {\r\n                    return dataController.items(true)\r\n                },\r\n                isItemSelected: function(item) {\r\n                    return item.selected\r\n                },\r\n                isSelectableItem: function(item) {\r\n                    return \"data\" === (null === item || void 0 === item ? void 0 : item.rowType) && !item.isNewRow\r\n                },\r\n                getItemData: function(item) {\r\n                    return (null === item || void 0 === item ? void 0 : item.oldData) || (null === item || void 0 === item ? void 0 : item.data) || item\r\n                },\r\n                filter: function() {\r\n                    return dataController.getCombinedFilter(deferred)\r\n                },\r\n                totalCount: () => dataController.totalCount(),\r\n                getLoadOptions: function(loadItemIndex, focusedItemIndex, shiftItemIndex) {\r\n                    var _dataController$dataS3, _dataController$dataS4;\r\n                    var {\r\n                        sort: sort,\r\n                        filter: filter\r\n                    } = null !== (_dataController$dataS3 = null === (_dataController$dataS4 = dataController.dataSource()) || void 0 === _dataController$dataS4 ? void 0 : _dataController$dataS4.lastLoadOptions()) && void 0 !== _dataController$dataS3 ? _dataController$dataS3 : {};\r\n                    var minIndex = Math.min(loadItemIndex, focusedItemIndex);\r\n                    var maxIndex = Math.max(loadItemIndex, focusedItemIndex);\r\n                    if (isDefined(shiftItemIndex)) {\r\n                        minIndex = Math.min(shiftItemIndex, minIndex);\r\n                        maxIndex = Math.max(shiftItemIndex, maxIndex)\r\n                    }\r\n                    var take = maxIndex - minIndex + 1;\r\n                    return {\r\n                        skip: minIndex,\r\n                        take: take,\r\n                        filter: filter,\r\n                        sort: sort\r\n                    }\r\n                },\r\n                onSelectionChanged: this._updateSelectedItems.bind(this)\r\n            }\r\n        },\r\n        _updateSelectColumn: function() {\r\n            var columnsController = this.getController(\"columns\");\r\n            var isSelectColumnVisible = this.isSelectColumnVisible();\r\n            columnsController.addCommandColumn({\r\n                type: \"selection\",\r\n                command: \"select\",\r\n                visible: isSelectColumnVisible,\r\n                visibleIndex: -1,\r\n                dataType: \"boolean\",\r\n                alignment: \"center\",\r\n                cssClass: COMMAND_SELECT_CLASS,\r\n                width: \"auto\",\r\n                cellTemplate: selectionCellTemplate,\r\n                headerCellTemplate: selectionHeaderTemplate\r\n            });\r\n            columnsController.columnOption(\"command:select\", \"visible\", isSelectColumnVisible)\r\n        },\r\n        _createSelection: function() {\r\n            var options = this._getSelectionConfig();\r\n            return new Selection(options)\r\n        },\r\n        _fireSelectionChanged: function(options) {\r\n            var argument = this.option(\"selection.deferred\") ? {\r\n                selectionFilter: this.option(\"selectionFilter\")\r\n            } : {\r\n                selectedRowKeys: this.option(\"selectedRowKeys\")\r\n            };\r\n            this.selectionChanged.fire(argument);\r\n            if (options) {\r\n                this.executeAction(\"onSelectionChanged\", options)\r\n            }\r\n        },\r\n        _updateCheckboxesState: function(options) {\r\n            var isDeferredMode = options.isDeferredMode;\r\n            var selectionFilter = options.selectionFilter;\r\n            var selectedItemKeys = options.selectedItemKeys;\r\n            var removedItemKeys = options.removedItemKeys;\r\n            if (\"onClick\" === this.option(SHOW_CHECKBOXES_MODE)) {\r\n                if (isDeferredMode ? selectionFilter && function(that, selectionFilter) {\r\n                        var keyIndex = 0;\r\n                        var store = that._dataController.store();\r\n                        var key = store && store.key();\r\n                        var isComplexKey = Array.isArray(key);\r\n                        if (!selectionFilter.length) {\r\n                            return false\r\n                        }\r\n                        if (isComplexKey && Array.isArray(selectionFilter[0]) && \"and\" === selectionFilter[1]) {\r\n                            for (var i = 0; i < selectionFilter.length; i++) {\r\n                                if (Array.isArray(selectionFilter[i])) {\r\n                                    if (selectionFilter[i][0] !== key[keyIndex] || \"=\" !== selectionFilter[i][1]) {\r\n                                        return true\r\n                                    }\r\n                                    keyIndex++\r\n                                }\r\n                            }\r\n                            return false\r\n                        }\r\n                        return key !== selectionFilter[0]\r\n                    }(this, selectionFilter) : selectedItemKeys.length > 1) {\r\n                    this.startSelectionWithCheckboxes()\r\n                } else if (isDeferredMode ? selectionFilter && !selectionFilter.length : 0 === selectedItemKeys.length && removedItemKeys.length) {\r\n                    this.stopSelectionWithCheckboxes()\r\n                }\r\n            }\r\n        },\r\n        _updateSelectedItems: function(args) {\r\n            var selectionChangedOptions;\r\n            var isDeferredMode = this.option(\"selection.deferred\");\r\n            var selectionFilter = this._selection.selectionFilter();\r\n            var dataController = this._dataController;\r\n            var items = dataController.items();\r\n            if (!items) {\r\n                return\r\n            }\r\n            var isSelectionWithCheckboxes = this.isSelectionWithCheckboxes();\r\n            var changedItemIndexes = this.getChangedItemIndexes(items);\r\n            this._updateCheckboxesState({\r\n                selectedItemKeys: args.selectedItemKeys,\r\n                removedItemKeys: args.removedItemKeys,\r\n                selectionFilter: selectionFilter,\r\n                isDeferredMode: isDeferredMode\r\n            });\r\n            if (changedItemIndexes.length || isSelectionWithCheckboxes !== this.isSelectionWithCheckboxes()) {\r\n                dataController.updateItems({\r\n                    changeType: \"updateSelection\",\r\n                    itemIndexes: changedItemIndexes\r\n                })\r\n            }\r\n            if (isDeferredMode) {\r\n                this.option(\"selectionFilter\", selectionFilter);\r\n                selectionChangedOptions = {}\r\n            } else if (args.addedItemKeys.length || args.removedItemKeys.length) {\r\n                this._selectedItemsInternalChange = true;\r\n                this.option(\"selectedRowKeys\", args.selectedItemKeys.slice(0));\r\n                this._selectedItemsInternalChange = false;\r\n                selectionChangedOptions = {\r\n                    selectedRowsData: args.selectedItems.slice(0),\r\n                    selectedRowKeys: args.selectedItemKeys.slice(0),\r\n                    currentSelectedRowKeys: args.addedItemKeys.slice(0),\r\n                    currentDeselectedRowKeys: args.removedItemKeys.slice(0)\r\n                }\r\n            }\r\n            this._fireSelectionChanged(selectionChangedOptions)\r\n        },\r\n        getChangedItemIndexes: function(items) {\r\n            var itemIndexes = [];\r\n            var isDeferredSelection = this.option(\"selection.deferred\");\r\n            for (var i = 0, length = items.length; i < length; i++) {\r\n                var row = items[i];\r\n                var isItemSelected = this.isRowSelected(isDeferredSelection ? row.data : row.key);\r\n                if (this._selection.isDataItem(row) && row.isSelected !== isItemSelected) {\r\n                    itemIndexes.push(i)\r\n                }\r\n            }\r\n            return itemIndexes\r\n        },\r\n        callbackNames: function() {\r\n            return [\"selectionChanged\"]\r\n        },\r\n        optionChanged: function(args) {\r\n            this.callBase(args);\r\n            switch (args.name) {\r\n                case \"selection\":\r\n                    var oldSelectionMode = this._selectionMode;\r\n                    this.init();\r\n                    if (\"selection.showCheckBoxesMode\" !== args.fullName) {\r\n                        var selectionMode = this._selectionMode;\r\n                        var selectedRowKeys = this.option(\"selectedRowKeys\");\r\n                        if (oldSelectionMode !== selectionMode) {\r\n                            if (\"single\" === selectionMode) {\r\n                                if (selectedRowKeys.length > 1) {\r\n                                    selectedRowKeys = [selectedRowKeys[0]]\r\n                                }\r\n                            } else if (\"multiple\" !== selectionMode) {\r\n                                selectedRowKeys = []\r\n                            }\r\n                        }\r\n                        this.selectRows(selectedRowKeys).always(() => {\r\n                            this._fireSelectionChanged()\r\n                        })\r\n                    }\r\n                    this.getController(\"columns\").updateColumns();\r\n                    args.handled = true;\r\n                    break;\r\n                case \"selectionFilter\":\r\n                    this._selection.selectionFilter(args.value);\r\n                    args.handled = true;\r\n                    break;\r\n                case \"selectedRowKeys\":\r\n                    var value = args.value || [];\r\n                    if (Array.isArray(value) && !this._selectedItemsInternalChange && (this.component.getDataSource() || !value.length)) {\r\n                        this.selectRows(value)\r\n                    }\r\n                    args.handled = true\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"selectRows\", \"deselectRows\", \"selectRowsByIndexes\", \"getSelectedRowKeys\", \"getSelectedRowsData\", \"clearSelection\", \"selectAll\", \"deselectAll\", \"startSelectionWithCheckboxes\", \"stopSelectionWithCheckboxes\", \"isRowSelected\"]\r\n        },\r\n        isRowSelected: function(arg) {\r\n            return this._selection.isItemSelected(arg)\r\n        },\r\n        isSelectColumnVisible: function() {\r\n            return \"multiple\" === this.option(SELECTION_MODE) && (\"always\" === this.option(SHOW_CHECKBOXES_MODE) || \"onClick\" === this.option(SHOW_CHECKBOXES_MODE) || this._isSelectionWithCheckboxes)\r\n        },\r\n        _isOnePageSelectAll: function() {\r\n            return \"page\" === this.option(\"selection.selectAllMode\")\r\n        },\r\n        isSelectAll: function() {\r\n            return this._selection.getSelectAllState(this._isOnePageSelectAll())\r\n        },\r\n        selectAll: function() {\r\n            if (\"onClick\" === this.option(SHOW_CHECKBOXES_MODE)) {\r\n                this.startSelectionWithCheckboxes()\r\n            }\r\n            return this._selection.selectAll(this._isOnePageSelectAll())\r\n        },\r\n        deselectAll: function() {\r\n            return this._selection.deselectAll(this._isOnePageSelectAll())\r\n        },\r\n        clearSelection: function() {\r\n            return this.selectedItemKeys([])\r\n        },\r\n        refresh: function() {\r\n            var selectedRowKeys = this.option(\"selectedRowKeys\") || [];\r\n            if (!this.option(\"selection.deferred\") && selectedRowKeys.length) {\r\n                return this.selectedItemKeys(selectedRowKeys)\r\n            }\r\n            return (new Deferred).resolve().promise()\r\n        },\r\n        selectedItemKeys: function(value, preserve, isDeselect, isSelectAll) {\r\n            return this._selection.selectedItemKeys(value, preserve, isDeselect, isSelectAll)\r\n        },\r\n        getSelectedRowKeys: function() {\r\n            return this._selection.getSelectedItemKeys()\r\n        },\r\n        selectRows: function(keys, preserve) {\r\n            return this.selectedItemKeys(keys, preserve)\r\n        },\r\n        deselectRows: function(keys) {\r\n            return this.selectedItemKeys(keys, true, true)\r\n        },\r\n        selectRowsByIndexes: function(indexes) {\r\n            var items = this._dataController.items();\r\n            var keys = [];\r\n            if (!Array.isArray(indexes)) {\r\n                indexes = Array.prototype.slice.call(arguments, 0)\r\n            }\r\n            each(indexes, (function() {\r\n                var item = items[this];\r\n                if (item && \"data\" === item.rowType) {\r\n                    keys.push(item.key)\r\n                }\r\n            }));\r\n            return this.selectRows(keys)\r\n        },\r\n        getSelectedRowsData: function() {\r\n            return this._selection.getSelectedItems()\r\n        },\r\n        changeItemSelection: function(visibleItemIndex, keys, setFocusOnly) {\r\n            keys = keys || {};\r\n            if (this.isSelectionWithCheckboxes()) {\r\n                keys.control = true\r\n            }\r\n            var loadedItemIndex = visibleItemIndex + this._dataController.getRowIndexOffset() - this._dataController.getRowIndexOffset(true);\r\n            return this._selection.changeItemSelection(loadedItemIndex, keys, setFocusOnly)\r\n        },\r\n        focusedItemIndex: function(itemIndex) {\r\n            if (isDefined(itemIndex)) {\r\n                this._selection._focusedItemIndex = itemIndex\r\n            } else {\r\n                return this._selection._focusedItemIndex\r\n            }\r\n        },\r\n        isSelectionWithCheckboxes: function() {\r\n            return \"multiple\" === this.option(SELECTION_MODE) && (\"always\" === this.option(SHOW_CHECKBOXES_MODE) || this._isSelectionWithCheckboxes)\r\n        },\r\n        startSelectionWithCheckboxes: function() {\r\n            if (\"multiple\" === this.option(SELECTION_MODE) && !this.isSelectionWithCheckboxes()) {\r\n                this._isSelectionWithCheckboxes = true;\r\n                this._updateSelectColumn();\r\n                return true\r\n            }\r\n            return false\r\n        },\r\n        stopSelectionWithCheckboxes: function() {\r\n            if (this._isSelectionWithCheckboxes) {\r\n                this._isSelectionWithCheckboxes = false;\r\n                this._updateSelectColumn();\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n}());\r\nexport var selectionModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            selection: {\r\n                mode: \"none\",\r\n                showCheckBoxesMode: \"onClick\",\r\n                allowSelectAll: true,\r\n                selectAllMode: \"allPages\",\r\n                maxFilterLengthInRequest: 1500,\r\n                deferred: false\r\n            },\r\n            selectionFilter: [],\r\n            selectedRowKeys: []\r\n        }\r\n    },\r\n    controllers: {\r\n        selection: SelectionController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    var selectionController = this.getController(\"selection\");\r\n                    var isDeferredMode = this.option(\"selection.deferred\");\r\n                    this.callBase.apply(this, arguments);\r\n                    if (isDeferredMode) {\r\n                        selectionController._updateCheckboxesState({\r\n                            isDeferredMode: true,\r\n                            selectionFilter: this.option(\"selectionFilter\")\r\n                        })\r\n                    }\r\n                },\r\n                _loadDataSource: function() {\r\n                    var that = this;\r\n                    return that.callBase().done((function() {\r\n                        that.getController(\"selection\").refresh()\r\n                    }))\r\n                },\r\n                _processDataItem: function(item, options) {\r\n                    var that = this;\r\n                    var selectionController = that.getController(\"selection\");\r\n                    var hasSelectColumn = selectionController.isSelectColumnVisible();\r\n                    var isDeferredSelection = options.isDeferredSelection = void 0 === options.isDeferredSelection ? this.option(\"selection.deferred\") : options.isDeferredSelection;\r\n                    var dataItem = this.callBase.apply(this, arguments);\r\n                    dataItem.isSelected = selectionController.isRowSelected(isDeferredSelection ? dataItem.data : dataItem.key);\r\n                    if (hasSelectColumn && dataItem.values) {\r\n                        for (var i = 0; i < options.visibleColumns.length; i++) {\r\n                            if (\"select\" === options.visibleColumns[i].command) {\r\n                                dataItem.values[i] = dataItem.isSelected;\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                    return dataItem\r\n                },\r\n                refresh: function(options) {\r\n                    var that = this;\r\n                    var d = new Deferred;\r\n                    this.callBase.apply(this, arguments).done((function() {\r\n                        if (!options || options.selection) {\r\n                            that.getController(\"selection\").refresh().done(d.resolve).fail(d.reject)\r\n                        } else {\r\n                            d.resolve()\r\n                        }\r\n                    })).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if ((!e || \"refresh\" === e.changeType) && !this._repaintChangesOnly) {\r\n                        this.getController(\"selection\").focusedItemIndex(-1)\r\n                    }\r\n                },\r\n                _applyChange: function(change) {\r\n                    if (change && \"updateSelection\" === change.changeType) {\r\n                        change.items.forEach((item, index) => {\r\n                            var currentItem = this._items[index];\r\n                            if (currentItem) {\r\n                                currentItem.isSelected = item.isSelected;\r\n                                currentItem.values = item.values\r\n                            }\r\n                        });\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var changes = this._changes;\r\n                    var isUpdateSelection = changes.length > 1 && changes.every(change => \"updateSelection\" === change.changeType);\r\n                    if (isUpdateSelection) {\r\n                        var itemIndexes = changes.map(change => change.itemIndexes || []).reduce((a, b) => a.concat(b));\r\n                        this._changes = [{\r\n                            changeType: \"updateSelection\",\r\n                            itemIndexes: itemIndexes\r\n                        }]\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                }\r\n            },\r\n            contextMenu: {\r\n                _contextMenuPrepared: function(options) {\r\n                    var dxEvent = options.event;\r\n                    if (dxEvent.originalEvent && \"dxhold\" !== dxEvent.originalEvent.type || options.items && options.items.length > 0) {\r\n                        return\r\n                    }\r\n                    processLongTap(this, dxEvent)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            columnHeadersView: {\r\n                init: function() {\r\n                    this.callBase();\r\n                    this.getController(\"selection\").selectionChanged.add(this._updateSelectAllValue.bind(this))\r\n                },\r\n                _updateSelectAllValue: function() {\r\n                    var $element = this.element();\r\n                    var $editor = $element && $element.find(\".\" + SELECT_CHECKBOX_CLASS);\r\n                    if ($element && $editor.length && \"multiple\" === this.option(\"selection.mode\")) {\r\n                        var selectAllValue = this.getController(\"selection\").isSelectAll();\r\n                        var hasSelection = false !== selectAllValue;\r\n                        var isVisible = this.option(\"selection.allowSelectAll\") ? !this.getController(\"data\").isEmpty() : hasSelection;\r\n                        $editor.dxCheckBox(\"instance\").option({\r\n                            visible: isVisible,\r\n                            value: selectAllValue\r\n                        })\r\n                    }\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    this.callBase(e);\r\n                    if (!e || \"refresh\" === e.changeType) {\r\n                        this._updateSelectAllValue()\r\n                    }\r\n                },\r\n                _renderSelectAllCheckBox: function($container, column) {\r\n                    var that = this;\r\n                    var selectionController = that.getController(\"selection\");\r\n                    var isEmptyData = that.getController(\"data\").isEmpty();\r\n                    var groupElement = $(\"<div>\").appendTo($container).addClass(SELECT_CHECKBOX_CLASS);\r\n                    that.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaSelectAll\"), $container);\r\n                    that.getController(\"editorFactory\").createEditor(groupElement, extend({}, column, {\r\n                        parentType: \"headerRow\",\r\n                        dataType: \"boolean\",\r\n                        value: selectionController.isSelectAll(),\r\n                        editorOptions: {\r\n                            visible: !isEmptyData && (that.option(\"selection.allowSelectAll\") || false !== selectionController.isSelectAll())\r\n                        },\r\n                        tabIndex: that.option(\"useLegacyKeyboardNavigation\") ? -1 : that.option(\"tabIndex\") || 0,\r\n                        setValue: function(value, e) {\r\n                            var allowSelectAll = that.option(\"selection.allowSelectAll\");\r\n                            e.component.option(\"visible\", allowSelectAll || false !== e.component.option(\"value\"));\r\n                            if (!e.event || selectionController.isSelectAll() === value) {\r\n                                return\r\n                            }\r\n                            if (e.value && !allowSelectAll) {\r\n                                e.component.option(\"value\", false)\r\n                            } else {\r\n                                e.value ? selectionController.selectAll() : selectionController.deselectAll()\r\n                            }\r\n                            e.event.preventDefault()\r\n                        }\r\n                    }));\r\n                    return groupElement\r\n                },\r\n                _attachSelectAllCheckBoxClickEvent: function($element) {\r\n                    eventsEngine.on($element, clickEventName, this.createAction((function(e) {\r\n                        var event = e.event;\r\n                        if (!$(event.target).closest(\".\" + SELECT_CHECKBOX_CLASS).length) {\r\n                            eventsEngine.trigger($(event.currentTarget).children(\".\" + SELECT_CHECKBOX_CLASS), clickEventName)\r\n                        }\r\n                        event.preventDefault()\r\n                    })))\r\n                }\r\n            },\r\n            rowsView: {\r\n                renderSelectCheckBoxContainer: function($container, options) {\r\n                    if (\"data\" === options.rowType && !options.row.isNewRow) {\r\n                        $container.addClass(EDITOR_CELL_CLASS);\r\n                        this._attachCheckBoxClickEvent($container);\r\n                        this.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaSelectRow\"), $container);\r\n                        this._renderSelectCheckBox($container, options)\r\n                    } else {\r\n                        gridCoreUtils.setEmptyText($container)\r\n                    }\r\n                },\r\n                _renderSelectCheckBox: function(container, options) {\r\n                    var groupElement = $(\"<div>\").addClass(SELECT_CHECKBOX_CLASS).appendTo(container);\r\n                    this.getController(\"editorFactory\").createEditor(groupElement, extend({}, options.column, {\r\n                        parentType: \"dataRow\",\r\n                        dataType: \"boolean\",\r\n                        lookup: null,\r\n                        value: options.value,\r\n                        setValue: function(value, e) {\r\n                            var _e$event;\r\n                            if (\"keydown\" === (null === e || void 0 === e ? void 0 : null === (_e$event = e.event) || void 0 === _e$event ? void 0 : _e$event.type)) {\r\n                                eventsEngine.trigger(e.element, clickEventName, e)\r\n                            }\r\n                        },\r\n                        row: options.row\r\n                    }));\r\n                    return groupElement\r\n                },\r\n                _attachCheckBoxClickEvent: function($element) {\r\n                    eventsEngine.on($element, clickEventName, this.createAction((function(e) {\r\n                        var selectionController = this.getController(\"selection\");\r\n                        var event = e.event;\r\n                        var rowIndex = this.getRowIndex($(event.currentTarget).closest(\".\" + ROW_CLASS));\r\n                        if (rowIndex >= 0) {\r\n                            selectionController.startSelectionWithCheckboxes();\r\n                            selectionController.changeItemSelection(rowIndex, {\r\n                                shift: event.shiftKey\r\n                            });\r\n                            if ($(event.target).closest(\".\" + SELECT_CHECKBOX_CLASS).length) {\r\n                                this.getController(\"data\").updateItems({\r\n                                    changeType: \"updateSelection\",\r\n                                    itemIndexes: [rowIndex]\r\n                                })\r\n                            }\r\n                        }\r\n                    })))\r\n                },\r\n                _update: function(change) {\r\n                    var that = this;\r\n                    var tableElements = that.getTableElements();\r\n                    if (\"updateSelection\" === change.changeType) {\r\n                        if (tableElements.length > 0) {\r\n                            each(tableElements, (function(_, tableElement) {\r\n                                each(change.itemIndexes || [], (function(_, index) {\r\n                                    var $row;\r\n                                    if (change.items[index]) {\r\n                                        $row = that._getRowElements($(tableElement)).eq(index);\r\n                                        if ($row.length) {\r\n                                            var isSelected = change.items[index].isSelected;\r\n                                            $row.toggleClass(ROW_SELECTION_CLASS, void 0 === isSelected ? false : isSelected).find(\".\" + SELECT_CHECKBOX_CLASS).dxCheckBox(\"option\", \"value\", isSelected);\r\n                                            that.setAria(\"selected\", isSelected, $row)\r\n                                        }\r\n                                    }\r\n                                }))\r\n                            }));\r\n                            that._updateCheckboxesClass()\r\n                        }\r\n                    } else {\r\n                        that.callBase(change)\r\n                    }\r\n                },\r\n                _createTable: function() {\r\n                    var that = this;\r\n                    var selectionMode = that.option(\"selection.mode\");\r\n                    var $table = that.callBase.apply(that, arguments);\r\n                    if (\"none\" !== selectionMode) {\r\n                        if (\"onLongTap\" === that.option(SHOW_CHECKBOXES_MODE) || !touch) {\r\n                            eventsEngine.on($table, addNamespace(holdEvent.name, \"dxDataGridRowsView\"), \".\" + DATA_ROW_CLASS, that.createAction((function(e) {\r\n                                processLongTap(that.component, e.event);\r\n                                e.event.stopPropagation()\r\n                            })))\r\n                        }\r\n                        eventsEngine.on($table, \"mousedown selectstart\", that.createAction((function(e) {\r\n                            var event = e.event;\r\n                            if (event.shiftKey) {\r\n                                event.preventDefault()\r\n                            }\r\n                        })))\r\n                    }\r\n                    return $table\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var isSelected = !!row.isSelected;\r\n                        if (isSelected) {\r\n                            $row.addClass(ROW_SELECTION_CLASS)\r\n                        }\r\n                        this.setAria(\"selected\", isSelected, $row)\r\n                    }\r\n                    return $row\r\n                },\r\n                _rowClick: function(e) {\r\n                    var dxEvent = e.event;\r\n                    var isSelectionDisabled = $(dxEvent.target).closest(\".\" + SELECTION_DISABLED_CLASS).length;\r\n                    if (!this.isClickableElement($(dxEvent.target))) {\r\n                        if (!isSelectionDisabled && (\"multiple\" !== this.option(SELECTION_MODE) || \"always\" !== this.option(SHOW_CHECKBOXES_MODE))) {\r\n                            if (this.getController(\"selection\").changeItemSelection(e.rowIndex, {\r\n                                    control: isCommandKeyPressed(dxEvent),\r\n                                    shift: dxEvent.shiftKey\r\n                                })) {\r\n                                dxEvent.preventDefault();\r\n                                e.handled = true\r\n                            }\r\n                        }\r\n                        this.callBase(e)\r\n                    }\r\n                },\r\n                isClickableElement: function($target) {\r\n                    var isCommandSelect = $target.closest(\".\" + COMMAND_SELECT_CLASS).length;\r\n                    return !!isCommandSelect\r\n                },\r\n                _renderCore: function(change) {\r\n                    this.callBase(change);\r\n                    this._updateCheckboxesClass()\r\n                },\r\n                _updateCheckboxesClass: function() {\r\n                    var tableElements = this.getTableElements();\r\n                    var selectionController = this.getController(\"selection\");\r\n                    var isCheckBoxesHidden = selectionController.isSelectColumnVisible() && !selectionController.isSelectionWithCheckboxes();\r\n                    each(tableElements, (function(_, tableElement) {\r\n                        $(tableElement).toggleClass(CHECKBOXES_HIDDEN_CLASS, isCheckBoxesHidden)\r\n                    }))\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.selection.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    selectionModule\r\n} from \"../grid_core/ui.grid_core.selection\";\r\ngridCore.registerModule(\"selection\", selectionModule);\r\n","/**\r\n * DevExtreme (esm/ui/tree_view/ui.tree_view.base.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    asyncNoop,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    isDefined,\r\n    isPrimitive,\r\n    isFunction,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport CheckBox from \"../check_box\";\r\nimport HierarchicalCollectionWidget from \"../hierarchical_collection/ui.hierarchical_collection_widget\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    name as dblclickEvent\r\n} from \"../../events/double_click\";\r\nimport fx from \"../../animation/fx\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport LoadIndicator from \"../load_indicator\";\r\nimport {\r\n    fromPromise,\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    nativeScrolling\r\n} from \"../../core/utils/support\";\r\nimport {\r\n    getRelativeOffset\r\n} from \"../../renovation/ui/scroll_view/utils/get_relative_offset\";\r\nimport {\r\n    SCROLLABLE_CONTENT_CLASS,\r\n    DIRECTION_HORIZONTAL,\r\n    DIRECTION_VERTICAL\r\n} from \"../../renovation/ui/scroll_view/common/consts\";\r\nvar WIDGET_CLASS = \"dx-treeview\";\r\nvar NODE_CLASS = \"\".concat(WIDGET_CLASS, \"-node\");\r\nvar NODE_CONTAINER_CLASS = \"\".concat(NODE_CLASS, \"-container\");\r\nvar NODE_LOAD_INDICATOR_CLASS = \"\".concat(NODE_CLASS, \"-loadindicator\");\r\nvar OPENED_NODE_CONTAINER_CLASS = \"\".concat(NODE_CLASS, \"-container-opened\");\r\nvar IS_LEAF = \"\".concat(NODE_CLASS, \"-is-leaf\");\r\nvar ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-item\");\r\nvar ITEM_WITH_CHECKBOX_CLASS = \"\".concat(ITEM_CLASS, \"-with-checkbox\");\r\nvar ITEM_WITHOUT_CHECKBOX_CLASS = \"\".concat(ITEM_CLASS, \"-without-checkbox\");\r\nvar ITEM_DATA_KEY = \"\".concat(ITEM_CLASS, \"-data\");\r\nvar TOGGLE_ITEM_VISIBILITY_CLASS = \"\".concat(WIDGET_CLASS, \"-toggle-item-visibility\");\r\nvar LOAD_INDICATOR_CLASS = \"\".concat(WIDGET_CLASS, \"-loadindicator\");\r\nvar LOAD_INDICATOR_WRAPPER_CLASS = \"\".concat(WIDGET_CLASS, \"-loadindicator-wrapper\");\r\nvar TOGGLE_ITEM_VISIBILITY_OPENED_CLASS = \"\".concat(WIDGET_CLASS, \"-toggle-item-visibility-opened\");\r\nvar SELECT_ALL_ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-select-all-item\");\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar SELECTED_ITEM_CLASS = \"dx-state-selected\";\r\nvar EXPAND_EVENT_NAMESPACE = \"dxTreeView_expand\";\r\nvar DATA_ITEM_ID = \"data-item-id\";\r\nvar TreeViewBase = HierarchicalCollectionWidget.inherit({\r\n    _supportedKeys: function(e) {\r\n        var click = e => {\r\n            var $itemElement = $(this.option(\"focusedElement\"));\r\n            if (!$itemElement.length) {\r\n                return\r\n            }\r\n            e.target = $itemElement;\r\n            e.currentTarget = $itemElement;\r\n            this._itemClickHandler(e, $itemElement.children(\".\" + ITEM_CLASS));\r\n            var expandEventName = this._getEventNameByOption(this.option(\"expandEvent\"));\r\n            var expandByClick = expandEventName === addNamespace(clickEventName, EXPAND_EVENT_NAMESPACE);\r\n            if (expandByClick) {\r\n                this._expandEventHandler(e)\r\n            }\r\n        };\r\n        var select = e => {\r\n            e.preventDefault();\r\n            var $focusedElement = $(this.option(\"focusedElement\"));\r\n            var checkboxInstance = this._getCheckBoxInstance($focusedElement);\r\n            if (!checkboxInstance.option(\"disabled\")) {\r\n                var currentState = checkboxInstance.option(\"value\");\r\n                this._updateItemSelection(!currentState, $focusedElement.find(\".\" + ITEM_CLASS).get(0), true)\r\n            }\r\n        };\r\n        var toggleExpandedNestedItems = function(state, e) {\r\n            if (!this.option(\"expandAllEnabled\")) {\r\n                return\r\n            }\r\n            e.preventDefault();\r\n            var $rootElement = $(this.option(\"focusedElement\"));\r\n            if (!$rootElement.length) {\r\n                return\r\n            }\r\n            var rootItem = this._getItemData($rootElement.find(\".\".concat(ITEM_CLASS)));\r\n            this._toggleExpandedNestedItems([rootItem], state)\r\n        };\r\n        return extend(this.callBase(), {\r\n            enter: this._showCheckboxes() ? select : click,\r\n            space: this._showCheckboxes() ? select : click,\r\n            asterisk: toggleExpandedNestedItems.bind(this, true),\r\n            minus: toggleExpandedNestedItems.bind(this, false)\r\n        })\r\n    },\r\n    _toggleExpandedNestedItems: function(items, state) {\r\n        if (!items) {\r\n            return\r\n        }\r\n        for (var i = 0, len = items.length; i < len; i++) {\r\n            var item = items[i];\r\n            var node = this._dataAdapter.getNodeByItem(item);\r\n            this._toggleExpandedState(node, state);\r\n            this._toggleExpandedNestedItems(item.items, state)\r\n        }\r\n    },\r\n    _getNodeElement: function(node, cache) {\r\n        var key = this._encodeString(node.internalFields.key);\r\n        if (cache) {\r\n            if (!cache.$nodeByKey) {\r\n                cache.$nodeByKey = {};\r\n                this.$element().find(\".\".concat(NODE_CLASS)).each((function() {\r\n                    var $node = $(this);\r\n                    var key = $node.attr(DATA_ITEM_ID);\r\n                    cache.$nodeByKey[key] = $node\r\n                }))\r\n            }\r\n            return cache.$nodeByKey[key] || $()\r\n        }\r\n        var element = this.$element().get(0).querySelector(\"[\".concat(DATA_ITEM_ID, '=\"').concat(key, '\"]'));\r\n        return $(element)\r\n    },\r\n    _activeStateUnit: \".\" + ITEM_CLASS,\r\n    _widgetClass: function() {\r\n        return WIDGET_CLASS\r\n    },\r\n    _getDefaultOptions: function() {\r\n        var defaultOptions = extend(this.callBase(), {\r\n            animationEnabled: true,\r\n            dataStructure: \"tree\",\r\n            deferRendering: true,\r\n            expandAllEnabled: false,\r\n            hasItemsExpr: \"hasItems\",\r\n            selectNodesRecursive: true,\r\n            expandNodesRecursive: true,\r\n            showCheckBoxesMode: \"none\",\r\n            selectAllText: messageLocalization.format(\"dxList-selectAll\"),\r\n            onItemSelectionChanged: null,\r\n            onItemExpanded: null,\r\n            onItemCollapsed: null,\r\n            scrollDirection: \"vertical\",\r\n            useNativeScrolling: true,\r\n            virtualModeEnabled: false,\r\n            rootValue: 0,\r\n            focusStateEnabled: false,\r\n            selectionMode: \"multiple\",\r\n            expandEvent: \"dblclick\",\r\n            selectByClick: false,\r\n            createChildren: null,\r\n            onSelectAllValueChanged: null\r\n        });\r\n        return extend(true, defaultOptions, {\r\n            integrationOptions: {\r\n                useDeferUpdateForTemplates: false\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return !nativeScrolling\r\n            },\r\n            options: {\r\n                useNativeScrolling: false\r\n            }\r\n        }])\r\n    },\r\n    _initSelectedItems: noop,\r\n    _syncSelectionOptions: asyncNoop,\r\n    _fireSelectionChanged: function() {\r\n        var selectionChangePromise = this._selectionChangePromise;\r\n        when(selectionChangePromise).done(function() {\r\n            this._createActionByOption(\"onSelectionChanged\", {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            })()\r\n        }.bind(this))\r\n    },\r\n    _createSelectAllValueChangedAction: function() {\r\n        this._selectAllValueChangedAction = this._createActionByOption(\"onSelectAllValueChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _fireSelectAllValueChanged: function(value) {\r\n        this._selectAllValueChangedAction({\r\n            value: value\r\n        })\r\n    },\r\n    _checkBoxModeChange: function(value, previousValue) {\r\n        if (\"none\" === previousValue || \"none\" === value) {\r\n            this.repaint();\r\n            return\r\n        }\r\n        var selectAllExists = this._$selectAllItem && this._$selectAllItem.length;\r\n        switch (value) {\r\n            case \"selectAll\":\r\n                if (!selectAllExists) {\r\n                    this._createSelectAllValueChangedAction();\r\n                    this._renderSelectAllItem()\r\n                }\r\n                break;\r\n            case \"normal\":\r\n                if (selectAllExists) {\r\n                    this._$selectAllItem.remove();\r\n                    delete this._$selectAllItem\r\n                }\r\n        }\r\n    },\r\n    _removeSelection: function() {\r\n        var that = this;\r\n        each(this._dataAdapter.getFullData(), (function(_, node) {\r\n            if (!that._hasChildren(node)) {\r\n                return\r\n            }\r\n            that._dataAdapter.toggleSelection(node.internalFields.key, false, true)\r\n        }))\r\n    },\r\n    _optionChanged: function(args) {\r\n        var {\r\n            name: name,\r\n            value: value,\r\n            previousValue: previousValue\r\n        } = args;\r\n        switch (name) {\r\n            case \"selectAllText\":\r\n                if (this._$selectAllItem) {\r\n                    this._$selectAllItem.dxCheckBox(\"instance\").option(\"text\", value)\r\n                }\r\n                break;\r\n            case \"showCheckBoxesMode\":\r\n                this._checkBoxModeChange(value, previousValue);\r\n                break;\r\n            case \"scrollDirection\":\r\n                this.getScrollable().option(\"direction\", value);\r\n                break;\r\n            case \"useNativeScrolling\":\r\n                this.getScrollable().option(\"useNative\", value);\r\n                break;\r\n            case \"items\":\r\n                delete this._$selectAllItem;\r\n                this.callBase(args);\r\n                break;\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                this._initDataAdapter();\r\n                this._filter = {};\r\n                break;\r\n            case \"hasItemsExpr\":\r\n                this._initAccessors();\r\n                this.repaint();\r\n                break;\r\n            case \"expandEvent\":\r\n                this._initExpandEvent();\r\n                break;\r\n            case \"deferRendering\":\r\n            case \"dataStructure\":\r\n            case \"rootValue\":\r\n            case \"createChildren\":\r\n            case \"expandNodesRecursive\":\r\n            case \"onItemSelectionChanged\":\r\n            case \"onItemExpanded\":\r\n            case \"onItemCollapsed\":\r\n            case \"expandAllEnabled\":\r\n            case \"animationEnabled\":\r\n            case \"virtualModeEnabled\":\r\n            case \"selectByClick\":\r\n                break;\r\n            case \"selectionMode\":\r\n                this._initDataAdapter();\r\n                this.callBase(args);\r\n                break;\r\n            case \"onSelectAllValueChanged\":\r\n                this._createSelectAllValueChangedAction();\r\n                break;\r\n            case \"selectNodesRecursive\":\r\n                this._dataAdapter.setOption(\"recursiveSelection\", args.value);\r\n                this.repaint();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _initDataSource: function() {\r\n        if (this._useCustomChildrenLoader()) {\r\n            this._loadChildrenByCustomLoader(null).done(function(newItems) {\r\n                if (newItems && newItems.length) {\r\n                    this.option(\"items\", newItems)\r\n                }\r\n            }.bind(this))\r\n        } else {\r\n            this.callBase();\r\n            this._isVirtualMode() && this._initVirtualMode()\r\n        }\r\n    },\r\n    _initVirtualMode: function() {\r\n        var filter = this._filter;\r\n        if (!filter.custom) {\r\n            filter.custom = this._dataSource.filter()\r\n        }\r\n        if (!filter.internal) {\r\n            filter.internal = [this.option(\"parentIdExpr\"), this.option(\"rootValue\")]\r\n        }\r\n    },\r\n    _useCustomChildrenLoader: function() {\r\n        return isFunction(this.option(\"createChildren\")) && this._isDataStructurePlain()\r\n    },\r\n    _loadChildrenByCustomLoader: function(parentNode) {\r\n        var invocationResult = this.option(\"createChildren\").call(this, parentNode);\r\n        if (Array.isArray(invocationResult)) {\r\n            return (new Deferred).resolve(invocationResult).promise()\r\n        }\r\n        if (invocationResult && isFunction(invocationResult.then)) {\r\n            return fromPromise(invocationResult)\r\n        }\r\n        return (new Deferred).resolve([]).promise()\r\n    },\r\n    _combineFilter: function() {\r\n        if (!this._filter.custom || !this._filter.custom.length) {\r\n            return this._filter.internal\r\n        }\r\n        return [this._filter.custom, this._filter.internal]\r\n    },\r\n    _dataSourceLoadErrorHandler: function() {\r\n        this._renderEmptyMessage()\r\n    },\r\n    _init: function() {\r\n        this._filter = {};\r\n        this.callBase();\r\n        this._initStoreChangeHandlers()\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        var items = this.option(\"items\");\r\n        if (this._initialized && this._isVirtualMode() && items.length) {\r\n            return\r\n        }\r\n        this.option(\"items\", newItems)\r\n    },\r\n    _removeTreeViewLoadIndicator: function() {\r\n        if (!this._treeViewLoadIndicator) {\r\n            return\r\n        }\r\n        this._treeViewLoadIndicator.remove();\r\n        this._treeViewLoadIndicator = null\r\n    },\r\n    _createTreeViewLoadIndicator: function() {\r\n        this._treeViewLoadIndicator = $(\"<div>\").addClass(LOAD_INDICATOR_CLASS);\r\n        this._createComponent(this._treeViewLoadIndicator, LoadIndicator, {});\r\n        return this._treeViewLoadIndicator\r\n    },\r\n    _dataSourceLoadingChangedHandler: function(isLoading) {\r\n        var resultFilter;\r\n        if (this._isVirtualMode()) {\r\n            resultFilter = this._combineFilter();\r\n            this._dataSource.filter(resultFilter)\r\n        }\r\n        if (isLoading && !this._dataSource.isLoaded()) {\r\n            this.option(\"items\", []);\r\n            var $wrapper = $(\"<div>\").addClass(LOAD_INDICATOR_WRAPPER_CLASS);\r\n            this._createTreeViewLoadIndicator().appendTo($wrapper);\r\n            this.itemsContainer().append($wrapper);\r\n            if (this._isVirtualMode() && this._dataSource.filter() !== resultFilter) {\r\n                this._dataSource.filter([])\r\n            }\r\n        } else {\r\n            this._removeTreeViewLoadIndicator()\r\n        }\r\n    },\r\n    _initStoreChangeHandlers: function() {\r\n        if (\"plain\" !== this.option(\"dataStructure\")) {\r\n            return\r\n        }\r\n        this._dataSource && this._dataSource.store().on(\"inserted\", newItem => {\r\n            this.option().items = this.option(\"items\").concat(newItem);\r\n            this._dataAdapter.addItem(newItem);\r\n            if (!this._dataAdapter.isFiltered(newItem)) {\r\n                return\r\n            }\r\n            this._updateLevel(this._parentIdGetter(newItem))\r\n        }).on(\"removed\", removedKey => {\r\n            var node = this._dataAdapter.getNodeByKey(removedKey);\r\n            if (isDefined(node)) {\r\n                this.option(\"items\")[this._dataAdapter.getIndexByKey(node.internalFields.key)] = 0;\r\n                this._markChildrenItemsToRemove(node);\r\n                this._removeItems();\r\n                this._dataAdapter.removeItem(removedKey);\r\n                this._updateLevel(this._parentIdGetter(node))\r\n            }\r\n        })\r\n    },\r\n    _markChildrenItemsToRemove: function(node) {\r\n        var keys = node.internalFields.childrenKeys;\r\n        each(keys, (_, key) => {\r\n            this.option(\"items\")[this._dataAdapter.getIndexByKey(key)] = 0;\r\n            this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(key))\r\n        })\r\n    },\r\n    _removeItems: function() {\r\n        var items = extend(true, [], this.option(\"items\"));\r\n        var counter = 0;\r\n        each(items, (index, item) => {\r\n            if (!item) {\r\n                this.option(\"items\").splice(index - counter, 1);\r\n                counter++\r\n            }\r\n        })\r\n    },\r\n    _updateLevel: function(parentId) {\r\n        var $container = this._getContainerByParentKey(parentId);\r\n        this._renderItems($container, this._dataAdapter.getChildrenNodes(parentId))\r\n    },\r\n    _getOldContainer: function($itemElement) {\r\n        if ($itemElement.length) {\r\n            return $itemElement.children(\".\".concat(NODE_CONTAINER_CLASS))\r\n        }\r\n        var scrollable = this.getScrollable();\r\n        if (scrollable) {\r\n            return $(scrollable.content()).children()\r\n        }\r\n        return $()\r\n    },\r\n    _getContainerByParentKey: function(parentId) {\r\n        var node = this._dataAdapter.getNodeByKey(parentId);\r\n        var $itemElement = node ? this._getNodeElement(node) : [];\r\n        this._getOldContainer($itemElement).remove();\r\n        var $container = this._renderNodeContainer($itemElement);\r\n        if (this._isRootLevel(parentId)) {\r\n            var scrollable = this.getScrollable();\r\n            if (!scrollable) {\r\n                this._renderScrollableContainer()\r\n            }\r\n            $(scrollable.content()).append($container)\r\n        }\r\n        return $container\r\n    },\r\n    _isRootLevel: function(parentId) {\r\n        return parentId === this.option(\"rootValue\")\r\n    },\r\n    _getAccessors: function() {\r\n        var accessors = this.callBase();\r\n        accessors.push(\"hasItems\");\r\n        return accessors\r\n    },\r\n    _getDataAdapterOptions: function() {\r\n        return {\r\n            rootValue: this.option(\"rootValue\"),\r\n            multipleSelection: !this._isSingleSelection(),\r\n            recursiveSelection: this._isRecursiveSelection(),\r\n            recursiveExpansion: this.option(\"expandNodesRecursive\"),\r\n            selectionRequired: this.option(\"selectionRequired\"),\r\n            dataType: this.option(\"dataStructure\"),\r\n            sort: this._dataSource && this._dataSource.sort()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderScrollableContainer();\r\n        this._renderEmptyMessage(this._dataAdapter.getRootNodes());\r\n        this.callBase();\r\n        this.setAria(\"role\", \"tree\")\r\n    },\r\n    _renderContentImpl: function() {\r\n        var $nodeContainer = this._renderNodeContainer();\r\n        $(this.getScrollable().content()).append($nodeContainer);\r\n        if (!this.option(\"items\") || !this.option(\"items\").length) {\r\n            return\r\n        }\r\n        this._renderItems($nodeContainer, this._dataAdapter.getRootNodes());\r\n        this._initExpandEvent();\r\n        if (this._selectAllEnabled()) {\r\n            this._createSelectAllValueChangedAction();\r\n            this._renderSelectAllItem($nodeContainer)\r\n        }\r\n    },\r\n    _isVirtualMode: function() {\r\n        return this.option(\"virtualModeEnabled\") && this._isDataStructurePlain() && !!this.option(\"dataSource\")\r\n    },\r\n    _isDataStructurePlain: function() {\r\n        return \"plain\" === this.option(\"dataStructure\")\r\n    },\r\n    _fireContentReadyAction: function() {\r\n        var dataSource = this.getDataSource();\r\n        var skipContentReadyAction = dataSource && !dataSource.isLoaded();\r\n        var scrollable = this.getScrollable();\r\n        if (scrollable && hasWindow()) {\r\n            scrollable.update()\r\n        }\r\n        if (!skipContentReadyAction) {\r\n            this.callBase()\r\n        }\r\n        if (scrollable && hasWindow()) {\r\n            scrollable.update()\r\n        }\r\n    },\r\n    _renderScrollableContainer: function() {\r\n        this._scrollable = this._createComponent($(\"<div>\").appendTo(this.$element()), Scrollable, {\r\n            useNative: this.option(\"useNativeScrolling\"),\r\n            direction: this.option(\"scrollDirection\"),\r\n            useKeyboard: false\r\n        })\r\n    },\r\n    _renderNodeContainer: function($parent) {\r\n        var $container = $(\"<ul>\").addClass(NODE_CONTAINER_CLASS);\r\n        this.setAria(\"role\", \"group\", $container);\r\n        if ($parent && $parent.length) {\r\n            var itemData = this._getItemData($parent.children(\".\" + ITEM_CLASS));\r\n            if (this._expandedGetter(itemData)) {\r\n                $container.addClass(OPENED_NODE_CONTAINER_CLASS)\r\n            }\r\n            $container.appendTo($parent)\r\n        }\r\n        return $container\r\n    },\r\n    _createDOMElement: function($nodeContainer, node) {\r\n        var $node = $(\"<li>\").addClass(NODE_CLASS).attr(DATA_ITEM_ID, this._encodeString(node.internalFields.key)).prependTo($nodeContainer);\r\n        this.setAria({\r\n            role: \"treeitem\",\r\n            label: this._displayGetter(node.internalFields.item) || \"\",\r\n            expanded: node.internalFields.expanded || false,\r\n            level: this._getLevel($nodeContainer)\r\n        }, $node);\r\n        return $node\r\n    },\r\n    _getLevel: function($nodeContainer) {\r\n        var parent = $nodeContainer.parent();\r\n        return parent.hasClass(\"dx-scrollable-content\") ? 1 : parseInt(parent.attr(\"aria-level\")) + 1\r\n    },\r\n    _showCheckboxes: function() {\r\n        return \"none\" !== this.option(\"showCheckBoxesMode\")\r\n    },\r\n    _selectAllEnabled: function() {\r\n        return \"selectAll\" === this.option(\"showCheckBoxesMode\") && !this._isSingleSelection()\r\n    },\r\n    _renderItems: function($nodeContainer, nodes) {\r\n        var length = nodes.length - 1;\r\n        for (var i = length; i >= 0; i--) {\r\n            this._renderItem(i, nodes[i], $nodeContainer)\r\n        }\r\n        this._renderedItemsCount += nodes.length\r\n    },\r\n    _renderItem: function(nodeIndex, node, $nodeContainer) {\r\n        var $node = this._createDOMElement($nodeContainer, node);\r\n        var nodeData = node.internalFields;\r\n        var showCheckBox = this._showCheckboxes();\r\n        $node.addClass(showCheckBox ? ITEM_WITH_CHECKBOX_CLASS : ITEM_WITHOUT_CHECKBOX_CLASS);\r\n        $node.toggleClass(INVISIBLE_STATE_CLASS, false === nodeData.item.visible);\r\n        showCheckBox && this._renderCheckBox($node, node);\r\n        this.setAria(\"selected\", nodeData.selected, $node);\r\n        this._toggleSelectedClass($node, nodeData.selected);\r\n        this.callBase(this._renderedItemsCount + nodeIndex, nodeData.item, $node);\r\n        if (false !== nodeData.item.visible) {\r\n            this._renderChildren($node, node)\r\n        }\r\n    },\r\n    _setAriaSelected: function() {},\r\n    _renderChildren: function($node, node) {\r\n        if (!this._hasChildren(node)) {\r\n            this._addLeafClass($node);\r\n            return\r\n        }\r\n        this._renderToggleItemVisibilityIcon($node, node);\r\n        if (this.option(\"deferRendering\") && !node.internalFields.expanded) {\r\n            return\r\n        }\r\n        this._loadSublevel(node).done(childNodes => {\r\n            this._renderSublevel($node, this._getActualNode(node), childNodes)\r\n        })\r\n    },\r\n    _getActualNode: function(cachedNode) {\r\n        return this._dataAdapter.getNodeByKey(cachedNode.internalFields.key)\r\n    },\r\n    _hasChildren: function(node) {\r\n        if (this._isVirtualMode() || this._useCustomChildrenLoader()) {\r\n            return false !== this._hasItemsGetter(node.internalFields.item)\r\n        }\r\n        return this.callBase(node)\r\n    },\r\n    _loadSublevel: function(node) {\r\n        var deferred = new Deferred;\r\n        var childrenNodes = this._getChildNodes(node);\r\n        if (childrenNodes.length) {\r\n            deferred.resolve(childrenNodes)\r\n        } else {\r\n            this._loadNestedItems(node).done(items => {\r\n                deferred.resolve(this._dataAdapter.getNodesByItems(items))\r\n            })\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    _renderSublevel: function($node, node, childNodes) {\r\n        var $nestedNodeContainer = this._renderNodeContainer($node, node);\r\n        var childNodesByChildrenKeys = childNodes.filter(childNode => -1 !== node.internalFields.childrenKeys.indexOf(childNode.internalFields.key));\r\n        this._renderItems($nestedNodeContainer, childNodesByChildrenKeys);\r\n        if (childNodesByChildrenKeys.length && !node.internalFields.selected) {\r\n            var firstChild = childNodesByChildrenKeys[0];\r\n            this._updateParentsState(firstChild, this._getNodeElement(firstChild))\r\n        }\r\n        this._normalizeIconState($node, childNodesByChildrenKeys.length);\r\n        if (node.internalFields.expanded) {\r\n            $nestedNodeContainer.addClass(OPENED_NODE_CONTAINER_CLASS)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(itemIndex, itemData, itemElement) {\r\n        var node = this._getNode(itemElement);\r\n        this._getItemRenderAction()({\r\n            itemElement: itemElement,\r\n            itemIndex: itemIndex,\r\n            itemData: itemData,\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    _addLeafClass: function($node) {\r\n        $node.addClass(IS_LEAF)\r\n    },\r\n    _expandEventHandler: function(e) {\r\n        var $nodeElement = $(e.currentTarget.parentNode);\r\n        if (!$nodeElement.hasClass(IS_LEAF)) {\r\n            this._toggleExpandedState(e.currentTarget, void 0, e)\r\n        }\r\n    },\r\n    _initExpandEvent: function() {\r\n        var expandedEventName = this._getEventNameByOption(this.option(\"expandEvent\"));\r\n        var $itemsContainer = this._itemContainer();\r\n        var itemSelector = this._itemSelector();\r\n        eventsEngine.off($itemsContainer, \".\" + EXPAND_EVENT_NAMESPACE, itemSelector);\r\n        eventsEngine.on($itemsContainer, expandedEventName, itemSelector, this._expandEventHandler.bind(this))\r\n    },\r\n    _getEventNameByOption: function(name) {\r\n        var event = \"click\" === name ? clickEventName : dblclickEvent;\r\n        return addNamespace(event, EXPAND_EVENT_NAMESPACE)\r\n    },\r\n    _getNode: function(identifier) {\r\n        if (!isDefined(identifier)) {\r\n            return null\r\n        }\r\n        if (identifier.internalFields) {\r\n            return identifier\r\n        }\r\n        if (isPrimitive(identifier)) {\r\n            return this._dataAdapter.getNodeByKey(identifier)\r\n        }\r\n        var itemElement = $(identifier).get(0);\r\n        if (!itemElement) {\r\n            return null\r\n        }\r\n        if (domAdapter.isElementNode(itemElement)) {\r\n            return this._getNodeByElement(itemElement)\r\n        }\r\n        return this._dataAdapter.getNodeByItem(itemElement)\r\n    },\r\n    _getNodeByElement: function(itemElement) {\r\n        var $node = $(itemElement).closest(\".\" + NODE_CLASS);\r\n        var key = this._decodeString($node.attr(DATA_ITEM_ID));\r\n        return this._dataAdapter.getNodeByKey(key)\r\n    },\r\n    _toggleExpandedState: function(itemElement, state, e) {\r\n        var node = this._getNode(itemElement);\r\n        if (!node) {\r\n            return (new Deferred).reject().promise()\r\n        }\r\n        if (node.internalFields.disabled) {\r\n            return (new Deferred).reject().promise()\r\n        }\r\n        var currentState = node.internalFields.expanded;\r\n        if (currentState === state) {\r\n            return (new Deferred).resolve().promise()\r\n        }\r\n        if (this._hasChildren(node)) {\r\n            var $node = this._getNodeElement(node);\r\n            if ($node.find(\".\".concat(NODE_LOAD_INDICATOR_CLASS, \":not(.\").concat(INVISIBLE_STATE_CLASS, \")\")).length) {\r\n                return (new Deferred).reject().promise()\r\n            }\r\n            this._createLoadIndicator($node)\r\n        }\r\n        if (!isDefined(state)) {\r\n            state = !currentState\r\n        }\r\n        this._dataAdapter.toggleExpansion(node.internalFields.key, state);\r\n        return this._updateExpandedItemsUI(node, state, e)\r\n    },\r\n    _createLoadIndicator: function($node) {\r\n        var $icon = $node.children(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        if ($icon.hasClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS) || $nodeContainer.not(\":empty\").length) {\r\n            return\r\n        }\r\n        this._createComponent($(\"<div>\").addClass(NODE_LOAD_INDICATOR_CLASS), LoadIndicator, {}).$element().appendTo($node);\r\n        $icon.hide()\r\n    },\r\n    _renderToggleItemVisibilityIcon: function($node, node) {\r\n        var $icon = $(\"<div>\").addClass(TOGGLE_ITEM_VISIBILITY_CLASS).appendTo($node);\r\n        if (node.internalFields.expanded) {\r\n            $icon.addClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS);\r\n            $node.parent().addClass(OPENED_NODE_CONTAINER_CLASS)\r\n        }\r\n        if (node.internalFields.disabled) {\r\n            $icon.addClass(DISABLED_STATE_CLASS)\r\n        }\r\n        this._renderToggleItemVisibilityIconClick($icon, node)\r\n    },\r\n    _renderToggleItemVisibilityIconClick: function($icon, node) {\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        eventsEngine.off($icon, eventName);\r\n        eventsEngine.on($icon, eventName, e => {\r\n            this._toggleExpandedState(node.internalFields.key, void 0, e)\r\n        })\r\n    },\r\n    _updateExpandedItemsUI: function(node, state, e) {\r\n        var $node = this._getNodeElement(node);\r\n        var isHiddenNode = !$node.length || state && $node.is(\":hidden\");\r\n        if (this.option(\"expandNodesRecursive\") && isHiddenNode) {\r\n            var parentNode = this._getNode(node.internalFields.parentKey);\r\n            if (parentNode) {\r\n                this._updateExpandedItemsUI(parentNode, state, e)\r\n            }\r\n        }\r\n        var $icon = $node.children(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        $icon.toggleClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS, state);\r\n        var nodeContainerExists = $nodeContainer.length > 0;\r\n        var completionCallback = new Deferred;\r\n        if (!state || nodeContainerExists && !$nodeContainer.is(\":empty\")) {\r\n            this._animateNodeContainer(node, state, e, completionCallback);\r\n            return completionCallback.promise()\r\n        }\r\n        if (0 === node.internalFields.childrenKeys.length && (this._isVirtualMode() || this._useCustomChildrenLoader())) {\r\n            this._loadNestedItemsWithUpdate(node, state, e, completionCallback);\r\n            return completionCallback.promise()\r\n        }\r\n        this._renderSublevel($node, node, this._getChildNodes(node));\r\n        this._fireContentReadyAction();\r\n        this._animateNodeContainer(node, state, e, completionCallback);\r\n        return completionCallback.promise()\r\n    },\r\n    _loadNestedItemsWithUpdate: function(node, state, e, completionCallback) {\r\n        var $node = this._getNodeElement(node);\r\n        this._loadNestedItems(node).done(items => {\r\n            var actualNodeData = this._getActualNode(node);\r\n            this._renderSublevel($node, actualNodeData, this._dataAdapter.getNodesByItems(items));\r\n            if (!items || !items.length) {\r\n                return\r\n            }\r\n            this._fireContentReadyAction();\r\n            this._animateNodeContainer(actualNodeData, state, e, completionCallback)\r\n        })\r\n    },\r\n    _loadNestedItems: function(node) {\r\n        if (this._useCustomChildrenLoader()) {\r\n            var publicNode = this._dataAdapter.getPublicNode(node);\r\n            return this._loadChildrenByCustomLoader(publicNode).done(newItems => {\r\n                if (!this._areNodesExists(newItems)) {\r\n                    this._appendItems(newItems)\r\n                }\r\n            })\r\n        }\r\n        if (!this._isVirtualMode()) {\r\n            return (new Deferred).resolve([]).promise()\r\n        }\r\n        this._filter.internal = [this.option(\"parentIdExpr\"), node.internalFields.key];\r\n        this._dataSource.filter(this._combineFilter());\r\n        return this._dataSource.load().done(newItems => {\r\n            if (!this._areNodesExists(newItems)) {\r\n                this._appendItems(newItems)\r\n            }\r\n        })\r\n    },\r\n    _areNodesExists: function(newItems, items) {\r\n        var keyOfRootItem = this.keyOf(newItems[0]);\r\n        var fullData = this._dataAdapter.getFullData();\r\n        return !!this._dataAdapter.getNodeByKey(keyOfRootItem, fullData)\r\n    },\r\n    _appendItems: function(newItems) {\r\n        this.option().items = this.option(\"items\").concat(newItems);\r\n        this._initDataAdapter()\r\n    },\r\n    _animateNodeContainer: function(node, state, e, completionCallback) {\r\n        var $node = this._getNodeElement(node);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        if (node && completionCallback && 0 === $nodeContainer.length) {\r\n            completionCallback.resolve()\r\n        }\r\n        $nodeContainer.addClass(OPENED_NODE_CONTAINER_CLASS);\r\n        var nodeHeight = getHeight($nodeContainer);\r\n        fx.stop($nodeContainer, true);\r\n        fx.animate($nodeContainer, {\r\n            type: \"custom\",\r\n            duration: this.option(\"animationEnabled\") ? 400 : 0,\r\n            from: {\r\n                maxHeight: state ? 0 : nodeHeight\r\n            },\r\n            to: {\r\n                maxHeight: state ? nodeHeight : 0\r\n            },\r\n            complete: function() {\r\n                $nodeContainer.css(\"maxHeight\", \"none\");\r\n                $nodeContainer.toggleClass(OPENED_NODE_CONTAINER_CLASS, state);\r\n                this.setAria(\"expanded\", state, $node);\r\n                this.getScrollable().update();\r\n                this._fireExpandedStateUpdatedEvent(state, node, e);\r\n                if (completionCallback) {\r\n                    completionCallback.resolve()\r\n                }\r\n            }.bind(this)\r\n        })\r\n    },\r\n    _fireExpandedStateUpdatedEvent: function(isExpanded, node, e) {\r\n        if (!this._hasChildren(node)) {\r\n            return\r\n        }\r\n        var optionName = isExpanded ? \"onItemExpanded\" : \"onItemCollapsed\";\r\n        if (isDefined(e)) {\r\n            this._itemDXEventHandler(e, optionName, {\r\n                node: this._dataAdapter.getPublicNode(node)\r\n            })\r\n        } else {\r\n            var target = this._getNodeElement(node);\r\n            this._itemEventHandler(target, optionName, {\r\n                event: e,\r\n                node: this._dataAdapter.getPublicNode(node)\r\n            })\r\n        }\r\n    },\r\n    _normalizeIconState: function($node, hasNewItems) {\r\n        var $loadIndicator = $node.find(\".\".concat(NODE_LOAD_INDICATOR_CLASS));\r\n        $loadIndicator.length && LoadIndicator.getInstance($loadIndicator).option(\"visible\", false);\r\n        if (hasNewItems) {\r\n            var $icon = $node.find(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n            $icon.show();\r\n            return\r\n        }\r\n        $node.find(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS).removeClass(TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        $node.addClass(IS_LEAF)\r\n    },\r\n    _emptyMessageContainer: function() {\r\n        var scrollable = this.getScrollable();\r\n        return scrollable ? $(scrollable.content()) : this.callBase()\r\n    },\r\n    _renderContent: function() {\r\n        var items = this.option(\"items\");\r\n        if (items && items.length) {\r\n            this._contentAlreadyRendered = true\r\n        }\r\n        this.callBase()\r\n    },\r\n    _renderSelectAllItem: function($container) {\r\n        $container = $container || this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).first();\r\n        this._$selectAllItem = $(\"<div>\").addClass(SELECT_ALL_ITEM_CLASS);\r\n        var value = this._dataAdapter.isAllSelected();\r\n        this._createComponent(this._$selectAllItem, CheckBox, {\r\n            value: value,\r\n            text: this.option(\"selectAllText\"),\r\n            onValueChanged: this._onSelectAllCheckboxValueChanged.bind(this)\r\n        });\r\n        this._toggleSelectedClass(this._$selectAllItem, value);\r\n        $container.before(this._$selectAllItem)\r\n    },\r\n    _onSelectAllCheckboxValueChanged: function(args) {\r\n        this._toggleSelectAll(args);\r\n        this._fireSelectAllValueChanged(args.value)\r\n    },\r\n    _toggleSelectAll: function(args) {\r\n        this._dataAdapter.toggleSelectAll(args.value);\r\n        this._updateItemsUI();\r\n        this._fireSelectionChanged()\r\n    },\r\n    _renderCheckBox: function($node, node) {\r\n        var $checkbox = $(\"<div>\").appendTo($node);\r\n        this._createComponent($checkbox, CheckBox, {\r\n            value: node.internalFields.selected,\r\n            onValueChanged: this._changeCheckboxValue.bind(this),\r\n            focusStateEnabled: false,\r\n            disabled: this._disabledGetter(node)\r\n        })\r\n    },\r\n    _toggleSelectedClass: function($node, value) {\r\n        $node.toggleClass(SELECTED_ITEM_CLASS, !!value)\r\n    },\r\n    _toggleNodeDisabledState: function(node, state) {\r\n        var $node = this._getNodeElement(node);\r\n        var $item = $node.find(\".\" + ITEM_CLASS).eq(0);\r\n        this._dataAdapter.toggleNodeDisabledState(node.internalFields.key, state);\r\n        $item.toggleClass(DISABLED_STATE_CLASS, !!state);\r\n        if (this._showCheckboxes()) {\r\n            var checkbox = this._getCheckBoxInstance($node);\r\n            checkbox.option(\"disabled\", !!state)\r\n        }\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        var node = this._dataAdapter.getNodeByItem(item);\r\n        if (property === this.option(\"disabledExpr\")) {\r\n            this._toggleNodeDisabledState(node, value)\r\n        }\r\n    },\r\n    _changeCheckboxValue: function(e) {\r\n        var $node = $(e.element).parent(\".\" + NODE_CLASS);\r\n        var $item = $node.children(\".\" + ITEM_CLASS);\r\n        var item = this._getItemData($item);\r\n        var node = this._getNodeByElement($item);\r\n        var value = e.value;\r\n        if (node && node.internalFields.selected === value) {\r\n            return\r\n        }\r\n        this._updateItemSelection(value, item, e.event)\r\n    },\r\n    _isSingleSelection: function() {\r\n        return \"single\" === this.option(\"selectionMode\")\r\n    },\r\n    _isRecursiveSelection: function() {\r\n        return this.option(\"selectNodesRecursive\") && \"single\" !== this.option(\"selectionMode\")\r\n    },\r\n    _isLastSelectedBranch: function(publicNode, selectedNodesKeys, deep) {\r\n        var keyIndex = selectedNodesKeys.indexOf(publicNode.key);\r\n        if (keyIndex >= 0) {\r\n            selectedNodesKeys.splice(keyIndex, 1)\r\n        }\r\n        if (deep) {\r\n            each(publicNode.children, function(_, childNode) {\r\n                this._isLastSelectedBranch(childNode, selectedNodesKeys, true)\r\n            }.bind(this))\r\n        }\r\n        if (publicNode.parent) {\r\n            this._isLastSelectedBranch(publicNode.parent, selectedNodesKeys)\r\n        }\r\n        return 0 === selectedNodesKeys.length\r\n    },\r\n    _isLastRequired: function(node) {\r\n        var selectionRequired = this.option(\"selectionRequired\");\r\n        var isSingleMode = this._isSingleSelection();\r\n        var selectedNodesKeys = this.getSelectedNodeKeys();\r\n        if (!selectionRequired) {\r\n            return\r\n        }\r\n        if (isSingleMode) {\r\n            return 1 === selectedNodesKeys.length\r\n        } else {\r\n            return this._isLastSelectedBranch(node.internalFields.publicNode, selectedNodesKeys.slice(), true)\r\n        }\r\n    },\r\n    _updateItemSelection: function(value, itemElement, dxEvent) {\r\n        var node = this._getNode(itemElement);\r\n        if (!node || false === node.visible) {\r\n            return false\r\n        }\r\n        if (node.internalFields.selected === value) {\r\n            return true\r\n        }\r\n        if (!value && this._isLastRequired(node)) {\r\n            if (this._showCheckboxes()) {\r\n                var $node = this._getNodeElement(node);\r\n                this._getCheckBoxInstance($node).option(\"value\", true)\r\n            }\r\n            return false\r\n        }\r\n        if (value && this._isSingleSelection()) {\r\n            var selectedKeys = this.getSelectedNodeKeys();\r\n            each(selectedKeys, (index, key) => {\r\n                this._dataAdapter.toggleSelection(key, false);\r\n                this._updateItemsUI();\r\n                this._fireItemSelectionChanged(this._getNode(key))\r\n            })\r\n        }\r\n        this._dataAdapter.toggleSelection(node.internalFields.key, value);\r\n        var isAllSelected = this._dataAdapter.isAllSelected();\r\n        var needFireSelectAllChanged = this._selectAllEnabled() && this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\") !== isAllSelected;\r\n        this._updateItemsUI();\r\n        this._fireItemSelectionChanged(node, dxEvent);\r\n        this._fireSelectionChanged();\r\n        if (needFireSelectAllChanged) {\r\n            this._fireSelectAllValueChanged(isAllSelected)\r\n        }\r\n        return true\r\n    },\r\n    _fireItemSelectionChanged: function(node, dxEvent) {\r\n        var initiator = dxEvent || this._findItemElementByItem(node.internalFields.item);\r\n        var handler = dxEvent ? this._itemDXEventHandler : this._itemEventHandler;\r\n        handler.call(this, initiator, \"onItemSelectionChanged\", {\r\n            node: this._dataAdapter.getPublicNode(node),\r\n            itemData: node.internalFields.item\r\n        })\r\n    },\r\n    _getCheckBoxInstance: function($node) {\r\n        return $node.children(\".dx-checkbox\").dxCheckBox(\"instance\")\r\n    },\r\n    _updateItemsUI: function() {\r\n        var cache = {};\r\n        each(this._dataAdapter.getData(), (_, node) => {\r\n            var $node = this._getNodeElement(node, cache);\r\n            var nodeSelection = node.internalFields.selected;\r\n            if (!$node.length) {\r\n                return\r\n            }\r\n            this._toggleSelectedClass($node, nodeSelection);\r\n            this.setAria(\"selected\", nodeSelection, $node);\r\n            if (this._showCheckboxes()) {\r\n                this._getCheckBoxInstance($node).option(\"value\", nodeSelection)\r\n            }\r\n        });\r\n        if (this._selectAllEnabled()) {\r\n            var selectAllCheckbox = this._$selectAllItem.dxCheckBox(\"instance\");\r\n            selectAllCheckbox.option(\"onValueChanged\", void 0);\r\n            selectAllCheckbox.option(\"value\", this._dataAdapter.isAllSelected());\r\n            selectAllCheckbox.option(\"onValueChanged\", this._onSelectAllCheckboxValueChanged.bind(this))\r\n        }\r\n    },\r\n    _updateParentsState: function(node, $node) {\r\n        if (!$node) {\r\n            return\r\n        }\r\n        var parentNode = this._dataAdapter.getNodeByKey(node.internalFields.parentKey);\r\n        var $parentNode = $($node.parents(\".\" + NODE_CLASS)[0]);\r\n        if (this._showCheckboxes()) {\r\n            var parentValue = parentNode.internalFields.selected;\r\n            this._getCheckBoxInstance($parentNode).option(\"value\", parentValue);\r\n            this._toggleSelectedClass($parentNode, parentValue)\r\n        }\r\n        if (parentNode.internalFields.parentKey !== this.option(\"rootValue\")) {\r\n            this._updateParentsState(parentNode, $parentNode)\r\n        }\r\n    },\r\n    _itemEventHandlerImpl: function(initiator, action, actionArgs) {\r\n        var $itemElement = $(initiator).closest(\".\" + NODE_CLASS).children(\".\" + ITEM_CLASS);\r\n        return action(extend(this._extendActionArgs($itemElement), actionArgs))\r\n    },\r\n    _itemContextMenuHandler: function(e) {\r\n        this._createEventHandler(\"onItemContextMenu\", e)\r\n    },\r\n    _itemHoldHandler: function(e) {\r\n        this._createEventHandler(\"onItemHold\", e)\r\n    },\r\n    _createEventHandler: function(eventName, e) {\r\n        var node = this._getNodeByElement(e.currentTarget);\r\n        this._itemDXEventHandler(e, eventName, {\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return ITEM_DATA_KEY\r\n    },\r\n    _attachClickEvent: function() {\r\n        var clickSelector = \".\" + this._itemClass();\r\n        var pointerDownSelector = \".\" + NODE_CLASS + \", .\" + SELECT_ALL_ITEM_CLASS;\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        var pointerDownEvent = addNamespace(pointerEvents.down, this.NAME);\r\n        var $itemContainer = this._itemContainer();\r\n        var that = this;\r\n        eventsEngine.off($itemContainer, eventName, clickSelector);\r\n        eventsEngine.off($itemContainer, pointerDownEvent, pointerDownSelector);\r\n        eventsEngine.on($itemContainer, eventName, clickSelector, (function(e) {\r\n            that._itemClickHandler(e, $(this))\r\n        }));\r\n        eventsEngine.on($itemContainer, pointerDownEvent, pointerDownSelector, (function(e) {\r\n            that._itemPointerDownHandler(e)\r\n        }))\r\n    },\r\n    _itemClickHandler: function(e, $item) {\r\n        var itemData = this._getItemData($item);\r\n        var node = this._getNodeByElement($item);\r\n        this._itemDXEventHandler(e, \"onItemClick\", {\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        });\r\n        if (this.option(\"selectByClick\") && !e.isDefaultPrevented()) {\r\n            this._updateItemSelection(!node.internalFields.selected, itemData, e)\r\n        }\r\n    },\r\n    _updateSelectionToFirstItem: function($items, startIndex) {\r\n        var itemIndex = startIndex;\r\n        while (itemIndex >= 0) {\r\n            var $item = $($items[itemIndex]);\r\n            this._updateItemSelection(true, $item.find(\".\" + ITEM_CLASS).get(0));\r\n            itemIndex--\r\n        }\r\n    },\r\n    _updateSelectionToLastItem: function($items, startIndex) {\r\n        var length = $items.length;\r\n        var itemIndex = startIndex;\r\n        while (itemIndex < length) {\r\n            var $item = $($items[itemIndex]);\r\n            this._updateItemSelection(true, $item.find(\".\" + ITEM_CLASS).get(0));\r\n            itemIndex++\r\n        }\r\n    },\r\n    _focusInHandler: function(e) {\r\n        this._updateFocusState(e, true);\r\n        if (this.option(\"focusedElement\")) {\r\n            clearTimeout(this._setFocusedItemTimeout);\r\n            this._setFocusedItemTimeout = setTimeout(() => {\r\n                this._setFocusedItem($(this.option(\"focusedElement\")))\r\n            });\r\n            return\r\n        }\r\n        var $activeItem = this._getActiveItem();\r\n        this.option(\"focusedElement\", getPublicElement($activeItem.closest(\".\" + NODE_CLASS)))\r\n    },\r\n    _setFocusedItem: function($target) {\r\n        if (!$target || !$target.length) {\r\n            return\r\n        }\r\n        if (!$target.children().hasClass(DISABLED_STATE_CLASS)) {\r\n            this.callBase($target)\r\n        }\r\n    },\r\n    _itemPointerDownHandler: function(e) {\r\n        if (!this.option(\"focusStateEnabled\")) {\r\n            return\r\n        }\r\n        var $target = $(e.target).closest(\".\" + NODE_CLASS + \", .\" + SELECT_ALL_ITEM_CLASS);\r\n        if (!$target.length) {\r\n            return\r\n        }\r\n        var itemElement = $target.hasClass(DISABLED_STATE_CLASS) ? null : $target;\r\n        this.option(\"focusedElement\", getPublicElement(itemElement))\r\n    },\r\n    _findNonDisabledNodes: function($nodes) {\r\n        return $nodes.not((function() {\r\n            return $(this).children(\".\" + ITEM_CLASS).hasClass(DISABLED_STATE_CLASS)\r\n        }))\r\n    },\r\n    _moveFocus: function(location, e) {\r\n        var FOCUS_UP = \"up\";\r\n        var FOCUS_DOWN = \"down\";\r\n        var FOCUS_FIRST = \"first\";\r\n        var FOCUS_LAST = \"last\";\r\n        var FOCUS_LEFT = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        var FOCUS_RIGHT = this.option(\"rtlEnabled\") ? \"left\" : \"right\";\r\n        this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).each((function() {\r\n            fx.stop(this, true)\r\n        }));\r\n        var $items = this._findNonDisabledNodes(this._nodeElements());\r\n        if (!$items || !$items.length) {\r\n            return\r\n        }\r\n        switch (location) {\r\n            case FOCUS_UP:\r\n                var $prevItem = this._prevItem($items);\r\n                this.option(\"focusedElement\", getPublicElement($prevItem));\r\n                var prevItemElement = this._getNodeItemElement($prevItem);\r\n                this.getScrollable().scrollToElement(prevItemElement);\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateItemSelection(true, prevItemElement)\r\n                }\r\n                break;\r\n            case FOCUS_DOWN:\r\n                var $nextItem = this._nextItem($items);\r\n                this.option(\"focusedElement\", getPublicElement($nextItem));\r\n                var nextItemElement = this._getNodeItemElement($nextItem);\r\n                this.getScrollable().scrollToElement(nextItemElement);\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateItemSelection(true, nextItemElement)\r\n                }\r\n                break;\r\n            case FOCUS_FIRST:\r\n                var $firstItem = $items.first();\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateSelectionToFirstItem($items, $items.index(this._prevItem($items)))\r\n                }\r\n                this.option(\"focusedElement\", getPublicElement($firstItem));\r\n                this.getScrollable().scrollToElement(this._getNodeItemElement($firstItem));\r\n                break;\r\n            case FOCUS_LAST:\r\n                var $lastItem = $items.last();\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateSelectionToLastItem($items, $items.index(this._nextItem($items)))\r\n                }\r\n                this.option(\"focusedElement\", getPublicElement($lastItem));\r\n                this.getScrollable().scrollToElement(this._getNodeItemElement($lastItem));\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                this._expandFocusedContainer();\r\n                break;\r\n            case FOCUS_LEFT:\r\n                this._collapseFocusedContainer();\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n        }\r\n    },\r\n    _getNodeItemElement: function($node) {\r\n        return $node.find(\".\" + ITEM_CLASS).get(0)\r\n    },\r\n    _nodeElements: function() {\r\n        return this.$element().find(\".\" + NODE_CLASS).not(\":hidden\")\r\n    },\r\n    _expandFocusedContainer: function() {\r\n        var $focusedNode = $(this.option(\"focusedElement\"));\r\n        if (!$focusedNode.length || $focusedNode.hasClass(IS_LEAF)) {\r\n            return\r\n        }\r\n        var $node = $focusedNode.find(\".\".concat(NODE_CONTAINER_CLASS)).eq(0);\r\n        if ($node.hasClass(OPENED_NODE_CONTAINER_CLASS)) {\r\n            var $nextItem = this._nextItem(this._findNonDisabledNodes(this._nodeElements()));\r\n            this.option(\"focusedElement\", getPublicElement($nextItem));\r\n            this.getScrollable().scrollToElement(this._getNodeItemElement($nextItem));\r\n            return\r\n        }\r\n        var node = this._getNodeByElement($focusedNode.children(\".\" + ITEM_CLASS));\r\n        this._toggleExpandedState(node, true)\r\n    },\r\n    _getClosestNonDisabledNode: function($node) {\r\n        do {\r\n            $node = $node.parent().closest(\".\" + NODE_CLASS)\r\n        } while ($node.children(\".dx-treeview-item.dx-state-disabled\").length);\r\n        return $node\r\n    },\r\n    _collapseFocusedContainer: function() {\r\n        var $focusedNode = $(this.option(\"focusedElement\"));\r\n        if (!$focusedNode.length) {\r\n            return\r\n        }\r\n        var nodeElement = $focusedNode.find(\".\".concat(NODE_CONTAINER_CLASS)).eq(0);\r\n        if (!$focusedNode.hasClass(IS_LEAF) && nodeElement.hasClass(OPENED_NODE_CONTAINER_CLASS)) {\r\n            var node = this._getNodeByElement($focusedNode.children(\".\" + ITEM_CLASS));\r\n            this._toggleExpandedState(node, false)\r\n        } else {\r\n            var collapsedNode = this._getClosestNonDisabledNode($focusedNode);\r\n            collapsedNode.length && this.option(\"focusedElement\", getPublicElement(collapsedNode));\r\n            this.getScrollable().scrollToElement(this._getNodeItemElement(collapsedNode))\r\n        }\r\n    },\r\n    _encodeString: function(value) {\r\n        return isString(value) ? encodeURI(value) : value\r\n    },\r\n    _decodeString: function(value) {\r\n        return isString(value) ? decodeURI(value) : value\r\n    },\r\n    getScrollable: function() {\r\n        return this._scrollable\r\n    },\r\n    updateDimensions: function() {\r\n        var deferred = new Deferred;\r\n        var scrollable = this.getScrollable();\r\n        if (scrollable) {\r\n            scrollable.update().done(() => {\r\n                deferred.resolveWith(this)\r\n            })\r\n        } else {\r\n            deferred.resolveWith(this)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    selectItem: function(itemElement) {\r\n        return this._updateItemSelection(true, itemElement)\r\n    },\r\n    unselectItem: function(itemElement) {\r\n        return this._updateItemSelection(false, itemElement)\r\n    },\r\n    expandItem: function(itemElement) {\r\n        return this._toggleExpandedState(itemElement, true)\r\n    },\r\n    collapseItem: function(itemElement) {\r\n        return this._toggleExpandedState(itemElement, false)\r\n    },\r\n    getNodes: function() {\r\n        return this._dataAdapter.getTreeNodes()\r\n    },\r\n    getSelectedNodes: function() {\r\n        return this.getSelectedNodeKeys().map(key => {\r\n            var node = this._dataAdapter.getNodeByKey(key);\r\n            return this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    getSelectedNodesKeys: function() {\r\n        errors.log(\"W0002\", \"dxTreeView\", \"getSelectedNodesKeys\", \"20.1\", \"Use the 'getSelectedNodeKeys' method instead\");\r\n        return this.getSelectedNodeKeys()\r\n    },\r\n    getSelectedNodeKeys: function() {\r\n        return this._dataAdapter.getSelectedNodesKeys()\r\n    },\r\n    selectAll: function() {\r\n        if (this._selectAllEnabled()) {\r\n            this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\", true)\r\n        } else {\r\n            this._toggleSelectAll({\r\n                value: true\r\n            })\r\n        }\r\n    },\r\n    unselectAll: function() {\r\n        if (this._selectAllEnabled()) {\r\n            this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\", false)\r\n        } else {\r\n            this._toggleSelectAll({\r\n                value: false\r\n            })\r\n        }\r\n    },\r\n    expandAll: function() {\r\n        var dataAdapter = this._dataAdapter;\r\n        each(dataAdapter.getData(), (_, node) => dataAdapter.toggleExpansion(node.internalFields.key, true));\r\n        this.repaint()\r\n    },\r\n    collapseAll: function() {\r\n        each(this._dataAdapter.getExpandedNodesKeys(), function(_, key) {\r\n            this._toggleExpandedState(key, false)\r\n        }.bind(this))\r\n    },\r\n    scrollToItem: function(keyOrItemOrElement) {\r\n        var node = this._getNode(keyOrItemOrElement);\r\n        if (!node) {\r\n            return (new Deferred).reject().promise()\r\n        }\r\n        var nodeKeysToExpand = [];\r\n        var parentNode = node.internalFields.publicNode.parent;\r\n        while (null != parentNode) {\r\n            if (!parentNode.expanded) {\r\n                nodeKeysToExpand.push(parentNode.key)\r\n            }\r\n            parentNode = parentNode.parent\r\n        }\r\n        var scrollCallback = new Deferred;\r\n        this._expandNodes(nodeKeysToExpand.reverse()).always(() => {\r\n            var $element = this._getNodeElement(node);\r\n            if ($element && $element.length) {\r\n                this.scrollToElementTopLeft($element.get(0));\r\n                scrollCallback.resolve()\r\n            } else {\r\n                scrollCallback.reject()\r\n            }\r\n        });\r\n        return scrollCallback.promise()\r\n    },\r\n    scrollToElementTopLeft: function(targetElement) {\r\n        var scrollable = this.getScrollable();\r\n        var {\r\n            scrollDirection: scrollDirection,\r\n            rtlEnabled: rtlEnabled\r\n        } = this.option();\r\n        var targetLocation = {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n        var relativeOffset = getRelativeOffset(SCROLLABLE_CONTENT_CLASS, targetElement);\r\n        if (scrollDirection !== DIRECTION_VERTICAL) {\r\n            var containerElement = $(scrollable.container()).get(0);\r\n            targetLocation.left = rtlEnabled ? relativeOffset.left + targetElement.offsetWidth - containerElement.clientWidth : relativeOffset.left\r\n        }\r\n        if (scrollDirection !== DIRECTION_HORIZONTAL) {\r\n            targetLocation.top = relativeOffset.top\r\n        }\r\n        scrollable.scrollTo(targetLocation)\r\n    },\r\n    _expandNodes: function(keysToExpand) {\r\n        if (!keysToExpand || 0 === keysToExpand.length) {\r\n            return (new Deferred).resolve().promise()\r\n        }\r\n        var resultCallback = new Deferred;\r\n        var callbacksByNodes = keysToExpand.map(key => this.expandItem(key));\r\n        when.apply($, callbacksByNodes).done(() => resultCallback.resolve()).fail(() => resultCallback.reject());\r\n        return resultCallback.promise()\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        clearTimeout(this._setFocusedItemTimeout)\r\n    }\r\n});\r\nexport default TreeViewBase;\r\n","/**\r\n * DevExtreme (esm/ui/tree_view/ui.tree_view.search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport searchBoxMixin from \"../widget/ui.search_box_mixin\";\r\nimport TextBox from \"../text_box\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport TreeViewBase from \"./ui.tree_view.base\";\r\nsearchBoxMixin.setEditorClass(TextBox);\r\nvar WIDGET_CLASS = \"dx-treeview\";\r\nvar NODE_CONTAINER_CLASS = \"\".concat(WIDGET_CLASS, \"-node-container\");\r\nvar TreeViewSearch = TreeViewBase.inherit(searchBoxMixin).inherit({\r\n    _addWidgetPrefix: function(className) {\r\n        return \"\".concat(WIDGET_CLASS, \"-\").concat(className)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"searchValue\":\r\n                if (this._showCheckboxes() && this._isRecursiveSelection()) {\r\n                    this._removeSelection()\r\n                }\r\n                this._initDataAdapter();\r\n                this._updateSearch();\r\n                this._repaintContainer();\r\n                this.option(\"focusedElement\", null);\r\n                break;\r\n            case \"searchExpr\":\r\n                this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            case \"searchMode\":\r\n                this.option(\"expandNodesRecursive\") ? this._updateDataAdapter() : this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _updateDataAdapter: function() {\r\n        this._setOptionWithoutOptionChange(\"expandNodesRecursive\", false);\r\n        this._initDataAdapter();\r\n        this._setOptionWithoutOptionChange(\"expandNodesRecursive\", true)\r\n    },\r\n    _getDataAdapterOptions: function() {\r\n        return extend(this.callBase(), {\r\n            searchValue: this.option(\"searchValue\"),\r\n            searchMode: this.option(\"searchMode\") || \"contains\",\r\n            searchExpr: this.option(\"searchExpr\")\r\n        })\r\n    },\r\n    _updateSearch: function() {\r\n        if (this._searchEditor) {\r\n            var editorOptions = this._getSearchEditorOptions();\r\n            this._searchEditor.option(editorOptions)\r\n        }\r\n    },\r\n    _repaintContainer: function() {\r\n        var $container = this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).first();\r\n        var rootNodes;\r\n        if ($container.length) {\r\n            $container.empty();\r\n            rootNodes = this._dataAdapter.getRootNodes();\r\n            this._renderEmptyMessage(rootNodes);\r\n            this._renderItems($container, rootNodes);\r\n            this._fireContentReadyAction()\r\n        }\r\n    },\r\n    _itemContainer: function(isSearchMode) {\r\n        if (this._scrollable && isSearchMode) {\r\n            return $(this._scrollable.content())\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _addWidgetClass: function() {\r\n        this.$element().addClass(this._widgetClass())\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        this._removeSearchBox()\r\n    }\r\n});\r\nregisterComponent(\"dxTreeView\", TreeViewSearch);\r\nexport default TreeViewSearch;\r\n","/**\r\n * DevExtreme (esm/ui/tree_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport TreeView from \"./tree_view/ui.tree_view.search\";\r\nexport default TreeView;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_chooser.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    deferUpdate,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    isMaterial as isMaterialTheme,\r\n    isGeneric,\r\n    current\r\n} from \"../themes\";\r\nimport Button from \"../button\";\r\nimport TreeView from \"../tree_view\";\r\nimport devices from \"../../core/devices\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nvar COLUMN_CHOOSER_CLASS = \"column-chooser\";\r\nvar COLUMN_CHOOSER_BUTTON_CLASS = \"column-chooser-button\";\r\nvar NOTOUCH_ACTION_CLASS = \"notouch-action\";\r\nvar COLUMN_CHOOSER_LIST_CLASS = \"column-chooser-list\";\r\nvar COLUMN_CHOOSER_PLAIN_CLASS = \"column-chooser-plain\";\r\nvar COLUMN_CHOOSER_DRAG_CLASS = \"column-chooser-mode-drag\";\r\nvar COLUMN_CHOOSER_SELECT_CLASS = \"column-chooser-mode-select\";\r\nvar COLUMN_CHOOSER_ICON_NAME = \"column-chooser\";\r\nvar COLUMN_CHOOSER_ITEM_CLASS = \"dx-column-chooser-item\";\r\nvar TREEVIEW_NODE_SELECTOR = \".dx-treeview-node\";\r\nvar CHECKBOX_SELECTOR = \".dx-checkbox\";\r\nvar CLICK_TIMEOUT = 300;\r\nvar processItems = function(that, chooserColumns) {\r\n    var items = [];\r\n    var isSelectMode = \"select\" === that.option(\"columnChooser.mode\");\r\n    if (chooserColumns.length) {\r\n        each(chooserColumns, (function(index, column) {\r\n            var item = {\r\n                text: column.caption,\r\n                cssClass: column.cssClass,\r\n                allowHiding: column.allowHiding,\r\n                expanded: true,\r\n                id: column.index,\r\n                disabled: false,\r\n                disableCheckBox: false === column.allowHiding,\r\n                parentId: isDefined(column.ownerBand) ? column.ownerBand : null\r\n            };\r\n            if (isSelectMode) {\r\n                item.selected = column.visible\r\n            }\r\n            items.push(item)\r\n        }))\r\n    }\r\n    return items\r\n};\r\nvar ColumnChooserController = modules.ViewController.inherit({\r\n    renderShowColumnChooserButton: function($element) {\r\n        var that = this;\r\n        var columnChooserButtonClass = that.addWidgetPrefix(COLUMN_CHOOSER_BUTTON_CLASS);\r\n        var columnChooserEnabled = that.option(\"columnChooser.enabled\");\r\n        var $showColumnChooserButton = $element.find(\".\" + columnChooserButtonClass);\r\n        var $columnChooserButton;\r\n        if (columnChooserEnabled) {\r\n            if (!$showColumnChooserButton.length) {\r\n                $columnChooserButton = $(\"<div>\").addClass(columnChooserButtonClass).appendTo($element);\r\n                that._createComponent($columnChooserButton, Button, {\r\n                    icon: COLUMN_CHOOSER_ICON_NAME,\r\n                    onClick: function() {\r\n                        that.getView(\"columnChooserView\").showColumnChooser()\r\n                    },\r\n                    hint: that.option(\"columnChooser.title\"),\r\n                    integrationOptions: {}\r\n                })\r\n            } else {\r\n                $showColumnChooserButton.show()\r\n            }\r\n        } else {\r\n            $showColumnChooserButton.hide()\r\n        }\r\n    },\r\n    getPosition: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        return {\r\n            my: \"right bottom\",\r\n            at: \"right bottom\",\r\n            of: rowsView && rowsView.element(),\r\n            collision: \"fit\",\r\n            offset: \"-2 -2\",\r\n            boundaryOffset: \"2 2\"\r\n        }\r\n    }\r\n});\r\nvar ColumnChooserView = ColumnsView.inherit({\r\n    _resizeCore: noop,\r\n    _isWinDevice: function() {\r\n        return !!devices.real().win\r\n    },\r\n    _updateList: function(change) {\r\n        var items;\r\n        var $popupContent = this._popupContainer.$content();\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        var columnChooserList = this._columnChooserList;\r\n        var chooserColumns = this._columnsController.getChooserColumns(isSelectMode);\r\n        if (isSelectMode && columnChooserList && change && \"selection\" === change.changeType) {\r\n            items = processItems(this, chooserColumns);\r\n            for (var i = 0; i < items.length; i++) {\r\n                var selected = items[i].selected;\r\n                var id = items[i].id;\r\n                if (id === change.columnIndex) {\r\n                    if (selected) {\r\n                        columnChooserList.selectItem(id, selected)\r\n                    } else {\r\n                        columnChooserList.unselectItem(id, selected)\r\n                    }\r\n                }\r\n            }\r\n        } else if (!isSelectMode || !columnChooserList || \"full\" === change) {\r\n            this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(COLUMN_CHOOSER_DRAG_CLASS), !isSelectMode).toggleClass(this.addWidgetPrefix(COLUMN_CHOOSER_SELECT_CLASS), isSelectMode);\r\n            items = processItems(this, chooserColumns);\r\n            this._renderTreeView($popupContent, items)\r\n        }\r\n    },\r\n    _initializePopupContainer: function() {\r\n        var that = this;\r\n        var $element = that.element().addClass(that.addWidgetPrefix(COLUMN_CHOOSER_CLASS));\r\n        var columnChooserOptions = that.option(\"columnChooser\");\r\n        var themeName = current();\r\n        var isGenericTheme = isGeneric(themeName);\r\n        var isMaterial = isMaterialTheme(themeName);\r\n        var dxPopupOptions = {\r\n            visible: false,\r\n            shading: false,\r\n            showCloseButton: false,\r\n            dragEnabled: true,\r\n            resizeEnabled: true,\r\n            copyRootClassesToWrapper: true,\r\n            _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n            toolbarItems: [{\r\n                text: columnChooserOptions.title,\r\n                toolbar: \"top\",\r\n                location: isGenericTheme || isMaterial ? \"before\" : \"center\"\r\n            }],\r\n            position: that.getController(\"columnChooser\").getPosition(),\r\n            width: columnChooserOptions.width,\r\n            height: columnChooserOptions.height,\r\n            rtlEnabled: that.option(\"rtlEnabled\"),\r\n            onHidden: function() {\r\n                if (that._isWinDevice()) {\r\n                    $(\"body\").removeClass(that.addWidgetPrefix(NOTOUCH_ACTION_CLASS))\r\n                }\r\n            },\r\n            container: columnChooserOptions.container\r\n        };\r\n        if (isGenericTheme || isMaterial) {\r\n            extend(dxPopupOptions, {\r\n                showCloseButton: true\r\n            })\r\n        } else {\r\n            dxPopupOptions.toolbarItems[dxPopupOptions.toolbarItems.length] = {\r\n                shortcut: \"cancel\"\r\n            }\r\n        }\r\n        if (!isDefined(this._popupContainer)) {\r\n            that._popupContainer = that._createComponent($element, Popup, dxPopupOptions);\r\n            that._popupContainer.on(\"optionChanged\", (function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    that.renderCompleted.fire()\r\n                }\r\n            }))\r\n        } else {\r\n            this._popupContainer.option(dxPopupOptions)\r\n        }\r\n    },\r\n    _renderCore: function(change) {\r\n        if (this._popupContainer) {\r\n            this._updateList(change)\r\n        }\r\n    },\r\n    _renderTreeView: function($container, items) {\r\n        var that = this;\r\n        var columnChooser = this.option(\"columnChooser\");\r\n        var isSelectMode = \"select\" === columnChooser.mode;\r\n        var treeViewConfig = {\r\n            items: items,\r\n            dataStructure: \"plain\",\r\n            activeStateEnabled: true,\r\n            focusStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            itemTemplate: \"item\",\r\n            showCheckBoxesMode: \"none\",\r\n            rootValue: null,\r\n            searchEnabled: columnChooser.allowSearch,\r\n            searchTimeout: columnChooser.searchTimeout,\r\n            onItemRendered: function(e) {\r\n                if (e.itemData.disableCheckBox) {\r\n                    var $treeViewNode = $(e.itemElement).closest(TREEVIEW_NODE_SELECTOR);\r\n                    var $checkBox;\r\n                    if ($treeViewNode.length) {\r\n                        $checkBox = $treeViewNode.find(CHECKBOX_SELECTOR);\r\n                        if ($checkBox.length) {\r\n                            var checkBoxInstance = $checkBox.data(\"dxCheckBox\");\r\n                            checkBoxInstance && checkBoxInstance.option(\"disabled\", true)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var scrollableInstance = $container.find(\".dx-scrollable\").data(\"dxScrollable\");\r\n        var scrollTop = scrollableInstance && scrollableInstance.scrollTop();\r\n        if (isSelectMode && !this._columnsController.isBandColumnsUsed()) {\r\n            $container.addClass(this.addWidgetPrefix(COLUMN_CHOOSER_PLAIN_CLASS))\r\n        }\r\n        treeViewConfig.onContentReady = function(e) {\r\n            deferUpdate((function() {\r\n                if (scrollTop) {\r\n                    var scrollable = $(e.element).find(\".dx-scrollable\").data(\"dxScrollable\");\r\n                    scrollable && scrollable.scrollTo({\r\n                        y: scrollTop\r\n                    })\r\n                }\r\n                that.renderCompleted.fire()\r\n            }))\r\n        };\r\n        if (this._isWinDevice()) {\r\n            treeViewConfig.useNativeScrolling = false\r\n        }\r\n        extend(treeViewConfig, isSelectMode ? this._prepareSelectModeConfig() : this._prepareDragModeConfig());\r\n        if (this._columnChooserList) {\r\n            if (!treeViewConfig.searchEnabled) {\r\n                treeViewConfig.searchValue = \"\"\r\n            }\r\n            this._columnChooserList.option(treeViewConfig)\r\n        } else {\r\n            this._columnChooserList = this._createComponent($container, TreeView, treeViewConfig);\r\n            $container.addClass(this.addWidgetPrefix(COLUMN_CHOOSER_LIST_CLASS))\r\n        }\r\n    },\r\n    _prepareDragModeConfig: function() {\r\n        var columnChooserOptions = this.option(\"columnChooser\");\r\n        return {\r\n            noDataText: columnChooserOptions.emptyPanelText,\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            hoverStateEnabled: false,\r\n            itemTemplate: function(data, index, item) {\r\n                $(item).text(data.text).parent().addClass(data.cssClass).addClass(COLUMN_CHOOSER_ITEM_CLASS)\r\n            }\r\n        }\r\n    },\r\n    _prepareSelectModeConfig: function() {\r\n        var that = this;\r\n        return {\r\n            selectNodesRecursive: false,\r\n            showCheckBoxesMode: \"normal\",\r\n            onItemSelectionChanged: function(e) {\r\n                var visibleColumns = that._columnsController.getVisibleColumns().filter((function(item) {\r\n                    return !item.command\r\n                }));\r\n                var isLastColumnUnselected = 1 === visibleColumns.length && !e.itemData.selected;\r\n                if (isLastColumnUnselected) {\r\n                    e.component.selectItem(e.itemElement)\r\n                } else {\r\n                    setTimeout((function() {\r\n                        that._columnsController.columnOption(e.itemData.id, \"visible\", e.itemData.selected)\r\n                    }), CLICK_TIMEOUT)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var changeTypes = e.changeTypes;\r\n        var optionNames = e.optionNames;\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        this.callBase(e);\r\n        if (isSelectMode) {\r\n            var needPartialRender = optionNames.visible && 1 === optionNames.length && void 0 !== e.columnIndex;\r\n            var needFullRender = optionNames.showInColumnChooser || optionNames.caption || optionNames.visible || changeTypes.columns && optionNames.all;\r\n            if (needPartialRender) {\r\n                this.render(null, {\r\n                    changeType: \"selection\",\r\n                    columnIndex: e.columnIndex\r\n                })\r\n            } else if (needFullRender) {\r\n                this.render(null, \"full\")\r\n            }\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"columnChooser\":\r\n                this._initializePopupContainer();\r\n                this.render(null, \"full\");\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getColumnElements: function() {\r\n        var result = [];\r\n        var $node;\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        var chooserColumns = this._columnsController.getChooserColumns(isSelectMode);\r\n        var $content = this._popupContainer && this._popupContainer.$content();\r\n        var $nodes = $content && $content.find(\".dx-treeview-node\");\r\n        if ($nodes) {\r\n            chooserColumns.forEach((function(column) {\r\n                $node = $nodes.filter(\"[data-item-id = '\" + column.index + \"']\");\r\n                var item = $node.length ? $node.children(\".\" + COLUMN_CHOOSER_ITEM_CLASS).get(0) : null;\r\n                result.push(item)\r\n            }))\r\n        }\r\n        return $(result)\r\n    },\r\n    getName: function() {\r\n        return \"columnChooser\"\r\n    },\r\n    getColumns: function() {\r\n        return this._columnsController.getChooserColumns()\r\n    },\r\n    allowDragging: function(column, sourceLocation) {\r\n        var columnVisible = column && column.allowHiding && (\"columnChooser\" !== sourceLocation || !column.visible && this._columnsController.isParentColumnVisible(column.index));\r\n        return this.isColumnChooserVisible() && columnVisible\r\n    },\r\n    getBoundingRect: function() {\r\n        var container = this._popupContainer && this._popupContainer.$overlayContent();\r\n        if (container && container.is(\":visible\")) {\r\n            var offset = container.offset();\r\n            return {\r\n                left: offset.left,\r\n                top: offset.top,\r\n                right: offset.left + getOuterWidth(container),\r\n                bottom: offset.top + getOuterHeight(container)\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    showColumnChooser: function() {\r\n        if (!this._popupContainer) {\r\n            this._initializePopupContainer();\r\n            this.render()\r\n        }\r\n        this._popupContainer.show();\r\n        if (this._isWinDevice()) {\r\n            $(\"body\").addClass(this.addWidgetPrefix(NOTOUCH_ACTION_CLASS))\r\n        }\r\n    },\r\n    hideColumnChooser: function() {\r\n        if (this._popupContainer) {\r\n            this._popupContainer.hide()\r\n        }\r\n    },\r\n    isColumnChooserVisible: function() {\r\n        var popupContainer = this._popupContainer;\r\n        return popupContainer && popupContainer.option(\"visible\")\r\n    },\r\n    publicMethods: function() {\r\n        return [\"showColumnChooser\", \"hideColumnChooser\"]\r\n    }\r\n});\r\nexport var columnChooserModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnChooser: {\r\n                enabled: false,\r\n                allowSearch: false,\r\n                searchTimeout: 500,\r\n                mode: \"dragAndDrop\",\r\n                width: 250,\r\n                height: 260,\r\n                title: messageLocalization.format(\"dxDataGrid-columnChooserTitle\"),\r\n                emptyPanelText: messageLocalization.format(\"dxDataGrid-columnChooserEmptyText\"),\r\n                container: void 0\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        columnChooser: ColumnChooserController\r\n    },\r\n    views: {\r\n        columnChooserView: ColumnChooserView\r\n    },\r\n    extenders: {\r\n        views: {\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    return this._appendColumnChooserItem(items)\r\n                },\r\n                _appendColumnChooserItem: function(items) {\r\n                    var that = this;\r\n                    var columnChooserEnabled = that.option(\"columnChooser.enabled\");\r\n                    if (columnChooserEnabled) {\r\n                        var hintText = that.option(\"columnChooser.title\");\r\n                        var toolbarItem = {\r\n                            widget: \"dxButton\",\r\n                            options: {\r\n                                icon: COLUMN_CHOOSER_ICON_NAME,\r\n                                onClick: function() {\r\n                                    that.component.getView(\"columnChooserView\").showColumnChooser()\r\n                                },\r\n                                hint: hintText,\r\n                                text: hintText,\r\n                                onInitialized: function(e) {\r\n                                    $(e.element).addClass(that._getToolbarButtonClass(that.addWidgetPrefix(COLUMN_CHOOSER_BUTTON_CLASS)))\r\n                                }\r\n                            },\r\n                            showText: \"inMenu\",\r\n                            location: \"after\",\r\n                            name: \"columnChooserButton\",\r\n                            locateInMenu: \"auto\",\r\n                            sortIndex: 40\r\n                        };\r\n                        items.push(toolbarItem)\r\n                    }\r\n                    return items\r\n                },\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"columnChooser\":\r\n                            this._invalidate();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                isVisible: function() {\r\n                    var columnChooserEnabled = this.option(\"columnChooser.enabled\");\r\n                    return this.callBase() || columnChooserEnabled\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            columns: {\r\n                allowMoveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var columnChooserMode = this.option(\"columnChooser.mode\");\r\n                    var isMoveColumnDisallowed = \"select\" === columnChooserMode && \"columnChooser\" === targetLocation;\r\n                    return isMoveColumnDisallowed ? false : this.callBase(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.column_chooser.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnChooserModule\r\n} from \"../grid_core/ui.grid_core.column_chooser\";\r\nexport var ColumnChooserController = columnChooserModule.controllers.columnChooser;\r\nexport var ColumnChooserView = columnChooserModule.views.columnChooserView;\r\ngridCore.registerModule(\"columnChooser\", columnChooserModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Class from \"../../core/class\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    normalizeSortingInfo\r\n} from \"../../data/utils\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nexport function createOffsetFilter(path, storeLoadOptions, lastLevelOnly) {\r\n    var groups = normalizeSortingInfo(storeLoadOptions.group);\r\n    var filter = [];\r\n    for (var i = lastLevelOnly ? path.length - 1 : 0; i < path.length; i++) {\r\n        var filterElement = [];\r\n        for (var j = 0; j <= i; j++) {\r\n            var selector = groups[j].selector;\r\n            if (i === j && (null === path[j] || false === path[j] || true === path[j])) {\r\n                if (false === path[j]) {\r\n                    filterElement.push([selector, \"=\", groups[j].desc ? true : null])\r\n                } else if (path[j] ? !groups[j].desc : groups[j].desc) {\r\n                    filterElement.push([selector, \"<>\", path[j]])\r\n                } else {\r\n                    filterElement.push([selector, \"<>\", null]);\r\n                    filterElement.push([selector, \"=\", null])\r\n                }\r\n            } else {\r\n                var currentFilter = [selector, i === j ? groups[j].desc ? \">\" : \"<\" : \"=\", path[j]];\r\n                if (\"<\" === currentFilter[1]) {\r\n                    filterElement.push([currentFilter, \"or\", [selector, \"=\", null]])\r\n                } else {\r\n                    filterElement.push(currentFilter)\r\n                }\r\n            }\r\n        }\r\n        filter.push(gridCore.combineFilters(filterElement))\r\n    }\r\n    filter = gridCore.combineFilters(filter, \"or\");\r\n    return gridCore.combineFilters([filter, storeLoadOptions.filter])\r\n}\r\nexport var GroupingHelper = Class.inherit(function() {\r\n    var findGroupInfoByKey = function(groupsInfo, key) {\r\n        var hash = groupsInfo.hash;\r\n        return hash && hash[JSON.stringify(key)]\r\n    };\r\n    var getGroupInfoIndexByOffset = function(groupsInfo, offset) {\r\n        var leftIndex = 0;\r\n        var rightIndex = groupsInfo.length - 1;\r\n        if (!groupsInfo.length) {\r\n            return 0\r\n        }\r\n        do {\r\n            var middleIndex = rightIndex + leftIndex >> 1;\r\n            if (groupsInfo[middleIndex].offset > offset) {\r\n                rightIndex = middleIndex\r\n            } else {\r\n                leftIndex = middleIndex\r\n            }\r\n        } while (rightIndex - leftIndex > 1);\r\n        var index;\r\n        for (index = leftIndex; index <= rightIndex; index++) {\r\n            if (groupsInfo[index].offset > offset) {\r\n                break\r\n            }\r\n        }\r\n        return index\r\n    };\r\n    return {\r\n        ctor: function(dataSourceAdapter) {\r\n            this._dataSource = dataSourceAdapter;\r\n            this.reset()\r\n        },\r\n        reset: function() {\r\n            this._groupsInfo = [];\r\n            this._totalCountCorrection = 0\r\n        },\r\n        totalCountCorrection: function() {\r\n            return this._totalCountCorrection\r\n        },\r\n        updateTotalItemsCount: function(totalCountCorrection) {\r\n            this._totalCountCorrection = totalCountCorrection || 0\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return !this._isVirtualPaging() || !item.isContinuation\r\n        },\r\n        _isVirtualPaging: function() {\r\n            var scrollingMode = this._dataSource.option(\"scrolling.mode\");\r\n            return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n        },\r\n        itemsCount: function() {\r\n            var dataSourceAdapter = this._dataSource;\r\n            var dataSource = dataSourceAdapter._dataSource;\r\n            var groupCount = gridCore.normalizeSortingInfo(dataSource.group() || []).length;\r\n            var itemsCount = function calculateItemsCount(that, items, groupsCount) {\r\n                var result = 0;\r\n                if (items) {\r\n                    if (!groupsCount) {\r\n                        result = items.length\r\n                    } else {\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            if (that.isGroupItemCountable(items[i])) {\r\n                                result++\r\n                            }\r\n                            result += calculateItemsCount(that, items[i].items, groupsCount - 1)\r\n                        }\r\n                    }\r\n                }\r\n                return result\r\n            }(this, dataSource.items(), groupCount);\r\n            return itemsCount\r\n        },\r\n        foreachGroups: function(callback, childrenAtFirst, foreachCollapsedGroups, updateOffsets, updateParentOffsets) {\r\n            var that = this;\r\n            return function foreachGroupsCore(groupsInfo, callback, childrenAtFirst, parents) {\r\n                var callbackResults = [];\r\n\r\n                function executeCallback(callback, data, parents, callbackResults) {\r\n                    var callbackResult = data && callback(data, parents);\r\n                    callbackResult && callbackResults.push(callbackResult);\r\n                    return callbackResult\r\n                }\r\n                for (var i = 0; i < groupsInfo.length; i++) {\r\n                    parents.push(groupsInfo[i].data);\r\n                    if (!childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.isExpanded || foreachCollapsedGroups) {\r\n                        var children = groupsInfo[i].children;\r\n                        var callbackResult = children.length && foreachGroupsCore(children, callback, childrenAtFirst, parents);\r\n                        callbackResult && callbackResults.push(callbackResult);\r\n                        if (false === callbackResult) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    if (childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.offset !== groupsInfo[i].offset) {\r\n                        updateOffsets = true\r\n                    }\r\n                    parents.pop()\r\n                }\r\n                var currentParents = updateParentOffsets && parents.slice(0);\r\n                return updateOffsets && when.apply($, callbackResults).always((function() {\r\n                    that._updateGroupInfoOffsets(groupsInfo, currentParents)\r\n                }))\r\n            }(that._groupsInfo, callback, childrenAtFirst, [])\r\n        },\r\n        _updateGroupInfoOffsets: function(groupsInfo, parents) {\r\n            parents = parents || [];\r\n            for (var index = 0; index < groupsInfo.length; index++) {\r\n                var groupInfo = groupsInfo[index];\r\n                if (groupInfo.data && groupInfo.data.offset !== groupInfo.offset) {\r\n                    groupInfo.offset = groupInfo.data.offset;\r\n                    for (var parentIndex = 0; parentIndex < parents.length; parentIndex++) {\r\n                        parents[parentIndex].offset = groupInfo.offset\r\n                    }\r\n                }\r\n            }\r\n            groupsInfo.sort((function(a, b) {\r\n                return a.offset - b.offset\r\n            }))\r\n        },\r\n        findGroupInfo: function(path) {\r\n            var groupInfo;\r\n            var groupsInfo = this._groupsInfo;\r\n            for (var pathIndex = 0; groupsInfo && pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                groupsInfo = groupInfo && groupInfo.children\r\n            }\r\n            return groupInfo && groupInfo.data\r\n        },\r\n        addGroupInfo: function(groupInfoData) {\r\n            var groupInfo;\r\n            var path = groupInfoData.path;\r\n            var groupsInfo = this._groupsInfo;\r\n            for (var pathIndex = 0; pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                if (!groupInfo) {\r\n                    groupInfo = {\r\n                        key: path[pathIndex],\r\n                        offset: groupInfoData.offset,\r\n                        data: {\r\n                            offset: groupInfoData.offset,\r\n                            isExpanded: true,\r\n                            path: path.slice(0, pathIndex + 1)\r\n                        },\r\n                        children: []\r\n                    };\r\n                    var index = getGroupInfoIndexByOffset(groupsInfo, groupInfoData.offset);\r\n                    groupsInfo.splice(index, 0, groupInfo);\r\n                    groupsInfo.hash = groupsInfo.hash || {};\r\n                    groupsInfo.hash[JSON.stringify(groupInfo.key)] = groupInfo\r\n                }\r\n                if (pathIndex === path.length - 1) {\r\n                    groupInfo.data = groupInfoData;\r\n                    if (groupInfo.offset !== groupInfoData.offset) {\r\n                        this._updateGroupInfoOffsets(groupsInfo)\r\n                    }\r\n                }\r\n                groupsInfo = groupInfo.children\r\n            }\r\n        },\r\n        allowCollapseAll: function() {\r\n            return true\r\n        },\r\n        refresh: function(options) {\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = normalizeSortingInfo(storeLoadOptions.group || []);\r\n            var oldGroups = \"_group\" in this ? normalizeSortingInfo(this._group || []) : groups;\r\n            var groupsCount = Math.min(oldGroups.length, groups.length);\r\n            this._group = storeLoadOptions.group;\r\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\r\n                if (oldGroups[groupIndex].selector !== groups[groupIndex].selector) {\r\n                    groupsCount = groupIndex;\r\n                    break\r\n                }\r\n            }\r\n            if (!groupsCount) {\r\n                this.reset()\r\n            } else {\r\n                ! function cleanGroupsInfo(groupsInfo, groupIndex, groupsCount) {\r\n                    for (var i = 0; i < groupsInfo.length; i++) {\r\n                        if (groupIndex + 1 >= groupsCount) {\r\n                            groupsInfo[i].children = []\r\n                        } else {\r\n                            cleanGroupsInfo(groupsInfo[i].children, groupIndex + 1, groupsCount)\r\n                        }\r\n                    }\r\n                }(this._groupsInfo, 0, groupsCount)\r\n            }\r\n        },\r\n        handleDataLoading: function() {},\r\n        handleDataLoaded: function(options, callBase) {\r\n            callBase(options)\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            callBase(options)\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCoreUtils from \"../grid_core/ui.grid_core.utils\";\r\nimport {\r\n    normalizeSortingInfo\r\n} from \"../../data/utils\";\r\nexport function createGroupFilter(path, storeLoadOptions) {\r\n    var groups = normalizeSortingInfo(storeLoadOptions.group);\r\n    var filter = [];\r\n    for (var i = 0; i < path.length; i++) {\r\n        filter.push([groups[i].selector, \"=\", path[i]])\r\n    }\r\n    if (storeLoadOptions.filter) {\r\n        filter.push(storeLoadOptions.filter)\r\n    }\r\n    return gridCoreUtils.combineFilters(filter)\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.expanded.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    toComparable\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    keysEqual\r\n} from \"../../data/utils\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nimport dataGridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    GroupingHelper as GroupingHelperCore,\r\n    createOffsetFilter\r\n} from \"./ui.data_grid.grouping.core\";\r\nimport {\r\n    createGroupFilter\r\n} from \"./ui.data_grid.utils\";\r\nimport dataQuery from \"../../data/query\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar loadTotalCount = function(dataSource, options) {\r\n    var d = new Deferred;\r\n    var loadOptions = extend({\r\n        skip: 0,\r\n        take: 1,\r\n        requireTotalCount: true\r\n    }, options);\r\n    dataSource.load(loadOptions).done((function(data, extra) {\r\n        d.resolve(extra && extra.totalCount)\r\n    })).fail(d.reject.bind(d));\r\n    return d\r\n};\r\nexport var GroupingHelper = GroupingHelperCore.inherit(function() {\r\n    var foreachCollapsedGroups = function(that, callback, updateOffsets) {\r\n        return that.foreachGroups((function(groupInfo) {\r\n            if (!groupInfo.isExpanded) {\r\n                return callback(groupInfo)\r\n            }\r\n        }), false, false, updateOffsets, true)\r\n    };\r\n    var correctSkipLoadOption = function(that, skip) {\r\n        var skipCorrection = 0;\r\n        var resultSkip = skip || 0;\r\n        if (skip) {\r\n            foreachCollapsedGroups(that, (function(groupInfo) {\r\n                if (groupInfo.offset - skipCorrection >= skip) {\r\n                    return false\r\n                }\r\n                skipCorrection += groupInfo.count - 1\r\n            }));\r\n            resultSkip += skipCorrection\r\n        }\r\n        return resultSkip\r\n    };\r\n    var pathEquals = function(path1, path2) {\r\n        if (path1.length !== path2.length) {\r\n            return false\r\n        }\r\n        for (var i = 0; i < path1.length; i++) {\r\n            if (!keysEqual(null, path1[i], path2[i])) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    };\r\n    var updateGroupOffsets = function updateGroupOffsets(that, items, path, offset, additionalGroupInfo) {\r\n        if (!items) {\r\n            return\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (\"key\" in item && void 0 !== item.items) {\r\n                path.push(item.key);\r\n                if (additionalGroupInfo && pathEquals(additionalGroupInfo.path, path) && !item.isContinuation) {\r\n                    additionalGroupInfo.offset = offset\r\n                }\r\n                var groupInfo = that.findGroupInfo(path);\r\n                if (groupInfo && !item.isContinuation) {\r\n                    groupInfo.offset = offset\r\n                }\r\n                if (groupInfo && !groupInfo.isExpanded) {\r\n                    offset += groupInfo.count\r\n                } else {\r\n                    offset = updateGroupOffsets(that, item.items, path, offset, additionalGroupInfo)\r\n                }\r\n                path.pop()\r\n            } else {\r\n                offset++\r\n            }\r\n        }\r\n        return offset\r\n    };\r\n    var getGroupCount = function getGroupCount(item, groupCount) {\r\n        var count = item.count || item.items.length;\r\n        if (!item.count && groupCount > 1) {\r\n            count = 0;\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                count += getGroupCount(item.items[i], groupCount - 1)\r\n            }\r\n        }\r\n        return count\r\n    };\r\n    return {\r\n        handleDataLoading: function(options) {\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var collapsedGroups = [];\r\n            var collapsedItemsCount = 0;\r\n            var skipFirstItem = false;\r\n            var take;\r\n            var group = options.loadOptions.group;\r\n            var skipCorrection = 0;\r\n            ! function(storeLoadOptions, loadOptions) {\r\n                if (loadOptions.group) {\r\n                    var groups = dataGridCore.normalizeSortingInfo(loadOptions.group);\r\n                    var sorts = dataGridCore.normalizeSortingInfo(storeLoadOptions.sort);\r\n                    storeLoadOptions.sort = storeHelper.arrangeSortingInfo(groups, sorts);\r\n                    delete loadOptions.group\r\n                }\r\n            }(storeLoadOptions, options.loadOptions);\r\n            options.group = options.group || group;\r\n            if (options.isCustomLoading) {\r\n                return\r\n            }\r\n            var loadOptions = extend({}, storeLoadOptions);\r\n            loadOptions.skip = correctSkipLoadOption(this, storeLoadOptions.skip);\r\n            if (loadOptions.skip && loadOptions.take && group) {\r\n                loadOptions.skip--;\r\n                loadOptions.take++;\r\n                skipFirstItem = true\r\n            }\r\n            if (loadOptions.take && group) {\r\n                take = loadOptions.take;\r\n                loadOptions.take++\r\n            }\r\n            foreachCollapsedGroups(this, (function(groupInfo) {\r\n                if (groupInfo.offset >= loadOptions.skip + loadOptions.take + skipCorrection) {\r\n                    return false\r\n                } else if (groupInfo.offset >= loadOptions.skip + skipCorrection && groupInfo.count) {\r\n                    skipCorrection += groupInfo.count - 1;\r\n                    collapsedGroups.push(groupInfo);\r\n                    collapsedItemsCount += groupInfo.count\r\n                }\r\n            }));\r\n            each(collapsedGroups, (function() {\r\n                loadOptions.filter = function(path, storeLoadOptions, group) {\r\n                    var groups = dataGridCore.normalizeSortingInfo(group || storeLoadOptions.group);\r\n                    var filter = [];\r\n                    for (var i = 0; i < path.length; i++) {\r\n                        var filterElement = [];\r\n                        for (var j = 0; j <= i; j++) {\r\n                            filterElement.push([groups[j].selector, i === j ? \"<>\" : \"=\", path[j]])\r\n                        }\r\n                        filter.push(dataGridCore.combineFilters(filterElement))\r\n                    }\r\n                    filter = dataGridCore.combineFilters(filter, \"or\");\r\n                    return dataGridCore.combineFilters([filter, storeLoadOptions.filter])\r\n                }(this.path, loadOptions, group)\r\n            }));\r\n            options.storeLoadOptions = loadOptions;\r\n            options.collapsedGroups = collapsedGroups;\r\n            options.collapsedItemsCount = collapsedItemsCount;\r\n            options.skip = loadOptions.skip || 0;\r\n            options.skipFirstItem = skipFirstItem;\r\n            options.take = take\r\n        },\r\n        handleDataLoaded: function(options, callBase) {\r\n            var collapsedGroups = options.collapsedGroups;\r\n            var groups = dataGridCore.normalizeSortingInfo(options.group);\r\n            var groupCount = groups.length;\r\n\r\n            function appendCollapsedPath(data, path, groups, collapsedGroup, offset) {\r\n                if (!data || !path.length || !groups.length) {\r\n                    return\r\n                }\r\n                var keyValue;\r\n                var i;\r\n                var pathValue = toComparable(path[0], true);\r\n                for (i = 0; i < data.length; i++) {\r\n                    keyValue = toComparable(data[i].key, true);\r\n                    if (offset >= collapsedGroup.offset || pathValue === keyValue) {\r\n                        break\r\n                    } else {\r\n                        offset += getGroupCount(data[i], groups.length)\r\n                    }\r\n                }\r\n                if (!data.length || pathValue !== keyValue) {\r\n                    data.splice(i, 0, {\r\n                        key: path[0],\r\n                        items: [],\r\n                        count: 1 === path.length ? collapsedGroup.count : void 0\r\n                    })\r\n                }\r\n                appendCollapsedPath(data[i].items, path.slice(1), groups.slice(1), collapsedGroup, offset)\r\n            }\r\n            if (options.collapsedItemsCount && options.extra && options.extra.totalCount >= 0) {\r\n                options.extra.totalCount += options.collapsedItemsCount\r\n            }\r\n            callBase(options);\r\n            if (groupCount) {\r\n                var data = options.data;\r\n                var query = dataQuery(data);\r\n                storeHelper.multiLevelGroup(query, groups).enumerate().done((function(groupedData) {\r\n                    data = groupedData\r\n                }));\r\n                if (collapsedGroups) {\r\n                    for (var pathIndex = 0; pathIndex < collapsedGroups.length; pathIndex++) {\r\n                        appendCollapsedPath(data, collapsedGroups[pathIndex].path, groups, collapsedGroups[pathIndex], options.skip)\r\n                    }\r\n                }\r\n                if (!options.isCustomLoading) {\r\n                    ! function processGroupItems(that, items, path, offset, skipFirstItem, take) {\r\n                        var removeLastItemsCount = 0;\r\n                        var needRemoveFirstItem = false;\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            var item = items[i];\r\n                            if (void 0 !== item.items) {\r\n                                path.push(item.key);\r\n                                var groupInfo = that.findGroupInfo(path);\r\n                                if (groupInfo && !groupInfo.isExpanded) {\r\n                                    item.collapsedItems = item.items;\r\n                                    item.items = null;\r\n                                    offset += groupInfo.count;\r\n                                    take--;\r\n                                    if (take < 0) {\r\n                                        removeLastItemsCount++\r\n                                    }\r\n                                    if (skipFirstItem) {\r\n                                        needRemoveFirstItem = true\r\n                                    }\r\n                                } else if (item.items) {\r\n                                    var offsetInfo = processGroupItems(that, item.items, path, offset, skipFirstItem, take);\r\n                                    if (skipFirstItem) {\r\n                                        if (offsetInfo.offset - offset > 1) {\r\n                                            item.isContinuation = true\r\n                                        } else {\r\n                                            needRemoveFirstItem = true\r\n                                        }\r\n                                    }\r\n                                    offset = offsetInfo.offset;\r\n                                    take = offsetInfo.take;\r\n                                    if (take < 0) {\r\n                                        if (item.items.length) {\r\n                                            item.isContinuationOnNextPage = true\r\n                                        } else {\r\n                                            removeLastItemsCount++\r\n                                        }\r\n                                    }\r\n                                }\r\n                                path.pop()\r\n                            } else {\r\n                                if (skipFirstItem) {\r\n                                    needRemoveFirstItem = true\r\n                                }\r\n                                offset++;\r\n                                take--;\r\n                                if (take < 0) {\r\n                                    removeLastItemsCount++\r\n                                }\r\n                            }\r\n                            skipFirstItem = false\r\n                        }\r\n                        if (needRemoveFirstItem) {\r\n                            items.splice(0, 1)\r\n                        }\r\n                        if (removeLastItemsCount) {\r\n                            items.splice(-removeLastItemsCount, removeLastItemsCount)\r\n                        }\r\n                        return {\r\n                            offset: offset,\r\n                            take: take\r\n                        }\r\n                    }(this, data, [], options.skip, options.skipFirstItem, options.take)\r\n                }\r\n                options.data = data\r\n            }\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return null === item.items\r\n        },\r\n        updateTotalItemsCount: function() {\r\n            var itemsCountCorrection = 0;\r\n            foreachCollapsedGroups(this, (function(groupInfo) {\r\n                if (groupInfo.count) {\r\n                    itemsCountCorrection -= groupInfo.count - 1\r\n                }\r\n            }));\r\n            this.callBase(itemsCountCorrection)\r\n        },\r\n        changeRowExpand: function(path) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var beginPageIndex = dataSource.beginPageIndex ? dataSource.beginPageIndex() : dataSource.pageIndex();\r\n            var dataSourceItems = dataSource.items();\r\n            var offset = correctSkipLoadOption(that, beginPageIndex * dataSource.pageSize());\r\n            var groupInfo = that.findGroupInfo(path);\r\n            var groupCountQuery;\r\n            if (groupInfo && !groupInfo.isExpanded) {\r\n                groupCountQuery = (new Deferred).resolve(groupInfo.count)\r\n            } else {\r\n                groupCountQuery = loadTotalCount(dataSource, {\r\n                    filter: createGroupFilter(path, {\r\n                        filter: dataSource.filter(),\r\n                        group: dataSource.group()\r\n                    })\r\n                })\r\n            }\r\n            return when(groupCountQuery).done((function(count) {\r\n                count = parseInt(count.length ? count[0] : count);\r\n                if (groupInfo) {\r\n                    updateGroupOffsets(that, dataSourceItems, [], offset);\r\n                    groupInfo.isExpanded = !groupInfo.isExpanded;\r\n                    groupInfo.count = count\r\n                } else {\r\n                    groupInfo = {\r\n                        offset: -1,\r\n                        count: count,\r\n                        path: path,\r\n                        isExpanded: false\r\n                    };\r\n                    updateGroupOffsets(that, dataSourceItems, [], offset, groupInfo);\r\n                    if (groupInfo.offset >= 0) {\r\n                        that.addGroupInfo(groupInfo)\r\n                    }\r\n                }\r\n                that.updateTotalItemsCount()\r\n            })).fail((function() {\r\n                dataSource._eventsStrategy.fireEvent(\"loadError\", arguments)\r\n            }))\r\n        },\r\n        allowCollapseAll: function() {\r\n            return false\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var dataSource = that._dataSource;\r\n            this.callBase.apply(this, arguments);\r\n            if (operationTypes.reload) {\r\n                return foreachCollapsedGroups(that, (function(groupInfo) {\r\n                    var groupCountQuery = loadTotalCount(dataSource, {\r\n                        filter: createGroupFilter(groupInfo.path, storeLoadOptions)\r\n                    });\r\n                    var groupOffsetQuery = loadTotalCount(dataSource, {\r\n                        filter: createOffsetFilter(groupInfo.path, storeLoadOptions)\r\n                    });\r\n                    return when(groupOffsetQuery, groupCountQuery).done((function(offset, count) {\r\n                        offset = parseInt(offset.length ? offset[0] : offset);\r\n                        count = parseInt(count.length ? count[0] : count);\r\n                        groupInfo.offset = offset;\r\n                        if (groupInfo.count !== count) {\r\n                            groupInfo.count = count;\r\n                            that.updateTotalItemsCount()\r\n                        }\r\n                    }))\r\n                }), true)\r\n            }\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.collapsed.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport dataGridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    GroupingHelper as GroupingHelperCore,\r\n    createOffsetFilter\r\n} from \"./ui.data_grid.grouping.core\";\r\nimport {\r\n    createGroupFilter\r\n} from \"./ui.data_grid.utils\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    errors as dataErrors\r\n} from \"../../data/errors\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\n\r\nfunction getContinuationGroupCount(groupOffset, pageSize, groupSize, groupIndex) {\r\n    groupIndex = groupIndex || 0;\r\n    if (pageSize > 1 && groupSize > 0) {\r\n        var pageOffset = groupOffset - Math.floor(groupOffset / pageSize) * pageSize || pageSize;\r\n        pageOffset += groupSize - groupIndex - 2;\r\n        if (pageOffset < 0) {\r\n            pageOffset += pageSize\r\n        }\r\n        return Math.floor(pageOffset / (pageSize - groupIndex - 1))\r\n    }\r\n    return 0\r\n}\r\nexport var GroupingHelper = GroupingHelperCore.inherit(function() {\r\n    var foreachExpandedGroups = function(that, callback, updateGroups) {\r\n        return that.foreachGroups((function(groupInfo, parents) {\r\n            if (groupInfo.isExpanded) {\r\n                return callback(groupInfo, parents)\r\n            }\r\n        }), true, false, updateGroups, updateGroups)\r\n    };\r\n    var processGroupItems = function processGroupItems(that, items, groupsCount, expandedInfo, path, isCustomLoading, isLastGroupExpanded) {\r\n        var isExpanded;\r\n        expandedInfo.items = expandedInfo.items || [];\r\n        expandedInfo.paths = expandedInfo.paths || [];\r\n        expandedInfo.count = expandedInfo.count || 0;\r\n        expandedInfo.lastCount = expandedInfo.lastCount || 0;\r\n        if (!groupsCount) {\r\n            return\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (void 0 !== item.items) {\r\n                path.push(item.key);\r\n                if (isCustomLoading) {\r\n                    isExpanded = true\r\n                } else {\r\n                    var groupInfo = that.findGroupInfo(path);\r\n                    isExpanded = groupInfo && groupInfo.isExpanded\r\n                }\r\n                if (!isExpanded) {\r\n                    item.collapsedItems = item.items;\r\n                    item.items = null\r\n                } else if (item.items) {\r\n                    processGroupItems(that, item.items, groupsCount - 1, expandedInfo, path, isCustomLoading, isLastGroupExpanded)\r\n                } else if (1 === groupsCount && item.count && (!isCustomLoading || isLastGroupExpanded)) {\r\n                    expandedInfo.items.push(item);\r\n                    expandedInfo.paths.push(path.slice(0));\r\n                    expandedInfo.count += expandedInfo.lastCount;\r\n                    expandedInfo.lastCount = item.count\r\n                }\r\n                path.pop()\r\n            }\r\n        }\r\n    };\r\n    var updateGroupInfoItem = function(that, item, isLastGroupLevel, path, offset) {\r\n        var groupInfo = that.findGroupInfo(path);\r\n        var count;\r\n        if (!groupInfo) {\r\n            if (isLastGroupLevel) {\r\n                count = item.count > 0 ? item.count : item.items.length\r\n            }\r\n            that.addGroupInfo({\r\n                isExpanded: that._isGroupExpanded(path.length - 1),\r\n                path: path.slice(0),\r\n                offset: offset,\r\n                count: count || 0\r\n            })\r\n        } else {\r\n            if (isLastGroupLevel) {\r\n                groupInfo.count = item.count > 0 ? item.count : item.items && item.items.length || 0\r\n            } else {\r\n                item.count = groupInfo.count || item.count\r\n            }\r\n            groupInfo.offset = offset\r\n        }\r\n    };\r\n    var updateGroupInfos = function updateGroupInfos(that, options, items, loadedGroupCount, groupIndex, path, parentIndex) {\r\n        var groupCount = options.group ? options.group.length : 0;\r\n        var isLastGroupLevel = groupCount === loadedGroupCount;\r\n        var remotePaging = options.remoteOperations.paging;\r\n        var offset = 0;\r\n        var totalCount = 0;\r\n        var count;\r\n        groupIndex = groupIndex || 0;\r\n        path = path || [];\r\n        if (remotePaging && !parentIndex) {\r\n            offset = 0 === groupIndex ? options.skip || 0 : options.skips[groupIndex - 1] || 0\r\n        }\r\n        if (groupIndex >= loadedGroupCount) {\r\n            return items.length\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item) {\r\n                path.push(item.key);\r\n                if (!item.count && !item.items || void 0 === item.items) {\r\n                    return -1\r\n                }\r\n                updateGroupInfoItem(that, item, isLastGroupLevel, path, offset + i);\r\n                count = item.items ? updateGroupInfos(that, options, item.items, loadedGroupCount, groupIndex + 1, path, i) : item.count || -1;\r\n                if (count < 0) {\r\n                    return -1\r\n                }\r\n                totalCount += count;\r\n                path.pop()\r\n            }\r\n        }\r\n        return totalCount\r\n    };\r\n    var isGroupExpanded = function(groups, groupIndex) {\r\n        return groups && groups.length && groups[groupIndex] && !!groups[groupIndex].isExpanded\r\n    };\r\n    var getTotalOffset = function(groupInfos, pageSize, offset) {\r\n        var groupSize;\r\n        var totalOffset = offset;\r\n        for (var groupIndex = 0; groupIndex < groupInfos.length; groupIndex++) {\r\n            groupSize = groupInfos[groupIndex].offset + 1;\r\n            if (groupIndex > 0) {\r\n                groupSize += groupInfos[groupIndex - 1].childrenTotalCount;\r\n                if (pageSize) {\r\n                    groupSize += getContinuationGroupCount(totalOffset, pageSize, groupSize, groupIndex - 1) * groupIndex\r\n                }\r\n            }\r\n            totalOffset += groupSize\r\n        }\r\n        return totalOffset\r\n    };\r\n\r\n    function applyContinuationToGroupItem(options, expandedInfo, groupLevel, expandedItemIndex) {\r\n        var item = expandedInfo.items[expandedItemIndex];\r\n        var skip = options.skips && options.skips[groupLevel];\r\n        var take = options.takes && options.takes[groupLevel];\r\n        var isLastExpandedItem = expandedItemIndex === expandedInfo.items.length - 1;\r\n        var isFirstExpandedItem = 0 === expandedItemIndex;\r\n        var lastExpandedItemSkip = isFirstExpandedItem && skip || 0;\r\n        var isItemsTruncatedByTake = item.count > take + lastExpandedItemSkip;\r\n        if (isFirstExpandedItem && void 0 !== skip) {\r\n            item.isContinuation = true\r\n        }\r\n        if (isLastExpandedItem && void 0 !== take && isItemsTruncatedByTake) {\r\n            item.isContinuationOnNextPage = true\r\n        }\r\n    }\r\n\r\n    function isDataDeferred(data) {\r\n        return !Array.isArray(data)\r\n    }\r\n\r\n    function makeDataDeferred(options) {\r\n        if (!isDataDeferred(options.data)) {\r\n            options.data = new Deferred\r\n        }\r\n    }\r\n\r\n    function loadGroupItems(that, options, loadedGroupCount, expandedInfo, groupLevel, data) {\r\n        if (!options.isCustomLoading) {\r\n            expandedInfo = {};\r\n            processGroupItems(that, data, loadedGroupCount, expandedInfo, []);\r\n            ! function(options, expandedInfo, currentGroupCount) {\r\n                var currentGroupIndex = currentGroupCount - 1;\r\n                var groupCount = options.group ? options.group.length : 0;\r\n                expandedInfo.skip = options.skips && options.skips[currentGroupIndex];\r\n                if (options.takes && void 0 !== options.takes[currentGroupIndex]) {\r\n                    if (groupCount === currentGroupCount) {\r\n                        expandedInfo.take = expandedInfo.count ? expandedInfo.count - (expandedInfo.skip || 0) : 0\r\n                    } else {\r\n                        expandedInfo.take = 0\r\n                    }\r\n                    expandedInfo.take += options.takes[currentGroupIndex]\r\n                }\r\n            }(options, expandedInfo, loadedGroupCount)\r\n        }\r\n        var groupCount = options.group ? options.group.length : 0;\r\n        if (expandedInfo.paths.length && groupCount - loadedGroupCount > 0) {\r\n            makeDataDeferred(options);\r\n            ! function(that, options, expandedInfo, loadedGroupCount, groupLevel, data) {\r\n                var groups = options.group || [];\r\n                var currentGroup = groups[groupLevel + 1];\r\n                var deferreds = [];\r\n                each(expandedInfo.paths, (function(expandedItemIndex) {\r\n                    var loadOptions = {\r\n                        requireTotalCount: false,\r\n                        requireGroupCount: true,\r\n                        group: [currentGroup],\r\n                        groupSummary: options.storeLoadOptions.groupSummary,\r\n                        filter: createGroupFilter(expandedInfo.paths[expandedItemIndex], {\r\n                            filter: options.storeLoadOptions.filter,\r\n                            group: groups\r\n                        }),\r\n                        select: options.storeLoadOptions.select\r\n                    };\r\n                    if (0 === expandedItemIndex) {\r\n                        loadOptions.skip = expandedInfo.skip || 0\r\n                    }\r\n                    if (expandedItemIndex === expandedInfo.paths.length - 1) {\r\n                        loadOptions.take = expandedInfo.take\r\n                    }\r\n                    var loadResult = 0 === loadOptions.take ? [] : that._dataSource.loadFromStore(loadOptions);\r\n                    when(loadResult).done((function(data) {\r\n                        var item = expandedInfo.items[expandedItemIndex];\r\n                        applyContinuationToGroupItem(options, expandedInfo, groupLevel, expandedItemIndex);\r\n                        item.items = data\r\n                    }));\r\n                    deferreds.push(loadResult)\r\n                }));\r\n                when.apply(null, deferreds).done((function() {\r\n                    updateGroupInfos(that, options, data, loadedGroupCount + 1);\r\n                    loadGroupItems(that, options, loadedGroupCount + 1, expandedInfo, groupLevel + 1, data)\r\n                }))\r\n            }(that, options, expandedInfo, loadedGroupCount, groupLevel, data)\r\n        } else if (expandedInfo.paths.length && options.storeLoadOptions.group) {\r\n            makeDataDeferred(options);\r\n            ! function(that, options, expandedInfo, data) {\r\n                var expandedFilters = [];\r\n                var groups = options.group || [];\r\n                each(expandedInfo.paths, (function(_, expandedPath) {\r\n                    expandedFilters.push(createGroupFilter(expandedPath, {\r\n                        group: options.isCustomLoading ? options.storeLoadOptions.group : groups\r\n                    }))\r\n                }));\r\n                var filter = options.storeLoadOptions.filter;\r\n                if (!options.storeLoadOptions.isLoadingAll) {\r\n                    filter = dataGridCore.combineFilters([filter, dataGridCore.combineFilters(expandedFilters, \"or\")])\r\n                }\r\n                var loadOptions = extend({}, options.storeLoadOptions, {\r\n                    requireTotalCount: false,\r\n                    requireGroupCount: false,\r\n                    group: null,\r\n                    sort: groups.concat(dataGridCore.normalizeSortingInfo(options.storeLoadOptions.sort || [])),\r\n                    filter: filter\r\n                });\r\n                var isPagingLocal = that._dataSource.isLastLevelGroupItemsPagingLocal();\r\n                if (!isPagingLocal) {\r\n                    loadOptions.skip = expandedInfo.skip;\r\n                    loadOptions.take = expandedInfo.take\r\n                }\r\n                when(0 === expandedInfo.take ? [] : that._dataSource.loadFromStore(loadOptions)).done((function(items, extra) {\r\n                    if (isPagingLocal) {\r\n                        items = that._dataSource.sortLastLevelGroupItems(items, groups, expandedInfo.paths);\r\n                        items = expandedInfo.skip ? items.slice(expandedInfo.skip) : items;\r\n                        items = expandedInfo.take ? items.slice(0, expandedInfo.take) : items\r\n                    }\r\n                    each(expandedInfo.items, (function(index, item) {\r\n                        var itemCount = item.count - (0 === index && expandedInfo.skip || 0);\r\n                        var expandedItems = items.splice(0, itemCount);\r\n                        applyContinuationToGroupItem(options, expandedInfo, groups.length - 1, index);\r\n                        item.items = expandedItems\r\n                    }));\r\n                    options.data.resolve(data)\r\n                })).fail(options.data.reject)\r\n            }(that, options, expandedInfo, data)\r\n        } else if (isDataDeferred(options.data)) {\r\n            options.data.resolve(data)\r\n        }\r\n    }\r\n    var loadGroupTotalCount = function(dataSource, options) {\r\n        var d = new Deferred;\r\n        var isGrouping = !!(options.group && options.group.length);\r\n        var loadOptions = extend({\r\n            skip: 0,\r\n            take: 1,\r\n            requireGroupCount: isGrouping,\r\n            requireTotalCount: !isGrouping\r\n        }, options, {\r\n            group: isGrouping ? options.group : null\r\n        });\r\n        dataSource.load(loadOptions).done((function(data, extra) {\r\n            var count = extra && (isGrouping ? extra.groupCount : extra.totalCount);\r\n            if (!isFinite(count)) {\r\n                d.reject(dataErrors.Error(isGrouping ? \"E4022\" : \"E4021\"));\r\n                return\r\n            }\r\n            d.resolve(count)\r\n        })).fail(d.reject.bind(d));\r\n        return d\r\n    };\r\n    return {\r\n        updateTotalItemsCount: function(options) {\r\n            var totalItemsCount = 0;\r\n            var totalCount = options.extra && options.extra.totalCount || 0;\r\n            var groupCount = options.extra && options.extra.groupCount || 0;\r\n            var pageSize = this._dataSource.pageSize();\r\n            var isVirtualPaging = this._isVirtualPaging();\r\n            foreachExpandedGroups(this, (function(groupInfo) {\r\n                groupInfo.childrenTotalCount = 0\r\n            }));\r\n            foreachExpandedGroups(this, (function(groupInfo, parents) {\r\n                var totalOffset = getTotalOffset(parents, isVirtualPaging ? 0 : pageSize, totalItemsCount);\r\n                var count = groupInfo.count + groupInfo.childrenTotalCount;\r\n                if (!isVirtualPaging) {\r\n                    count += getContinuationGroupCount(totalOffset, pageSize, count, parents.length - 1)\r\n                }\r\n                if (parents[parents.length - 2]) {\r\n                    parents[parents.length - 2].childrenTotalCount += count\r\n                } else {\r\n                    totalItemsCount += count\r\n                }\r\n            }));\r\n            this.callBase(totalItemsCount - totalCount + groupCount)\r\n        },\r\n        _isGroupExpanded: function(groupIndex) {\r\n            var groups = this._dataSource.group();\r\n            return isGroupExpanded(groups, groupIndex)\r\n        },\r\n        _updatePagingOptions: function(options, callback) {\r\n            var isVirtualPaging = this._isVirtualPaging();\r\n            var pageSize = this._dataSource.pageSize();\r\n            var skips = [];\r\n            var takes = [];\r\n            var skipChildrenTotalCount = 0;\r\n            var childrenTotalCount = 0;\r\n            if (options.take) {\r\n                foreachExpandedGroups(this, (function(groupInfo) {\r\n                    groupInfo.childrenTotalCount = 0;\r\n                    groupInfo.skipChildrenTotalCount = 0\r\n                }));\r\n                foreachExpandedGroups(this, (function(groupInfo, parents) {\r\n                    var take;\r\n                    var takeCorrection = 0;\r\n                    var parentTakeCorrection = 0;\r\n                    var totalOffset = getTotalOffset(parents, isVirtualPaging ? 0 : pageSize, childrenTotalCount);\r\n                    var continuationGroupCount = 0;\r\n                    var skipContinuationGroupCount = 0;\r\n                    var groupInfoCount = groupInfo.count + groupInfo.childrenTotalCount;\r\n                    var childrenGroupInfoCount = groupInfoCount;\r\n                    callback && callback(groupInfo, totalOffset);\r\n                    var skip = options.skip - totalOffset;\r\n                    if (totalOffset <= options.skip + options.take && groupInfoCount) {\r\n                        take = options.take;\r\n                        if (!isVirtualPaging) {\r\n                            continuationGroupCount = getContinuationGroupCount(totalOffset, pageSize, groupInfoCount, parents.length - 1);\r\n                            groupInfoCount += continuationGroupCount * parents.length;\r\n                            childrenGroupInfoCount += continuationGroupCount;\r\n                            if (pageSize && skip >= 0) {\r\n                                takeCorrection = parents.length;\r\n                                parentTakeCorrection = parents.length - 1;\r\n                                skipContinuationGroupCount = Math.floor(skip / pageSize)\r\n                            }\r\n                        }\r\n                        if (skip >= 0) {\r\n                            if (totalOffset + groupInfoCount > options.skip) {\r\n                                skips.unshift(skip - skipContinuationGroupCount * takeCorrection - groupInfo.skipChildrenTotalCount)\r\n                            }\r\n                            if (totalOffset + groupInfoCount >= options.skip + take) {\r\n                                takes.unshift(take - takeCorrection - groupInfo.childrenTotalCount + groupInfo.skipChildrenTotalCount)\r\n                            }\r\n                        } else if (totalOffset + groupInfoCount >= options.skip + take) {\r\n                            takes.unshift(take + skip - groupInfo.childrenTotalCount)\r\n                        }\r\n                    }\r\n                    if (totalOffset <= options.skip) {\r\n                        if (parents[parents.length - 2]) {\r\n                            parents[parents.length - 2].skipChildrenTotalCount += Math.min(childrenGroupInfoCount, skip + 1 - skipContinuationGroupCount * parentTakeCorrection)\r\n                        } else {\r\n                            skipChildrenTotalCount += Math.min(childrenGroupInfoCount, skip + 1)\r\n                        }\r\n                    }\r\n                    if (totalOffset <= options.skip + take) {\r\n                        groupInfoCount = Math.min(childrenGroupInfoCount, skip + take - (skipContinuationGroupCount + 1) * parentTakeCorrection);\r\n                        if (parents[parents.length - 2]) {\r\n                            parents[parents.length - 2].childrenTotalCount += groupInfoCount\r\n                        } else {\r\n                            childrenTotalCount += groupInfoCount\r\n                        }\r\n                    }\r\n                }));\r\n                options.skip -= skipChildrenTotalCount;\r\n                options.take -= childrenTotalCount - skipChildrenTotalCount\r\n            }\r\n            options.skips = skips;\r\n            options.takes = takes\r\n        },\r\n        changeRowExpand: function(path) {\r\n            var groupInfo = this.findGroupInfo(path);\r\n            var dataSource = this._dataSource;\r\n            var remoteGroupPaging = dataSource.remoteOperations().groupPaging;\r\n            var groups = dataGridCore.normalizeSortingInfo(dataSource.group());\r\n            if (groupInfo) {\r\n                groupInfo.isExpanded = !groupInfo.isExpanded;\r\n                if (remoteGroupPaging && groupInfo.isExpanded && path.length < groups.length) {\r\n                    return loadGroupTotalCount(dataSource, {\r\n                        filter: createGroupFilter(path, {\r\n                            filter: dataSource.lastLoadOptions().filter,\r\n                            group: dataSource.group()\r\n                        }),\r\n                        group: [groups[path.length]],\r\n                        select: dataSource.select()\r\n                    }).done((function(groupCount) {\r\n                        groupInfo.count = groupCount\r\n                    }))\r\n                }\r\n                return (new Deferred).resolve()\r\n            }\r\n            return (new Deferred).reject()\r\n        },\r\n        handleDataLoading: function(options) {\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = dataGridCore.normalizeSortingInfo(storeLoadOptions.group || options.loadOptions.group);\r\n            if (options.isCustomLoading || !groups.length) {\r\n                return\r\n            }\r\n            if (options.remoteOperations.grouping) {\r\n                var remotePaging = this._dataSource.remoteOperations().paging;\r\n                storeLoadOptions.group = dataGridCore.normalizeSortingInfo(storeLoadOptions.group);\r\n                storeLoadOptions.group.forEach((function(group, index) {\r\n                    var isLastGroup = index === storeLoadOptions.group.length - 1;\r\n                    group.isExpanded = !remotePaging || !isLastGroup\r\n                }))\r\n            }\r\n            options.group = options.group || groups;\r\n            if (options.remoteOperations.paging) {\r\n                options.skip = storeLoadOptions.skip;\r\n                options.take = storeLoadOptions.take;\r\n                storeLoadOptions.requireGroupCount = true;\r\n                storeLoadOptions.group = groups.slice(0, 1);\r\n                this._updatePagingOptions(options);\r\n                storeLoadOptions.skip = options.skip;\r\n                storeLoadOptions.take = options.take\r\n            } else {\r\n                options.skip = options.loadOptions.skip;\r\n                options.take = options.loadOptions.take;\r\n                this._updatePagingOptions(options)\r\n            }\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            var loadedGroupCount = dataGridCore.normalizeSortingInfo(options.storeLoadOptions.group || options.loadOptions.group).length;\r\n            var groupCount = options.group ? options.group.length : 0;\r\n            var totalCount;\r\n            var expandedInfo = {};\r\n            if (options.isCustomLoading) {\r\n                callBase(options);\r\n                processGroupItems(this, options.data, loadedGroupCount, expandedInfo, [], options.isCustomLoading, options.storeLoadOptions.isLoadingAll)\r\n            } else {\r\n                if (!options.remoteOperations.paging) {\r\n                    this.foreachGroups((function(groupInfo) {\r\n                        groupInfo.count = 0\r\n                    }))\r\n                }\r\n                totalCount = updateGroupInfos(this, options, options.data, loadedGroupCount);\r\n                if (totalCount < 0) {\r\n                    options.data = (new Deferred).reject(errors.Error(\"E1037\"));\r\n                    return\r\n                }\r\n                if (!options.remoteOperations.paging) {\r\n                    if (loadedGroupCount && options.extra && options.loadOptions.requireTotalCount) {\r\n                        options.extra.totalCount = totalCount;\r\n                        options.extra.groupCount = options.data.length\r\n                    }\r\n                }\r\n                if (groupCount && options.storeLoadOptions.requireGroupCount && !isFinite(options.extra.groupCount)) {\r\n                    options.data = (new Deferred).reject(dataErrors.Error(\"E4022\"));\r\n                    return\r\n                }\r\n                this.updateTotalItemsCount(options);\r\n                if (!options.remoteOperations.paging) {\r\n                    this._updatePagingOptions(options)\r\n                }\r\n                callBase(options);\r\n                if (!options.remoteOperations.paging) {\r\n                    this._processPaging(options, loadedGroupCount)\r\n                }\r\n            }\r\n            loadGroupItems(this, options, loadedGroupCount, expandedInfo, 0, options.data)\r\n        },\r\n        _processSkips: function(items, skips, groupCount) {\r\n            if (!groupCount) {\r\n                return\r\n            }\r\n            var firstItem = items[0];\r\n            var skip = skips[0];\r\n            var children = firstItem && firstItem.items;\r\n            if (void 0 !== skip) {\r\n                firstItem.isContinuation = true;\r\n                if (children) {\r\n                    firstItem.items = children.slice(skip);\r\n                    this._processSkips(firstItem.items, skips.slice(1), groupCount - 1)\r\n                }\r\n            }\r\n        },\r\n        _processTakes: function(items, skips, takes, groupCount, parents) {\r\n            if (!groupCount || !items) {\r\n                return\r\n            }\r\n            parents = parents || [];\r\n            var lastItem = items[items.length - 1];\r\n            var children = lastItem && lastItem.items;\r\n            var take = takes[0];\r\n            var skip = skips[0];\r\n            if (lastItem) {\r\n                var maxTakeCount = lastItem.count - (lastItem.isContinuation && skip || 0) || children.length;\r\n                if (void 0 !== take && maxTakeCount > take) {\r\n                    lastItem.isContinuationOnNextPage = true;\r\n                    parents.forEach((function(parent) {\r\n                        parent.isContinuationOnNextPage = true\r\n                    }));\r\n                    if (children) {\r\n                        children = children.slice(0, take);\r\n                        lastItem.items = children\r\n                    }\r\n                }\r\n                parents.push(lastItem);\r\n                this._processTakes(children, skips.slice(1), takes.slice(1), groupCount - 1, parents)\r\n            }\r\n        },\r\n        _processPaging: function(options, groupCount) {\r\n            this._processSkips(options.data, options.skips, groupCount);\r\n            this._processTakes(options.data, options.skips, options.takes, groupCount)\r\n        },\r\n        isLastLevelGroupItemsPagingLocal: function() {\r\n            return false\r\n        },\r\n        sortLastLevelGroupItems: function(items) {\r\n            return items\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var group = options.group || options.storeLoadOptions.group;\r\n            var oldGroups = dataGridCore.normalizeSortingInfo(that._group);\r\n            var isExpanded;\r\n            var groupIndex;\r\n\r\n            function handleGroup(groupInfo, parents) {\r\n                if (parents.length === groupIndex + 1) {\r\n                    groupInfo.isExpanded = isExpanded\r\n                }\r\n            }\r\n            for (groupIndex = 0; groupIndex < oldGroups.length; groupIndex++) {\r\n                isExpanded = isGroupExpanded(group, groupIndex);\r\n                if (isGroupExpanded(that._group, groupIndex) !== isExpanded) {\r\n                    that.foreachGroups(handleGroup)\r\n                }\r\n            }\r\n            that.callBase.apply(this, arguments);\r\n            if (group && options.remoteOperations.paging && operationTypes.reload) {\r\n                return foreachExpandedGroups(that, (function(groupInfo) {\r\n                    var groupCountQuery = loadGroupTotalCount(dataSource, {\r\n                        filter: createGroupFilter(groupInfo.path, {\r\n                            filter: storeLoadOptions.filter,\r\n                            group: group\r\n                        }),\r\n                        group: group.slice(groupInfo.path.length),\r\n                        select: storeLoadOptions.select\r\n                    });\r\n                    var groupOffsetQuery = loadGroupTotalCount(dataSource, {\r\n                        filter: createOffsetFilter(groupInfo.path, {\r\n                            filter: storeLoadOptions.filter,\r\n                            group: group\r\n                        }, true),\r\n                        group: group.slice(groupInfo.path.length - 1, groupInfo.path.length),\r\n                        select: storeLoadOptions.select\r\n                    });\r\n                    return when(groupOffsetQuery, groupCountQuery).done((function(offset, count) {\r\n                        offset = parseInt(offset.length ? offset[0] : offset);\r\n                        count = parseInt(count.length ? count[0] : count);\r\n                        groupInfo.offset = offset;\r\n                        if (groupInfo.count !== count) {\r\n                            groupInfo.count = count;\r\n                            that.updateTotalItemsCount(options)\r\n                        }\r\n                    }))\r\n                }), true)\r\n            }\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    GroupingHelper as ExpandedGroupingHelper\r\n} from \"./ui.data_grid.grouping.expanded\";\r\nimport {\r\n    GroupingHelper as CollapsedGroupingHelper\r\n} from \"./ui.data_grid.grouping.collapsed\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport dataSourceAdapter from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    registerKeyboardAction\r\n} from \"../grid_core/ui.grid_core.accessibility\";\r\nimport {\r\n    setTabIndex,\r\n    restoreFocus\r\n} from \"../shared/accessibility\";\r\nvar DATAGRID_GROUP_PANEL_CLASS = \"dx-datagrid-group-panel\";\r\nvar DATAGRID_GROUP_PANEL_MESSAGE_CLASS = \"dx-group-panel-message\";\r\nvar DATAGRID_GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\r\nvar DATAGRID_GROUP_PANEL_LABEL_CLASS = \"dx-toolbar-label\";\r\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\r\nvar DATAGRID_GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar HEADER_FILTER_CLASS_SELECTOR = \".dx-header-filter\";\r\nvar GroupingDataSourceAdapterExtender = {\r\n    init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._initGroupingHelper()\r\n    },\r\n    _initGroupingHelper: function(options) {\r\n        var grouping = this._grouping;\r\n        var isAutoExpandAll = this.option(\"grouping.autoExpandAll\");\r\n        var isFocusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n        var remoteOperations = options ? options.remoteOperations : this.remoteOperations();\r\n        var isODataRemoteOperations = remoteOperations.filtering && remoteOperations.sorting && remoteOperations.paging;\r\n        if (isODataRemoteOperations && !remoteOperations.grouping && (isAutoExpandAll || !isFocusedRowEnabled)) {\r\n            if (!grouping || grouping instanceof CollapsedGroupingHelper) {\r\n                this._grouping = new ExpandedGroupingHelper(this)\r\n            }\r\n        } else if (!grouping || grouping instanceof ExpandedGroupingHelper) {\r\n            this._grouping = new CollapsedGroupingHelper(this)\r\n        }\r\n    },\r\n    totalItemsCount: function() {\r\n        var totalCount = this.callBase();\r\n        return totalCount > 0 && this._dataSource.group() && this._dataSource.requireTotalCount() ? totalCount + this._grouping.totalCountCorrection() : totalCount\r\n    },\r\n    itemsCount: function() {\r\n        return this._dataSource.group() ? this._grouping.itemsCount() || 0 : this.callBase.apply(this, arguments)\r\n    },\r\n    allowCollapseAll: function() {\r\n        return this._grouping.allowCollapseAll()\r\n    },\r\n    isGroupItemCountable: function(item) {\r\n        return this._grouping.isGroupItemCountable(item)\r\n    },\r\n    isRowExpanded: function(key) {\r\n        var groupInfo = this._grouping.findGroupInfo(key);\r\n        return groupInfo ? groupInfo.isExpanded : !this._grouping.allowCollapseAll()\r\n    },\r\n    collapseAll: function(groupIndex) {\r\n        return this._collapseExpandAll(groupIndex, false)\r\n    },\r\n    expandAll: function(groupIndex) {\r\n        return this._collapseExpandAll(groupIndex, true)\r\n    },\r\n    _collapseExpandAll: function(groupIndex, isExpand) {\r\n        var dataSource = this._dataSource;\r\n        var group = dataSource.group();\r\n        var groups = gridCore.normalizeSortingInfo(group || []);\r\n        if (groups.length) {\r\n            for (var i = 0; i < groups.length; i++) {\r\n                if (void 0 === groupIndex || groupIndex === i) {\r\n                    groups[i].isExpanded = isExpand\r\n                } else if (group && group[i]) {\r\n                    groups[i].isExpanded = group[i].isExpanded\r\n                }\r\n            }\r\n            dataSource.group(groups);\r\n            this._grouping.foreachGroups((function(groupInfo, parents) {\r\n                if (void 0 === groupIndex || groupIndex === parents.length - 1) {\r\n                    groupInfo.isExpanded = isExpand\r\n                }\r\n            }), false, true);\r\n            this.resetPagesCache()\r\n        }\r\n        return true\r\n    },\r\n    refresh: function() {\r\n        this.callBase.apply(this, arguments);\r\n        return this._grouping.refresh.apply(this._grouping, arguments)\r\n    },\r\n    changeRowExpand: function(path) {\r\n        var dataSource = this._dataSource;\r\n        if (dataSource.group()) {\r\n            dataSource.beginLoading();\r\n            if (this._lastLoadOptions) {\r\n                this._lastLoadOptions.groupExpand = true\r\n            }\r\n            return this._changeRowExpandCore(path).always((function() {\r\n                dataSource.endLoading()\r\n            }))\r\n        }\r\n    },\r\n    _changeRowExpandCore: function(path) {\r\n        return this._grouping.changeRowExpand(path)\r\n    },\r\n    _hasGroupLevelsExpandState: function(group, isExpanded) {\r\n        if (group && Array.isArray(group)) {\r\n            for (var i = 0; i < group.length; i++) {\r\n                if (group[i].isExpanded === isExpanded) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _customizeRemoteOperations: function(options, operationTypes) {\r\n        var remoteOperations = options.remoteOperations;\r\n        if (options.storeLoadOptions.group) {\r\n            if (remoteOperations.grouping && !options.isCustomLoading) {\r\n                if (!remoteOperations.groupPaging || this._hasGroupLevelsExpandState(options.storeLoadOptions.group, true)) {\r\n                    remoteOperations.paging = false\r\n                }\r\n            }\r\n            if (!remoteOperations.grouping && (!remoteOperations.sorting || !remoteOperations.filtering || options.isCustomLoading || this._hasGroupLevelsExpandState(options.storeLoadOptions.group, false))) {\r\n                remoteOperations.paging = false\r\n            }\r\n        } else if (!options.isCustomLoading && remoteOperations.paging && operationTypes.grouping) {\r\n            this.resetCache()\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _handleDataLoading: function(options) {\r\n        this.callBase(options);\r\n        this._initGroupingHelper(options);\r\n        return this._grouping.handleDataLoading(options)\r\n    },\r\n    _handleDataLoaded: function(options) {\r\n        return this._grouping.handleDataLoaded(options, this.callBase.bind(this))\r\n    },\r\n    _handleDataLoadedCore: function(options) {\r\n        return this._grouping.handleDataLoadedCore(options, this.callBase.bind(this))\r\n    }\r\n};\r\ndataSourceAdapter.extend(GroupingDataSourceAdapterExtender);\r\nvar GroupingDataControllerExtender = {\r\n    init: function() {\r\n        this.callBase();\r\n        this.createAction(\"onRowExpanding\");\r\n        this.createAction(\"onRowExpanded\");\r\n        this.createAction(\"onRowCollapsing\");\r\n        this.createAction(\"onRowCollapsed\")\r\n    },\r\n    _beforeProcessItems: function(items) {\r\n        var groupColumns = this._columnsController.getGroupColumns();\r\n        items = this.callBase(items);\r\n        if (items.length && groupColumns.length) {\r\n            items = this._processGroupItems(items, groupColumns.length)\r\n        }\r\n        return items\r\n    },\r\n    _processItem: function(item, options) {\r\n        if (isDefined(item.groupIndex) && isString(item.rowType) && 0 === item.rowType.indexOf(\"group\")) {\r\n            item = this._processGroupItem(item, options);\r\n            options.dataIndex = 0\r\n        } else {\r\n            item = this.callBase.apply(this, arguments)\r\n        }\r\n        return item\r\n    },\r\n    _processGroupItem: function(item) {\r\n        return item\r\n    },\r\n    _processGroupItems: function(items, groupsCount, options) {\r\n        var groupedColumns = this._columnsController.getGroupColumns();\r\n        var column = groupedColumns[groupedColumns.length - groupsCount];\r\n        if (!options) {\r\n            var scrollingMode = this.option(\"scrolling.mode\");\r\n            options = {\r\n                collectContinuationItems: \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode,\r\n                resultItems: [],\r\n                path: [],\r\n                values: []\r\n            }\r\n        }\r\n        var resultItems = options.resultItems;\r\n        if (options.data) {\r\n            if (options.collectContinuationItems || !options.data.isContinuation) {\r\n                resultItems.push({\r\n                    rowType: \"group\",\r\n                    data: options.data,\r\n                    groupIndex: options.path.length - 1,\r\n                    isExpanded: !!options.data.items,\r\n                    key: options.path.slice(0),\r\n                    values: options.values.slice(0)\r\n                })\r\n            }\r\n        }\r\n        if (items) {\r\n            if (0 === groupsCount) {\r\n                resultItems.push.apply(resultItems, items)\r\n            } else {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var item = items[i];\r\n                    if (item && \"items\" in item) {\r\n                        options.data = item;\r\n                        options.path.push(item.key);\r\n                        options.values.push(column && column.deserializeValue && !column.calculateDisplayValue ? column.deserializeValue(item.key) : item.key);\r\n                        this._processGroupItems(item.items, groupsCount - 1, options);\r\n                        options.data = void 0;\r\n                        options.path.pop();\r\n                        options.values.pop()\r\n                    } else {\r\n                        resultItems.push(item)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return resultItems\r\n    },\r\n    publicMethods: function() {\r\n        return this.callBase().concat([\"collapseAll\", \"expandAll\", \"isRowExpanded\", \"expandRow\", \"collapseRow\"])\r\n    },\r\n    collapseAll: function(groupIndex) {\r\n        var dataSource = this._dataSource;\r\n        if (dataSource && dataSource.collapseAll(groupIndex)) {\r\n            dataSource.pageIndex(0);\r\n            dataSource.reload()\r\n        }\r\n    },\r\n    expandAll: function(groupIndex) {\r\n        var dataSource = this._dataSource;\r\n        if (dataSource && dataSource.expandAll(groupIndex)) {\r\n            dataSource.pageIndex(0);\r\n            dataSource.reload()\r\n        }\r\n    },\r\n    changeRowExpand: function(key) {\r\n        var that = this;\r\n        var expanded = that.isRowExpanded(key);\r\n        var args = {\r\n            key: key,\r\n            expanded: expanded\r\n        };\r\n        that.executeAction(expanded ? \"onRowCollapsing\" : \"onRowExpanding\", args);\r\n        if (!args.cancel) {\r\n            return when(that._changeRowExpandCore(key)).done((function() {\r\n                args.expanded = !expanded;\r\n                that.executeAction(expanded ? \"onRowCollapsed\" : \"onRowExpanded\", args)\r\n            }))\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    _changeRowExpandCore: function(key) {\r\n        var that = this;\r\n        var dataSource = this._dataSource;\r\n        var d = new Deferred;\r\n        if (!dataSource) {\r\n            d.resolve()\r\n        } else {\r\n            when(dataSource.changeRowExpand(key)).done((function() {\r\n                that.load().done(d.resolve).fail(d.reject)\r\n            })).fail(d.reject)\r\n        }\r\n        return d\r\n    },\r\n    isRowExpanded: function(key) {\r\n        var dataSource = this._dataSource;\r\n        return dataSource && dataSource.isRowExpanded(key)\r\n    },\r\n    expandRow: function(key) {\r\n        if (!this.isRowExpanded(key)) {\r\n            return this.changeRowExpand(key)\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    collapseRow: function(key) {\r\n        if (this.isRowExpanded(key)) {\r\n            return this.changeRowExpand(key)\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"grouping\" === args.name) {\r\n            args.name = \"dataSource\"\r\n        }\r\n        this.callBase(args)\r\n    }\r\n};\r\nvar onGroupingMenuItemClick = function(column, params) {\r\n    var columnsController = this._columnsController;\r\n    switch (params.itemData.value) {\r\n        case \"group\":\r\n            var groups = columnsController._dataSource.group() || [];\r\n            columnsController.columnOption(column.dataField, \"groupIndex\", groups.length);\r\n            break;\r\n        case \"ungroup\":\r\n            columnsController.columnOption(column.dataField, \"groupIndex\", -1);\r\n            break;\r\n        case \"ungroupAll\":\r\n            this.component.clearGrouping()\r\n    }\r\n};\r\nexport var GroupingHeaderPanelExtender = {\r\n    _getToolbarItems: function() {\r\n        var items = this.callBase();\r\n        return this._appendGroupingItem(items)\r\n    },\r\n    _appendGroupingItem: function(items) {\r\n        if (this._isGroupPanelVisible()) {\r\n            var isRendered = false;\r\n            var toolbarItem = {\r\n                template: () => {\r\n                    var $groupPanel = $(\"<div>\").addClass(DATAGRID_GROUP_PANEL_CLASS);\r\n                    this._updateGroupPanelContent($groupPanel);\r\n                    registerKeyboardAction(\"groupPanel\", this, $groupPanel, void 0, this._handleActionKeyDown.bind(this));\r\n                    return $groupPanel\r\n                },\r\n                name: \"groupPanel\",\r\n                onItemRendered: () => {\r\n                    isRendered && this.renderCompleted.fire();\r\n                    isRendered = true\r\n                },\r\n                location: \"before\",\r\n                locateInMenu: \"never\",\r\n                sortIndex: 1\r\n            };\r\n            items.push(toolbarItem)\r\n        }\r\n        return items\r\n    },\r\n    _handleActionKeyDown: function(args) {\r\n        var event = args.event;\r\n        var $target = $(event.target);\r\n        var groupColumnIndex = $target.closest(\".\".concat(DATAGRID_GROUP_PANEL_ITEM_CLASS)).index();\r\n        var column = this._columnsController.getGroupColumns()[groupColumnIndex];\r\n        var columnIndex = column && column.index;\r\n        if ($target.is(HEADER_FILTER_CLASS_SELECTOR)) {\r\n            this.getController(\"headerFilter\").showHeaderFilterMenu(columnIndex, true)\r\n        } else {\r\n            this._processGroupItemAction(columnIndex)\r\n        }\r\n        event.preventDefault()\r\n    },\r\n    _isGroupPanelVisible: function() {\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        var isVisible;\r\n        if (groupPanelOptions) {\r\n            isVisible = groupPanelOptions.visible;\r\n            if (\"auto\" === isVisible) {\r\n                isVisible = \"desktop\" === devices.current().deviceType ? true : false\r\n            }\r\n        }\r\n        return isVisible\r\n    },\r\n    _renderGroupPanelItems: function($groupPanel, groupColumns) {\r\n        var that = this;\r\n        $groupPanel.empty();\r\n        each(groupColumns, (function(index, groupColumn) {\r\n            that._createGroupPanelItem($groupPanel, groupColumn)\r\n        }));\r\n        restoreFocus(this)\r\n    },\r\n    _createGroupPanelItem: function($rootElement, groupColumn) {\r\n        var $groupPanelItem = $(\"<div>\").addClass(groupColumn.cssClass).addClass(DATAGRID_GROUP_PANEL_ITEM_CLASS).data(\"columnData\", groupColumn).appendTo($rootElement).text(groupColumn.caption);\r\n        setTabIndex(this, $groupPanelItem);\r\n        return $groupPanelItem\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        if (!this._requireReady && !gridCore.checkChanges(e.optionNames, [\"width\", \"visibleWidth\"])) {\r\n            var $toolbarElement = this.element();\r\n            var $groupPanel = $toolbarElement && $toolbarElement.find(\".\" + DATAGRID_GROUP_PANEL_CLASS);\r\n            if ($groupPanel && $groupPanel.length) {\r\n                this._updateGroupPanelContent($groupPanel);\r\n                this.renderCompleted.fire()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    _updateGroupPanelContent: function($groupPanel) {\r\n        var groupColumns = this.getController(\"columns\").getGroupColumns();\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        this._renderGroupPanelItems($groupPanel, groupColumns);\r\n        if (groupPanelOptions.allowColumnDragging && !groupColumns.length) {\r\n            $(\"<div>\").addClass(DATAGRID_GROUP_PANEL_MESSAGE_CLASS).text(groupPanelOptions.emptyPanelText).appendTo($groupPanel);\r\n            $groupPanel.closest(\".\" + DATAGRID_GROUP_PANEL_LABEL_CLASS).css(\"maxWidth\", \"none\");\r\n            this.updateToolbarDimensions()\r\n        }\r\n    },\r\n    allowDragging: function(column) {\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        return this._isGroupPanelVisible() && groupPanelOptions.allowColumnDragging && column && column.allowGrouping\r\n    },\r\n    getColumnElements: function() {\r\n        var $element = this.element();\r\n        return $element && $element.find(\".\" + DATAGRID_GROUP_PANEL_ITEM_CLASS)\r\n    },\r\n    getColumns: function() {\r\n        return this.getController(\"columns\").getGroupColumns()\r\n    },\r\n    getBoundingRect: function() {\r\n        var $element = this.element();\r\n        if ($element && $element.find(\".\" + DATAGRID_GROUP_PANEL_CLASS).length) {\r\n            var offset = $element.offset();\r\n            return {\r\n                top: offset.top,\r\n                bottom: offset.top + getHeight($element)\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    getName: function() {\r\n        return \"group\"\r\n    },\r\n    getContextMenuItems: function(options) {\r\n        var contextMenuEnabled = this.option(\"grouping.contextMenuEnabled\");\r\n        var $groupedColumnElement = $(options.targetElement).closest(\".\" + DATAGRID_GROUP_PANEL_ITEM_CLASS);\r\n        var items;\r\n        if ($groupedColumnElement.length) {\r\n            options.column = $groupedColumnElement.data(\"columnData\")\r\n        }\r\n        if (contextMenuEnabled && options.column) {\r\n            var column = options.column;\r\n            var isGroupingAllowed = isDefined(column.allowGrouping) ? column.allowGrouping : true;\r\n            if (isGroupingAllowed) {\r\n                var isColumnGrouped = isDefined(column.groupIndex) && column.groupIndex > -1;\r\n                var groupingTexts = this.option(\"grouping.texts\");\r\n                var onItemClick = onGroupingMenuItemClick.bind(this, column);\r\n                items = [{\r\n                    text: groupingTexts.ungroup,\r\n                    value: \"ungroup\",\r\n                    disabled: !isColumnGrouped,\r\n                    onItemClick: onItemClick\r\n                }, {\r\n                    text: groupingTexts.ungroupAll,\r\n                    value: \"ungroupAll\",\r\n                    onItemClick: onItemClick\r\n                }]\r\n            }\r\n        }\r\n        return items\r\n    },\r\n    isVisible: function() {\r\n        return this.callBase() || this._isGroupPanelVisible()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"groupPanel\" === args.name) {\r\n            this._invalidate();\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\nvar GroupingRowsViewExtender = {\r\n    getContextMenuItems: function(options) {\r\n        var contextMenuEnabled = this.option(\"grouping.contextMenuEnabled\");\r\n        var items;\r\n        if (contextMenuEnabled && options.row && \"group\" === options.row.rowType) {\r\n            var columnsController = this._columnsController;\r\n            var column = columnsController.columnOption(\"groupIndex:\" + options.row.groupIndex);\r\n            if (column && column.allowGrouping) {\r\n                var groupingTexts = this.option(\"grouping.texts\");\r\n                var onItemClick = onGroupingMenuItemClick.bind(this, column);\r\n                items = [];\r\n                items.push({\r\n                    text: groupingTexts.ungroup,\r\n                    value: \"ungroup\",\r\n                    onItemClick: onItemClick\r\n                }, {\r\n                    text: groupingTexts.ungroupAll,\r\n                    value: \"ungroupAll\",\r\n                    onItemClick: onItemClick\r\n                })\r\n            }\r\n        }\r\n        return items\r\n    },\r\n    _rowClick: function(e) {\r\n        var expandMode = this.option(\"grouping.expandMode\");\r\n        var scrollingMode = this.option(\"scrolling.mode\");\r\n        var isGroupRowStateChanged = \"infinite\" !== scrollingMode && \"rowClick\" === expandMode && $(e.event.target).closest(\".\" + DATAGRID_GROUP_ROW_CLASS).length;\r\n        var isExpandButtonClicked = $(e.event.target).closest(\".\" + DATAGRID_EXPAND_CLASS).length;\r\n        if (isGroupRowStateChanged || isExpandButtonClicked) {\r\n            this._changeGroupRowState(e)\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _changeGroupRowState: function(e) {\r\n        var dataController = this.getController(\"data\");\r\n        var row = dataController.items()[e.rowIndex];\r\n        var allowCollapsing = this._columnsController.columnOption(\"groupIndex:\" + row.groupIndex, \"allowCollapsing\");\r\n        if (\"data\" === row.rowType || \"group\" === row.rowType && false !== allowCollapsing) {\r\n            dataController.changeRowExpand(row.key, true);\r\n            e.event.preventDefault();\r\n            e.handled = true\r\n        }\r\n    }\r\n};\r\nvar columnHeadersViewExtender = {\r\n    getContextMenuItems: function(options) {\r\n        var contextMenuEnabled = this.option(\"grouping.contextMenuEnabled\");\r\n        var items = this.callBase(options);\r\n        if (contextMenuEnabled && options.row && (\"header\" === options.row.rowType || \"detailAdaptive\" === options.row.rowType)) {\r\n            var column = options.column;\r\n            if (!column.command && (!isDefined(column.allowGrouping) || column.allowGrouping)) {\r\n                var groupingTexts = this.option(\"grouping.texts\");\r\n                var isColumnGrouped = isDefined(column.groupIndex) && column.groupIndex > -1;\r\n                var onItemClick = onGroupingMenuItemClick.bind(this, column);\r\n                items = items || [];\r\n                items.push({\r\n                    text: groupingTexts.groupByThisColumn,\r\n                    value: \"group\",\r\n                    beginGroup: true,\r\n                    disabled: isColumnGrouped,\r\n                    onItemClick: onItemClick\r\n                });\r\n                if (column.showWhenGrouped) {\r\n                    items.push({\r\n                        text: groupingTexts.ungroup,\r\n                        value: \"ungroup\",\r\n                        disabled: !isColumnGrouped,\r\n                        onItemClick: onItemClick\r\n                    })\r\n                }\r\n                items.push({\r\n                    text: groupingTexts.ungroupAll,\r\n                    value: \"ungroupAll\",\r\n                    onItemClick: onItemClick\r\n                })\r\n            }\r\n        }\r\n        return items\r\n    }\r\n};\r\ngridCore.registerModule(\"grouping\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            grouping: {\r\n                autoExpandAll: true,\r\n                allowCollapsing: true,\r\n                contextMenuEnabled: false,\r\n                expandMode: \"buttonClick\",\r\n                texts: {\r\n                    groupContinuesMessage: messageLocalization.format(\"dxDataGrid-groupContinuesMessage\"),\r\n                    groupContinuedMessage: messageLocalization.format(\"dxDataGrid-groupContinuedMessage\"),\r\n                    groupByThisColumn: messageLocalization.format(\"dxDataGrid-groupHeaderText\"),\r\n                    ungroup: messageLocalization.format(\"dxDataGrid-ungroupHeaderText\"),\r\n                    ungroupAll: messageLocalization.format(\"dxDataGrid-ungroupAllText\")\r\n                }\r\n            },\r\n            groupPanel: {\r\n                visible: false,\r\n                emptyPanelText: messageLocalization.format(\"dxDataGrid-groupPanelEmptyText\"),\r\n                allowColumnDragging: true\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: GroupingDataControllerExtender,\r\n            columns: {\r\n                _getExpandColumnOptions: function() {\r\n                    var options = this.callBase.apply(this, arguments);\r\n                    options.cellTemplate = gridCore.getExpandCellTemplate();\r\n                    return options\r\n                }\r\n            },\r\n            editing: {\r\n                _isProcessedItem: function(item) {\r\n                    return isDefined(item.groupIndex) && isString(item.rowType) && 0 === item.rowType.indexOf(\"group\")\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: GroupingHeaderPanelExtender,\r\n            rowsView: GroupingRowsViewExtender,\r\n            columnHeadersView: columnHeadersViewExtender\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.master_detail.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    grep\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nexport var masterDetailModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            masterDetail: {\r\n                enabled: false,\r\n                autoExpandAll: false,\r\n                template: null\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: {\r\n                _getExpandColumnsCore: function() {\r\n                    var expandColumns = this.callBase();\r\n                    if (this.option(\"masterDetail.enabled\")) {\r\n                        expandColumns.push({\r\n                            type: \"detailExpand\",\r\n                            cellTemplate: gridCoreUtils.getExpandCellTemplate()\r\n                        })\r\n                    }\r\n                    return expandColumns\r\n                }\r\n            },\r\n            data: function() {\r\n                var initMasterDetail = function(that) {\r\n                    that._expandedItems = [];\r\n                    that._isExpandAll = that.option(\"masterDetail.autoExpandAll\")\r\n                };\r\n                return {\r\n                    init: function() {\r\n                        initMasterDetail(this);\r\n                        this.callBase()\r\n                    },\r\n                    expandAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = true;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    collapseAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = false;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    isRowExpanded: function(key) {\r\n                        var that = this;\r\n                        var expandIndex = gridCoreUtils.getIndexByKey(key, that._expandedItems);\r\n                        if (Array.isArray(key)) {\r\n                            return that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            return !!(that._isExpandAll ^ (expandIndex >= 0 && that._expandedItems[expandIndex].visible))\r\n                        }\r\n                    },\r\n                    _getRowIndicesForExpand: function(key) {\r\n                        var rowIndex = this.getRowIndexByKey(key);\r\n                        return [rowIndex, rowIndex + 1]\r\n                    },\r\n                    _changeRowExpandCore: function(key) {\r\n                        var that = this;\r\n                        var result;\r\n                        if (Array.isArray(key)) {\r\n                            result = that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            var expandIndex = gridCoreUtils.getIndexByKey(key, that._expandedItems);\r\n                            if (expandIndex >= 0) {\r\n                                var visible = that._expandedItems[expandIndex].visible;\r\n                                that._expandedItems[expandIndex].visible = !visible\r\n                            } else {\r\n                                that._expandedItems.push({\r\n                                    key: key,\r\n                                    visible: true\r\n                                })\r\n                            }\r\n                            that.updateItems({\r\n                                changeType: \"update\",\r\n                                rowIndices: that._getRowIndicesForExpand(key)\r\n                            });\r\n                            result = (new Deferred).resolve()\r\n                        }\r\n                        return result\r\n                    },\r\n                    _processDataItem: function(data, options) {\r\n                        var that = this;\r\n                        var dataItem = that.callBase.apply(that, arguments);\r\n                        dataItem.isExpanded = that.isRowExpanded(dataItem.key);\r\n                        if (void 0 === options.detailColumnIndex) {\r\n                            options.detailColumnIndex = -1;\r\n                            each(options.visibleColumns, (function(index, column) {\r\n                                if (\"expand\" === column.command && !isDefined(column.groupIndex)) {\r\n                                    options.detailColumnIndex = index;\r\n                                    return false\r\n                                }\r\n                            }))\r\n                        }\r\n                        if (options.detailColumnIndex >= 0) {\r\n                            dataItem.values[options.detailColumnIndex] = dataItem.isExpanded\r\n                        }\r\n                        return dataItem\r\n                    },\r\n                    _processItems: function(items, change) {\r\n                        var that = this;\r\n                        var changeType = change.changeType;\r\n                        var result = [];\r\n                        items = that.callBase.apply(that, arguments);\r\n                        if (\"loadingAll\" === changeType) {\r\n                            return items\r\n                        }\r\n                        if (\"refresh\" === changeType) {\r\n                            that._expandedItems = grep(that._expandedItems, (function(item) {\r\n                                return item.visible\r\n                            }))\r\n                        }\r\n                        each(items, (function(index, item) {\r\n                            result.push(item);\r\n                            var expandIndex = gridCoreUtils.getIndexByKey(item.key, that._expandedItems);\r\n                            if (\"data\" === item.rowType && (item.isExpanded || expandIndex >= 0) && !item.isNewRow) {\r\n                                result.push({\r\n                                    visible: item.isExpanded,\r\n                                    rowType: \"detail\",\r\n                                    key: item.key,\r\n                                    data: item.data,\r\n                                    values: []\r\n                                })\r\n                            }\r\n                        }));\r\n                        return result\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        var isEnabledChanged;\r\n                        var isAutoExpandAllChanged;\r\n                        if (\"masterDetail\" === args.name) {\r\n                            args.name = \"dataSource\";\r\n                            switch (args.fullName) {\r\n                                case \"masterDetail\":\r\n                                    var value = args.value || {};\r\n                                    var previousValue = args.previousValue || {};\r\n                                    isEnabledChanged = value.enabled !== previousValue.enabled;\r\n                                    isAutoExpandAllChanged = value.autoExpandAll !== previousValue.autoExpandAll;\r\n                                    break;\r\n                                case \"masterDetail.template\":\r\n                                    initMasterDetail(this);\r\n                                    break;\r\n                                case \"masterDetail.enabled\":\r\n                                    isEnabledChanged = true;\r\n                                    break;\r\n                                case \"masterDetail.autoExpandAll\":\r\n                                    isAutoExpandAllChanged = true\r\n                            }\r\n                            if (isEnabledChanged || isAutoExpandAllChanged) {\r\n                                initMasterDetail(this)\r\n                            }\r\n                        }\r\n                        this.callBase(args)\r\n                    }\r\n                }\r\n            }(),\r\n            resizing: {\r\n                fireContentReadyAction: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._updateParentDataGrids(this.component.$element())\r\n                },\r\n                _updateParentDataGrids: function($element) {\r\n                    var $masterDetailRow = $element.closest(\".\" + MASTER_DETAIL_ROW_CLASS);\r\n                    if ($masterDetailRow.length) {\r\n                        when(this._updateMasterDataGrid($masterDetailRow, $element)).done(() => {\r\n                            this._updateParentDataGrids($masterDetailRow.parent())\r\n                        })\r\n                    }\r\n                },\r\n                _updateMasterDataGrid: function($masterDetailRow, $detailElement) {\r\n                    var masterRowOptions = $($masterDetailRow).data(\"options\");\r\n                    var masterDataGrid = $($masterDetailRow).closest(\".\" + this.getWidgetContainerClass()).parent().data(\"dxDataGrid\");\r\n                    if (masterRowOptions && masterDataGrid) {\r\n                        if (masterDataGrid.getView(\"rowsView\").isFixedColumns()) {\r\n                            return this._updateFixedMasterDetailGrids(masterDataGrid, masterRowOptions.rowIndex, $detailElement)\r\n                        } else {\r\n                            if (true === masterDataGrid.option(\"scrolling.useNative\")) {\r\n                                return masterDataGrid.updateDimensions()\r\n                            }\r\n                            var scrollable = masterDataGrid.getScrollable();\r\n                            return null === scrollable || void 0 === scrollable ? void 0 : scrollable.update()\r\n                        }\r\n                    }\r\n                },\r\n                _updateFixedMasterDetailGrids: function(masterDataGrid, masterRowIndex, $detailElement) {\r\n                    var $rows = $(masterDataGrid.getRowElement(masterRowIndex));\r\n                    var $tables = $(masterDataGrid.getView(\"rowsView\").getTableElements());\r\n                    var rowsNotEqual = 2 === (null === $rows || void 0 === $rows ? void 0 : $rows.length) && getHeight($rows.eq(0)) !== getHeight($rows.eq(1));\r\n                    var tablesNotEqual = 2 === (null === $tables || void 0 === $tables ? void 0 : $tables.length) && getHeight($tables.eq(0)) !== getHeight($tables.eq(1));\r\n                    if (rowsNotEqual || tablesNotEqual) {\r\n                        var detailElementWidth = getWidth($detailElement);\r\n                        return masterDataGrid.updateDimensions().done(() => {\r\n                            var isDetailHorizontalScrollCanBeShown = this.option(\"columnAutoWidth\") && true === masterDataGrid.option(\"scrolling.useNative\");\r\n                            var isDetailGridWidthChanged = isDetailHorizontalScrollCanBeShown && detailElementWidth !== getWidth($detailElement);\r\n                            if (isDetailHorizontalScrollCanBeShown && isDetailGridWidthChanged) {\r\n                                this.updateDimensions()\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                _toggleBestFitMode: function(isBestFit) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option(\"masterDetail.template\")) {\r\n                        var $rowsTable = this._rowsView.getTableElement();\r\n                        if ($rowsTable) {\r\n                            $rowsTable.find(\".dx-master-detail-cell\").css(\"maxWidth\", isBestFit ? 0 : \"\")\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    var editingController = that.getController(\"editing\");\r\n                    var isEditRow = editingController && editingController.isEditRow(options.rowIndex);\r\n                    var template;\r\n                    if (\"detail\" === column.command && !isEditRow) {\r\n                        template = that.option(\"masterDetail.template\") || {\r\n                            allowRenderToDetachedContainer: false,\r\n                            render: that._getDefaultTemplate(column)\r\n                        }\r\n                    } else {\r\n                        template = that.callBase.apply(that, arguments)\r\n                    }\r\n                    return template\r\n                },\r\n                _isDetailRow: function(row) {\r\n                    return row && row.rowType && 0 === row.rowType.indexOf(\"detail\")\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row && this._isDetailRow(row)) {\r\n                        this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                        $row.addClass(MASTER_DETAIL_ROW_CLASS);\r\n                        if (isDefined(row.visible)) {\r\n                            $row.toggle(row.visible)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    var row = options.row;\r\n                    var $detailCell;\r\n                    var visibleColumns = this._columnsController.getVisibleColumns();\r\n                    if (row.rowType && this._isDetailRow(row)) {\r\n                        if (this._needRenderCell(0, options.columnIndices)) {\r\n                            $detailCell = this._renderCell($row, {\r\n                                value: null,\r\n                                row: row,\r\n                                rowIndex: row.rowIndex,\r\n                                column: {\r\n                                    command: \"detail\"\r\n                                },\r\n                                columnIndex: 0\r\n                            });\r\n                            $detailCell.addClass(CELL_FOCUS_DISABLED_CLASS).addClass(MASTER_DETAIL_CELL_CLASS).attr(\"colSpan\", visibleColumns.length)\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.master_detail.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    masterDetailModule\r\n} from \"../grid_core/ui.grid_core.master_detail\";\r\ngridCore.registerModule(\"masterDetail\", masterDetailModule);\r\n","/**\r\n * DevExtreme (esm/ui/shared/ui.editor_factory_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    isDefined,\r\n    isObject,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"../../data/data_source/utils\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nvar {\r\n    isWrapped: isWrapped\r\n} = variableWrapper;\r\nimport \"../text_box\";\r\nimport \"../number_box\";\r\nimport \"../check_box\";\r\nimport \"../select_box\";\r\nimport \"../date_box\";\r\nvar CHECKBOX_SIZE_CLASS = \"checkbox-size\";\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar EditorFactoryMixin = function() {\r\n    var getResultConfig = function(config, options) {\r\n        return extend(config, {\r\n            readOnly: options.readOnly,\r\n            placeholder: options.placeholder,\r\n            inputAttr: {\r\n                id: options.id\r\n            },\r\n            tabIndex: options.tabIndex\r\n        }, options.editorOptions)\r\n    };\r\n    var checkEnterBug = function() {\r\n        return browser.mozilla || devices.real().ios\r\n    };\r\n    var getTextEditorConfig = function(options) {\r\n        var data = {};\r\n        var isEnterBug = checkEnterBug();\r\n        var sharedData = options.sharedData || data;\r\n        return getResultConfig({\r\n            placeholder: options.placeholder,\r\n            width: options.width,\r\n            value: options.value,\r\n            onValueChanged: function(e) {\r\n                var needDelayedUpdate = \"filterRow\" === options.parentType || \"searchPanel\" === options.parentType;\r\n                var isInputOrKeyUpEvent = e.event && (\"input\" === e.event.type || \"keyup\" === e.event.type);\r\n                var updateValue = function(e, notFireEvent) {\r\n                    options && options.setValue(e.value, notFireEvent)\r\n                };\r\n                clearTimeout(data.valueChangeTimeout);\r\n                if (isInputOrKeyUpEvent && needDelayedUpdate) {\r\n                    sharedData.valueChangeTimeout = data.valueChangeTimeout = setTimeout((function() {\r\n                        updateValue(e, data.valueChangeTimeout !== sharedData.valueChangeTimeout)\r\n                    }), isDefined(options.updateValueTimeout) ? options.updateValueTimeout : 0)\r\n                } else {\r\n                    updateValue(e)\r\n                }\r\n            },\r\n            onKeyDown: function(e) {\r\n                if (isEnterBug && \"enter\" === normalizeKeyName(e.event)) {\r\n                    eventsEngine.trigger($(e.component._input()), \"change\")\r\n                }\r\n            },\r\n            valueChangeEvent: \"change\" + (\"filterRow\" === options.parentType ? \" keyup input\" : \"\")\r\n        }, options)\r\n    };\r\n    var prepareBooleanEditor = function(options) {\r\n        if (\"filterRow\" === options.parentType || \"filterBuilder\" === options.parentType) {\r\n            prepareSelectBox(extend(options, {\r\n                lookup: {\r\n                    displayExpr: function(data) {\r\n                        if (true === data) {\r\n                            return options.trueText || \"true\"\r\n                        } else if (false === data) {\r\n                            return options.falseText || \"false\"\r\n                        }\r\n                    },\r\n                    dataSource: [true, false]\r\n                }\r\n            }))\r\n        } else {\r\n            ! function(options) {\r\n                options.editorName = \"dxCheckBox\";\r\n                options.editorOptions = getResultConfig({\r\n                    elementAttr: {\r\n                        id: options.id\r\n                    },\r\n                    value: isDefined(options.value) ? options.value : void 0,\r\n                    hoverStateEnabled: !options.readOnly,\r\n                    focusStateEnabled: !options.readOnly,\r\n                    activeStateEnabled: false,\r\n                    onValueChanged: function(e) {\r\n                        options.setValue && options.setValue(e.value, e)\r\n                    }\r\n                }, options)\r\n            }(options)\r\n        }\r\n    };\r\n\r\n    function prepareSelectBox(options) {\r\n        var lookup = options.lookup;\r\n        var displayGetter;\r\n        var dataSource;\r\n        var postProcess;\r\n        var isFilterRow = \"filterRow\" === options.parentType;\r\n        if (lookup) {\r\n            displayGetter = compileGetter(lookup.displayExpr);\r\n            dataSource = lookup.dataSource;\r\n            if (isFunction(dataSource) && !isWrapped(dataSource)) {\r\n                dataSource = dataSource(options.row || {});\r\n                ! function(options) {\r\n                    if (options.row && options.row.watch && \"dataRow\" === options.parentType) {\r\n                        var editorOptions = options.editorOptions || {};\r\n                        options.editorOptions = editorOptions;\r\n                        var selectBox;\r\n                        var onInitialized = editorOptions.onInitialized;\r\n                        editorOptions.onInitialized = function(e) {\r\n                            onInitialized && onInitialized.apply(this, arguments);\r\n                            selectBox = e.component;\r\n                            selectBox.on(\"disposing\", stopWatch)\r\n                        };\r\n                        var dataSource;\r\n                        var stopWatch = options.row.watch(() => {\r\n                            dataSource = options.lookup.dataSource(options.row);\r\n                            return dataSource && dataSource.filter\r\n                        }, () => {\r\n                            selectBox.option(\"dataSource\", dataSource)\r\n                        }, row => {\r\n                            options.row = row\r\n                        })\r\n                    }\r\n                }(options)\r\n            }\r\n            if (isObject(dataSource) || Array.isArray(dataSource)) {\r\n                dataSource = normalizeDataSourceOptions(dataSource);\r\n                if (isFilterRow) {\r\n                    postProcess = dataSource.postProcess;\r\n                    dataSource.postProcess = function(items) {\r\n                        if (0 === this.pageIndex()) {\r\n                            items = items.slice(0);\r\n                            items.unshift(null)\r\n                        }\r\n                        if (postProcess) {\r\n                            return postProcess.call(this, items)\r\n                        }\r\n                        return items\r\n                    }\r\n                }\r\n            }\r\n            var allowClearing = Boolean(lookup.allowClearing && !isFilterRow);\r\n            options.editorName = \"dxSelectBox\";\r\n            options.editorOptions = getResultConfig({\r\n                searchEnabled: true,\r\n                value: options.value,\r\n                valueExpr: options.lookup.valueExpr,\r\n                searchExpr: options.lookup.searchExpr || options.lookup.displayExpr,\r\n                allowClearing: allowClearing,\r\n                showClearButton: allowClearing,\r\n                displayExpr: function(data) {\r\n                    if (null === data) {\r\n                        return options.showAllText\r\n                    }\r\n                    return displayGetter(data)\r\n                },\r\n                dataSource: dataSource,\r\n                onValueChanged: function(e) {\r\n                    var params = [e.value];\r\n                    !isFilterRow && params.push(e.component.option(\"text\"));\r\n                    options.setValue.apply(this, params)\r\n                }\r\n            }, options)\r\n        }\r\n    }\r\n    return {\r\n        createEditor: function($container, options) {\r\n            options.cancel = false;\r\n            options.editorElement = getPublicElement($container);\r\n            if (!isDefined(options.tabIndex)) {\r\n                options.tabIndex = this.option(\"tabIndex\")\r\n            }\r\n            if (options.lookup) {\r\n                prepareSelectBox(options)\r\n            } else {\r\n                switch (options.dataType) {\r\n                    case \"date\":\r\n                    case \"datetime\":\r\n                        ! function(options) {\r\n                            options.editorName = \"dxDateBox\";\r\n                            options.editorOptions = getResultConfig({\r\n                                value: options.value,\r\n                                onValueChanged: function(args) {\r\n                                    options.setValue(args.value)\r\n                                },\r\n                                onKeyDown: function(_ref) {\r\n                                    var {\r\n                                        component: component,\r\n                                        event: event\r\n                                    } = _ref;\r\n                                    var useMaskBehavior = component.option(\"useMaskBehavior\");\r\n                                    if ((checkEnterBug() || useMaskBehavior) && \"enter\" === normalizeKeyName(event)) {\r\n                                        component.blur();\r\n                                        component.focus()\r\n                                    }\r\n                                },\r\n                                displayFormat: options.format,\r\n                                type: options.dataType,\r\n                                dateSerializationFormat: null,\r\n                                width: \"filterBuilder\" === options.parentType ? void 0 : \"auto\"\r\n                            }, options)\r\n                        }(options);\r\n                        break;\r\n                    case \"boolean\":\r\n                        prepareBooleanEditor(options);\r\n                        break;\r\n                    case \"number\":\r\n                        ! function(options) {\r\n                            var config = getTextEditorConfig(options);\r\n                            config.value = isDefined(options.value) ? options.value : null;\r\n                            options.editorName = \"dxNumberBox\";\r\n                            options.editorOptions = config\r\n                        }(options);\r\n                        break;\r\n                    default:\r\n                        ! function(options) {\r\n                            var config = getTextEditorConfig(options);\r\n                            var isSearching = \"searchPanel\" === options.parentType;\r\n                            if (options.editorType && \"dxTextBox\" !== options.editorType) {\r\n                                config.value = options.value\r\n                            } else {\r\n                                config.value = (value = options.value, isDefined(value) ? value.toString() : \"\")\r\n                            }\r\n                            var value;\r\n                            config.valueChangeEvent += isSearching ? \" keyup input search\" : \"\";\r\n                            config.mode = config.mode || (isSearching ? \"search\" : \"text\");\r\n                            options.editorName = \"dxTextBox\";\r\n                            options.editorOptions = config\r\n                        }(options)\r\n                }\r\n            }\r\n            if (\"dataRow\" === options.parentType && options.editorType) {\r\n                options.editorName = options.editorType\r\n            }\r\n            this.executeAction(\"onEditorPreparing\", options);\r\n            if (options.cancel) {\r\n                return\r\n            }\r\n            if (\"dataRow\" === options.parentType && !options.isOnForm && !isDefined(options.editorOptions.showValidationMark)) {\r\n                options.editorOptions.showValidationMark = false\r\n            }! function(that, options) {\r\n                var $editorElement = $(options.editorElement);\r\n                if (options.editorName && options.editorOptions && $editorElement[options.editorName]) {\r\n                    if (\"dxCheckBox\" === options.editorName || \"dxSwitch\" === options.editorName) {\r\n                        if (!options.isOnForm) {\r\n                            $editorElement.addClass(that.addWidgetPrefix(CHECKBOX_SIZE_CLASS));\r\n                            $editorElement.parent().addClass(EDITOR_INLINE_BLOCK)\r\n                        }\r\n                    }\r\n                    that._createComponent($editorElement, options.editorName, options.editorOptions);\r\n                    if (\"dxDateBox\" === options.editorName) {\r\n                        var dateBox = $editorElement.dxDateBox(\"instance\");\r\n                        var defaultEnterKeyHandler = dateBox._supportedKeys().enter;\r\n                        dateBox.registerKeyHandler(\"enter\", e => {\r\n                            if (dateBox.option(\"opened\")) {\r\n                                defaultEnterKeyHandler(e)\r\n                            }\r\n                            return true\r\n                        })\r\n                    }\r\n                    if (\"dxTextArea\" === options.editorName) {\r\n                        $editorElement.dxTextArea(\"instance\").registerKeyHandler(\"enter\", (function(event) {\r\n                            if (\"enter\" === normalizeKeyName(event) && !event.ctrlKey && !event.shiftKey) {\r\n                                event.stopPropagation()\r\n                            }\r\n                        }))\r\n                    }\r\n                }\r\n            }(this, options);\r\n            this.executeAction(\"onEditorPrepared\", options)\r\n        }\r\n    }\r\n}();\r\nexport default EditorFactoryMixin;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editor_factory.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setOuterWidth,\r\n    getOuterWidth,\r\n    setOuterHeight,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    addNamespace,\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport EditorFactoryMixin from \"../shared/ui.editor_factory_mixin\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar FOCUSED_ELEMENT_CLASS = \"dx-focused\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar MODULE_NAMESPACE = \"dxDataGridEditorFactory\";\r\nvar UPDATE_FOCUS_EVENTS = addNamespace([pointerEvents.down, \"focusin\", clickEventName].join(\" \"), MODULE_NAMESPACE);\r\nvar DX_HIDDEN = \"dx-hidden\";\r\nvar EditorFactory = modules.ViewController.inherit({\r\n    _getFocusedElement: function($dataGridElement) {\r\n        var rowSelector = this.option(\"focusedRowEnabled\") ? \"tr[tabindex]:focus\" : \"tr[tabindex]:not(.dx-data-row):focus\";\r\n        var focusedElementSelector = \"td[tabindex]:focus, \".concat(rowSelector, \", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus\");\r\n        return $dataGridElement.find(focusedElementSelector)\r\n    },\r\n    _getFocusCellSelector: function() {\r\n        return \".dx-row > td\"\r\n    },\r\n    _updateFocusCore: function() {\r\n        var $focus = this._$focusedElement;\r\n        var $dataGridElement = this.component && this.component.$element();\r\n        var $focusCell;\r\n        var hideBorders;\r\n        if ($dataGridElement) {\r\n            $focus = this._getFocusedElement($dataGridElement);\r\n            if ($focus.length) {\r\n                if (!$focus.hasClass(CELL_FOCUS_DISABLED_CLASS) && !$focus.hasClass(ROW_CLASS)) {\r\n                    $focusCell = $focus.closest(this._getFocusCellSelector() + \", .\" + CELL_FOCUS_DISABLED_CLASS);\r\n                    hideBorders = $focusCell.get(0) !== $focus.get(0) && $focusCell.hasClass(EDITOR_INLINE_BLOCK);\r\n                    $focus = $focusCell\r\n                }\r\n                if ($focus.length && !$focus.hasClass(CELL_FOCUS_DISABLED_CLASS)) {\r\n                    this.focus($focus, hideBorders);\r\n                    return\r\n                }\r\n            }\r\n        }\r\n        this.loseFocus()\r\n    },\r\n    _updateFocus: function(e) {\r\n        var that = this;\r\n        var isFocusOverlay = e && e.event && $(e.event.target).hasClass(that.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\r\n        that._isFocusOverlay = that._isFocusOverlay || isFocusOverlay;\r\n        clearTimeout(that._updateFocusTimeoutID);\r\n        that._updateFocusTimeoutID = setTimeout((function() {\r\n            delete that._updateFocusTimeoutID;\r\n            if (!that._isFocusOverlay) {\r\n                that._updateFocusCore()\r\n            }\r\n            that._isFocusOverlay = false\r\n        }))\r\n    },\r\n    _updateFocusOverlaySize: function($element, position) {\r\n        $element.hide();\r\n        var location = positionUtils.calculate($element, extend({\r\n            collision: \"fit\"\r\n        }, position));\r\n        if (location.h.oversize > 0) {\r\n            setOuterWidth($element, getOuterWidth($element) - location.h.oversize)\r\n        }\r\n        if (location.v.oversize > 0) {\r\n            setOuterHeight($element, getOuterHeight($element) - location.v.oversize)\r\n        }\r\n        $element.show()\r\n    },\r\n    callbackNames: function() {\r\n        return [\"focused\"]\r\n    },\r\n    focus: function($element, hideBorder) {\r\n        var that = this;\r\n        if (void 0 === $element) {\r\n            return that._$focusedElement\r\n        } else if ($element) {\r\n            if (!$element.is(that._$focusedElement)) {\r\n                that._$focusedElement && that._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS)\r\n            }\r\n            that._$focusedElement = $element;\r\n            clearTimeout(that._focusTimeoutID);\r\n            that._focusTimeoutID = setTimeout((function() {\r\n                delete that._focusTimeoutID;\r\n                that.renderFocusOverlay($element, hideBorder);\r\n                $element.addClass(FOCUSED_ELEMENT_CLASS);\r\n                that.focused.fire($element)\r\n            }))\r\n        }\r\n    },\r\n    refocus: function() {\r\n        var $focus = this.focus();\r\n        this.focus($focus)\r\n    },\r\n    renderFocusOverlay: function($element, hideBorder) {\r\n        if (!gridCoreUtils.isElementInCurrentGrid(this, $element)) {\r\n            return\r\n        }\r\n        if (!this._$focusOverlay) {\r\n            this._$focusOverlay = $(\"<div>\").addClass(this.addWidgetPrefix(FOCUS_OVERLAY_CLASS))\r\n        }\r\n        if (hideBorder) {\r\n            this._$focusOverlay.addClass(DX_HIDDEN)\r\n        } else if ($element.length) {\r\n            var align = browser.mozilla ? \"right bottom\" : \"left top\";\r\n            var $content = $element.closest(\".\" + this.addWidgetPrefix(CONTENT_CLASS));\r\n            var elemCoord = getBoundingRect($element.get(0));\r\n            this._$focusOverlay.removeClass(DX_HIDDEN).appendTo($content);\r\n            setOuterHeight(this._$focusOverlay, elemCoord.bottom - elemCoord.top + 1);\r\n            setOuterWidth(this._$focusOverlay, elemCoord.right - elemCoord.left + 1);\r\n            var focusOverlayPosition = {\r\n                precise: true,\r\n                my: align,\r\n                at: align,\r\n                of: $element,\r\n                boundary: $content.length && $content\r\n            };\r\n            this._updateFocusOverlaySize(this._$focusOverlay, focusOverlayPosition);\r\n            positionUtils.setup(this._$focusOverlay, focusOverlayPosition);\r\n            this._$focusOverlay.css(\"visibility\", \"visible\")\r\n        }\r\n    },\r\n    resize: function() {\r\n        var $focusedElement = this._$focusedElement;\r\n        if ($focusedElement) {\r\n            this.focus($focusedElement)\r\n        }\r\n    },\r\n    loseFocus: function() {\r\n        this._$focusedElement && this._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS);\r\n        this._$focusedElement = null;\r\n        this._$focusOverlay && this._$focusOverlay.addClass(DX_HIDDEN)\r\n    },\r\n    init: function() {\r\n        this.createAction(\"onEditorPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this.createAction(\"onEditorPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this._updateFocusHandler = this._updateFocusHandler || this.createAction(this._updateFocus.bind(this));\r\n        eventsEngine.on(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\r\n        this._attachContainerEventHandlers()\r\n    },\r\n    _attachContainerEventHandlers: function() {\r\n        var that = this;\r\n        var $container = that.component && that.component.$element();\r\n        if ($container) {\r\n            eventsEngine.on($container, addNamespace(\"keydown\", MODULE_NAMESPACE), (function(e) {\r\n                if (\"tab\" === normalizeKeyName(e)) {\r\n                    that._updateFocusHandler(e)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    dispose: function() {\r\n        clearTimeout(this._focusTimeoutID);\r\n        clearTimeout(this._updateFocusTimeoutID);\r\n        eventsEngine.off(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler)\r\n    }\r\n}).include(EditorFactoryMixin);\r\nexport var editorFactoryModule = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    controllers: {\r\n        editorFactory: EditorFactory\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editor_factory.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editorFactoryModule\r\n} from \"../grid_core/ui.grid_core.editor_factory\";\r\ngridCore.registerModule(\"editorFactory\", editorFactoryModule);\r\n","/**\r\n * DevExtreme (esm/ui/dialog.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    Component\r\n} from \"../core/component\";\r\nimport Action from \"../core/action\";\r\nimport devices from \"../core/devices\";\r\nimport config from \"../core/config\";\r\nimport {\r\n    resetActiveElement\r\n} from \"../core/utils/dom\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isPlainObject\r\n} from \"../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    value as getViewport\r\n} from \"../core/utils/view_port\";\r\nimport messageLocalization from \"../localization/message\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport Popup from \"./popup\";\r\nimport {\r\n    ensureDefined\r\n} from \"../core/utils/common\";\r\nvar window = getWindow();\r\nvar DEFAULT_BUTTON = {\r\n    text: \"OK\",\r\n    onClick: function() {\r\n        return true\r\n    }\r\n};\r\nvar DX_DIALOG_CLASSNAME = \"dx-dialog\";\r\nvar DX_DIALOG_WRAPPER_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-wrapper\");\r\nvar DX_DIALOG_ROOT_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-root\");\r\nvar DX_DIALOG_CONTENT_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-content\");\r\nvar DX_DIALOG_MESSAGE_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-message\");\r\nvar DX_DIALOG_BUTTONS_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-buttons\");\r\nvar DX_DIALOG_BUTTON_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-button\");\r\nvar DX_BUTTON_CLASSNAME = \"dx-button\";\r\nexport var FakeDialogComponent = Component.inherit({\r\n    ctor: function(element, options) {\r\n        this.callBase(options)\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                width: 276\r\n            }\r\n        }])\r\n    }\r\n});\r\nexport var custom = function(options) {\r\n    var _options$title;\r\n    var deferred = new Deferred;\r\n    var defaultOptions = (new FakeDialogComponent).option();\r\n    options = extend(defaultOptions, options);\r\n    var $element = $(\"<div>\").addClass(DX_DIALOG_CLASSNAME).appendTo(getViewport());\r\n    var isMessageDefined = \"message\" in options;\r\n    var isMessageHtmlDefined = \"messageHtml\" in options;\r\n    if (isMessageDefined) {\r\n        errors.log(\"W1013\")\r\n    }\r\n    var messageHtml = String(isMessageHtmlDefined ? options.messageHtml : options.message);\r\n    var $message = $(\"<div>\").addClass(DX_DIALOG_MESSAGE_CLASSNAME).html(messageHtml);\r\n    var popupToolbarItems = [];\r\n    each(options.buttons || [DEFAULT_BUTTON], (function() {\r\n        var action = new Action(this.onClick, {\r\n            context: popupInstance\r\n        });\r\n        popupToolbarItems.push({\r\n            toolbar: \"bottom\",\r\n            location: devices.current().android ? \"after\" : \"center\",\r\n            widget: \"dxButton\",\r\n            options: extend({}, this, {\r\n                onClick: function() {\r\n                    var result = action.execute(...arguments);\r\n                    hide(result)\r\n                }\r\n            })\r\n        })\r\n    }));\r\n    var popupInstance = new Popup($element, extend({\r\n        title: null !== (_options$title = options.title) && void 0 !== _options$title ? _options$title : \"\",\r\n        showTitle: ensureDefined(options.showTitle, true),\r\n        dragEnabled: ensureDefined(options.dragEnabled, true),\r\n        height: \"auto\",\r\n        width: options.width,\r\n        showCloseButton: options.showCloseButton || false,\r\n        ignoreChildEvents: false,\r\n        onContentReady: function(args) {\r\n            args.component.$content().addClass(DX_DIALOG_CONTENT_CLASSNAME).append($message)\r\n        },\r\n        onShowing: function(e) {\r\n            e.component.bottomToolbar().addClass(DX_DIALOG_BUTTONS_CLASSNAME).find(\".\".concat(DX_BUTTON_CLASSNAME)).addClass(DX_DIALOG_BUTTON_CLASSNAME);\r\n            resetActiveElement()\r\n        },\r\n        onShown: function(e) {\r\n            var $firstButton = e.component.bottomToolbar().find(\".\".concat(DX_BUTTON_CLASSNAME)).first();\r\n            eventsEngine.trigger($firstButton, \"focus\")\r\n        },\r\n        onHiding: function() {\r\n            deferred.reject()\r\n        },\r\n        toolbarItems: popupToolbarItems,\r\n        animation: {\r\n            show: {\r\n                type: \"pop\",\r\n                duration: 400\r\n            },\r\n            hide: {\r\n                type: \"pop\",\r\n                duration: 400,\r\n                to: {\r\n                    opacity: 0,\r\n                    scale: 0\r\n                },\r\n                from: {\r\n                    opacity: 1,\r\n                    scale: 1\r\n                }\r\n            }\r\n        },\r\n        rtlEnabled: config().rtlEnabled,\r\n        position: {\r\n            boundaryOffset: {\r\n                h: 10,\r\n                v: 0\r\n            }\r\n        }\r\n    }, options.popupOptions));\r\n    popupInstance.$wrapper().addClass(DX_DIALOG_WRAPPER_CLASSNAME);\r\n    if (options.position) {\r\n        popupInstance.option(\"position\", options.position)\r\n    }\r\n    popupInstance.$wrapper().addClass(DX_DIALOG_ROOT_CLASSNAME);\r\n\r\n    function hide(value) {\r\n        deferred.resolve(value);\r\n        popupInstance.hide().done((function() {\r\n            popupInstance.$element().remove()\r\n        }))\r\n    }\r\n    return {\r\n        show: function() {\r\n            if (\"android\" === devices.real().platform) {\r\n                var isPortrait = getHeight(window) > getWidth(window);\r\n                var width = isPortrait ? \"80%\" : \"60%\";\r\n                popupInstance.option({\r\n                    width: width\r\n                })\r\n            }\r\n            popupInstance.show();\r\n            return deferred.promise()\r\n        },\r\n        hide: hide\r\n    }\r\n};\r\nexport var alert = function(messageHtml) {\r\n    var title = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\r\n    var showTitle = arguments.length > 2 ? arguments[2] : void 0;\r\n    var options = isPlainObject(messageHtml) ? messageHtml : {\r\n        title: title,\r\n        messageHtml: messageHtml,\r\n        showTitle: showTitle,\r\n        dragEnabled: showTitle\r\n    };\r\n    return custom(options).show()\r\n};\r\nexport var confirm = function(messageHtml) {\r\n    var title = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\r\n    var showTitle = arguments.length > 2 ? arguments[2] : void 0;\r\n    var options = isPlainObject(messageHtml) ? messageHtml : {\r\n        title: title,\r\n        messageHtml: messageHtml,\r\n        showTitle: showTitle,\r\n        buttons: [{\r\n            text: messageLocalization.format(\"Yes\"),\r\n            onClick: function() {\r\n                return true\r\n            }\r\n        }, {\r\n            text: messageLocalization.format(\"No\"),\r\n            onClick: function() {\r\n                return false\r\n            }\r\n        }],\r\n        dragEnabled: showTitle\r\n    };\r\n    return custom(options).show()\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_constants.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nexport var ROW_CLASS = \"dx-row\";\r\nexport var CELL_MODIFIED_CLASS = \"dx-cell-modified\";\r\nexport var ROW_SELECTED_CLASS = \"dx-selection\";\r\nexport var EDIT_FORM_CLASS = \"edit-form\";\r\nexport var DATA_EDIT_DATA_INSERT_TYPE = \"insert\";\r\nexport var DATA_EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nexport var EDITING_POPUP_OPTION_NAME = \"editing.popup\";\r\nexport var EDITING_FORM_OPTION_NAME = \"editing.form\";\r\nexport var EDITING_EDITROWKEY_OPTION_NAME = \"editing.editRowKey\";\r\nexport var EDITING_EDITCOLUMNNAME_OPTION_NAME = \"editing.editColumnName\";\r\nexport var TARGET_COMPONENT_NAME = \"targetComponent\";\r\nexport var EDITORS_INPUT_SELECTOR = \"input:not([type='hidden'])\";\r\nexport var FOCUSABLE_ELEMENT_SELECTOR = \"[tabindex], \" + EDITORS_INPUT_SELECTOR;\r\nexport var EDIT_MODE_BATCH = \"batch\";\r\nexport var EDIT_MODE_ROW = \"row\";\r\nexport var EDIT_MODE_CELL = \"cell\";\r\nexport var EDIT_MODE_FORM = \"form\";\r\nexport var EDIT_MODE_POPUP = \"popup\";\r\nexport var FIRST_NEW_ROW_POSITION = \"first\";\r\nexport var LAST_NEW_ROW_POSITION = \"last\";\r\nexport var PAGE_BOTTOM_NEW_ROW_POSITION = \"pageBottom\";\r\nexport var PAGE_TOP_NEW_ROW_POSITION = \"pageTop\";\r\nexport var VIEWPORT_BOTTOM_NEW_ROW_POSITION = \"viewportBottom\";\r\nexport var VIEWPORT_TOP_NEW_ROW_POSITION = \"viewportTop\";\r\nexport var EDIT_MODES = [EDIT_MODE_BATCH, EDIT_MODE_ROW, EDIT_MODE_CELL, EDIT_MODE_FORM, EDIT_MODE_POPUP];\r\nexport var ROW_BASED_MODES = [EDIT_MODE_ROW, EDIT_MODE_FORM, EDIT_MODE_POPUP];\r\nexport var MODES_WITH_DELAYED_FOCUS = [EDIT_MODE_ROW, EDIT_MODE_FORM];\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    resetActiveElement\r\n} from \"../../core/utils/dom\";\r\nimport {\r\n    isDefined,\r\n    isObject,\r\n    isFunction,\r\n    isEmptyObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    createObjectWithChanges\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    confirm\r\n} from \"../dialog\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    when,\r\n    Deferred,\r\n    fromPromise\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    equalByValue,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport * as iconUtils from \"../../core/utils/icon\";\r\nimport {\r\n    EDITOR_CELL_CLASS,\r\n    ROW_CLASS,\r\n    EDIT_FORM_CLASS,\r\n    DATA_EDIT_DATA_INSERT_TYPE,\r\n    DATA_EDIT_DATA_REMOVE_TYPE,\r\n    EDITING_POPUP_OPTION_NAME,\r\n    EDITING_EDITROWKEY_OPTION_NAME,\r\n    EDITING_EDITCOLUMNNAME_OPTION_NAME,\r\n    TARGET_COMPONENT_NAME,\r\n    EDITORS_INPUT_SELECTOR,\r\n    FOCUSABLE_ELEMENT_SELECTOR,\r\n    EDIT_MODE_ROW,\r\n    EDIT_MODES,\r\n    ROW_BASED_MODES,\r\n    FIRST_NEW_ROW_POSITION,\r\n    LAST_NEW_ROW_POSITION,\r\n    PAGE_BOTTOM_NEW_ROW_POSITION,\r\n    PAGE_TOP_NEW_ROW_POSITION,\r\n    VIEWPORT_BOTTOM_NEW_ROW_POSITION,\r\n    VIEWPORT_TOP_NEW_ROW_POSITION\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar READONLY_CLASS = \"readonly\";\r\nvar LINK_CLASS = \"dx-link\";\r\nvar ROW_SELECTED = \"dx-selection\";\r\nvar EDIT_BUTTON_CLASS = \"dx-edit-button\";\r\nvar COMMAND_EDIT_CLASS = \"dx-command-edit\";\r\nvar COMMAND_EDIT_WITH_ICONS_CLASS = COMMAND_EDIT_CLASS + \"-with-icons\";\r\nvar INSERT_INDEX = \"__DX_INSERT_INDEX__\";\r\nvar ROW_INSERTED = \"dx-row-inserted\";\r\nvar ROW_MODIFIED = \"dx-row-modified\";\r\nvar CELL_MODIFIED = \"dx-cell-modified\";\r\nvar EDITING_NAMESPACE = \"dxDataGridEditing\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar DATA_EDIT_DATA_UPDATE_TYPE = \"update\";\r\nvar DEFAULT_START_EDIT_ACTION = \"click\";\r\nvar EDIT_LINK_CLASS = {\r\n    save: \"dx-link-save\",\r\n    cancel: \"dx-link-cancel\",\r\n    edit: \"dx-link-edit\",\r\n    undelete: \"dx-link-undelete\",\r\n    delete: \"dx-link-delete\",\r\n    add: \"dx-link-add\"\r\n};\r\nvar EDIT_ICON_CLASS = {\r\n    save: \"save\",\r\n    cancel: \"revert\",\r\n    edit: \"edit\",\r\n    undelete: \"revert\",\r\n    delete: \"trash\",\r\n    add: \"add\"\r\n};\r\nvar METHOD_NAMES = {\r\n    edit: \"editRow\",\r\n    delete: \"deleteRow\",\r\n    undelete: \"undeleteRow\",\r\n    save: \"saveEditData\",\r\n    cancel: \"cancelEditData\",\r\n    add: \"addRowByRowIndex\"\r\n};\r\nvar ACTION_OPTION_NAMES = {\r\n    add: \"allowAdding\",\r\n    edit: \"allowUpdating\",\r\n    delete: \"allowDeleting\"\r\n};\r\nvar BUTTON_NAMES = [\"edit\", \"save\", \"cancel\", \"delete\", \"undelete\"];\r\nvar EDITING_CHANGES_OPTION_NAME = \"editing.changes\";\r\nvar createFailureHandler = function(deferred) {\r\n    return function(arg) {\r\n        var error = arg instanceof Error ? arg : new Error(arg && String(arg) || \"Unknown error\");\r\n        deferred.reject(error)\r\n    }\r\n};\r\nvar isEditingCell = function(isEditRow, cellOptions) {\r\n    return cellOptions.isEditing || isEditRow && cellOptions.column.allowEditing\r\n};\r\nvar isEditingOrShowEditorAlwaysDataCell = function(isEditRow, cellOptions) {\r\n    var isCommandCell = !!cellOptions.column.command;\r\n    var isEditing = isEditingCell(isEditRow, cellOptions);\r\n    var isEditorCell = !isCommandCell && (isEditing || cellOptions.column.showEditorAlways);\r\n    return \"data\" === cellOptions.rowType && isEditorCell\r\n};\r\nvar EditingController = modules.ViewController.inherit(function() {\r\n    var getButtonIndex = (buttons, name) => {\r\n        var result = -1;\r\n        buttons.some((button, index) => {\r\n            if (getButtonName(button) === name) {\r\n                result = index;\r\n                return true\r\n            }\r\n        });\r\n        return result\r\n    };\r\n\r\n    function getButtonName(button) {\r\n        return isObject(button) ? button.name : button\r\n    }\r\n    return {\r\n        init: function() {\r\n            this._columnsController = this.getController(\"columns\");\r\n            this._dataController = this.getController(\"data\");\r\n            this._rowsView = this.getView(\"rowsView\");\r\n            this._lastOperation = null;\r\n            if (this._deferreds) {\r\n                this._deferreds.forEach(d => d.reject(\"cancel\"))\r\n            }\r\n            this._deferreds = [];\r\n            if (!this._dataChangedHandler) {\r\n                this._dataChangedHandler = this._handleDataChanged.bind(this);\r\n                this._dataController.changed.add(this._dataChangedHandler)\r\n            }\r\n            if (!this._saveEditorHandler) {\r\n                this.createAction(\"onInitNewRow\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowInserting\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowInserted\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onEditingStart\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowUpdating\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowUpdated\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowRemoving\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowRemoved\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onSaved\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onSaving\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onEditCanceling\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onEditCanceled\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                })\r\n            }\r\n            this._updateEditColumn();\r\n            this._updateEditButtons();\r\n            if (!this._internalState) {\r\n                this._internalState = []\r\n            }\r\n            this.component._optionsByReference[EDITING_EDITROWKEY_OPTION_NAME] = true;\r\n            this.component._optionsByReference[EDITING_CHANGES_OPTION_NAME] = true\r\n        },\r\n        getEditMode: function() {\r\n            var editMode = this.option(\"editing.mode\");\r\n            if (-1 !== EDIT_MODES.indexOf(editMode)) {\r\n                return editMode\r\n            }\r\n            return EDIT_MODE_ROW\r\n        },\r\n        _getDefaultEditorTemplate: function() {\r\n            return (container, options) => {\r\n                var $editor = $(\"<div>\").appendTo(container);\r\n                this.getController(\"editorFactory\").createEditor($editor, extend({}, options.column, {\r\n                    value: options.value,\r\n                    setValue: options.setValue,\r\n                    row: options.row,\r\n                    parentType: \"dataRow\",\r\n                    width: null,\r\n                    readOnly: !options.setValue,\r\n                    isOnForm: options.isOnForm,\r\n                    id: options.id\r\n                }))\r\n            }\r\n        },\r\n        _getNewRowPosition: function() {\r\n            var newRowPosition = this.option(\"editing.newRowPosition\");\r\n            var scrollingMode = this.option(\"scrolling.mode\");\r\n            if (\"virtual\" === scrollingMode) {\r\n                switch (newRowPosition) {\r\n                    case PAGE_TOP_NEW_ROW_POSITION:\r\n                        return VIEWPORT_TOP_NEW_ROW_POSITION;\r\n                    case PAGE_BOTTOM_NEW_ROW_POSITION:\r\n                        return VIEWPORT_BOTTOM_NEW_ROW_POSITION;\r\n                    default:\r\n                        return newRowPosition\r\n                }\r\n            }\r\n            return newRowPosition\r\n        },\r\n        getChanges: function() {\r\n            return this.option(EDITING_CHANGES_OPTION_NAME)\r\n        },\r\n        getInsertRowCount: function() {\r\n            var changes = this.option(EDITING_CHANGES_OPTION_NAME);\r\n            return changes.filter(change => \"insert\" === change.type).length\r\n        },\r\n        resetChanges: function() {\r\n            var changes = this.getChanges();\r\n            var needReset = null === changes || void 0 === changes ? void 0 : changes.length;\r\n            if (needReset) {\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, [])\r\n            }\r\n        },\r\n        _getInternalData: function(key) {\r\n            return this._internalState.filter(item => equalByValue(item.key, key))[0]\r\n        },\r\n        _addInternalData: function(params) {\r\n            var internalData = this._getInternalData(params.key);\r\n            if (internalData) {\r\n                return extend(internalData, params)\r\n            }\r\n            this._internalState.push(params);\r\n            return params\r\n        },\r\n        _getOldData: function(key) {\r\n            var _this$_getInternalDat;\r\n            return null === (_this$_getInternalDat = this._getInternalData(key)) || void 0 === _this$_getInternalDat ? void 0 : _this$_getInternalDat.oldData\r\n        },\r\n        getUpdatedData: function(data) {\r\n            var key = this._dataController.keyOf(data);\r\n            var changes = this.getChanges();\r\n            var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n            if (changes[editIndex]) {\r\n                return createObjectWithChanges(data, changes[editIndex].data)\r\n            }\r\n            return data\r\n        },\r\n        getInsertedData: function() {\r\n            return this.getChanges().filter(change => change.data && change.type === DATA_EDIT_DATA_INSERT_TYPE).map(change => change.data)\r\n        },\r\n        getRemovedData: function() {\r\n            return this.getChanges().filter(change => this._getOldData(change.key) && change.type === DATA_EDIT_DATA_REMOVE_TYPE).map(change => this._getOldData(change.key))\r\n        },\r\n        _fireDataErrorOccurred: function(arg) {\r\n            if (\"cancel\" === arg) {\r\n                return\r\n            }\r\n            var $popupContent = this.getPopupContent();\r\n            this._dataController.dataErrorOccurred.fire(arg, $popupContent)\r\n        },\r\n        _needToCloseEditableCell: noop,\r\n        _closeEditItem: noop,\r\n        _handleDataChanged: noop,\r\n        _isDefaultButtonVisible: function(button, options) {\r\n            var result = true;\r\n            switch (button.name) {\r\n                case \"delete\":\r\n                    result = this.allowDeleting(options);\r\n                    break;\r\n                case \"undelete\":\r\n                    result = false\r\n            }\r\n            return result\r\n        },\r\n        _isButtonVisible: function(button, options) {\r\n            var visible = button.visible;\r\n            if (!isDefined(visible)) {\r\n                return this._isDefaultButtonVisible(button, options)\r\n            }\r\n            return isFunction(visible) ? visible.call(button, {\r\n                component: options.component,\r\n                row: options.row,\r\n                column: options.column\r\n            }) : visible\r\n        },\r\n        _isButtonDisabled: function(button, options) {\r\n            var disabled = button.disabled;\r\n            return isFunction(disabled) ? disabled.call(button, {\r\n                component: options.component,\r\n                row: options.row,\r\n                column: options.column\r\n            }) : !!disabled\r\n        },\r\n        _getButtonConfig: function(button, options) {\r\n            var config = isObject(button) ? button : {};\r\n            var buttonName = getButtonName(button);\r\n            var editingTexts = (options => {\r\n                var editingTexts = options.component.option(\"editing.texts\") || {};\r\n                return {\r\n                    save: editingTexts.saveRowChanges,\r\n                    cancel: editingTexts.cancelRowChanges,\r\n                    edit: editingTexts.editRow,\r\n                    undelete: editingTexts.undeleteRow,\r\n                    delete: editingTexts.deleteRow,\r\n                    add: editingTexts.addRowToNode\r\n                }\r\n            })(options);\r\n            var methodName = METHOD_NAMES[buttonName];\r\n            var editingOptions = this.option(\"editing\");\r\n            var actionName = ACTION_OPTION_NAMES[buttonName];\r\n            var allowAction = actionName ? editingOptions[actionName] : true;\r\n            return extend({\r\n                name: buttonName,\r\n                text: editingTexts[buttonName],\r\n                cssClass: EDIT_LINK_CLASS[buttonName]\r\n            }, {\r\n                onClick: methodName && (e => {\r\n                    var event = e.event;\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    setTimeout(() => {\r\n                        options.row && allowAction && this[methodName] && this[methodName](options.row.rowIndex)\r\n                    })\r\n                })\r\n            }, config)\r\n        },\r\n        _getEditingButtons: function(options) {\r\n            var buttonIndex;\r\n            var haveCustomButtons = !!options.column.buttons;\r\n            var buttons = (options.column.buttons || []).slice();\r\n            if (haveCustomButtons) {\r\n                buttonIndex = getButtonIndex(buttons, \"edit\");\r\n                if (buttonIndex >= 0) {\r\n                    if (getButtonIndex(buttons, \"save\") < 0) {\r\n                        buttons.splice(buttonIndex + 1, 0, \"save\")\r\n                    }\r\n                    if (getButtonIndex(buttons, \"cancel\") < 0) {\r\n                        buttons.splice(getButtonIndex(buttons, \"save\") + 1, 0, \"cancel\")\r\n                    }\r\n                }\r\n                buttonIndex = getButtonIndex(buttons, \"delete\");\r\n                if (buttonIndex >= 0 && getButtonIndex(buttons, \"undelete\") < 0) {\r\n                    buttons.splice(buttonIndex + 1, 0, \"undelete\")\r\n                }\r\n            } else {\r\n                buttons = BUTTON_NAMES.slice()\r\n            }\r\n            return buttons.map(button => this._getButtonConfig(button, options))\r\n        },\r\n        _renderEditingButtons: function($container, buttons, options, change) {\r\n            buttons.forEach(button => {\r\n                if (this._isButtonVisible(button, options)) {\r\n                    this._createButton($container, button, options, change)\r\n                }\r\n            })\r\n        },\r\n        _getEditCommandCellTemplate: function() {\r\n            return (container, options, change) => {\r\n                var $container = $(container);\r\n                if (\"data\" === options.rowType) {\r\n                    var buttons = this._getEditingButtons(options);\r\n                    this._renderEditingButtons($container, buttons, options, change);\r\n                    options.watch && options.watch(() => buttons.map(button => this._isButtonVisible(button, options)), () => {\r\n                        $container.empty();\r\n                        this._renderEditingButtons($container, buttons, options)\r\n                    })\r\n                } else {\r\n                    gridCoreUtils.setEmptyText($container)\r\n                }\r\n            }\r\n        },\r\n        isRowBasedEditMode: function() {\r\n            var editMode = this.getEditMode();\r\n            return -1 !== ROW_BASED_MODES.indexOf(editMode)\r\n        },\r\n        getFirstEditableColumnIndex: function() {\r\n            var columnsController = this.getController(\"columns\");\r\n            var columnIndex;\r\n            var visibleColumns = columnsController.getVisibleColumns();\r\n            each(visibleColumns, (function(index, column) {\r\n                if (column.allowEditing) {\r\n                    columnIndex = index;\r\n                    return false\r\n                }\r\n            }));\r\n            return columnIndex\r\n        },\r\n        getFirstEditableCellInRow: function(rowIndex) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            return rowsView && rowsView._getCellElement(rowIndex ? rowIndex : 0, this.getFirstEditableColumnIndex())\r\n        },\r\n        getFocusedCellInRow: function(rowIndex) {\r\n            return this.getFirstEditableCellInRow(rowIndex)\r\n        },\r\n        getIndexByKey: function(key, items) {\r\n            return gridCoreUtils.getIndexByKey(key, items)\r\n        },\r\n        hasChanges: function(rowIndex) {\r\n            var changes = this.getChanges();\r\n            var result = false;\r\n            for (var i = 0; i < (null === changes || void 0 === changes ? void 0 : changes.length); i++) {\r\n                if (changes[i].type && (!isDefined(rowIndex) || this._dataController.getRowIndexByKey(changes[i].key) === rowIndex)) {\r\n                    result = true;\r\n                    break\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        dispose: function() {\r\n            this.callBase();\r\n            clearTimeout(this._inputFocusTimeoutID);\r\n            eventsEngine.off(domAdapter.getDocument(), pointerEvents.up, this._pointerUpEditorHandler);\r\n            eventsEngine.off(domAdapter.getDocument(), pointerEvents.down, this._pointerDownEditorHandler);\r\n            eventsEngine.off(domAdapter.getDocument(), clickEventName, this._saveEditorHandler)\r\n        },\r\n        optionChanged: function(args) {\r\n            if (\"editing\" === args.name) {\r\n                var fullName = args.fullName;\r\n                if (fullName === EDITING_EDITROWKEY_OPTION_NAME) {\r\n                    this._handleEditRowKeyChange(args)\r\n                } else if (fullName === EDITING_CHANGES_OPTION_NAME) {\r\n                    this._handleChangesChange(args)\r\n                } else if (!args.handled) {\r\n                    this._columnsController.reinit();\r\n                    this.init();\r\n                    this.resetChanges();\r\n                    this._resetEditColumnName();\r\n                    this._resetEditRowKey()\r\n                }\r\n                args.handled = true\r\n            } else {\r\n                this.callBase(args)\r\n            }\r\n        },\r\n        _handleEditRowKeyChange: function(args) {\r\n            var rowIndex = this._dataController.getRowIndexByKey(args.value);\r\n            var oldRowIndexCorrection = this._getEditRowIndexCorrection();\r\n            var oldRowIndex = this._dataController.getRowIndexByKey(args.previousValue) + oldRowIndexCorrection;\r\n            if (isDefined(args.value)) {\r\n                if (args.value !== args.previousValue) {\r\n                    this._editRowFromOptionChanged(rowIndex, oldRowIndex)\r\n                }\r\n            } else {\r\n                this.cancelEditData()\r\n            }\r\n        },\r\n        _handleChangesChange: function(args) {\r\n            var dataController = this._dataController;\r\n            if (!args.value.length && !args.previousValue.length) {\r\n                return\r\n            }\r\n            this._processInsertChanges(args.value);\r\n            dataController.updateItems({\r\n                repaintChangesOnly: true\r\n            })\r\n        },\r\n        _processInsertChanges: function(changes) {\r\n            changes.forEach(change => {\r\n                if (\"insert\" === change.type) {\r\n                    this._addInsertInfo(change)\r\n                }\r\n            })\r\n        },\r\n        publicMethods: function() {\r\n            return [\"addRow\", \"deleteRow\", \"undeleteRow\", \"editRow\", \"saveEditData\", \"cancelEditData\", \"hasEditData\"]\r\n        },\r\n        refresh: function() {\r\n            if (!isDefined(this._pageIndex)) {\r\n                return\r\n            }\r\n            this._refreshCore.apply(this, arguments)\r\n        },\r\n        _refreshCore: noop,\r\n        isEditing: function() {\r\n            var isEditRowKeyDefined = isDefined(this.option(EDITING_EDITROWKEY_OPTION_NAME));\r\n            return isEditRowKeyDefined\r\n        },\r\n        isEditRow: function() {\r\n            return false\r\n        },\r\n        _setEditRowKey: function(value, silent) {\r\n            if (silent) {\r\n                this._silentOption(EDITING_EDITROWKEY_OPTION_NAME, value)\r\n            } else {\r\n                this.option(EDITING_EDITROWKEY_OPTION_NAME, value)\r\n            }\r\n        },\r\n        _setEditRowKeyByIndex: function(rowIndex, silent) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            if (void 0 === key) {\r\n                this._dataController.fireError(\"E1043\");\r\n                return\r\n            }\r\n            this._setEditRowKey(key, silent)\r\n        },\r\n        getEditRowIndex: function() {\r\n            return this._getVisibleEditRowIndex()\r\n        },\r\n        getEditFormRowIndex: function() {\r\n            return -1\r\n        },\r\n        _isEditRowByIndex(rowIndex) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            var isKeyEqual = isDefined(key) && equalByValue(this.option(EDITING_EDITROWKEY_OPTION_NAME), key);\r\n            if (isKeyEqual) {\r\n                return this._getVisibleEditRowIndex() === rowIndex\r\n            }\r\n            return isKeyEqual\r\n        },\r\n        isEditCell: function(visibleRowIndex, columnIndex) {\r\n            return this._isEditRowByIndex(visibleRowIndex) && this._getVisibleEditColumnIndex() === columnIndex\r\n        },\r\n        getPopupContent: noop,\r\n        _isProcessedItem: function(item) {\r\n            return false\r\n        },\r\n        _getInsertRowIndex: function(items, change, isProcessedItems) {\r\n            var result = -1;\r\n            var dataController = this._dataController;\r\n            var key = this._getInsertAfterOrBeforeKey(change);\r\n            if (!isDefined(key) && 0 === items.length) {\r\n                result = 0\r\n            } else if (isDefined(key)) {\r\n                items.some((item, index) => {\r\n                    var isProcessedItem = isProcessedItems || this._isProcessedItem(item);\r\n                    if (isObject(item)) {\r\n                        if (isProcessedItem || isDefined(item[INSERT_INDEX])) {\r\n                            if (equalByValue(item.key, key)) {\r\n                                result = index\r\n                            }\r\n                        } else if (equalByValue(dataController.keyOf(item), key)) {\r\n                            result = index\r\n                        }\r\n                    }\r\n                    if (result >= 0) {\r\n                        var nextItem = items[result + 1];\r\n                        if (nextItem && (\"detail\" === nextItem.rowType || \"detailAdaptive\" === nextItem.rowType) && isDefined(change.insertAfterKey)) {\r\n                            return\r\n                        }\r\n                        if (isDefined(change.insertAfterKey)) {\r\n                            result += 1\r\n                        }\r\n                        return true\r\n                    }\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        _generateNewItem: function(key) {\r\n            var _this$_getInternalDat2;\r\n            var item = {\r\n                key: key\r\n            };\r\n            var insertInfo = null === (_this$_getInternalDat2 = this._getInternalData(key)) || void 0 === _this$_getInternalDat2 ? void 0 : _this$_getInternalDat2.insertInfo;\r\n            if (null !== insertInfo && void 0 !== insertInfo && insertInfo[INSERT_INDEX]) {\r\n                item[INSERT_INDEX] = insertInfo[INSERT_INDEX]\r\n            }\r\n            return item\r\n        },\r\n        _getLoadedRowIndex: function(items, change, isProcessedItems) {\r\n            var loadedRowIndex = this._getInsertRowIndex(items, change, isProcessedItems);\r\n            var dataController = this._dataController;\r\n            if (loadedRowIndex < 0) {\r\n                var newRowPosition = this._getNewRowPosition();\r\n                var pageIndex = dataController.pageIndex();\r\n                var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n                if (newRowPosition !== LAST_NEW_ROW_POSITION && 0 === pageIndex && !isDefined(insertAfterOrBeforeKey)) {\r\n                    loadedRowIndex = 0\r\n                } else if (newRowPosition === LAST_NEW_ROW_POSITION && dataController.isLastPageLoaded()) {\r\n                    loadedRowIndex = items.length\r\n                }\r\n            }\r\n            return loadedRowIndex\r\n        },\r\n        processItems: function(items, e) {\r\n            var changeType = e.changeType;\r\n            this.update(changeType);\r\n            var changes = this.getChanges();\r\n            changes.forEach(change => {\r\n                var _this$_getInternalDat3;\r\n                var isInsert = change.type === DATA_EDIT_DATA_INSERT_TYPE;\r\n                if (!isInsert) {\r\n                    return\r\n                }\r\n                var key = change.key;\r\n                var insertInfo = null === (_this$_getInternalDat3 = this._getInternalData(key)) || void 0 === _this$_getInternalDat3 ? void 0 : _this$_getInternalDat3.insertInfo;\r\n                if (!isDefined(key) || !isDefined(insertInfo)) {\r\n                    insertInfo = this._addInsertInfo(change);\r\n                    key = insertInfo.key\r\n                }\r\n                var loadedRowIndex = this._getLoadedRowIndex(items, change);\r\n                var item = this._generateNewItem(key);\r\n                if (loadedRowIndex >= 0) {\r\n                    items.splice(loadedRowIndex, 0, item)\r\n                }\r\n            });\r\n            return items\r\n        },\r\n        processDataItem: function(item, options, generateDataValues) {\r\n            var columns = options.visibleColumns;\r\n            var key = item.data[INSERT_INDEX] ? item.data.key : item.key;\r\n            var changes = this.getChanges();\r\n            var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n            item.isEditing = false;\r\n            if (editIndex >= 0) {\r\n                this._processDataItemCore(item, changes[editIndex], key, columns, generateDataValues)\r\n            }\r\n        },\r\n        _processDataItemCore: function(item, change, key, columns, generateDataValues) {\r\n            var {\r\n                data: data,\r\n                type: type\r\n            } = change;\r\n            switch (type) {\r\n                case DATA_EDIT_DATA_INSERT_TYPE:\r\n                    item.isNewRow = true;\r\n                    item.key = key;\r\n                    item.data = data;\r\n                    break;\r\n                case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                    item.modified = true;\r\n                    item.oldData = item.data;\r\n                    item.data = createObjectWithChanges(item.data, data);\r\n                    item.modifiedValues = generateDataValues(data, columns, true);\r\n                    break;\r\n                case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                    item.removed = true\r\n            }\r\n        },\r\n        _initNewRow: function(options) {\r\n            this.executeAction(\"onInitNewRow\", options);\r\n            if (options.promise) {\r\n                var deferred = new Deferred;\r\n                when(fromPromise(options.promise)).done(deferred.resolve).fail(createFailureHandler(deferred)).fail(arg => this._fireDataErrorOccurred(arg));\r\n                return deferred\r\n            }\r\n        },\r\n        _createInsertInfo: function() {\r\n            var insertInfo = {};\r\n            insertInfo[INSERT_INDEX] = this._getInsertIndex();\r\n            return insertInfo\r\n        },\r\n        _addInsertInfo: function(change, parentKey) {\r\n            var _this$_getInternalDat4;\r\n            var insertInfo;\r\n            var {\r\n                key: key\r\n            } = change;\r\n            if (!isDefined(key)) {\r\n                key = String(new Guid);\r\n                change.key = key\r\n            }\r\n            insertInfo = null === (_this$_getInternalDat4 = this._getInternalData(key)) || void 0 === _this$_getInternalDat4 ? void 0 : _this$_getInternalDat4.insertInfo;\r\n            if (!isDefined(insertInfo)) {\r\n                var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n                insertInfo = this._createInsertInfo();\r\n                if (!isDefined(insertAfterOrBeforeKey)) {\r\n                    this._setInsertAfterOrBeforeKey(change, parentKey)\r\n                }\r\n            }\r\n            this._addInternalData({\r\n                insertInfo: insertInfo,\r\n                key: key\r\n            });\r\n            return {\r\n                insertInfo: insertInfo,\r\n                key: key\r\n            }\r\n        },\r\n        _setInsertAfterOrBeforeKey: function(change, parentKey) {\r\n            var dataController = this._dataController;\r\n            var allItems = dataController.items(true);\r\n            var rowsView = this.getView(\"rowsView\");\r\n            var newRowPosition = this._getNewRowPosition();\r\n            switch (newRowPosition) {\r\n                case FIRST_NEW_ROW_POSITION:\r\n                case LAST_NEW_ROW_POSITION:\r\n                    break;\r\n                case PAGE_TOP_NEW_ROW_POSITION:\r\n                case PAGE_BOTTOM_NEW_ROW_POSITION:\r\n                    if (allItems.length) {\r\n                        var itemIndex = newRowPosition === PAGE_TOP_NEW_ROW_POSITION ? 0 : allItems.length - 1;\r\n                        change[0 === itemIndex ? \"insertBeforeKey\" : \"insertAfterKey\"] = allItems[itemIndex].key\r\n                    }\r\n                    break;\r\n                default:\r\n                    var isViewportBottom = newRowPosition === VIEWPORT_BOTTOM_NEW_ROW_POSITION;\r\n                    var visibleItemIndex = isViewportBottom ? null === rowsView || void 0 === rowsView ? void 0 : rowsView.getBottomVisibleItemIndex() : null === rowsView || void 0 === rowsView ? void 0 : rowsView.getTopVisibleItemIndex();\r\n                    var row = dataController.getVisibleRows()[visibleItemIndex];\r\n                    if (row && (!row.isEditing && \"detail\" === row.rowType || \"detailAdaptive\" === row.rowType)) {\r\n                        visibleItemIndex++\r\n                    }\r\n                    var insertKey = dataController.getKeyByRowIndex(visibleItemIndex);\r\n                    if (isDefined(insertKey)) {\r\n                        change.insertBeforeKey = insertKey\r\n                    }\r\n            }\r\n        },\r\n        _getInsertIndex: function() {\r\n            var maxInsertIndex = 0;\r\n            this.getChanges().forEach(editItem => {\r\n                var _this$_getInternalDat5;\r\n                var insertInfo = null === (_this$_getInternalDat5 = this._getInternalData(editItem.key)) || void 0 === _this$_getInternalDat5 ? void 0 : _this$_getInternalDat5.insertInfo;\r\n                if (isDefined(insertInfo) && editItem.type === DATA_EDIT_DATA_INSERT_TYPE && insertInfo[INSERT_INDEX] > maxInsertIndex) {\r\n                    maxInsertIndex = insertInfo[INSERT_INDEX]\r\n                }\r\n            });\r\n            return maxInsertIndex + 1\r\n        },\r\n        _getInsertAfterOrBeforeKey: function(insertChange) {\r\n            var _insertChange$insertA;\r\n            return null !== (_insertChange$insertA = insertChange.insertAfterKey) && void 0 !== _insertChange$insertA ? _insertChange$insertA : insertChange.insertBeforeKey\r\n        },\r\n        _getPageIndexToInsertRow: function() {\r\n            var newRowPosition = this._getNewRowPosition();\r\n            var dataController = this._dataController;\r\n            var pageIndex = dataController.pageIndex();\r\n            var lastPageIndex = dataController.pageCount() - 1;\r\n            if (newRowPosition === FIRST_NEW_ROW_POSITION && 0 !== pageIndex) {\r\n                return 0\r\n            } else if (newRowPosition === LAST_NEW_ROW_POSITION && pageIndex !== lastPageIndex) {\r\n                return lastPageIndex\r\n            }\r\n            return -1\r\n        },\r\n        addRow: function(parentKey) {\r\n            var dataController = this._dataController;\r\n            var store = dataController.store();\r\n            if (!store) {\r\n                dataController.fireError(\"E1052\", this.component.NAME);\r\n                return (new Deferred).reject()\r\n            }\r\n            return this._addRow(parentKey)\r\n        },\r\n        _addRow: function(parentKey) {\r\n            var dataController = this._dataController;\r\n            var store = dataController.store();\r\n            var key = store && store.key();\r\n            var param = {\r\n                data: {}\r\n            };\r\n            var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n            var deferred = new Deferred;\r\n            this.refresh({\r\n                allowCancelEditing: true\r\n            });\r\n            if (!this._allowRowAdding()) {\r\n                when(this._navigateToNewRow(oldEditRowIndex)).done(deferred.resolve).fail(deferred.reject);\r\n                return deferred.promise()\r\n            }\r\n            if (!key) {\r\n                param.data.__KEY__ = String(new Guid)\r\n            }\r\n            when(this._initNewRow(param, parentKey)).done(() => {\r\n                if (this._allowRowAdding()) {\r\n                    when(this._addRowCore(param.data, parentKey, oldEditRowIndex)).done(deferred.resolve).fail(deferred.reject)\r\n                } else {\r\n                    deferred.reject(\"cancel\")\r\n                }\r\n            }).fail(deferred.reject);\r\n            return deferred.promise()\r\n        },\r\n        _allowRowAdding: function() {\r\n            var insertIndex = this._getInsertIndex();\r\n            if (insertIndex > 1) {\r\n                return false\r\n            }\r\n            return true\r\n        },\r\n        _addRowCore: function(data, parentKey, initialOldEditRowIndex) {\r\n            var change = {\r\n                data: data,\r\n                type: DATA_EDIT_DATA_INSERT_TYPE\r\n            };\r\n            var editRowIndex = this._getVisibleEditRowIndex();\r\n            var insertInfo = this._addInsertInfo(change, parentKey);\r\n            var key = insertInfo.key;\r\n            this._setEditRowKey(key, true);\r\n            this._addChange(change);\r\n            return this._navigateToNewRow(initialOldEditRowIndex, change, editRowIndex)\r\n        },\r\n        _navigateToNewRow: function(oldEditRowIndex, change, editRowIndex) {\r\n            var _editRowIndex, _change;\r\n            var d = new Deferred;\r\n            var dataController = this._dataController;\r\n            var focusController = this.getController(\"focus\");\r\n            editRowIndex = null !== (_editRowIndex = editRowIndex) && void 0 !== _editRowIndex ? _editRowIndex : -1;\r\n            change = null !== (_change = change) && void 0 !== _change ? _change : this.getChanges().filter(c => c.type === DATA_EDIT_DATA_INSERT_TYPE)[0];\r\n            if (!change) {\r\n                return d.reject(\"cancel\").promise()\r\n            }\r\n            var pageIndexToInsertRow = this._getPageIndexToInsertRow();\r\n            var rowIndex = this._getLoadedRowIndex(dataController.items(), change, true);\r\n            var navigateToRowByKey = key => {\r\n                when(null === focusController || void 0 === focusController ? void 0 : focusController.navigateToRow(key)).done(() => {\r\n                    rowIndex = dataController.getRowIndexByKey(change.key);\r\n                    d.resolve()\r\n                })\r\n            };\r\n            var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n            if (pageIndexToInsertRow >= 0) {\r\n                dataController.pageIndex(pageIndexToInsertRow).done(() => {\r\n                    navigateToRowByKey(change.key)\r\n                }).fail(d.reject)\r\n            } else if (rowIndex < 0 && isDefined(insertAfterOrBeforeKey)) {\r\n                navigateToRowByKey(insertAfterOrBeforeKey)\r\n            } else {\r\n                dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: [oldEditRowIndex, editRowIndex, rowIndex]\r\n                });\r\n                rowIndex = dataController.getRowIndexByKey(change.key);\r\n                if (rowIndex < 0) {\r\n                    navigateToRowByKey(change.key)\r\n                } else {\r\n                    d.resolve()\r\n                }\r\n            }\r\n            d.done(() => {\r\n                this._showAddedRow(rowIndex);\r\n                this._afterInsertRow(change.key)\r\n            });\r\n            return d.promise()\r\n        },\r\n        _showAddedRow: function(rowIndex) {\r\n            this._focusFirstEditableCellInRow(rowIndex)\r\n        },\r\n        _beforeFocusElementInRow: noop,\r\n        _focusFirstEditableCellInRow: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var key = dataController.getKeyByRowIndex(rowIndex);\r\n            var $firstCell = this.getFirstEditableCellInRow(rowIndex);\r\n            this._editCellInProgress = true;\r\n            this._delayedInputFocus($firstCell, () => {\r\n                rowIndex = dataController.getRowIndexByKey(key);\r\n                this._editCellInProgress = false;\r\n                this._beforeFocusElementInRow(rowIndex)\r\n            })\r\n        },\r\n        _isEditingStart: function(options) {\r\n            this.executeAction(\"onEditingStart\", options);\r\n            return options.cancel\r\n        },\r\n        _beforeUpdateItems: noop,\r\n        _getVisibleEditColumnIndex: function() {\r\n            var editColumnName = this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME);\r\n            if (!isDefined(editColumnName)) {\r\n                return -1\r\n            }\r\n            return this._columnsController.getVisibleColumnIndex(editColumnName)\r\n        },\r\n        _setEditColumnNameByIndex: function(index, silent) {\r\n            var _visibleColumns$index;\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            this._setEditColumnName(null === (_visibleColumns$index = visibleColumns[index]) || void 0 === _visibleColumns$index ? void 0 : _visibleColumns$index.name, silent)\r\n        },\r\n        _setEditColumnName: function(name, silent) {\r\n            if (silent) {\r\n                this._silentOption(EDITING_EDITCOLUMNNAME_OPTION_NAME, name)\r\n            } else {\r\n                this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME, name)\r\n            }\r\n        },\r\n        _resetEditColumnName: function() {\r\n            this._setEditColumnName(null, true)\r\n        },\r\n        _getEditColumn: function() {\r\n            var editColumnName = this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME);\r\n            return this._getColumnByName(editColumnName)\r\n        },\r\n        _getColumnByName: function(name) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var editColumn;\r\n            isDefined(name) && visibleColumns.some(column => {\r\n                if (column.name === name) {\r\n                    editColumn = column;\r\n                    return true\r\n                }\r\n            });\r\n            return editColumn\r\n        },\r\n        _getVisibleEditRowIndex: function(columnName) {\r\n            var dataController = this._dataController;\r\n            var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n            var rowIndex = dataController.getRowIndexByKey(editRowKey);\r\n            if (-1 === rowIndex) {\r\n                return rowIndex\r\n            }\r\n            return rowIndex + this._getEditRowIndexCorrection(columnName)\r\n        },\r\n        _getEditRowIndexCorrection: function(columnName) {\r\n            var editColumn = columnName ? this._getColumnByName(columnName) : this._getEditColumn();\r\n            var isColumnHidden = \"adaptiveHidden\" === (null === editColumn || void 0 === editColumn ? void 0 : editColumn.visibleWidth);\r\n            return isColumnHidden ? 1 : 0\r\n        },\r\n        _resetEditRowKey: function() {\r\n            this._setEditRowKey(null, true)\r\n        },\r\n        _resetEditIndices: function() {\r\n            this._resetEditColumnName();\r\n            this._resetEditRowKey()\r\n        },\r\n        editRow: function(rowIndex) {\r\n            var _item$oldData;\r\n            var dataController = this._dataController;\r\n            var items = dataController.items();\r\n            var item = items[rowIndex];\r\n            var params = {\r\n                data: item && item.data,\r\n                cancel: false\r\n            };\r\n            var oldRowIndex = this._getVisibleEditRowIndex();\r\n            if (!item) {\r\n                return\r\n            }\r\n            if (rowIndex === oldRowIndex) {\r\n                return true\r\n            }\r\n            if (void 0 === item.key) {\r\n                this._dataController.fireError(\"E1043\");\r\n                return\r\n            }\r\n            if (!item.isNewRow) {\r\n                params.key = item.key\r\n            }\r\n            if (this._isEditingStart(params)) {\r\n                return\r\n            }\r\n            this.resetChanges();\r\n            this.init();\r\n            this._resetEditColumnName();\r\n            this._pageIndex = dataController.pageIndex();\r\n            this._addInternalData({\r\n                key: item.key,\r\n                oldData: null !== (_item$oldData = item.oldData) && void 0 !== _item$oldData ? _item$oldData : item.data\r\n            });\r\n            this._setEditRowKey(item.key)\r\n        },\r\n        _editRowFromOptionChanged: function(rowIndex, oldRowIndex) {\r\n            var rowIndices = [oldRowIndex, rowIndex];\r\n            this._beforeUpdateItems(rowIndices, rowIndex, oldRowIndex);\r\n            this._editRowFromOptionChangedCore(rowIndices, rowIndex)\r\n        },\r\n        _editRowFromOptionChangedCore: function(rowIndices, rowIndex, preventRendering) {\r\n            this._needFocusEditor = true;\r\n            this._dataController.updateItems({\r\n                changeType: \"update\",\r\n                rowIndices: rowIndices,\r\n                cancel: preventRendering\r\n            })\r\n        },\r\n        _focusEditorIfNeed: noop,\r\n        _showEditPopup: noop,\r\n        _repaintEditPopup: noop,\r\n        _getEditPopupHiddenHandler: function() {\r\n            return e => {\r\n                if (this.isEditing()) {\r\n                    this.cancelEditData()\r\n                }\r\n            }\r\n        },\r\n        _getPopupEditFormTemplate: noop,\r\n        _getSaveButtonConfig: function() {\r\n            return {\r\n                text: this.option(\"editing.texts.saveRowChanges\"),\r\n                onClick: this.saveEditData.bind(this)\r\n            }\r\n        },\r\n        _getCancelButtonConfig: function() {\r\n            return {\r\n                text: this.option(\"editing.texts.cancelRowChanges\"),\r\n                onClick: this.cancelEditData.bind(this)\r\n            }\r\n        },\r\n        _removeInternalData: function(key) {\r\n            var internalData = this._getInternalData(key);\r\n            var index = this._internalState.indexOf(internalData);\r\n            if (index > -1) {\r\n                this._internalState.splice(index, 1)\r\n            }\r\n        },\r\n        _updateInsertAfterOrBeforeKeys: function(changes, index) {\r\n            var removeChange = changes[index];\r\n            changes.forEach(change => {\r\n                var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n                if (equalByValue(insertAfterOrBeforeKey, removeChange.key)) {\r\n                    change[isDefined(change.insertAfterKey) ? \"insertAfterKey\" : \"insertBeforeKey\"] = this._getInsertAfterOrBeforeKey(removeChange)\r\n                }\r\n            })\r\n        },\r\n        _removeChange: function(index) {\r\n            if (index >= 0) {\r\n                var changes = [...this.getChanges()];\r\n                var key = changes[index].key;\r\n                this._removeInternalData(key);\r\n                this._updateInsertAfterOrBeforeKeys(changes, index);\r\n                changes.splice(index, 1);\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, changes);\r\n                if (equalByValue(this.option(EDITING_EDITROWKEY_OPTION_NAME), key)) {\r\n                    this._resetEditIndices()\r\n                }\r\n            }\r\n        },\r\n        executeOperation: function(deferred, func) {\r\n            this._lastOperation && this._lastOperation.reject();\r\n            this._lastOperation = deferred;\r\n            this.waitForDeferredOperations().done(() => {\r\n                if (\"rejected\" === deferred.state()) {\r\n                    return\r\n                }\r\n                func();\r\n                this._lastOperation = null\r\n            }).fail(() => {\r\n                deferred.reject();\r\n                this._lastOperation = null\r\n            })\r\n        },\r\n        waitForDeferredOperations: function() {\r\n            return when(...this._deferreds)\r\n        },\r\n        _processCanceledEditingCell: noop,\r\n        _repaintEditCell: function(column, oldColumn, oldEditRowIndex) {\r\n            this._needFocusEditor = true;\r\n            if (!column || !column.showEditorAlways || oldColumn && !oldColumn.showEditorAlways) {\r\n                this._editCellInProgress = true;\r\n                this.getController(\"editorFactory\").loseFocus();\r\n                this._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: [oldEditRowIndex, this._getVisibleEditRowIndex()]\r\n                })\r\n            } else if (column !== oldColumn) {\r\n                this._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: []\r\n                })\r\n            }\r\n        },\r\n        _delayedInputFocus: function($cell, beforeFocusCallback, callBeforeFocusCallbackAlways) {\r\n            var inputFocus = () => {\r\n                if (beforeFocusCallback) {\r\n                    beforeFocusCallback()\r\n                }\r\n                if ($cell) {\r\n                    var $focusableElement = $cell.find(FOCUSABLE_ELEMENT_SELECTOR).first();\r\n                    gridCoreUtils.focusAndSelectElement(this, $focusableElement)\r\n                }\r\n                this._beforeFocusCallback = null\r\n            };\r\n            if (devices.real().ios || devices.real().android) {\r\n                inputFocus()\r\n            } else {\r\n                if (this._beforeFocusCallback) {\r\n                    this._beforeFocusCallback()\r\n                }\r\n                clearTimeout(this._inputFocusTimeoutID);\r\n                if (callBeforeFocusCallbackAlways) {\r\n                    this._beforeFocusCallback = beforeFocusCallback\r\n                }\r\n                this._inputFocusTimeoutID = setTimeout(inputFocus)\r\n            }\r\n        },\r\n        _focusEditingCell: function(beforeFocusCallback, $editCell, callBeforeFocusCallbackAlways) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            var editColumnIndex = this._getVisibleEditColumnIndex();\r\n            $editCell = $editCell || rowsView && rowsView._getCellElement(this._getVisibleEditRowIndex(), editColumnIndex);\r\n            if ($editCell) {\r\n                this._delayedInputFocus($editCell, beforeFocusCallback, callBeforeFocusCallbackAlways)\r\n            }\r\n        },\r\n        deleteRow: function(rowIndex) {\r\n            this._checkAndDeleteRow(rowIndex)\r\n        },\r\n        _checkAndDeleteRow: function(rowIndex) {\r\n            var editingOptions = this.option(\"editing\");\r\n            var editingTexts = null === editingOptions || void 0 === editingOptions ? void 0 : editingOptions.texts;\r\n            var confirmDelete = null === editingOptions || void 0 === editingOptions ? void 0 : editingOptions.confirmDelete;\r\n            var confirmDeleteMessage = null === editingTexts || void 0 === editingTexts ? void 0 : editingTexts.confirmDeleteMessage;\r\n            var item = this._dataController.items()[rowIndex];\r\n            var allowDeleting = !this.isEditing() || item.isNewRow;\r\n            if (item && allowDeleting) {\r\n                if (!confirmDelete || !confirmDeleteMessage) {\r\n                    this._deleteRowCore(rowIndex)\r\n                } else {\r\n                    var confirmDeleteTitle = editingTexts && editingTexts.confirmDeleteTitle;\r\n                    var showDialogTitle = isDefined(confirmDeleteTitle) && confirmDeleteTitle.length > 0;\r\n                    confirm(confirmDeleteMessage, confirmDeleteTitle, showDialogTitle).done(confirmResult => {\r\n                        if (confirmResult) {\r\n                            this._deleteRowCore(rowIndex)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _deleteRowCore: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var item = dataController.items()[rowIndex];\r\n            var key = item && item.key;\r\n            var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n            this.refresh();\r\n            var changes = this.getChanges();\r\n            var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n            if (editIndex >= 0) {\r\n                if (changes[editIndex].type === DATA_EDIT_DATA_INSERT_TYPE) {\r\n                    this._removeChange(editIndex)\r\n                } else {\r\n                    this._addChange({\r\n                        key: key,\r\n                        type: DATA_EDIT_DATA_REMOVE_TYPE\r\n                    })\r\n                }\r\n            } else {\r\n                this._addChange({\r\n                    key: key,\r\n                    oldData: item.data,\r\n                    type: DATA_EDIT_DATA_REMOVE_TYPE\r\n                })\r\n            }\r\n            return this._afterDeleteRow(rowIndex, oldEditRowIndex)\r\n        },\r\n        _afterDeleteRow: function(rowIndex, oldEditRowIndex) {\r\n            return this.saveEditData()\r\n        },\r\n        undeleteRow: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var item = dataController.items()[rowIndex];\r\n            var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n            var key = item && item.key;\r\n            var changes = this.getChanges();\r\n            if (item) {\r\n                var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n                if (editIndex >= 0) {\r\n                    var {\r\n                        data: data\r\n                    } = changes[editIndex];\r\n                    if (isEmptyObject(data)) {\r\n                        this._removeChange(editIndex)\r\n                    } else {\r\n                        this._addChange({\r\n                            key: key,\r\n                            type: DATA_EDIT_DATA_UPDATE_TYPE\r\n                        })\r\n                    }\r\n                    dataController.updateItems({\r\n                        changeType: \"update\",\r\n                        rowIndices: [oldEditRowIndex, rowIndex]\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _fireOnSaving: function() {\r\n            var onSavingParams = {\r\n                cancel: false,\r\n                promise: null,\r\n                changes: [...this.getChanges()]\r\n            };\r\n            this.executeAction(\"onSaving\", onSavingParams);\r\n            var d = new Deferred;\r\n            when(fromPromise(onSavingParams.promise)).done(() => {\r\n                d.resolve(onSavingParams)\r\n            }).fail(arg => {\r\n                createFailureHandler(d);\r\n                this._fireDataErrorOccurred(arg);\r\n                d.resolve({\r\n                    cancel: true\r\n                })\r\n            });\r\n            return d\r\n        },\r\n        _executeEditingAction: function(actionName, params, func) {\r\n            if (this.component._disposed) {\r\n                return null\r\n            }\r\n            var deferred = new Deferred;\r\n            this.executeAction(actionName, params);\r\n            when(fromPromise(params.cancel)).done((function(cancel) {\r\n                if (cancel) {\r\n                    setTimeout((function() {\r\n                        deferred.resolve(\"cancel\")\r\n                    }))\r\n                } else {\r\n                    func(params).done(deferred.resolve).fail(createFailureHandler(deferred))\r\n                }\r\n            })).fail(createFailureHandler(deferred));\r\n            return deferred\r\n        },\r\n        _processChanges: function(deferreds, results, dataChanges, changes) {\r\n            var store = this._dataController.store();\r\n            each(changes, (index, change) => {\r\n                var oldData = this._getOldData(change.key);\r\n                var {\r\n                    data: data,\r\n                    type: type\r\n                } = change;\r\n                var changeCopy = _extends({}, change);\r\n                var deferred;\r\n                var params;\r\n                if (this._beforeSaveEditData(change, index)) {\r\n                    return\r\n                }\r\n                switch (type) {\r\n                    case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                        params = {\r\n                            data: oldData,\r\n                            key: change.key,\r\n                            cancel: false\r\n                        };\r\n                        deferred = this._executeEditingAction(\"onRowRemoving\", params, (function() {\r\n                            return store.remove(change.key).done((function(key) {\r\n                                dataChanges.push({\r\n                                    type: \"remove\",\r\n                                    key: key\r\n                                })\r\n                            }))\r\n                        }));\r\n                        break;\r\n                    case DATA_EDIT_DATA_INSERT_TYPE:\r\n                        params = {\r\n                            data: data,\r\n                            cancel: false\r\n                        };\r\n                        deferred = this._executeEditingAction(\"onRowInserting\", params, (function() {\r\n                            return store.insert(params.data).done((function(data, key) {\r\n                                if (isDefined(key)) {\r\n                                    changeCopy.key = key\r\n                                }\r\n                                if (data && isObject(data) && data !== params.data) {\r\n                                    changeCopy.data = data\r\n                                }\r\n                                dataChanges.push({\r\n                                    type: \"insert\",\r\n                                    data: data,\r\n                                    index: 0\r\n                                })\r\n                            }))\r\n                        }));\r\n                        break;\r\n                    case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                        params = {\r\n                            newData: data,\r\n                            oldData: oldData,\r\n                            key: change.key,\r\n                            cancel: false\r\n                        };\r\n                        deferred = this._executeEditingAction(\"onRowUpdating\", params, (function() {\r\n                            return store.update(change.key, params.newData).done((function(data, key) {\r\n                                if (data && isObject(data) && data !== params.newData) {\r\n                                    changeCopy.data = data\r\n                                }\r\n                                dataChanges.push({\r\n                                    type: \"update\",\r\n                                    key: key,\r\n                                    data: data\r\n                                })\r\n                            }))\r\n                        }))\r\n                }\r\n                changes[index] = changeCopy;\r\n                if (deferred) {\r\n                    var doneDeferred = new Deferred;\r\n                    deferred.always((function(data) {\r\n                        results.push({\r\n                            key: change.key,\r\n                            result: data\r\n                        })\r\n                    })).always(doneDeferred.resolve);\r\n                    deferreds.push(doneDeferred.promise())\r\n                }\r\n            })\r\n        },\r\n        _processRemoveIfError: function(changes, editIndex) {\r\n            var change = changes[editIndex];\r\n            if ((null === change || void 0 === change ? void 0 : change.type) === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                if (editIndex >= 0) {\r\n                    changes.splice(editIndex, 1)\r\n                }\r\n            }\r\n            return true\r\n        },\r\n        _processRemove: function(changes, editIndex, cancel) {\r\n            var change = changes[editIndex];\r\n            if (!cancel || !change || change.type === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                return this._processRemoveCore(changes, editIndex, !cancel || !change)\r\n            }\r\n        },\r\n        _processRemoveCore: function(changes, editIndex) {\r\n            if (editIndex >= 0) {\r\n                changes.splice(editIndex, 1)\r\n            }\r\n            return true\r\n        },\r\n        _processSaveEditDataResult: function(results) {\r\n            var hasSavedData = false;\r\n            var changes = [...this.getChanges()];\r\n            var changesLength = changes.length;\r\n            for (var i = 0; i < results.length; i++) {\r\n                var arg = results[i].result;\r\n                var cancel = \"cancel\" === arg;\r\n                var editIndex = gridCoreUtils.getIndexByKey(results[i].key, changes);\r\n                var change = changes[editIndex];\r\n                var isError = arg && arg instanceof Error;\r\n                if (isError) {\r\n                    if (change) {\r\n                        this._addInternalData({\r\n                            key: change.key,\r\n                            error: arg\r\n                        })\r\n                    }\r\n                    this._fireDataErrorOccurred(arg);\r\n                    if (this._processRemoveIfError(changes, editIndex)) {\r\n                        break\r\n                    }\r\n                } else if (this._processRemove(changes, editIndex, cancel)) {\r\n                    hasSavedData = !cancel\r\n                }\r\n            }\r\n            if (changes.length < changesLength) {\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, changes)\r\n            }\r\n            return hasSavedData\r\n        },\r\n        _fireSaveEditDataEvents: function(changes) {\r\n            each(changes, (_, _ref) => {\r\n                var {\r\n                    data: data,\r\n                    key: key,\r\n                    type: type\r\n                } = _ref;\r\n                var internalData = this._addInternalData({\r\n                    key: key\r\n                });\r\n                var params = {\r\n                    key: key,\r\n                    data: data\r\n                };\r\n                if (internalData.error) {\r\n                    params.error = internalData.error\r\n                }\r\n                switch (type) {\r\n                    case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                        this.executeAction(\"onRowRemoved\", extend({}, params, {\r\n                            data: internalData.oldData\r\n                        }));\r\n                        break;\r\n                    case DATA_EDIT_DATA_INSERT_TYPE:\r\n                        this.executeAction(\"onRowInserted\", params);\r\n                        break;\r\n                    case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                        this.executeAction(\"onRowUpdated\", params)\r\n                }\r\n            });\r\n            this.executeAction(\"onSaved\", {\r\n                changes: changes\r\n            })\r\n        },\r\n        saveEditData: function() {\r\n            var deferred = new Deferred;\r\n            this.waitForDeferredOperations().done(() => {\r\n                if (this.isSaving()) {\r\n                    this._resolveAfterSave(deferred);\r\n                    return\r\n                }\r\n                when(this._beforeSaveEditData()).done(cancel => {\r\n                    if (cancel) {\r\n                        this._resolveAfterSave(deferred, {\r\n                            cancel: cancel\r\n                        });\r\n                        return\r\n                    }\r\n                    this._saving = true;\r\n                    var options = {};\r\n                    this._saveEditDataInner(options).always(() => {\r\n                        this._saving = false;\r\n                        options.needFocusEditCell && this._focusEditingCell()\r\n                    }).done(deferred.resolve).fail(deferred.reject)\r\n                }).fail(deferred.reject)\r\n            }).fail(deferred.reject);\r\n            return deferred.promise()\r\n        },\r\n        _resolveAfterSave: function(deferred) {\r\n            var {\r\n                cancel: cancel,\r\n                error: error\r\n            } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\r\n            when(this._afterSaveEditData(cancel)).done((function() {\r\n                deferred.resolve(error)\r\n            })).fail(deferred.reject)\r\n        },\r\n        _saveEditDataInner: function(options) {\r\n            var results = [];\r\n            var deferreds = [];\r\n            var dataChanges = [];\r\n            var dataController = this._dataController;\r\n            var dataSource = dataController.dataSource();\r\n            var result = new Deferred;\r\n            when(this._fireOnSaving()).done(_ref2 => {\r\n                var {\r\n                    cancel: cancel,\r\n                    changes: changes\r\n                } = _ref2;\r\n                if (cancel) {\r\n                    return result.resolve().promise()\r\n                }\r\n                this._processChanges(deferreds, results, dataChanges, changes);\r\n                if (deferreds.length) {\r\n                    null === dataSource || void 0 === dataSource ? void 0 : dataSource.beginLoading();\r\n                    when(...deferreds).done(() => {\r\n                        if (this._processSaveEditDataResult(results)) {\r\n                            this._endSaving(dataChanges, changes, result)\r\n                        } else {\r\n                            null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n                            result.resolve()\r\n                        }\r\n                    }).fail(error => {\r\n                        null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n                        result.resolve(error)\r\n                    });\r\n                    return result.always(() => {\r\n                        options.needFocusEditCell = true\r\n                    }).promise()\r\n                }\r\n                this._cancelSaving(result)\r\n            }).fail(result.reject);\r\n            return result.promise()\r\n        },\r\n        _beforeEndSaving: function(changes) {\r\n            this._resetEditIndices()\r\n        },\r\n        _endSaving: function(dataChanges, changes, deferred) {\r\n            var dataSource = this._dataController.dataSource();\r\n            this._beforeEndSaving(changes);\r\n            null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n            this._refreshDataAfterSave(dataChanges, changes, deferred)\r\n        },\r\n        _cancelSaving: function(result) {\r\n            this.executeAction(\"onSaved\", {\r\n                changes: []\r\n            });\r\n            this._resolveAfterSave(result)\r\n        },\r\n        _refreshDataAfterSave: function(dataChanges, changes, deferred) {\r\n            var dataController = this._dataController;\r\n            var refreshMode = this.option(\"editing.refreshMode\");\r\n            var isFullRefresh = \"reshape\" !== refreshMode && \"repaint\" !== refreshMode;\r\n            if (!isFullRefresh) {\r\n                dataController.push(dataChanges)\r\n            }\r\n            when(dataController.refresh({\r\n                selection: isFullRefresh,\r\n                reload: isFullRefresh,\r\n                load: \"reshape\" === refreshMode,\r\n                changesOnly: this.option(\"repaintChangesOnly\")\r\n            })).always(() => {\r\n                this._fireSaveEditDataEvents(changes)\r\n            }).done(() => {\r\n                this._resolveAfterSave(deferred)\r\n            }).fail(error => {\r\n                this._resolveAfterSave(deferred, {\r\n                    error: error\r\n                })\r\n            })\r\n        },\r\n        isSaving: function() {\r\n            return this._saving\r\n        },\r\n        _updateEditColumn: function() {\r\n            var isEditColumnVisible = this._isEditColumnVisible();\r\n            var useIcons = this.option(\"editing.useIcons\");\r\n            var cssClass = COMMAND_EDIT_CLASS + (useIcons ? \" \" + COMMAND_EDIT_WITH_ICONS_CLASS : \"\");\r\n            this._columnsController.addCommandColumn({\r\n                type: \"buttons\",\r\n                command: \"edit\",\r\n                visible: isEditColumnVisible,\r\n                cssClass: cssClass,\r\n                width: \"auto\",\r\n                alignment: \"center\",\r\n                cellTemplate: this._getEditCommandCellTemplate(),\r\n                fixedPosition: \"right\"\r\n            });\r\n            this._columnsController.columnOption(\"command:edit\", {\r\n                visible: isEditColumnVisible,\r\n                cssClass: cssClass\r\n            })\r\n        },\r\n        _isEditColumnVisible: function() {\r\n            var editingOptions = this.option(\"editing\");\r\n            return editingOptions.allowDeleting\r\n        },\r\n        _isEditButtonDisabled: function() {\r\n            var hasChanges = this.hasChanges();\r\n            var isEditRowDefined = isDefined(this.option(\"editing.editRowKey\"));\r\n            return !(isEditRowDefined || hasChanges)\r\n        },\r\n        _updateEditButtons: function() {\r\n            var headerPanel = this.getView(\"headerPanel\");\r\n            var isButtonDisabled = this._isEditButtonDisabled();\r\n            if (headerPanel) {\r\n                headerPanel.setToolbarItemDisabled(\"saveButton\", isButtonDisabled);\r\n                headerPanel.setToolbarItemDisabled(\"revertButton\", isButtonDisabled)\r\n            }\r\n        },\r\n        _applyModified: function($element) {\r\n            $element && $element.addClass(CELL_MODIFIED)\r\n        },\r\n        _beforeCloseEditCellInBatchMode: noop,\r\n        cancelEditData: function() {\r\n            var changes = this.getChanges();\r\n            var params = {\r\n                cancel: false,\r\n                changes: changes\r\n            };\r\n            this.executeAction(\"onEditCanceling\", params);\r\n            if (!params.cancel) {\r\n                this._cancelEditDataCore();\r\n                this.executeAction(\"onEditCanceled\", {\r\n                    changes: changes\r\n                })\r\n            }\r\n        },\r\n        _cancelEditDataCore: function() {\r\n            var rowIndex = this._getVisibleEditRowIndex();\r\n            this._beforeCancelEditData();\r\n            this.init();\r\n            this.resetChanges();\r\n            this._resetEditColumnName();\r\n            this._resetEditRowKey();\r\n            this._afterCancelEditData(rowIndex)\r\n        },\r\n        _afterCancelEditData: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            dataController.updateItems({\r\n                repaintChangesOnly: this.option(\"repaintChangesOnly\")\r\n            })\r\n        },\r\n        _hideEditPopup: noop,\r\n        hasEditData: function() {\r\n            return this.hasChanges()\r\n        },\r\n        update: function(changeType) {\r\n            var dataController = this._dataController;\r\n            if (dataController && this._pageIndex !== dataController.pageIndex()) {\r\n                if (\"refresh\" === changeType) {\r\n                    this.refresh({\r\n                        isPageChanged: true\r\n                    })\r\n                }\r\n                this._pageIndex = dataController.pageIndex()\r\n            }\r\n            this._updateEditButtons()\r\n        },\r\n        _getRowIndicesForCascadeUpdating: function(row, skipCurrentRow) {\r\n            return skipCurrentRow ? [] : [row.rowIndex]\r\n        },\r\n        addDeferred: function(deferred) {\r\n            if (this._deferreds.indexOf(deferred) < 0) {\r\n                this._deferreds.push(deferred);\r\n                deferred.always(() => {\r\n                    var index = this._deferreds.indexOf(deferred);\r\n                    if (index >= 0) {\r\n                        this._deferreds.splice(index, 1)\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        _prepareChange: function(options, value, text) {\r\n            var _options$row;\r\n            var newData = {};\r\n            var oldData = null === (_options$row = options.row) || void 0 === _options$row ? void 0 : _options$row.data;\r\n            var rowKey = options.key;\r\n            var deferred = new Deferred;\r\n            if (void 0 !== rowKey) {\r\n                options.value = value;\r\n                var setCellValueResult = fromPromise(options.column.setCellValue(newData, value, extend(true, {}, oldData), text));\r\n                setCellValueResult.done((function() {\r\n                    deferred.resolve({\r\n                        data: newData,\r\n                        key: rowKey,\r\n                        oldData: oldData,\r\n                        type: DATA_EDIT_DATA_UPDATE_TYPE\r\n                    })\r\n                })).fail(createFailureHandler(deferred)).fail(arg => this._fireDataErrorOccurred(arg));\r\n                if (isDefined(text) && options.column.displayValueMap) {\r\n                    options.column.displayValueMap[value] = text\r\n                }\r\n                this._updateRowValues(options);\r\n                this.addDeferred(deferred)\r\n            }\r\n            return deferred\r\n        },\r\n        _updateRowValues: function(options) {\r\n            if (options.values) {\r\n                var dataController = this._dataController;\r\n                var rowIndex = dataController.getRowIndexByKey(options.key);\r\n                var row = dataController.getVisibleRows()[rowIndex];\r\n                if (row) {\r\n                    options.values = row.values\r\n                }\r\n                options.values[options.columnIndex] = options.value\r\n            }\r\n        },\r\n        updateFieldValue: function(options, value, text, forceUpdateRow) {\r\n            var rowKey = options.key;\r\n            var deferred = new Deferred;\r\n            if (void 0 === rowKey) {\r\n                this._dataController.fireError(\"E1043\")\r\n            }\r\n            if (options.column.setCellValue) {\r\n                this._prepareChange(options, value, text).done(params => {\r\n                    when(this._applyChange(options, params, forceUpdateRow)).always(() => {\r\n                        deferred.resolve()\r\n                    })\r\n                })\r\n            } else {\r\n                deferred.resolve()\r\n            }\r\n            return deferred.promise()\r\n        },\r\n        _focusPreviousEditingCellIfNeed: function(options) {\r\n            if (this.hasEditData() && !this.isEditCell(options.rowIndex, options.columnIndex)) {\r\n                this._focusEditingCell();\r\n                this._updateEditRow(options.row, true);\r\n                return true\r\n            }\r\n        },\r\n        _needUpdateRow: function(column) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            if (!column) {\r\n                column = this._getEditColumn()\r\n            }\r\n            var isCustomSetCellValue = column && column.setCellValue !== column.defaultSetCellValue;\r\n            var isCustomCalculateCellValue = visibleColumns.some(visibleColumn => visibleColumn.calculateCellValue !== visibleColumn.defaultCalculateCellValue);\r\n            return isCustomSetCellValue || isCustomCalculateCellValue\r\n        },\r\n        _applyChange: function(options, params, forceUpdateRow) {\r\n            var changeOptions = _extends({}, options, {\r\n                forceUpdateRow: forceUpdateRow\r\n            });\r\n            this._addChange(params, changeOptions);\r\n            this._updateEditButtons();\r\n            return this._applyChangeCore(options, changeOptions.forceUpdateRow)\r\n        },\r\n        _applyChangeCore: function(options, forceUpdateRow) {\r\n            var isCustomSetCellValue = options.column.setCellValue !== options.column.defaultSetCellValue;\r\n            var row = options.row;\r\n            if (row) {\r\n                if (forceUpdateRow || isCustomSetCellValue) {\r\n                    this._updateEditRow(row, forceUpdateRow, isCustomSetCellValue)\r\n                } else if (row.update) {\r\n                    row.update()\r\n                }\r\n            }\r\n        },\r\n        _updateEditRowCore: function(row, skipCurrentRow, isCustomSetCellValue) {\r\n            this._dataController.updateItems({\r\n                changeType: \"update\",\r\n                rowIndices: this._getRowIndicesForCascadeUpdating(row, skipCurrentRow)\r\n            })\r\n        },\r\n        _updateEditRow: function(row, forceUpdateRow, isCustomSetCellValue) {\r\n            if (forceUpdateRow) {\r\n                this._updateRowImmediately(row, forceUpdateRow, isCustomSetCellValue)\r\n            } else {\r\n                this._updateRowWithDelay(row, isCustomSetCellValue)\r\n            }\r\n        },\r\n        _updateRowImmediately: function(row, forceUpdateRow, isCustomSetCellValue) {\r\n            this._updateEditRowCore(row, !forceUpdateRow, isCustomSetCellValue);\r\n            this._validateEditFormAfterUpdate(row, isCustomSetCellValue);\r\n            if (!forceUpdateRow) {\r\n                this._focusEditingCell()\r\n            }\r\n        },\r\n        _updateRowWithDelay: function(row, isCustomSetCellValue) {\r\n            var deferred = new Deferred;\r\n            this.addDeferred(deferred);\r\n            setTimeout(() => {\r\n                var $focusedElement = $(domAdapter.getActiveElement());\r\n                var columnIndex = this._rowsView.getCellIndex($focusedElement, row.rowIndex);\r\n                var focusedElement = $focusedElement.get(0);\r\n                var selectionRange = gridCoreUtils.getSelectionRange(focusedElement);\r\n                this._updateEditRowCore(row, false, isCustomSetCellValue);\r\n                this._validateEditFormAfterUpdate(row, isCustomSetCellValue);\r\n                if (columnIndex >= 0) {\r\n                    var $focusedItem = this._rowsView._getCellElement(row.rowIndex, columnIndex);\r\n                    this._delayedInputFocus($focusedItem, () => {\r\n                        setTimeout(() => {\r\n                            focusedElement = domAdapter.getActiveElement();\r\n                            if (selectionRange.selectionStart >= 0) {\r\n                                gridCoreUtils.setSelectionRange(focusedElement, selectionRange)\r\n                            }\r\n                        })\r\n                    })\r\n                }\r\n                deferred.resolve()\r\n            })\r\n        },\r\n        _validateEditFormAfterUpdate: noop,\r\n        _addChange: function(changeParams, options) {\r\n            var _this$getChanges;\r\n            var row = null === options || void 0 === options ? void 0 : options.row;\r\n            var changes = [...this.getChanges()];\r\n            var index = gridCoreUtils.getIndexByKey(changeParams.key, changes);\r\n            if (index < 0) {\r\n                index = changes.length;\r\n                this._addInternalData({\r\n                    key: changeParams.key,\r\n                    oldData: changeParams.oldData\r\n                });\r\n                delete changeParams.oldData;\r\n                changes.push(changeParams)\r\n            }\r\n            var change = _extends({}, changes[index]);\r\n            if (change) {\r\n                if (changeParams.data) {\r\n                    change.data = createObjectWithChanges(change.data, changeParams.data)\r\n                }\r\n                if ((!change.type || !changeParams.data) && changeParams.type) {\r\n                    change.type = changeParams.type\r\n                }\r\n                if (row) {\r\n                    row.oldData = this._getOldData(row.key);\r\n                    row.data = createObjectWithChanges(row.data, changeParams.data)\r\n                }\r\n            }\r\n            changes[index] = change;\r\n            this._silentOption(EDITING_CHANGES_OPTION_NAME, changes);\r\n            if (options && change !== (null === (_this$getChanges = this.getChanges()) || void 0 === _this$getChanges ? void 0 : _this$getChanges[index])) {\r\n                options.forceUpdateRow = true\r\n            }\r\n            return change\r\n        },\r\n        _getFormEditItemTemplate: function(cellOptions, column) {\r\n            return column.editCellTemplate || this._getDefaultEditorTemplate()\r\n        },\r\n        getColumnTemplate: function(options) {\r\n            var column = options.column;\r\n            var rowIndex = options.row && options.row.rowIndex;\r\n            var template;\r\n            var isRowMode = this.isRowBasedEditMode();\r\n            var isRowEditing = this.isEditRow(rowIndex);\r\n            var isCellEditing = this.isEditCell(rowIndex, options.columnIndex);\r\n            var editingStartOptions;\r\n            if ((column.showEditorAlways || column.setCellValue && (isRowEditing && column.allowEditing || isCellEditing)) && (\"data\" === options.rowType || \"detailAdaptive\" === options.rowType) && !column.command) {\r\n                var allowUpdating = this.allowUpdating(options);\r\n                if (((allowUpdating || isRowEditing) && column.allowEditing || isCellEditing) && (isRowEditing || !isRowMode)) {\r\n                    if (column.showEditorAlways && !isRowMode) {\r\n                        editingStartOptions = {\r\n                            cancel: false,\r\n                            key: options.row.isNewRow ? void 0 : options.row.key,\r\n                            data: options.row.data,\r\n                            column: column\r\n                        };\r\n                        this._isEditingStart(editingStartOptions)\r\n                    }\r\n                    if (!editingStartOptions || !editingStartOptions.cancel) {\r\n                        options.setValue = (value, text) => {\r\n                            this.updateFieldValue(options, value, text)\r\n                        }\r\n                    }\r\n                }\r\n                template = column.editCellTemplate || this._getDefaultEditorTemplate()\r\n            } else if (\"detail\" === column.command && \"detail\" === options.rowType && isRowEditing) {\r\n                template = null === this || void 0 === this ? void 0 : this.getEditFormTemplate(options)\r\n            }\r\n            return template\r\n        },\r\n        _createButton: function($container, button, options, change) {\r\n            var icon = EDIT_ICON_CLASS[button.name];\r\n            var useIcons = this.option(\"editing.useIcons\");\r\n            var useLegacyColumnButtonTemplate = this.option(\"useLegacyColumnButtonTemplate\");\r\n            var $button = $(\"<a>\").attr(\"href\", \"#\").addClass(LINK_CLASS).addClass(button.cssClass);\r\n            if (button.template && useLegacyColumnButtonTemplate) {\r\n                this._rowsView.renderTemplate($container, button.template, options, true)\r\n            } else {\r\n                if (button.template) {\r\n                    $button = $(\"<span>\").addClass(button.cssClass)\r\n                } else if (useIcons && icon || button.icon) {\r\n                    icon = button.icon || icon;\r\n                    var iconType = iconUtils.getImageSourceType(icon);\r\n                    if (\"image\" === iconType || \"svg\" === iconType) {\r\n                        $button = iconUtils.getImageContainer(icon).addClass(button.cssClass)\r\n                    } else {\r\n                        $button.addClass(\"dx-icon\" + (\"dxIcon\" === iconType ? \"-\" : \" \") + icon).attr(\"title\", button.text)\r\n                    }\r\n                    $button.addClass(\"dx-link-icon\");\r\n                    $container.addClass(COMMAND_EDIT_WITH_ICONS_CLASS);\r\n                    var localizationName = this.getButtonLocalizationNames()[button.name];\r\n                    localizationName && $button.attr(\"aria-label\", messageLocalization.format(localizationName))\r\n                } else {\r\n                    $button.text(button.text)\r\n                }\r\n                if (isDefined(button.hint)) {\r\n                    $button.attr(\"title\", button.hint)\r\n                }\r\n                if (this._isButtonDisabled(button, options)) {\r\n                    $button.addClass(\"dx-state-disabled\")\r\n                } else if (!button.template || button.onClick) {\r\n                    eventsEngine.on($button, addNamespace(\"click\", EDITING_NAMESPACE), this.createAction((function(e) {\r\n                        var _button$onClick;\r\n                        null === (_button$onClick = button.onClick) || void 0 === _button$onClick ? void 0 : _button$onClick.call(button, extend({}, e, {\r\n                            row: options.row,\r\n                            column: options.column\r\n                        }));\r\n                        e.event.preventDefault();\r\n                        e.event.stopPropagation()\r\n                    })))\r\n                }\r\n                $container.append($button, \"&nbsp;\");\r\n                if (button.template) {\r\n                    this._rowsView.renderTemplate($button, button.template, options, true, change)\r\n                }\r\n            }\r\n        },\r\n        getButtonLocalizationNames: () => ({\r\n            edit: \"dxDataGrid-editingEditRow\",\r\n            save: \"dxDataGrid-editingSaveRowChanges\",\r\n            delete: \"dxDataGrid-editingDeleteRow\",\r\n            undelete: \"dxDataGrid-editingUndeleteRow\",\r\n            cancel: \"dxDataGrid-editingCancelRowChanges\"\r\n        }),\r\n        prepareButtonItem: function(headerPanel, name, methodName, sortIndex) {\r\n            var editingTexts = this.option(\"editing.texts\") || {};\r\n            var titleButtonTextByClassNames = {\r\n                revert: editingTexts.cancelAllChanges,\r\n                save: editingTexts.saveAllChanges,\r\n                addRow: editingTexts.addRow\r\n            };\r\n            var className = {\r\n                revert: \"cancel\",\r\n                save: \"save\",\r\n                addRow: \"addrow\"\r\n            } [name];\r\n            var hintText = titleButtonTextByClassNames[name];\r\n            var isButtonDisabled = (\"save\" === className || \"cancel\" === className) && this._isEditButtonDisabled();\r\n            return {\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    onInitialized: e => {\r\n                        $(e.element).addClass(headerPanel._getToolbarButtonClass(EDIT_BUTTON_CLASS + \" \" + this.addWidgetPrefix(className) + \"-button\"))\r\n                    },\r\n                    icon: \"edit-button-\" + className,\r\n                    disabled: isButtonDisabled,\r\n                    onClick: () => {\r\n                        setTimeout(() => {\r\n                            this[methodName]()\r\n                        })\r\n                    },\r\n                    text: hintText,\r\n                    hint: hintText\r\n                },\r\n                showText: \"inMenu\",\r\n                name: name + \"Button\",\r\n                location: \"after\",\r\n                locateInMenu: \"auto\",\r\n                sortIndex: sortIndex\r\n            }\r\n        },\r\n        prepareEditButtons: function(headerPanel) {\r\n            var editingOptions = this.option(\"editing\") || {};\r\n            var buttonItems = [];\r\n            if (editingOptions.allowAdding) {\r\n                buttonItems.push(this.prepareButtonItem(headerPanel, \"addRow\", \"addRow\", 20))\r\n            }\r\n            return buttonItems\r\n        },\r\n        highlightDataCell: function($cell, parameters) {\r\n            var cellModified = this.isCellModified(parameters);\r\n            var shouldHighlight = cellModified && parameters.column.setCellValue && (this.getEditMode() !== EDIT_MODE_ROW || !parameters.row.isEditing);\r\n            shouldHighlight && $cell.addClass(CELL_MODIFIED)\r\n        },\r\n        _afterInsertRow: noop,\r\n        _beforeSaveEditData: function(change) {\r\n            if (change && !isDefined(change.key) && isDefined(change.type)) {\r\n                return true\r\n            }\r\n        },\r\n        _afterSaveEditData: noop,\r\n        _beforeCancelEditData: noop,\r\n        _allowEditAction: function(actionName, options) {\r\n            var allowEditAction = this.option(\"editing.\" + actionName);\r\n            if (isFunction(allowEditAction)) {\r\n                allowEditAction = allowEditAction({\r\n                    component: this.component,\r\n                    row: options.row\r\n                })\r\n            }\r\n            return allowEditAction\r\n        },\r\n        allowUpdating: function(options, eventName) {\r\n            var startEditAction = this.option(\"editing.startEditAction\") || DEFAULT_START_EDIT_ACTION;\r\n            var needCallback = arguments.length > 1 ? startEditAction === eventName || \"down\" === eventName : true;\r\n            return needCallback && this._allowEditAction(\"allowUpdating\", options)\r\n        },\r\n        allowDeleting: function(options) {\r\n            return this._allowEditAction(\"allowDeleting\", options)\r\n        },\r\n        isCellModified: function(parameters) {\r\n            var columnIndex = parameters.columnIndex;\r\n            var modifiedValues = parameters.row && (parameters.row.isNewRow ? parameters.row.values : parameters.row.modifiedValues);\r\n            return !!modifiedValues && void 0 !== modifiedValues[columnIndex]\r\n        },\r\n        isNewRowInEditMode: function() {\r\n            var visibleEditRowIndex = this._getVisibleEditRowIndex();\r\n            var rows = this._dataController.items();\r\n            return visibleEditRowIndex >= 0 ? rows[visibleEditRowIndex].isNewRow : false\r\n        }\r\n    }\r\n}());\r\nexport var editingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            editing: {\r\n                mode: \"row\",\r\n                refreshMode: \"full\",\r\n                newRowPosition: VIEWPORT_TOP_NEW_ROW_POSITION,\r\n                allowAdding: false,\r\n                allowUpdating: false,\r\n                allowDeleting: false,\r\n                useIcons: false,\r\n                selectTextOnEditStart: false,\r\n                confirmDelete: true,\r\n                texts: {\r\n                    editRow: messageLocalization.format(\"dxDataGrid-editingEditRow\"),\r\n                    saveAllChanges: messageLocalization.format(\"dxDataGrid-editingSaveAllChanges\"),\r\n                    saveRowChanges: messageLocalization.format(\"dxDataGrid-editingSaveRowChanges\"),\r\n                    cancelAllChanges: messageLocalization.format(\"dxDataGrid-editingCancelAllChanges\"),\r\n                    cancelRowChanges: messageLocalization.format(\"dxDataGrid-editingCancelRowChanges\"),\r\n                    addRow: messageLocalization.format(\"dxDataGrid-editingAddRow\"),\r\n                    deleteRow: messageLocalization.format(\"dxDataGrid-editingDeleteRow\"),\r\n                    undeleteRow: messageLocalization.format(\"dxDataGrid-editingUndeleteRow\"),\r\n                    confirmDeleteMessage: messageLocalization.format(\"dxDataGrid-editingConfirmDeleteMessage\"),\r\n                    confirmDeleteTitle: \"\"\r\n                },\r\n                form: {\r\n                    colCount: 2\r\n                },\r\n                popup: {},\r\n                startEditAction: \"click\",\r\n                editRowKey: null,\r\n                editColumnName: null,\r\n                changes: []\r\n            },\r\n            useLegacyColumnButtonTemplate: false\r\n        }\r\n    },\r\n    controllers: {\r\n        editing: EditingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this.callBase()\r\n                },\r\n                reload: function(full, repaintChangesOnly) {\r\n                    !repaintChangesOnly && this._editingController.refresh();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                repaintRows: function() {\r\n                    if (this.getController(\"editing\").isSaving()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _updateEditRow: function(items) {\r\n                    var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n                    var editRowIndex = gridCoreUtils.getIndexByKey(editRowKey, items);\r\n                    var editItem = items[editRowIndex];\r\n                    if (editItem) {\r\n                        var _this$_updateEditItem;\r\n                        editItem.isEditing = true;\r\n                        null === (_this$_updateEditItem = this._updateEditItem) || void 0 === _this$_updateEditItem ? void 0 : _this$_updateEditItem.call(this, editItem)\r\n                    }\r\n                },\r\n                _updateItemsCore: function(change) {\r\n                    this.callBase(change);\r\n                    this._updateEditRow(this.items(true))\r\n                },\r\n                _applyChangeUpdate: function(change) {\r\n                    this._updateEditRow(change.items);\r\n                    this.callBase(change)\r\n                },\r\n                _applyChangesOnly: function(change) {\r\n                    this._updateEditRow(change.items);\r\n                    this.callBase(change)\r\n                },\r\n                _processItems: function(items, change) {\r\n                    items = this._editingController.processItems(items, change);\r\n                    return this.callBase(items, change)\r\n                },\r\n                _processDataItem: function(dataItem, options) {\r\n                    this._editingController.processDataItem(dataItem, options, this.generateDataValues);\r\n                    return this.callBase(dataItem, options)\r\n                },\r\n                _processItem: function(item, options) {\r\n                    item = this.callBase(item, options);\r\n                    if (item.isNewRow) {\r\n                        options.dataIndex--;\r\n                        delete item.dataIndex\r\n                    }\r\n                    return item\r\n                },\r\n                _getChangedColumnIndices: function(oldItem, newItem, rowIndex, isLiveUpdate) {\r\n                    if (oldItem.isNewRow !== newItem.isNewRow || oldItem.removed !== newItem.removed) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    var cell = oldRow.cells && oldRow.cells[columnIndex];\r\n                    var isEditing = editingController && editingController.isEditCell(visibleRowIndex, columnIndex);\r\n                    if (isLiveUpdate && isEditing) {\r\n                        return false\r\n                    }\r\n                    if (cell && cell.column && !cell.column.showEditorAlways && cell.isEditing !== isEditing) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _handleDataSourceChange(args) {\r\n                    var result = this.callBase(args);\r\n                    var changes = this.option(\"editing.changes\");\r\n                    var dataSource = args.value;\r\n                    if (Array.isArray(dataSource) && changes.length) {\r\n                        var dataSourceKeys = dataSource.map(item => this.keyOf(item));\r\n                        var newChanges = changes.filter(change => \"insert\" === change.type || dataSourceKeys.some(key => equalByValue(change.key, key)));\r\n                        if (newChanges.length !== changes.length) {\r\n                            this.option(\"editing.changes\", newChanges)\r\n                        }\r\n                        var editRowKey = this.option(\"editing.editRowKey\");\r\n                        var isEditNewItem = newChanges.find(change => \"insert\" === change.type && equalByValue(editRowKey, change.key));\r\n                        if (!isEditNewItem && dataSourceKeys.every(key => !equalByValue(editRowKey, key))) {\r\n                            this.option(\"editing.editRowKey\", null)\r\n                        }\r\n                    }\r\n                    return result\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._editingController = this.getController(\"editing\")\r\n                },\r\n                getCellIndex: function($cell, rowIndex) {\r\n                    if (!$cell.is(\"td\") && rowIndex >= 0) {\r\n                        var $cellElements = this.getCellElements(rowIndex);\r\n                        var cellIndex = -1;\r\n                        each($cellElements, (function(index, cellElement) {\r\n                            if ($(cellElement).find($cell).length) {\r\n                                cellIndex = index\r\n                            }\r\n                        }));\r\n                        return cellIndex\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                publicMethods: function() {\r\n                    return this.callBase().concat([\"cellValue\"])\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    var template = this._editingController.getColumnTemplate(options);\r\n                    return template || this.callBase(options)\r\n                },\r\n                _isNativeClick: function() {\r\n                    return (devices.real().ios || devices.real().android) && this.option(\"editing.allowUpdating\")\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var isRowRemoved = !!row.removed;\r\n                        var isRowInserted = !!row.isNewRow;\r\n                        var isRowModified = !!row.modified;\r\n                        isRowInserted && $row.addClass(ROW_INSERTED);\r\n                        isRowModified && $row.addClass(ROW_MODIFIED);\r\n                        if (isRowInserted || isRowRemoved) {\r\n                            $row.removeClass(ROW_SELECTED)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _getColumnIndexByElement: function($element) {\r\n                    var $tableElement = $element.closest(\"table\");\r\n                    var $tableElements = this.getTableElements();\r\n                    while ($tableElement.length && !$tableElements.filter($tableElement).length) {\r\n                        $element = $tableElement.closest(\"td\");\r\n                        $tableElement = $element.closest(\"table\")\r\n                    }\r\n                    return this._getColumnIndexByElementCore($element)\r\n                },\r\n                _getColumnIndexByElementCore: function($element) {\r\n                    var $targetElement = $element.closest(\".\" + ROW_CLASS + \"> td:not(.dx-master-detail-cell)\");\r\n                    return this.getCellIndex($targetElement)\r\n                },\r\n                _editCellByClick: function(e, eventName) {\r\n                    var editingController = this._editingController;\r\n                    var $targetElement = $(e.event.target);\r\n                    var columnIndex = this._getColumnIndexByElement($targetElement);\r\n                    var row = this._dataController.items()[e.rowIndex];\r\n                    var allowUpdating = editingController.allowUpdating({\r\n                        row: row\r\n                    }, eventName) || row && row.isNewRow;\r\n                    var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n                    var isEditedCell = editingController.isEditCell(e.rowIndex, columnIndex);\r\n                    var allowEditing = allowUpdating && column && (column.allowEditing || isEditedCell);\r\n                    var startEditAction = this.option(\"editing.startEditAction\") || \"click\";\r\n                    if (\"down\" === eventName) {\r\n                        if ((devices.real().ios || devices.real().android) && !isEditedCell) {\r\n                            resetActiveElement()\r\n                        }\r\n                        return column && column.showEditorAlways && allowEditing && editingController.editCell(e.rowIndex, columnIndex)\r\n                    }\r\n                    if (\"click\" === eventName && \"dblClick\" === startEditAction && !isEditedCell) {\r\n                        var withoutSaveEditData = null === row || void 0 === row ? void 0 : row.isNewRow;\r\n                        editingController.closeEditCell(false, withoutSaveEditData)\r\n                    }\r\n                    if (allowEditing && eventName === startEditAction) {\r\n                        return editingController.editCell(e.rowIndex, columnIndex) || editingController.isEditRow(e.rowIndex)\r\n                    }\r\n                },\r\n                _rowPointerDown: function(e) {\r\n                    this._pointerDownTimeout = setTimeout(() => {\r\n                        this._editCellByClick(e, \"down\")\r\n                    })\r\n                },\r\n                _rowClick: function(e) {\r\n                    var isEditForm = $(e.rowElement).hasClass(this.addWidgetPrefix(EDIT_FORM_CLASS));\r\n                    e.event[TARGET_COMPONENT_NAME] = this.component;\r\n                    if (!this._editCellByClick(e, \"click\") && !isEditForm) {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _rowDblClick: function(e) {\r\n                    if (!this._editCellByClick(e, \"dblClick\")) {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _cellPrepared: function($cell, parameters) {\r\n                    var editingController = this._editingController;\r\n                    var isCommandCell = !!parameters.column.command;\r\n                    var isEditableCell = parameters.setValue;\r\n                    var isEditRow = editingController.isEditRow(parameters.rowIndex);\r\n                    var isEditing = isEditingCell(isEditRow, parameters);\r\n                    if (isEditingOrShowEditorAlwaysDataCell(isEditRow, parameters)) {\r\n                        var alignment = parameters.column.alignment;\r\n                        $cell.toggleClass(this.addWidgetPrefix(READONLY_CLASS), !isEditableCell).toggleClass(CELL_FOCUS_DISABLED_CLASS, !isEditableCell);\r\n                        if (alignment) {\r\n                            $cell.find(EDITORS_INPUT_SELECTOR).first().css(\"textAlign\", alignment)\r\n                        }\r\n                    }\r\n                    if (isEditing) {\r\n                        this._editCellPrepared($cell)\r\n                    }\r\n                    if (parameters.column && !isCommandCell) {\r\n                        editingController.highlightDataCell($cell, parameters)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _editCellPrepared: noop,\r\n                _formItemPrepared: noop,\r\n                _getCellOptions: function(options) {\r\n                    var cellOptions = this.callBase(options);\r\n                    cellOptions.isEditing = this._editingController.isEditCell(cellOptions.rowIndex, cellOptions.columnIndex);\r\n                    return cellOptions\r\n                },\r\n                _createCell: function(options) {\r\n                    var $cell = this.callBase(options);\r\n                    var isEditRow = this._editingController.isEditRow(options.rowIndex);\r\n                    isEditingOrShowEditorAlwaysDataCell(isEditRow, options) && $cell.addClass(EDITOR_CELL_CLASS);\r\n                    return $cell\r\n                },\r\n                cellValue: function(rowIndex, columnIdentifier, value, text) {\r\n                    var cellOptions = this.getCellOptions(rowIndex, columnIdentifier);\r\n                    if (cellOptions) {\r\n                        if (void 0 === value) {\r\n                            return cellOptions.value\r\n                        } else {\r\n                            this._editingController.updateFieldValue(cellOptions, value, text, true)\r\n                        }\r\n                    }\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._pointerDownTimeout)\r\n                },\r\n                _renderCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._editingController._focusEditorIfNeed()\r\n                }\r\n            },\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var editButtonItems = this.getController(\"editing\").prepareEditButtons(this);\r\n                    return editButtonItems.concat(items)\r\n                },\r\n                optionChanged: function(args) {\r\n                    var fullName = args.fullName;\r\n                    switch (args.name) {\r\n                        case \"editing\":\r\n                            var excludedOptions = [EDITING_POPUP_OPTION_NAME, EDITING_CHANGES_OPTION_NAME, EDITING_EDITCOLUMNNAME_OPTION_NAME, EDITING_EDITROWKEY_OPTION_NAME];\r\n                            var shouldInvalidate = fullName && !excludedOptions.some(optionName => optionName === fullName);\r\n                            shouldInvalidate && this._invalidate();\r\n                            this.callBase(args);\r\n                            break;\r\n                        case \"useLegacyColumnButtonTemplate\":\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                isVisible: function() {\r\n                    var editingOptions = this.getController(\"editing\").option(\"editing\");\r\n                    return this.callBase() || (null === editingOptions || void 0 === editingOptions ? void 0 : editingOptions.allowAdding)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport \"./ui.data_grid.editor_factory\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editingModule\r\n} from \"../grid_core/ui.grid_core.editing\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\ngridCore.registerModule(\"editing\", extend(true, {}, editingModule, {\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                _changeRowExpandCore: function(key) {\r\n                    var editingController = this._editingController;\r\n                    if (Array.isArray(key)) {\r\n                        editingController && editingController.refresh()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}));\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_row_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    EDIT_MODE_ROW,\r\n    MODES_WITH_DELAYED_FOCUS,\r\n    ROW_SELECTED_CLASS,\r\n    EDIT_FORM_CLASS\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar EDIT_ROW = \"dx-edit-row\";\r\nexport var editingRowBasedModule = {\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                isRowEditMode: function() {\r\n                    return this.getEditMode() === EDIT_MODE_ROW\r\n                },\r\n                _afterCancelEditData: function(rowIndex) {\r\n                    var dataController = this._dataController;\r\n                    if (this.isRowBasedEditMode() && rowIndex >= 0) {\r\n                        dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: [rowIndex, rowIndex + 1]\r\n                        })\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _isDefaultButtonVisible: function(button, options) {\r\n                    var isRowMode = this.isRowBasedEditMode();\r\n                    var isEditRow = options.row && options.row.rowIndex === this._getVisibleEditRowIndex();\r\n                    if (isRowMode) {\r\n                        switch (button.name) {\r\n                            case \"edit\":\r\n                                return !isEditRow && this.allowUpdating(options);\r\n                            case \"delete\":\r\n                                return this.callBase.apply(this, arguments) && !isEditRow;\r\n                            case \"save\":\r\n                            case \"cancel\":\r\n                                return isEditRow;\r\n                            default:\r\n                                return this.callBase.apply(this, arguments)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                isEditRow: function(rowIndex) {\r\n                    return this.isRowBasedEditMode() && this._isEditRowByIndex(rowIndex)\r\n                },\r\n                _cancelSaving: function() {\r\n                    if (this.isRowBasedEditMode()) {\r\n                        if (!this.hasChanges()) {\r\n                            this._cancelEditDataCore()\r\n                        }\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _refreshCore: function(params) {\r\n                    var {\r\n                        allowCancelEditing: allowCancelEditing\r\n                    } = null !== params && void 0 !== params ? params : {};\r\n                    if (this.isRowBasedEditMode()) {\r\n                        var hasUpdateChanges = this.getChanges().filter(it => \"update\" === it.type).length > 0;\r\n                        this.init();\r\n                        allowCancelEditing && hasUpdateChanges && this._cancelEditDataCore()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _isEditColumnVisible: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var editingOptions = this.option(\"editing\");\r\n                    var isRowEditMode = this.isRowEditMode();\r\n                    var isVisibleInRowEditMode = editingOptions.allowUpdating || editingOptions.allowAdding;\r\n                    return result || isRowEditMode && isVisibleInRowEditMode\r\n                },\r\n                _focusEditorIfNeed: function() {\r\n                    var editMode = this.getEditMode();\r\n                    if (this._needFocusEditor) {\r\n                        if (-1 !== MODES_WITH_DELAYED_FOCUS.indexOf(editMode)) {\r\n                            var $editingCell = this.getFocusedCellInRow(this._getVisibleEditRowIndex());\r\n                            this._delayedInputFocus($editingCell, () => {\r\n                                $editingCell && this.component.focus($editingCell)\r\n                            })\r\n                        }\r\n                        this._needFocusEditor = false\r\n                    }\r\n                }\r\n            },\r\n            data: {\r\n                _getChangedColumnIndices: function(oldItem, newItem, rowIndex, isLiveUpdate) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    if (editingController.isRowBasedEditMode() && oldItem.isEditing !== newItem.isEditing) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var editingController = this._editingController;\r\n                        var isEditRow = editingController.isEditRow(row.rowIndex);\r\n                        if (isEditRow) {\r\n                            $row.addClass(EDIT_ROW);\r\n                            $row.removeClass(ROW_SELECTED_CLASS);\r\n                            if (\"detail\" === row.rowType) {\r\n                                $row.addClass(this.addWidgetPrefix(EDIT_FORM_CLASS))\r\n                            }\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _update: function(change) {\r\n                    this.callBase(change);\r\n                    if (\"updateSelection\" === change.changeType) {\r\n                        this.getTableElements().children(\"tbody\").children(\".\" + EDIT_ROW).removeClass(ROW_SELECTED_CLASS)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing_row_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editingRowBasedModule\r\n} from \"../grid_core/ui.grid_core.editing_row_based\";\r\ngridCore.registerModule(\"editingRowBased\", editingRowBasedModule);\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.items_runtime_info.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isString\r\n} from \"../../core/utils/type\";\r\nexport default class FormItemsRunTimeInfo {\r\n    constructor() {\r\n        this._map = {}\r\n    }\r\n    _findWidgetInstance(condition) {\r\n        var result;\r\n        each(this._map, (function(guid, _ref) {\r\n            var {\r\n                widgetInstance: widgetInstance,\r\n                item: item\r\n            } = _ref;\r\n            if (condition(item)) {\r\n                result = widgetInstance;\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    _findFieldByCondition(callback, valueExpr) {\r\n        var result;\r\n        each(this._map, (function(key, value) {\r\n            if (callback(value)) {\r\n                result = \"guid\" === valueExpr ? key : value[valueExpr];\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    clear() {\r\n        this._map = {}\r\n    }\r\n    removeItemsByItems(itemsRunTimeInfo) {\r\n        each(itemsRunTimeInfo.getItems(), guid => this.removeItemByKey(guid))\r\n    }\r\n    removeItemByKey(key) {\r\n        delete this._map[key]\r\n    }\r\n    add(options) {\r\n        var key = options.guid || new Guid;\r\n        this._map[key] = options;\r\n        return key\r\n    }\r\n    addItemsOrExtendFrom(itemsRunTimeInfo) {\r\n        itemsRunTimeInfo.each((key, itemRunTimeInfo) => {\r\n            if (this._map[key]) {\r\n                if (itemRunTimeInfo.widgetInstance) {\r\n                    this._map[key].widgetInstance = itemRunTimeInfo.widgetInstance\r\n                }\r\n                this._map[key].$itemContainer = itemRunTimeInfo.$itemContainer\r\n            } else {\r\n                this.add({\r\n                    item: itemRunTimeInfo.item,\r\n                    widgetInstance: itemRunTimeInfo.widgetInstance,\r\n                    guid: key,\r\n                    $itemContainer: itemRunTimeInfo.$itemContainer\r\n                })\r\n            }\r\n        })\r\n    }\r\n    extendRunTimeItemInfoByKey(key, options) {\r\n        if (this._map[key]) {\r\n            this._map[key] = extend(this._map[key], options)\r\n        }\r\n    }\r\n    findWidgetInstanceByItem(item) {\r\n        return this._findWidgetInstance(storedItem => storedItem === item)\r\n    }\r\n    findGroupOrTabLayoutManagerByPath(targetPath) {\r\n        return this._findFieldByCondition(_ref2 => {\r\n            var {\r\n                path: path\r\n            } = _ref2;\r\n            return path === targetPath\r\n        }, \"layoutManager\")\r\n    }\r\n    findKeyByPath(targetPath) {\r\n        return this._findFieldByCondition(_ref3 => {\r\n            var {\r\n                path: path\r\n            } = _ref3;\r\n            return path === targetPath\r\n        }, \"guid\")\r\n    }\r\n    findWidgetInstanceByName(name) {\r\n        return this._findWidgetInstance(item => name === item.name)\r\n    }\r\n    findWidgetInstanceByDataField(dataField) {\r\n        return this._findWidgetInstance(item => dataField === (isString(item) ? item : item.dataField))\r\n    }\r\n    findItemContainerByItem(item) {\r\n        for (var key in this._map) {\r\n            if (this._map[key].item === item) {\r\n                return this._map[key].$itemContainer\r\n            }\r\n        }\r\n        return null\r\n    }\r\n    findItemIndexByItem(targetItem) {\r\n        return this._findFieldByCondition(_ref4 => {\r\n            var {\r\n                item: item\r\n            } = _ref4;\r\n            return item === targetItem\r\n        }, \"itemIndex\")\r\n    }\r\n    findPreparedItemByItem(item) {\r\n        return this._findFieldByCondition(_ref5 => {\r\n            var {\r\n                item: currentItem\r\n            } = _ref5;\r\n            return currentItem === item\r\n        }, \"preparedItem\")\r\n    }\r\n    getItems() {\r\n        return this._map\r\n    }\r\n    each(handler) {\r\n        each(this._map, (function(key, itemRunTimeInfo) {\r\n            handler(key, itemRunTimeInfo)\r\n        }))\r\n    }\r\n    removeItemsByPathStartWith(path) {\r\n        var keys = Object.keys(this._map);\r\n        var filteredKeys = keys.filter(key => {\r\n            if (this._map[key].path) {\r\n                return this._map[key].path.indexOf(path, 0) > -1\r\n            }\r\n            return false\r\n        });\r\n        filteredKeys.forEach(key => this.removeItemByKey(key))\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/multi_view/ui.multi_view.animation.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nexport var _translator = {\r\n    move($element, position) {\r\n        move($element, {\r\n            left: position\r\n        })\r\n    }\r\n};\r\nexport var animation = {\r\n    moveTo($element, position, duration, completeAction) {\r\n        fx.animate($element, {\r\n            type: \"slide\",\r\n            to: {\r\n                left: position\r\n            },\r\n            duration: duration,\r\n            complete: completeAction\r\n        })\r\n    },\r\n    complete($element) {\r\n        fx.stop($element, true)\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/multi_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    locate\r\n} from \"../animation/translator\";\r\nimport {\r\n    _translator,\r\n    animation\r\n} from \"./multi_view/ui.multi_view.animation\";\r\nimport {\r\n    sign\r\n} from \"../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    noop,\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    triggerResizeEvent\r\n} from \"../events/visibility_change\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.live_update\";\r\nimport Swipeable from \"../events/gesture/swipeable\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar MULTIVIEW_CLASS = \"dx-multiview\";\r\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\r\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\r\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\r\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\r\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\r\nvar MULTIVIEW_ANIMATION_DURATION = 200;\r\nvar toNumber = value => +value;\r\nvar position = $element => locate($element).left;\r\nvar MultiView = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            pageUp: noop,\r\n            pageDown: noop\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            selectedIndex: 0,\r\n            swipeEnabled: true,\r\n            animationEnabled: true,\r\n            loop: false,\r\n            deferRendering: true,\r\n            _itemAttributes: {\r\n                role: \"tabpanel\"\r\n            },\r\n            loopItemFocus: false,\r\n            selectOnFocus: true,\r\n            selectionMode: \"single\",\r\n            selectionRequired: true,\r\n            selectionByClick: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _itemClass: function() {\r\n        return MULTIVIEW_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return MULTIVIEW_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$itemContainer\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _itemWidth: function() {\r\n        if (!this._itemWidthValue) {\r\n            this._itemWidthValue = getWidth(this._$wrapper)\r\n        }\r\n        return this._itemWidthValue\r\n    },\r\n    _clearItemWidthCache: function() {\r\n        delete this._itemWidthValue\r\n    },\r\n    _itemsCount: function() {\r\n        return this.option(\"items\").length\r\n    },\r\n    _normalizeIndex: function(index) {\r\n        var count = this._itemsCount();\r\n        if (index < 0) {\r\n            index += count\r\n        }\r\n        if (index >= count) {\r\n            index -= count\r\n        }\r\n        return index\r\n    },\r\n    _getRTLSignCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var $element = this.$element();\r\n        $element.addClass(MULTIVIEW_CLASS);\r\n        this._$wrapper = $(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\r\n        this._$wrapper.appendTo($element);\r\n        this._$itemContainer = $(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\r\n        this._$itemContainer.appendTo(this._$wrapper);\r\n        this.option(\"loopItemFocus\", this.option(\"loop\"));\r\n        this._initSwipeable()\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(deletedActionArgs.itemIndex, 1)\r\n        }\r\n    },\r\n    _beforeItemElementInserted: function(change) {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(change.index, 0, null)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(index, itemData, itemElement) {\r\n        index = (this.option(\"items\") || []).indexOf(itemData);\r\n        this.callBase(index, itemData, itemElement)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var renderContentDeferred = new Deferred;\r\n        var that = this;\r\n        var callBase = this.callBase;\r\n        var deferred = new Deferred;\r\n        deferred.done((function() {\r\n            var $itemContent = callBase.call(that, args);\r\n            renderContentDeferred.resolve($itemContent)\r\n        }));\r\n        this._deferredItems[args.index] = deferred;\r\n        this.option(\"deferRendering\") || deferred.resolve();\r\n        return renderContentDeferred.promise()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        deferRender(() => {\r\n            var selectedItemIndices = this._getSelectedItemIndices();\r\n            this._updateItems(selectedItemIndices[0])\r\n        })\r\n    },\r\n    _updateItems: function(selectedIndex, newIndex) {\r\n        this._updateItemsPosition(selectedIndex, newIndex);\r\n        this._updateItemsVisibility(selectedIndex, newIndex)\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _updateItemsPosition: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        var positionSign = isDefined(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\r\n        var $selectedItem = $itemElements.eq(selectedIndex);\r\n        _translator.move($selectedItem, 0);\r\n        if (isDefined(newIndex)) {\r\n            _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\")\r\n        }\r\n    },\r\n    _updateItemsVisibility: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        $itemElements.each(function(itemIndex, item) {\r\n            var $item = $(item);\r\n            var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\r\n            if (!isHidden) {\r\n                this._renderSpecificItem(itemIndex)\r\n            }\r\n            $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\r\n            this.setAria(\"hidden\", isHidden || void 0, $item)\r\n        }.bind(this))\r\n    },\r\n    _renderSpecificItem: function(index) {\r\n        var $item = this._itemElements().eq(index);\r\n        var hasItemContent = $item.find(this._itemContentClass()).length > 0;\r\n        if (isDefined(index) && !hasItemContent) {\r\n            this._deferredItems[index].resolve();\r\n            triggerResizeEvent($item)\r\n        }\r\n    },\r\n    _refreshItem: function($item, item) {\r\n        this.callBase($item, item);\r\n        this._updateItemsVisibility(this.option(\"selectedIndex\"))\r\n    },\r\n    _setAriaSelected: noop,\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        var newIndex = addedSelection[0];\r\n        var prevIndex = removedSelection[0];\r\n        animation.complete(this._$itemContainer);\r\n        this._updateItems(prevIndex, newIndex);\r\n        var animationDirection = this._animationDirection(newIndex, prevIndex);\r\n        this._animateItemContainer(animationDirection * this._itemWidth(), function() {\r\n            _translator.move(this._$itemContainer, 0);\r\n            this._updateItems(newIndex);\r\n            getWidth(this._$itemContainer)\r\n        }.bind(this))\r\n    },\r\n    _animateItemContainer: function(position, completeCallback) {\r\n        var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\r\n        animation.moveTo(this._$itemContainer, position, duration, completeCallback)\r\n    },\r\n    _animationDirection: function(newIndex, prevIndex) {\r\n        var containerPosition = position(this._$itemContainer);\r\n        var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\r\n        var isSwipePresent = 0 !== containerPosition;\r\n        var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\r\n        return sign(directionSignVariable)\r\n    },\r\n    _getSwipeDisabledState() {\r\n        return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1\r\n    },\r\n    _initSwipeable() {\r\n        this._createComponent(this.$element(), Swipeable, {\r\n            disabled: this._getSwipeDisabledState(),\r\n            elastic: false,\r\n            itemSizeFunc: this._itemWidth.bind(this),\r\n            onStart: args => this._swipeStartHandler(args.event),\r\n            onUpdated: args => this._swipeUpdateHandler(args.event),\r\n            onEnd: args => this._swipeEndHandler(args.event)\r\n        })\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        animation.complete(this._$itemContainer);\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var loop = this.option(\"loop\");\r\n        var lastIndex = this._itemsCount() - 1;\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\r\n        e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\r\n        this._swipeDirection = null\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.offset;\r\n        var swipeDirection = sign(offset) * this._getRTLSignCorrection();\r\n        _translator.move(this._$itemContainer, offset * this._itemWidth());\r\n        if (swipeDirection !== this._swipeDirection) {\r\n            this._swipeDirection = swipeDirection;\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\r\n            this._updateItems(selectedIndex, newIndex)\r\n        }\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.targetOffset * this._getRTLSignCorrection();\r\n        if (targetOffset) {\r\n            this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\r\n            var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\r\n            this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", getPublicElement($selectedElement))\r\n        } else {\r\n            this._animateItemContainer(0, noop)\r\n        }\r\n    },\r\n    _getItemFocusLoopSignCorrection: function() {\r\n        return this._itemFocusLooped ? -1 : 1\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = false\r\n    },\r\n    _prevItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.last());\r\n        return $result\r\n    },\r\n    _nextItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.first());\r\n        return $result\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._clearItemWidthCache()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _updateSwipeDisabledState() {\r\n        var disabled = this._getSwipeDisabledState();\r\n        Swipeable.getInstance(this.$element()).option(\"disabled\", disabled)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"loop\":\r\n                this.option(\"loopItemFocus\", value);\r\n                break;\r\n            case \"animationEnabled\":\r\n                break;\r\n            case \"swipeEnabled\":\r\n                this._updateSwipeDisabledState();\r\n                break;\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"items\":\r\n                this._updateSwipeDisabledState();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxMultiView\", MultiView);\r\nexport default MultiView;\r\n","/**\r\n * DevExtreme (esm/ui/tabs/item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport CollectionWidgetItem from \"../collection/item\";\r\nvar TABS_ITEM_BADGE_CLASS = \"dx-tabs-item-badge\";\r\nvar BADGE_CLASS = \"dx-badge\";\r\nvar TabsItem = CollectionWidgetItem.inherit({\r\n    _renderWatchers: function() {\r\n        this.callBase();\r\n        this._startWatcher(\"badge\", this._renderBadge.bind(this))\r\n    },\r\n    _renderBadge: function(badge) {\r\n        this._$element.children(\".\" + BADGE_CLASS).remove();\r\n        if (!badge) {\r\n            return\r\n        }\r\n        var $badge = $(\"<div>\").addClass(TABS_ITEM_BADGE_CLASS).addClass(BADGE_CLASS).text(badge);\r\n        this._$element.append($badge)\r\n    }\r\n});\r\nexport default TabsItem;\r\n","/**\r\n * DevExtreme (esm/ui/tabs/constants.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var TABS_EXPANDED_CLASS = \"dx-tabs-expanded\";\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/get_scroll_left_max.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport function getScrollLeftMax(element) {\r\n    return element.scrollWidth - element.clientWidth\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/get_boundary_props.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getScrollLeftMax\r\n} from \"./get_scroll_left_max\";\r\nimport {\r\n    getScrollTopMax\r\n} from \"./get_scroll_top_max\";\r\nimport {\r\n    ScrollDirection\r\n} from \"./scroll_direction\";\r\nexport function isReachedLeft(scrollOffsetLeft, epsilon) {\r\n    return Math.round(scrollOffsetLeft) <= epsilon\r\n}\r\nexport function isReachedRight(element, scrollOffsetLeft, epsilon) {\r\n    return Math.round(getScrollLeftMax(element) - scrollOffsetLeft) <= epsilon\r\n}\r\nexport function isReachedTop(scrollOffsetTop, epsilon) {\r\n    return Math.round(scrollOffsetTop) <= epsilon\r\n}\r\nexport function isReachedBottom(element, scrollOffsetTop, pocketHeight, epsilon) {\r\n    return Math.round(getScrollTopMax(element) - scrollOffsetTop - pocketHeight) <= epsilon\r\n}\r\nexport function getBoundaryProps(direction, scrollOffset, element) {\r\n    var pocketHeight = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;\r\n    var {\r\n        left: left,\r\n        top: top\r\n    } = scrollOffset;\r\n    var boundaryProps = {};\r\n    var {\r\n        isHorizontal: isHorizontal,\r\n        isVertical: isVertical\r\n    } = new ScrollDirection(direction);\r\n    if (isHorizontal) {\r\n        boundaryProps.reachedLeft = isReachedLeft(left, 0);\r\n        boundaryProps.reachedRight = isReachedRight(element, left, 0)\r\n    }\r\n    if (isVertical) {\r\n        boundaryProps.reachedTop = isReachedTop(top, 0);\r\n        boundaryProps.reachedBottom = isReachedBottom(element, top, pocketHeight, 0)\r\n    }\r\n    return boundaryProps\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/tabs.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Button from \"./button\";\r\nimport {\r\n    render\r\n} from \"./widget/utils.ink_ripple\";\r\nimport {\r\n    addNamespace\r\n} from \"../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isPlainObject\r\n} from \"../core/utils/type\";\r\nimport pointerEvents from \"../events/pointer\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport TabsItem from \"./tabs/item\";\r\nimport {\r\n    TABS_EXPANDED_CLASS\r\n} from \"./tabs/constants\";\r\nimport {\r\n    isMaterial,\r\n    current as currentTheme\r\n} from \"./themes\";\r\nimport holdEvent from \"../events/hold\";\r\nimport Scrollable from \"./scroll_view/ui.scrollable\";\r\nimport {\r\n    default as CollectionWidget\r\n} from \"./collection/ui.collection_widget.live_update\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isReachedLeft,\r\n    isReachedRight\r\n} from \"../renovation/ui/scroll_view/utils/get_boundary_props\";\r\nimport {\r\n    getScrollLeftMax\r\n} from \"../renovation/ui/scroll_view/utils/get_scroll_left_max\";\r\nvar TABS_CLASS = \"dx-tabs\";\r\nvar TABS_WRAPPER_CLASS = \"dx-tabs-wrapper\";\r\nvar TABS_STRETCHED_CLASS = \"dx-tabs-stretched\";\r\nvar TABS_SCROLLABLE_CLASS = \"dx-tabs-scrollable\";\r\nvar TABS_NAV_BUTTONS_CLASS = \"dx-tabs-nav-buttons\";\r\nvar OVERFLOW_HIDDEN_CLASS = \"dx-overflow-hidden\";\r\nvar TABS_ITEM_CLASS = \"dx-tab\";\r\nvar TABS_ITEM_SELECTED_CLASS = \"dx-tab-selected\";\r\nvar TABS_NAV_BUTTON_CLASS = \"dx-tabs-nav-button\";\r\nvar TABS_LEFT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-left\";\r\nvar TABS_RIGHT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-right\";\r\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\r\nvar TABS_ITEM_DATA_KEY = \"dxTabData\";\r\nvar BUTTON_NEXT_ICON = \"chevronnext\";\r\nvar BUTTON_PREV_ICON = \"chevronprev\";\r\nvar FEEDBACK_HIDE_TIMEOUT = 100;\r\nvar FEEDBACK_DURATION_INTERVAL = 5;\r\nvar FEEDBACK_SCROLL_TIMEOUT = 300;\r\nvar TAB_OFFSET = 30;\r\nvar Tabs = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + TABS_ITEM_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            showNavButtons: true,\r\n            scrollByContent: true,\r\n            scrollingEnabled: true,\r\n            selectionMode: \"single\",\r\n            activeStateEnabled: true,\r\n            selectionRequired: false,\r\n            selectOnFocus: true,\r\n            loopItemFocus: false,\r\n            useInkRipple: false,\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            },\r\n            _itemAttributes: {\r\n                role: \"tab\"\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = currentTheme();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" !== devices.real().deviceType\r\n            },\r\n            options: {\r\n                showNavButtons: false\r\n            }\r\n        }, {\r\n            device: {\r\n                deviceType: \"desktop\"\r\n            },\r\n            options: {\r\n                scrollByContent: false\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                useInkRipple: true,\r\n                selectOnFocus: false\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.setAria(\"role\", \"tablist\");\r\n        this.$element().addClass(TABS_CLASS);\r\n        this._renderWrapper();\r\n        this._renderMultiple();\r\n        this._feedbackHideTimeout = FEEDBACK_HIDE_TIMEOUT\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    this._prepareDefaultItemTemplate(data, $container)\r\n                } else {\r\n                    $container.text(String(data))\r\n                }\r\n                var $iconElement = getImageContainer(data.icon);\r\n                $iconElement && $iconElement.prependTo($container);\r\n                $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS))\r\n            }.bind(this), [\"text\", \"html\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _createItemByTemplate: function(itemTemplate, renderArgs) {\r\n        var {\r\n            itemData: itemData,\r\n            container: container,\r\n            index: index\r\n        } = renderArgs;\r\n        this._deferredTemplates[index] = new Deferred;\r\n        return itemTemplate.render({\r\n            model: itemData,\r\n            container: container,\r\n            index: index,\r\n            onRendered: () => this._deferredTemplates[index].resolve()\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return TABS_ITEM_CLASS\r\n    },\r\n    _selectedItemClass: function() {\r\n        return TABS_ITEM_SELECTED_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return TABS_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredTemplates = [];\r\n        this.callBase();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.$element().addClass(OVERFLOW_HIDDEN_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _deferRenderScrolling() {\r\n        when.apply(this, this._deferredTemplates).done(() => this._renderScrolling())\r\n    },\r\n    _renderScrolling: function() {\r\n        var removeClasses = [TABS_STRETCHED_CLASS, TABS_EXPANDED_CLASS, OVERFLOW_HIDDEN_CLASS];\r\n        this.$element().removeClass(removeClasses.join(\" \"));\r\n        if (this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded()) {\r\n            if (!this._scrollable) {\r\n                this._renderScrollable();\r\n                this._renderNavButtons()\r\n            }\r\n            var scrollable = this.getScrollable();\r\n            scrollable.update();\r\n            if (this.option(\"rtlEnabled\")) {\r\n                var maxLeftOffset = getScrollLeftMax($(this.getScrollable().container()).get(0));\r\n                scrollable.scrollTo({\r\n                    left: maxLeftOffset\r\n                })\r\n            }\r\n            this._updateNavButtonsVisibility();\r\n            this._scrollToItem(this.option(\"selectedItem\"))\r\n        }\r\n        if (!(this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded())) {\r\n            this._cleanScrolling();\r\n            if (this._needStretchItems() && !this._isItemsWidthExceeded()) {\r\n                this.$element().addClass(TABS_STRETCHED_CLASS)\r\n            }\r\n            this.$element().removeClass(TABS_NAV_BUTTONS_CLASS).addClass(TABS_EXPANDED_CLASS)\r\n        }\r\n    },\r\n    _isItemsWidthExceeded: function() {\r\n        var tabItemsWidth = this._getSummaryItemsWidth(this._getVisibleItems(), true);\r\n        return tabItemsWidth - 1 > getWidth(this.$element())\r\n    },\r\n    _needStretchItems: function() {\r\n        var $visibleItems = this._getVisibleItems();\r\n        var elementWidth = getWidth(this.$element());\r\n        var itemsWidth = [];\r\n        each($visibleItems, (_, item) => {\r\n            itemsWidth.push(getOuterWidth(item, true))\r\n        });\r\n        var maxTabWidth = Math.max.apply(null, itemsWidth);\r\n        return maxTabWidth > elementWidth / $visibleItems.length\r\n    },\r\n    _cleanNavButtons: function() {\r\n        if (!this._leftButton || !this._rightButton) {\r\n            return\r\n        }\r\n        this._leftButton.$element().remove();\r\n        this._rightButton.$element().remove();\r\n        this._leftButton = null;\r\n        this._rightButton = null\r\n    },\r\n    _cleanScrolling: function() {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        this._$wrapper.appendTo(this.$element());\r\n        this._scrollable.$element().remove();\r\n        this._scrollable = null;\r\n        this._cleanNavButtons()\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = render()\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _renderMultiple: function() {\r\n        if (\"multiple\" === this.option(\"selectionMode\")) {\r\n            this.option(\"selectOnFocus\", false)\r\n        }\r\n    },\r\n    _renderWrapper: function() {\r\n        this._$wrapper = $(\"<div>\").addClass(TABS_WRAPPER_CLASS);\r\n        this.$element().append(this._$wrapper)\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$wrapper\r\n    },\r\n    _renderScrollable: function() {\r\n        var $itemContainer = this.$element().wrapInner($(\"<div>\").addClass(TABS_SCROLLABLE_CLASS)).children();\r\n        this._scrollable = this._createComponent($itemContainer, Scrollable, {\r\n            direction: \"horizontal\",\r\n            showScrollbar: \"never\",\r\n            useKeyboard: false,\r\n            useNative: false,\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            onScroll: () => {\r\n                this._updateNavButtonsVisibility()\r\n            }\r\n        });\r\n        this.$element().append(this._scrollable.$element())\r\n    },\r\n    _scrollToItem: function(itemData) {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        var $item = this._editStrategy.getItemElement(itemData);\r\n        this._scrollable.scrollToElement($item)\r\n    },\r\n    _renderNavButtons: function() {\r\n        this.$element().toggleClass(TABS_NAV_BUTTONS_CLASS, this.option(\"showNavButtons\"));\r\n        if (!this.option(\"showNavButtons\")) {\r\n            return\r\n        }\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        this._leftButton = this._createNavButton(-TAB_OFFSET, rtlEnabled ? BUTTON_NEXT_ICON : BUTTON_PREV_ICON);\r\n        var $leftButton = this._leftButton.$element();\r\n        $leftButton.addClass(TABS_LEFT_NAV_BUTTON_CLASS);\r\n        this.$element().prepend($leftButton);\r\n        this._rightButton = this._createNavButton(TAB_OFFSET, rtlEnabled ? BUTTON_PREV_ICON : BUTTON_NEXT_ICON);\r\n        var $rightButton = this._rightButton.$element();\r\n        $rightButton.addClass(TABS_RIGHT_NAV_BUTTON_CLASS);\r\n        this.$element().append($rightButton)\r\n    },\r\n    _updateNavButtonsVisibility: function() {\r\n        var scrollable = this.getScrollable();\r\n        this._leftButton && this._leftButton.option(\"disabled\", isReachedLeft(scrollable.scrollLeft(), 1));\r\n        this._rightButton && this._rightButton.option(\"disabled\", isReachedRight($(scrollable.container()).get(0), scrollable.scrollLeft(), 1))\r\n    },\r\n    _updateScrollPosition: function(offset, duration) {\r\n        this._scrollable.update();\r\n        this._scrollable.scrollBy(offset / duration)\r\n    },\r\n    _createNavButton: function(offset, icon) {\r\n        var that = this;\r\n        var holdAction = that._createAction((function() {\r\n            that._holdInterval = setInterval((function() {\r\n                that._updateScrollPosition(offset, FEEDBACK_DURATION_INTERVAL)\r\n            }), FEEDBACK_DURATION_INTERVAL)\r\n        }));\r\n        var holdEventName = addNamespace(holdEvent.name, \"dxNavButton\");\r\n        var pointerUpEventName = addNamespace(pointerEvents.up, \"dxNavButton\");\r\n        var pointerOutEventName = addNamespace(pointerEvents.out, \"dxNavButton\");\r\n        var navButton = this._createComponent($(\"<div>\").addClass(TABS_NAV_BUTTON_CLASS), Button, {\r\n            focusStateEnabled: false,\r\n            icon: icon,\r\n            onClick: function() {\r\n                that._updateScrollPosition(offset, 1)\r\n            },\r\n            integrationOptions: {}\r\n        });\r\n        var $navButton = navButton.$element();\r\n        eventsEngine.on($navButton, holdEventName, {\r\n            timeout: FEEDBACK_SCROLL_TIMEOUT\r\n        }, function(e) {\r\n            holdAction({\r\n                event: e\r\n            })\r\n        }.bind(this));\r\n        eventsEngine.on($navButton, pointerUpEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        eventsEngine.on($navButton, pointerOutEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        return navButton\r\n    },\r\n    _clearInterval: function() {\r\n        if (this._holdInterval) {\r\n            clearInterval(this._holdInterval)\r\n        }\r\n    },\r\n    _updateSelection: function(addedSelection) {\r\n        this._scrollable && this._scrollable.scrollToElement(this.itemElements().eq(addedSelection[0]), {\r\n            left: 1,\r\n            right: 1\r\n        })\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._renderScrolling()\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _clean: function() {\r\n        this._deferredTemplates = [];\r\n        this._cleanScrolling();\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"useInkRipple\":\r\n            case \"scrollingEnabled\":\r\n            case \"showNavButtons\":\r\n                this._invalidate();\r\n                break;\r\n            case \"scrollByContent\":\r\n                this._scrollable && this._scrollable.option(args.name, args.value);\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"selectionMode\":\r\n                this._renderMultiple();\r\n                this.callBase(args);\r\n                break;\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _afterItemElementInserted() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _afterItemElementDeleted($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        this._renderScrolling()\r\n    },\r\n    getScrollable() {\r\n        return this._scrollable\r\n    }\r\n});\r\nTabs.ItemClass = TabsItem;\r\nregisterComponent(\"dxTabs\", Tabs);\r\nexport default Tabs;\r\n","/**\r\n * DevExtreme (esm/ui/tab_panel/item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport CollectionWidgetItem from \"../collection/item\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nexport default class TabPanelItem extends CollectionWidgetItem {\r\n    _renderWatchers() {\r\n        this._startWatcher(\"badge\", noop);\r\n        return super._renderWatchers()\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/tab_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    touch\r\n} from \"../core/utils/support\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport devices from \"../core/devices\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport MultiView from \"./multi_view\";\r\nimport Tabs from \"./tabs\";\r\nimport {\r\n    default as TabPanelItem\r\n} from \"./tab_panel/item\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nvar TABPANEL_CLASS = \"dx-tabpanel\";\r\nvar TABPANEL_TABS_CLASS = \"dx-tabpanel-tabs\";\r\nvar TABPANEL_CONTAINER_CLASS = \"dx-tabpanel-container\";\r\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\r\nvar TabPanel = MultiView.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            itemTitleTemplate: \"title\",\r\n            hoverStateEnabled: true,\r\n            showNavButtons: false,\r\n            scrollByContent: true,\r\n            scrollingEnabled: true,\r\n            onTitleClick: null,\r\n            onTitleHold: null,\r\n            onTitleRendered: null,\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return !touch\r\n            },\r\n            options: {\r\n                swipeEnabled: false\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                animationEnabled: false\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(TABPANEL_CLASS);\r\n        this.setAria(\"role\", \"tabpanel\")\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._createTitleActions();\r\n        this._renderLayout()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            title: new BindableTemplate((function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    var $iconElement = getImageContainer(data.icon);\r\n                    if ($iconElement) {\r\n                        $container.append($iconElement)\r\n                    }\r\n                    if (isDefined(data.title) && !isPlainObject(data.title)) {\r\n                        $container.append(domAdapter.createTextNode(data.title))\r\n                    }\r\n                } else if (isDefined(data)) {\r\n                    $container.text(String(data))\r\n                }\r\n                $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS))\r\n            }), [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _createTitleActions: function() {\r\n        this._createTitleClickAction();\r\n        this._createTitleHoldAction();\r\n        this._createTitleRenderedAction()\r\n    },\r\n    _createTitleClickAction: function() {\r\n        this._titleClickAction = this._createActionByOption(\"onTitleClick\")\r\n    },\r\n    _createTitleHoldAction: function() {\r\n        this._titleHoldAction = this._createActionByOption(\"onTitleHold\")\r\n    },\r\n    _createTitleRenderedAction: function() {\r\n        this._titleRenderedAction = this._createActionByOption(\"onTitleRendered\")\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        if (this.option(\"templatesRenderAsynchronously\")) {\r\n            this._resizeEventTimer = setTimeout((function() {\r\n                that._updateLayout()\r\n            }), 0)\r\n        }\r\n    },\r\n    _renderLayout: function() {\r\n        if (this._tabs) {\r\n            this._updateLayout();\r\n            return\r\n        }\r\n        var $element = this.$element();\r\n        this._$tabContainer = $(\"<div>\").addClass(TABPANEL_TABS_CLASS).appendTo($element);\r\n        var $tabs = $(\"<div>\").appendTo(this._$tabContainer);\r\n        this._tabs = this._createComponent($tabs, Tabs, this._tabConfig());\r\n        this._$container = $(\"<div>\").addClass(TABPANEL_CONTAINER_CLASS).appendTo($element);\r\n        this._$container.append(this._$wrapper);\r\n        this._updateLayout()\r\n    },\r\n    _updateLayout: function() {\r\n        if (hasWindow()) {\r\n            var tabsHeight = getOuterHeight(this._$tabContainer);\r\n            this._$container.css({\r\n                marginTop: -tabsHeight,\r\n                paddingTop: tabsHeight\r\n            })\r\n        }\r\n    },\r\n    _refreshActiveDescendant: function() {\r\n        if (!this._tabs) {\r\n            return\r\n        }\r\n        var tabs = this._tabs;\r\n        var tabItems = tabs.itemElements();\r\n        var $activeTab = $(tabItems[tabs.option(\"selectedIndex\")]);\r\n        var id = this.getFocusedItemId();\r\n        this.setAria(\"controls\", void 0, $(tabItems));\r\n        this.setAria(\"controls\", id, $activeTab)\r\n    },\r\n    _tabConfig: function() {\r\n        return {\r\n            selectOnFocus: true,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            repaintChangesOnly: this.option(\"repaintChangesOnly\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            selectedIndex: this.option(\"selectedIndex\"),\r\n            badgeExpr: this.option(\"badgeExpr\"),\r\n            onItemClick: this._titleClickAction.bind(this),\r\n            onItemHold: this._titleHoldAction.bind(this),\r\n            itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n            onSelectionChanged: function(e) {\r\n                this.option(\"selectedIndex\", e.component.option(\"selectedIndex\"));\r\n                this._refreshActiveDescendant()\r\n            }.bind(this),\r\n            onItemRendered: this._titleRenderedAction.bind(this),\r\n            itemTemplate: this._getTemplateByOption(\"itemTitleTemplate\"),\r\n            items: this.option(\"items\"),\r\n            noDataText: null,\r\n            scrollingEnabled: this.option(\"scrollingEnabled\"),\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            showNavButtons: this.option(\"showNavButtons\"),\r\n            itemTemplateProperty: \"tabTemplate\",\r\n            loopItemFocus: this.option(\"loop\"),\r\n            selectionRequired: true,\r\n            onOptionChanged: function(args) {\r\n                if (\"focusedElement\" === args.name) {\r\n                    if (args.value) {\r\n                        var $value = $(args.value);\r\n                        var $newItem = this._itemElements().eq($value.index());\r\n                        this.option(\"focusedElement\", getPublicElement($newItem))\r\n                    } else {\r\n                        this.option(\"focusedElement\", args.value)\r\n                    }\r\n                }\r\n            }.bind(this),\r\n            onFocusIn: function(args) {\r\n                this._focusInHandler(args.event)\r\n            }.bind(this),\r\n            onFocusOut: function(args) {\r\n                if (!this._isFocusOutHandlerExecuting) {\r\n                    this._focusOutHandler(args.event)\r\n                }\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _renderFocusTarget: function() {\r\n        this._focusTarget().attr(\"tabIndex\", -1)\r\n    },\r\n    _updateFocusState: function(e, isFocused) {\r\n        this.callBase(e, isFocused);\r\n        if (e.target === this._tabs._focusTarget().get(0)) {\r\n            this._toggleFocusClass(isFocused, this._focusTarget())\r\n        }\r\n    },\r\n    _focusOutHandler: function(e) {\r\n        this._isFocusOutHandlerExecuting = true;\r\n        this.callBase.apply(this, arguments);\r\n        this._tabs._focusOutHandler(e);\r\n        this._isFocusOutHandlerExecuting = false\r\n    },\r\n    _setTabsOption: function(name, value) {\r\n        if (this._tabs) {\r\n            this._tabs.option(name, value)\r\n        }\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._tabs._dimensionChanged();\r\n            this._updateLayout()\r\n        }\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        this.callBase(key, handler);\r\n        if (this._tabs) {\r\n            this._tabs.registerKeyHandler(key, handler)\r\n        }\r\n    },\r\n    repaint: function() {\r\n        this.callBase();\r\n        this._tabs.repaint()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        var fullName = args.fullName;\r\n        switch (name) {\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                this._setTabsOption(name, this.option(name));\r\n                this._updateLayout();\r\n                if (!this.option(\"repaintChangesOnly\")) {\r\n                    this._tabs.repaint()\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._tabs.repaint();\r\n                break;\r\n            case \"selectedIndex\":\r\n            case \"selectedItem\":\r\n                this._setTabsOption(fullName, value);\r\n                this.callBase(args);\r\n                if (true === this.option(\"focusStateEnabled\")) {\r\n                    var selectedIndex = this.option(\"selectedIndex\");\r\n                    var selectedTabContent = this._itemElements().eq(selectedIndex);\r\n                    this.option(\"focusedElement\", getPublicElement(selectedTabContent))\r\n                }\r\n                break;\r\n            case \"itemHoldTimeout\":\r\n            case \"focusStateEnabled\":\r\n            case \"hoverStateEnabled\":\r\n                this._setTabsOption(fullName, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"scrollingEnabled\":\r\n            case \"scrollByContent\":\r\n            case \"showNavButtons\":\r\n                this._setTabsOption(fullName, value);\r\n                break;\r\n            case \"focusedElement\":\r\n                var id = value ? $(value).index() : value;\r\n                var newItem = value ? this._tabs._itemElements().eq(id) : value;\r\n                this._setTabsOption(\"focusedElement\", getPublicElement(newItem));\r\n                this.callBase(args);\r\n                break;\r\n            case \"itemTitleTemplate\":\r\n                this._setTabsOption(\"itemTemplate\", this._getTemplateByOption(\"itemTitleTemplate\"));\r\n                break;\r\n            case \"onTitleClick\":\r\n                this._createTitleClickAction();\r\n                this._setTabsOption(\"onItemClick\", this._titleClickAction.bind(this));\r\n                break;\r\n            case \"onTitleHold\":\r\n                this._createTitleHoldAction();\r\n                this._setTabsOption(\"onItemHold\", this._titleHoldAction.bind(this));\r\n                break;\r\n            case \"onTitleRendered\":\r\n                this._createTitleRenderedAction();\r\n                this._setTabsOption(\"onItemRendered\", this._titleRenderedAction.bind(this));\r\n                break;\r\n            case \"loop\":\r\n                this._setTabsOption(\"loopItemFocus\", value);\r\n                break;\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._resizeEventTimer);\r\n        this.callBase()\r\n    }\r\n});\r\nTabPanel.ItemClass = TabPanelItem;\r\nregisterComponent(\"dxTabPanel\", TabPanel);\r\nexport default TabPanel;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.item_option_action.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nexport default class ItemOptionAction {\r\n    constructor(options) {\r\n        this._options = options;\r\n        this._itemsRunTimeInfo = this._options.itemsRunTimeInfo\r\n    }\r\n    findInstance() {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)\r\n    }\r\n    findItemContainer() {\r\n        return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)\r\n    }\r\n    findPreparedItem() {\r\n        return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)\r\n    }\r\n    tryExecute() {\r\n        Class.abstract()\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport var createItemPathByIndex = (index, isTabs) => \"\".concat(isTabs ? \"tabs\" : \"items\", \"[\").concat(index, \"]\");\r\nexport var concatPaths = (path1, path2) => {\r\n    if (isDefined(path1) && isDefined(path2)) {\r\n        return \"\".concat(path1, \".\").concat(path2)\r\n    }\r\n    return path1 || path2\r\n};\r\nexport var getTextWithoutSpaces = text => text ? text.replace(/\\s/g, \"\") : void 0;\r\nexport var isEqualToDataFieldOrNameOrTitleOrCaption = (item, fieldName) => {\r\n    if (item) {\r\n        return item.dataField === fieldName || item.name === fieldName || getTextWithoutSpaces(item.title) === fieldName || \"group\" === item.itemType && getTextWithoutSpaces(item.caption) === fieldName\r\n    }\r\n    return false\r\n};\r\nexport var getFullOptionName = (path, optionName) => \"\".concat(path, \".\").concat(optionName);\r\nexport var getOptionNameFromFullName = fullName => {\r\n    var parts = fullName.split(\".\");\r\n    return parts[parts.length - 1].replace(/\\[\\d+]/, \"\")\r\n};\r\nexport var tryGetTabPath = fullPath => {\r\n    var pathParts = fullPath.split(\".\");\r\n    var resultPathParts = [...pathParts];\r\n    for (var i = pathParts.length - 1; i >= 0; i--) {\r\n        if (isFullPathContainsTabs(pathParts[i])) {\r\n            return resultPathParts.join(\".\")\r\n        }\r\n        resultPathParts.splice(i, 1)\r\n    }\r\n    return \"\"\r\n};\r\nexport var isFullPathContainsTabs = fullPath => fullPath.indexOf(\"tabs\") > -1;\r\nexport var getItemPath = (items, item, isTabs) => {\r\n    var index = items.indexOf(item);\r\n    if (index > -1) {\r\n        return createItemPathByIndex(index, isTabs)\r\n    }\r\n    for (var i = 0; i < items.length; i++) {\r\n        var targetItem = items[i];\r\n        var tabOrGroupItems = targetItem.tabs || targetItem.items;\r\n        if (tabOrGroupItems) {\r\n            var itemPath = getItemPath(tabOrGroupItems, item, targetItem.tabs);\r\n            if (itemPath) {\r\n                return concatPaths(createItemPathByIndex(i, isTabs), itemPath)\r\n            }\r\n        }\r\n    }\r\n};\r\nexport function convertToLayoutManagerOptions(_ref) {\r\n    var {\r\n        form: form,\r\n        $formElement: $formElement,\r\n        formOptions: formOptions,\r\n        items: items,\r\n        validationGroup: validationGroup,\r\n        extendedLayoutManagerOptions: extendedLayoutManagerOptions,\r\n        onFieldDataChanged: onFieldDataChanged,\r\n        onContentReady: onContentReady,\r\n        onDisposing: onDisposing,\r\n        onFieldItemRendered: onFieldItemRendered\r\n    } = _ref;\r\n    var baseOptions = {\r\n        form: form,\r\n        items: items,\r\n        $formElement: $formElement,\r\n        validationGroup: validationGroup,\r\n        onFieldDataChanged: onFieldDataChanged,\r\n        onContentReady: onContentReady,\r\n        onDisposing: onDisposing,\r\n        onFieldItemRendered: onFieldItemRendered,\r\n        validationBoundary: formOptions.scrollingEnabled ? $formElement : void 0,\r\n        scrollingEnabled: formOptions.scrollingEnabled,\r\n        showRequiredMark: formOptions.showRequiredMark,\r\n        showOptionalMark: formOptions.showOptionalMark,\r\n        requiredMark: formOptions.requiredMark,\r\n        optionalMark: formOptions.optionalMark,\r\n        requiredMessage: formOptions.requiredMessage,\r\n        screenByWidth: formOptions.screenByWidth,\r\n        layoutData: formOptions.formData,\r\n        labelLocation: formOptions.labelLocation,\r\n        customizeItem: formOptions.customizeItem,\r\n        minColWidth: formOptions.minColWidth,\r\n        showColonAfterLabel: formOptions.showColonAfterLabel,\r\n        onEditorEnterKey: formOptions.onEditorEnterKey,\r\n        labelMode: formOptions.labelMode\r\n    };\r\n    var result = extend(baseOptions, {\r\n        isRoot: extendedLayoutManagerOptions.isRoot,\r\n        colCount: extendedLayoutManagerOptions.colCount,\r\n        alignItemLabels: extendedLayoutManagerOptions.alignItemLabels,\r\n        cssItemClass: extendedLayoutManagerOptions.cssItemClass,\r\n        colCountByScreen: extendedLayoutManagerOptions.colCountByScreen,\r\n        onLayoutChanged: extendedLayoutManagerOptions.onLayoutChanged,\r\n        width: extendedLayoutManagerOptions.width\r\n    });\r\n    return result\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.item_options_actions.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport ItemOptionAction from \"./ui.form.item_option_action\";\r\nimport {\r\n    data\r\n} from \"../../core/element_data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getFullOptionName\r\n} from \"./ui.form.utils\";\r\nclass WidgetOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var {\r\n            value: value\r\n        } = this._options;\r\n        var instance = this.findInstance();\r\n        if (instance) {\r\n            instance.option(value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass TabOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var tabPanel = this.findInstance();\r\n        if (tabPanel) {\r\n            var {\r\n                optionName: optionName,\r\n                item: item,\r\n                value: value\r\n            } = this._options;\r\n            var itemIndex = this._itemsRunTimeInfo.findItemIndexByItem(item);\r\n            if (itemIndex >= 0) {\r\n                tabPanel.option(getFullOptionName(\"items[\".concat(itemIndex, \"]\"), optionName), value);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass GroupItemTemplateChangedAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var preparedItem = this.findPreparedItem();\r\n        if (null != preparedItem && preparedItem._prepareGroupItemTemplate && preparedItem._renderGroupContentTemplate) {\r\n            preparedItem._prepareGroupItemTemplate(this._options.item.template);\r\n            preparedItem._renderGroupContentTemplate();\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass TabsOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var tabPanel = this.findInstance();\r\n        if (tabPanel) {\r\n            var {\r\n                value: value\r\n            } = this._options;\r\n            tabPanel.option(\"dataSource\", value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass ValidationRulesItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var {\r\n            item: item\r\n        } = this._options;\r\n        var instance = this.findInstance();\r\n        var validator = instance && data(instance.$element()[0], \"dxValidator\");\r\n        if (validator && item) {\r\n            var filterRequired = item => \"required\" === item.type;\r\n            var oldContainsRequired = (validator.option(\"validationRules\") || []).some(filterRequired);\r\n            var newContainsRequired = (item.validationRules || []).some(filterRequired);\r\n            if (!oldContainsRequired && !newContainsRequired || oldContainsRequired && newContainsRequired) {\r\n                validator.option(\"validationRules\", item.validationRules);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass CssClassItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var $itemContainer = this.findItemContainer();\r\n        var {\r\n            previousValue: previousValue,\r\n            value: value\r\n        } = this._options;\r\n        if ($itemContainer) {\r\n            $itemContainer.removeClass(previousValue).addClass(value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nvar tryCreateItemOptionAction = (optionName, itemActionOptions) => {\r\n    var _itemActionOptions$it;\r\n    switch (optionName) {\r\n        case \"editorOptions\":\r\n        case \"buttonOptions\":\r\n            return new WidgetOptionItemOptionAction(itemActionOptions);\r\n        case \"validationRules\":\r\n            return new ValidationRulesItemOptionAction(itemActionOptions);\r\n        case \"cssClass\":\r\n            return new CssClassItemOptionAction(itemActionOptions);\r\n        case \"badge\":\r\n        case \"disabled\":\r\n        case \"icon\":\r\n        case \"tabTemplate\":\r\n        case \"title\":\r\n            return new TabOptionItemOptionAction(extend(itemActionOptions, {\r\n                optionName: optionName\r\n            }));\r\n        case \"tabs\":\r\n            return new TabsOptionItemOptionAction(itemActionOptions);\r\n        case \"template\":\r\n            if (\"group\" === (null === (_itemActionOptions$it = itemActionOptions.item) || void 0 === _itemActionOptions$it ? void 0 : _itemActionOptions$it.itemType)) {\r\n                return new GroupItemTemplateChangedAction(itemActionOptions)\r\n            } else {\r\n                return new TabOptionItemOptionAction(extend(itemActionOptions, {\r\n                    optionName: optionName\r\n                }))\r\n            }\r\n            default:\r\n                return null\r\n    }\r\n};\r\nexport default tryCreateItemOptionAction;\r\n","/**\r\n * DevExtreme (esm/ui/responsive_box.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    grep,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject\r\n} from \"../core/utils/type\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport {\r\n    getWindow,\r\n    defaultScreenFactorFunc,\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    each,\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Box from \"./box\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar RESPONSIVE_BOX_CLASS = \"dx-responsivebox\";\r\nvar SCREEN_SIZE_CLASS_PREFIX = RESPONSIVE_BOX_CLASS + \"-screen-\";\r\nvar BOX_ITEM_CLASS = \"dx-box-item\";\r\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\r\nvar HD_SCREEN_WIDTH = 1920;\r\nvar ResponsiveBox = CollectionWidget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            rows: [],\r\n            cols: [],\r\n            screenByWidth: null,\r\n            singleColumnScreen: \"\",\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onItemStateChanged: void 0,\r\n            onLayoutChanged: null,\r\n            currentScreenFactor: void 0,\r\n            _layoutStrategy: void 0\r\n        })\r\n    },\r\n    _init: function() {\r\n        if (!this.option(\"screenByWidth\")) {\r\n            this._options.silent(\"screenByWidth\", defaultScreenFactorFunc)\r\n        }\r\n        this.callBase();\r\n        this._initLayoutChangedAction()\r\n    },\r\n    _initLayoutChangedAction: function() {\r\n        this._layoutChangedAction = this._createActionByOption(\"onLayoutChanged\", {\r\n            excludeValidators: [\"disabled\", \"readonly\"]\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return BOX_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return BOX_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(RESPONSIVE_BOX_CLASS);\r\n        this._updateRootBox()\r\n    },\r\n    _updateRootBox: function() {\r\n        clearTimeout(this._updateTimer);\r\n        this._updateTimer = setTimeout(function() {\r\n            if (this._$root) {\r\n                eventsEngine.triggerHandler(this._$root, \"dxupdate\")\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _renderItems: function() {\r\n        this._setScreenSize();\r\n        this._screenItems = this._itemsByScreen();\r\n        this._prepareGrid();\r\n        this._spreadItems();\r\n        this._layoutItems();\r\n        this._linkNodeToItem()\r\n    },\r\n    _itemOptionChanged: function(item) {\r\n        var $item = this._findItemElementByItem(item);\r\n        if (!$item.length) {\r\n            return\r\n        }\r\n        this._refreshItem($item, item);\r\n        this._clearItemNodeTemplates();\r\n        this._update(true)\r\n    },\r\n    _setScreenSize: function() {\r\n        var currentScreen = this._getCurrentScreen();\r\n        this._removeScreenSizeClass();\r\n        this.$element().addClass(SCREEN_SIZE_CLASS_PREFIX + currentScreen);\r\n        this.option(\"currentScreenFactor\", currentScreen)\r\n    },\r\n    _removeScreenSizeClass: function() {\r\n        var currentScreenFactor = this.option(\"currentScreenFactor\");\r\n        currentScreenFactor && this.$element().removeClass(SCREEN_SIZE_CLASS_PREFIX + currentScreenFactor)\r\n    },\r\n    _prepareGrid: function() {\r\n        var grid = this._grid = [];\r\n        this._prepareRowsAndCols();\r\n        each(this._rows, function() {\r\n            var row = [];\r\n            grid.push(row);\r\n            each(this._cols, function() {\r\n                row.push(this._createEmptyCell())\r\n            }.bind(this))\r\n        }.bind(this))\r\n    },\r\n    getSingleColumnRows: function() {\r\n        var rows = this.option(\"rows\");\r\n        var screenItemsLength = this._screenItems.length;\r\n        if (rows.length) {\r\n            var filteredRows = this._filterByScreen(rows);\r\n            var result = [];\r\n            for (var i = 0; i < screenItemsLength; i++) {\r\n                var sizeConfig = this._defaultSizeConfig();\r\n                if (i < filteredRows.length && isDefined(filteredRows[i].shrink)) {\r\n                    sizeConfig.shrink = filteredRows[i].shrink\r\n                }\r\n                result.push(sizeConfig)\r\n            }\r\n            return result\r\n        } else {\r\n            return this._defaultSizeConfig(screenItemsLength)\r\n        }\r\n    },\r\n    _prepareRowsAndCols: function() {\r\n        if (this._isSingleColumnScreen()) {\r\n            this._prepareSingleColumnScreenItems();\r\n            this._rows = this.getSingleColumnRows();\r\n            this._cols = this._defaultSizeConfig(1)\r\n        } else {\r\n            this._rows = this._sizesByScreen(this.option(\"rows\"));\r\n            this._cols = this._sizesByScreen(this.option(\"cols\"))\r\n        }\r\n    },\r\n    _isSingleColumnScreen: function() {\r\n        return this._screenRegExp().test(this.option(\"singleColumnScreen\")) || !this.option(\"rows\").length || !this.option(\"cols\").length\r\n    },\r\n    _prepareSingleColumnScreenItems: function() {\r\n        this._screenItems.sort((function(item1, item2) {\r\n            return item1.location.row - item2.location.row || item1.location.col - item2.location.col\r\n        }));\r\n        each(this._screenItems, (function(index, item) {\r\n            extend(item.location, {\r\n                row: index,\r\n                col: 0,\r\n                rowspan: 1,\r\n                colspan: 1\r\n            })\r\n        }))\r\n    },\r\n    _sizesByScreen: function(sizeConfigs) {\r\n        return map(this._filterByScreen(sizeConfigs), function(sizeConfig) {\r\n            return extend(this._defaultSizeConfig(), sizeConfig)\r\n        }.bind(this))\r\n    },\r\n    _createDefaultSizeConfig: function() {\r\n        return {\r\n            ratio: 1,\r\n            baseSize: 0,\r\n            minSize: 0,\r\n            maxSize: 0\r\n        }\r\n    },\r\n    _defaultSizeConfig: function(size) {\r\n        var defaultSizeConfig = this._createDefaultSizeConfig();\r\n        if (!arguments.length) {\r\n            return defaultSizeConfig\r\n        }\r\n        var result = [];\r\n        for (var i = 0; i < size; i++) {\r\n            result.push(defaultSizeConfig)\r\n        }\r\n        return result\r\n    },\r\n    _filterByScreen: function(items) {\r\n        var screenRegExp = this._screenRegExp();\r\n        return grep(items, (function(item) {\r\n            return !item.screen || screenRegExp.test(item.screen)\r\n        }))\r\n    },\r\n    _screenRegExp: function() {\r\n        var screen = this._getCurrentScreen();\r\n        return new RegExp(\"(^|\\\\s)\" + screen + \"($|\\\\s)\", \"i\")\r\n    },\r\n    _getCurrentScreen: function() {\r\n        var width = this._screenWidth();\r\n        return this.option(\"screenByWidth\")(width)\r\n    },\r\n    _screenWidth: function() {\r\n        return hasWindow() ? getWidth(window) : HD_SCREEN_WIDTH\r\n    },\r\n    _createEmptyCell: function() {\r\n        return {\r\n            item: {},\r\n            location: {\r\n                colspan: 1,\r\n                rowspan: 1\r\n            }\r\n        }\r\n    },\r\n    _spreadItems: function() {\r\n        each(this._screenItems, function(_, itemInfo) {\r\n            var location = itemInfo.location || {};\r\n            var itemCol = location.col;\r\n            var itemRow = location.row;\r\n            var row = this._grid[itemRow];\r\n            var itemCell = row && row[itemCol];\r\n            this._occupyCells(itemCell, itemInfo)\r\n        }.bind(this))\r\n    },\r\n    _itemsByScreen: function() {\r\n        return this.option(\"items\").reduce((result, item) => {\r\n            var locations = item.location || {};\r\n            locations = isPlainObject(locations) ? [locations] : locations;\r\n            this._filterByScreen(locations).forEach(location => {\r\n                result.push({\r\n                    item: item,\r\n                    location: extend({\r\n                        rowspan: 1,\r\n                        colspan: 1\r\n                    }, location)\r\n                })\r\n            });\r\n            return result\r\n        }, [])\r\n    },\r\n    _occupyCells: function(itemCell, itemInfo) {\r\n        if (!itemCell || this._isItemCellOccupied(itemCell, itemInfo)) {\r\n            return\r\n        }\r\n        extend(itemCell, itemInfo);\r\n        this._markSpanningCell(itemCell)\r\n    },\r\n    _isItemCellOccupied: function(itemCell, itemInfo) {\r\n        if (!isEmptyObject(itemCell.item)) {\r\n            return true\r\n        }\r\n        var result = false;\r\n        this._loopOverSpanning(itemInfo.location, (function(cell) {\r\n            result = result || !isEmptyObject(cell.item)\r\n        }));\r\n        return result\r\n    },\r\n    _loopOverSpanning: function(location, callback) {\r\n        var rowEnd = location.row + location.rowspan - 1;\r\n        var colEnd = location.col + location.colspan - 1;\r\n        var boundRowEnd = Math.min(rowEnd, this._rows.length - 1);\r\n        var boundColEnd = Math.min(colEnd, this._cols.length - 1);\r\n        location.rowspan -= rowEnd - boundRowEnd;\r\n        location.colspan -= colEnd - boundColEnd;\r\n        for (var rowIndex = location.row; rowIndex <= boundRowEnd; rowIndex++) {\r\n            for (var colIndex = location.col; colIndex <= boundColEnd; colIndex++) {\r\n                if (rowIndex !== location.row || colIndex !== location.col) {\r\n                    callback(this._grid[rowIndex][colIndex])\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _markSpanningCell: function(itemCell) {\r\n        this._loopOverSpanning(itemCell.location, (function(cell) {\r\n            extend(cell, {\r\n                item: itemCell.item,\r\n                spanningCell: itemCell\r\n            })\r\n        }))\r\n    },\r\n    _linkNodeToItem: function() {\r\n        each(this._itemElements(), (function(_, itemNode) {\r\n            var $item = $(itemNode);\r\n            var item = $item.data(BOX_ITEM_DATA_KEY);\r\n            if (!item.box) {\r\n                item.node = $item.children()\r\n            }\r\n        }))\r\n    },\r\n    _layoutItems: function() {\r\n        var rowsCount = this._grid.length;\r\n        var colsCount = rowsCount && this._grid[0].length;\r\n        if (!rowsCount && !colsCount) {\r\n            return\r\n        }\r\n        var result = this._layoutBlock({\r\n            direction: \"col\",\r\n            row: {\r\n                start: 0,\r\n                end: rowsCount - 1\r\n            },\r\n            col: {\r\n                start: 0,\r\n                end: colsCount - 1\r\n            }\r\n        });\r\n        var rootBox = this._prepareBoxConfig(result.box || {\r\n            direction: \"row\",\r\n            items: [extend(result, {\r\n                ratio: 1\r\n            })]\r\n        });\r\n        extend(rootBox, this._rootBoxConfig(rootBox.items));\r\n        this._$root = $(\"<div>\").appendTo(this._itemContainer());\r\n        this._createComponent(this._$root, Box, rootBox)\r\n    },\r\n    _rootBoxConfig: function(items) {\r\n        var rootItems = each(items, function(index, item) {\r\n            this._needApplyAutoBaseSize(item) && extend(item, {\r\n                baseSize: \"auto\"\r\n            })\r\n        }.bind(this));\r\n        return extend({\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            items: rootItems,\r\n            itemTemplate: this._getTemplateByOption(\"itemTemplate\"),\r\n            itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n            onItemHold: this._createActionByOption(\"onItemHold\"),\r\n            onItemClick: this._createActionByOption(\"onItemClick\"),\r\n            onItemContextMenu: this._createActionByOption(\"onItemContextMenu\"),\r\n            onItemRendered: this._createActionByOption(\"onItemRendered\")\r\n        }, {\r\n            _layoutStrategy: this.option(\"_layoutStrategy\")\r\n        })\r\n    },\r\n    _needApplyAutoBaseSize: function(item) {\r\n        return !item.baseSize && (!item.minSize || \"auto\" === item.minSize) && (!item.maxSize || \"auto\" === item.maxSize)\r\n    },\r\n    _prepareBoxConfig: function(config) {\r\n        return extend(config || {}, {\r\n            crossAlign: \"stretch\",\r\n            onItemStateChanged: this.option(\"onItemStateChanged\")\r\n        })\r\n    },\r\n    _layoutBlock: function(options) {\r\n        if (this._isSingleItem(options)) {\r\n            return this._itemByCell(options.row.start, options.col.start)\r\n        }\r\n        return this._layoutDirection(options)\r\n    },\r\n    _isSingleItem: function(options) {\r\n        var firstCellLocation = this._grid[options.row.start][options.col.start].location;\r\n        var isItemRowSpanned = options.row.end - options.row.start === firstCellLocation.rowspan - 1;\r\n        var isItemColSpanned = options.col.end - options.col.start === firstCellLocation.colspan - 1;\r\n        return isItemRowSpanned && isItemColSpanned\r\n    },\r\n    _itemByCell: function(rowIndex, colIndex) {\r\n        var itemCell = this._grid[rowIndex][colIndex];\r\n        return itemCell.spanningCell ? null : itemCell.item\r\n    },\r\n    _layoutDirection: function(options) {\r\n        var items = [];\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var block;\r\n        while (block = this._nextBlock(options)) {\r\n            if (this._isBlockIndivisible(options.prevBlockOptions, block)) {\r\n                throw errors.Error(\"E1025\")\r\n            }\r\n            var item = this._layoutBlock({\r\n                direction: crossDirection,\r\n                row: block.row,\r\n                col: block.col,\r\n                prevBlockOptions: options\r\n            });\r\n            if (item) {\r\n                extend(item, this._blockSize(block, crossDirection));\r\n                items.push(item)\r\n            }\r\n            options[crossDirection].start = block[crossDirection].end + 1\r\n        }\r\n        return {\r\n            box: this._prepareBoxConfig({\r\n                direction: direction,\r\n                items: items\r\n            })\r\n        }\r\n    },\r\n    _isBlockIndivisible: function(options, block) {\r\n        return options && options.col.start === block.col.start && options.col.end === block.col.end && options.row.start === block.row.start && options.row.end === block.row.end\r\n    },\r\n    _crossDirection: function(direction) {\r\n        return \"col\" === direction ? \"row\" : \"col\"\r\n    },\r\n    _nextBlock: function(options) {\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var startIndex = options[direction].start;\r\n        var endIndex = options[direction].end;\r\n        var crossStartIndex = options[crossDirection].start;\r\n        if (crossStartIndex > options[crossDirection].end) {\r\n            return null\r\n        }\r\n        var crossSpan = 1;\r\n        for (var crossIndex = crossStartIndex; crossIndex < crossStartIndex + crossSpan; crossIndex++) {\r\n            var lineCrossSpan = 1;\r\n            for (var index = startIndex; index <= endIndex; index++) {\r\n                var cell = this._cellByDirection(direction, index, crossIndex);\r\n                lineCrossSpan = Math.max(lineCrossSpan, cell.location[crossDirection + \"span\"])\r\n            }\r\n            var lineCrossEndIndex = crossIndex + lineCrossSpan;\r\n            var crossEndIndex = crossStartIndex + crossSpan;\r\n            if (lineCrossEndIndex > crossEndIndex) {\r\n                crossSpan += lineCrossEndIndex - crossEndIndex\r\n            }\r\n        }\r\n        var result = {};\r\n        result[direction] = {\r\n            start: startIndex,\r\n            end: endIndex\r\n        };\r\n        result[crossDirection] = {\r\n            start: crossStartIndex,\r\n            end: crossStartIndex + crossSpan - 1\r\n        };\r\n        return result\r\n    },\r\n    _cellByDirection: function(direction, index, crossIndex) {\r\n        return \"col\" === direction ? this._grid[crossIndex][index] : this._grid[index][crossIndex]\r\n    },\r\n    _blockSize: function(block, direction) {\r\n        var defaultMinSize = \"row\" === direction ? \"auto\" : 0;\r\n        var sizeConfigs = \"row\" === direction ? this._rows : this._cols;\r\n        var result = extend(this._createDefaultSizeConfig(), {\r\n            ratio: 0\r\n        });\r\n        for (var index = block[direction].start; index <= block[direction].end; index++) {\r\n            var sizeConfig = sizeConfigs[index];\r\n            result.ratio += sizeConfig.ratio;\r\n            result.baseSize += sizeConfig.baseSize;\r\n            result.minSize += sizeConfig.minSize;\r\n            result.maxSize += sizeConfig.maxSize;\r\n            if (isDefined(sizeConfig.shrink)) {\r\n                result.shrink = sizeConfig.shrink\r\n            }\r\n        }\r\n        result.minSize = result.minSize ? result.minSize : defaultMinSize;\r\n        result.maxSize = result.maxSize ? result.maxSize : \"auto\";\r\n        this._isSingleColumnScreen() && (result.baseSize = \"auto\");\r\n        return result\r\n    },\r\n    _update: function(forceRemoveRoot) {\r\n        var $existingRoot = this._$root;\r\n        this._renderItems();\r\n        if ($existingRoot) {\r\n            if (forceRemoveRoot) {\r\n                $existingRoot.remove()\r\n            } else {\r\n                $existingRoot.detach();\r\n                this._saveAssistantRoot($existingRoot)\r\n            }\r\n        }\r\n        this._layoutChangedAction();\r\n        this._updateRootBox()\r\n    },\r\n    _saveAssistantRoot: function($root) {\r\n        this._assistantRoots = this._assistantRoots || [];\r\n        this._assistantRoots.push($root)\r\n    },\r\n    _dispose: function() {\r\n        clearTimeout(this._updateTimer);\r\n        this._clearItemNodeTemplates();\r\n        this._cleanUnusedRoots();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _cleanUnusedRoots: function() {\r\n        if (!this._assistantRoots) {\r\n            return\r\n        }\r\n        each(this._assistantRoots, (function(_, item) {\r\n            $(item).remove()\r\n        }))\r\n    },\r\n    _clearItemNodeTemplates: function() {\r\n        each(this.option(\"items\"), (function() {\r\n            delete this.node\r\n        }))\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.callBase(visible);\r\n        if (visible) {\r\n            this._updateRootBox()\r\n        }\r\n    },\r\n    _attachClickEvent: noop,\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"rows\":\r\n            case \"cols\":\r\n            case \"screenByWidth\":\r\n            case \"_layoutStrategy\":\r\n            case \"singleColumnScreen\":\r\n                this._clearItemNodeTemplates();\r\n                this._invalidate();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._update();\r\n                break;\r\n            case \"onLayoutChanged\":\r\n                this._initLayoutChangedAction();\r\n                break;\r\n            case \"itemTemplate\":\r\n                this._clearItemNodeTemplates();\r\n                this.callBase(args);\r\n                break;\r\n            case \"currentScreenFactor\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (this._getCurrentScreen() !== this.option(\"currentScreenFactor\")) {\r\n            this._update()\r\n        }\r\n    },\r\n    repaint: function() {\r\n        this._update()\r\n    }\r\n});\r\nregisterComponent(\"dxResponsiveBox\", ResponsiveBox);\r\nexport default ResponsiveBox;\r\n","/**\r\n * DevExtreme (esm/ui/form/constants.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var WIDGET_CLASS = \"dx-widget\";\r\nexport var FORM_CLASS = \"dx-form\";\r\nexport var FORM_GROUP_CLASS = \"dx-form-group\";\r\nexport var FORM_GROUP_CAPTION_CLASS = \"dx-form-group-caption\";\r\nexport var FORM_FIELD_ITEM_COL_CLASS = \"dx-col-\";\r\nexport var FIELD_ITEM_CLASS = \"dx-field-item\";\r\nexport var LAYOUT_MANAGER_ONE_COLUMN = \"dx-layout-manager-one-col\";\r\nexport var FIELD_ITEM_LABEL_CONTENT_CLASS = \"dx-field-item-label-content\";\r\nexport var FORM_LAYOUT_MANAGER_CLASS = \"dx-layout-manager\";\r\nexport var FIELD_ITEM_LABEL_CLASS = \"dx-field-item-label\";\r\nexport var FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nexport var SINGLE_COLUMN_ITEM_CONTENT = \"dx-single-column-item-content\";\r\nexport var ROOT_SIMPLE_ITEM_CLASS = \"dx-root-simple-item\";\r\nexport var FORM_GROUP_CONTENT_CLASS = \"dx-form-group-content\";\r\nexport var FIELD_ITEM_CONTENT_HAS_GROUP_CLASS = \"dx-field-item-has-group\";\r\nexport var FIELD_ITEM_CONTENT_HAS_TABS_CLASS = \"dx-field-item-has-tabs\";\r\nexport var FORM_GROUP_WITH_CAPTION_CLASS = \"dx-form-group-with-caption\";\r\nexport var FIELD_ITEM_TAB_CLASS = \"dx-field-item-tab\";\r\nexport var GROUP_COL_COUNT_CLASS = \"dx-group-colcount-\";\r\nexport var GROUP_COL_COUNT_ATTR = \"group-col-count\";\r\nexport var FORM_VALIDATION_SUMMARY = \"dx-form-validation-summary\";\r\nexport var FORM_UNDERLINED_CLASS = \"dx-form-styling-mode-underlined\";\r\nexport var SIMPLE_ITEM_TYPE = \"simple\";\r\n","/**\r\n * DevExtreme (esm/ui/validation/default_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nvar DefaultAdapter = Class.inherit({\r\n    ctor(editor, validator) {\r\n        this.editor = editor;\r\n        this.validator = validator;\r\n        this.validationRequestsCallbacks = [];\r\n        var handler = args => {\r\n            this.validationRequestsCallbacks.forEach(item => item(args))\r\n        };\r\n        editor.validationRequest.add(handler);\r\n        editor.on(\"disposing\", (function() {\r\n            editor.validationRequest.remove(handler)\r\n        }))\r\n    },\r\n    getValue() {\r\n        return this.editor.option(\"value\")\r\n    },\r\n    getCurrentValidationError() {\r\n        return this.editor.option(\"validationError\")\r\n    },\r\n    bypass() {\r\n        return this.editor.option(\"disabled\")\r\n    },\r\n    applyValidationResults(params) {\r\n        this.editor.option({\r\n            validationErrors: params.brokenRules,\r\n            validationStatus: params.status\r\n        })\r\n    },\r\n    reset() {\r\n        this.editor.reset()\r\n    },\r\n    focus() {\r\n        this.editor.focus()\r\n    }\r\n});\r\nexport default DefaultAdapter;\r\n","/**\r\n * DevExtreme (esm/ui/validator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    data as elementData\r\n} from \"../core/element_data\";\r\nimport Callbacks from \"../core/utils/callbacks\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport DefaultAdapter from \"./validation/default_adapter\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport Guid from \"../core/guid\";\r\nvar VALIDATOR_CLASS = \"dx-validator\";\r\nvar VALIDATION_STATUS_VALID = \"valid\";\r\nvar VALIDATION_STATUS_INVALID = \"invalid\";\r\nvar VALIDATION_STATUS_PENDING = \"pending\";\r\nvar Validator = DOMComponent.inherit({\r\n    _initOptions: function(options) {\r\n        this.callBase.apply(this, arguments);\r\n        this.option(ValidationEngine.initValidationOptions(options))\r\n    },\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            validationRules: []\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._initGroupRegistration();\r\n        this.focused = Callbacks();\r\n        this._initAdapter();\r\n        this._validationInfo = {\r\n            result: null,\r\n            deferred: null,\r\n            skipValidation: false\r\n        }\r\n    },\r\n    _initGroupRegistration() {\r\n        var group = this._findGroup();\r\n        if (!this._groupWasInit) {\r\n            this.on(\"disposing\", (function(args) {\r\n                ValidationEngine.removeRegisteredValidator(args.component._validationGroup, args.component)\r\n            }))\r\n        }\r\n        if (!this._groupWasInit || this._validationGroup !== group) {\r\n            ValidationEngine.removeRegisteredValidator(this._validationGroup, this);\r\n            this._groupWasInit = true;\r\n            this._validationGroup = group;\r\n            ValidationEngine.registerValidatorInGroup(group, this)\r\n        }\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _getEditor() {\r\n        var element = this.$element()[0];\r\n        return elementData(element, \"dx-validation-target\")\r\n    },\r\n    _initAdapter() {\r\n        var dxStandardEditor = this._getEditor();\r\n        var adapter = this.option(\"adapter\");\r\n        if (!adapter) {\r\n            if (dxStandardEditor) {\r\n                adapter = new DefaultAdapter(dxStandardEditor, this);\r\n                adapter.validationRequestsCallbacks.push(args => {\r\n                    if (this._validationInfo.skipValidation) {\r\n                        return\r\n                    }\r\n                    this.validate(args)\r\n                });\r\n                this.option(\"adapter\", adapter);\r\n                return\r\n            }\r\n            throw errors.Error(\"E0120\")\r\n        }\r\n        var callbacks = adapter.validationRequestsCallbacks;\r\n        if (callbacks) {\r\n            callbacks.push(args => {\r\n                this.validate(args)\r\n            })\r\n        }\r\n    },\r\n    _toggleRTLDirection(isRtl) {\r\n        var _this$option$editor$o, _this$option, _this$option$editor;\r\n        var rtlEnabled = null !== (_this$option$editor$o = null === (_this$option = this.option(\"adapter\")) || void 0 === _this$option ? void 0 : null === (_this$option$editor = _this$option.editor) || void 0 === _this$option$editor ? void 0 : _this$option$editor.option(\"rtlEnabled\")) && void 0 !== _this$option$editor$o ? _this$option$editor$o : isRtl;\r\n        this.callBase(rtlEnabled)\r\n    },\r\n    _initMarkup() {\r\n        this.$element().addClass(VALIDATOR_CLASS);\r\n        this.callBase()\r\n    },\r\n    _render() {\r\n        this.callBase();\r\n        this._toggleAccessibilityAttributes()\r\n    },\r\n    _toggleAccessibilityAttributes() {\r\n        var dxStandardEditor = this._getEditor();\r\n        if (dxStandardEditor) {\r\n            var rules = this.option(\"validationRules\") || [];\r\n            var isRequired = rules.some(_ref => {\r\n                var {\r\n                    type: type\r\n                } = _ref;\r\n                return \"required\" === type\r\n            }) || null;\r\n            if (dxStandardEditor.isInitialized()) {\r\n                dxStandardEditor.setAria(\"required\", isRequired)\r\n            }\r\n            dxStandardEditor.option(\"_onMarkupRendered\", () => {\r\n                dxStandardEditor.setAria(\"required\", isRequired)\r\n            })\r\n        }\r\n    },\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._initGroupRegistration()\r\n        }\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                return;\r\n            case \"validationRules\":\r\n                this._resetValidationRules();\r\n                this._toggleAccessibilityAttributes();\r\n                void 0 !== this.option(\"isValid\") && this.validate();\r\n                return;\r\n            case \"adapter\":\r\n                this._initAdapter();\r\n                break;\r\n            case \"isValid\":\r\n            case \"validationStatus\":\r\n                this.option(ValidationEngine.synchronizeValidationOptions(args, this.option()));\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getValidationRules() {\r\n        if (!this._validationRules) {\r\n            this._validationRules = map(this.option(\"validationRules\"), (rule, index) => extend({}, rule, {\r\n                validator: this,\r\n                index: index\r\n            }))\r\n        }\r\n        return this._validationRules\r\n    },\r\n    _findGroup() {\r\n        var $element = this.$element();\r\n        return this.option(\"validationGroup\") || ValidationEngine.findGroup($element, this._modelByElement($element))\r\n    },\r\n    _resetValidationRules() {\r\n        delete this._validationRules\r\n    },\r\n    validate(args) {\r\n        var adapter = this.option(\"adapter\");\r\n        var name = this.option(\"name\");\r\n        var bypass = adapter.bypass && adapter.bypass();\r\n        var value = args && void 0 !== args.value ? args.value : adapter.getValue();\r\n        var currentError = adapter.getCurrentValidationError && adapter.getCurrentValidationError();\r\n        var rules = this._getValidationRules();\r\n        var currentResult = this._validationInfo && this._validationInfo.result;\r\n        if (currentResult && currentResult.status === VALIDATION_STATUS_PENDING && currentResult.value === value) {\r\n            return extend({}, currentResult)\r\n        }\r\n        var result;\r\n        if (bypass) {\r\n            result = {\r\n                isValid: true,\r\n                status: VALIDATION_STATUS_VALID\r\n            }\r\n        } else if (currentError && currentError.editorSpecific) {\r\n            currentError.validator = this;\r\n            result = {\r\n                isValid: false,\r\n                status: VALIDATION_STATUS_INVALID,\r\n                brokenRule: currentError,\r\n                brokenRules: [currentError]\r\n            }\r\n        } else {\r\n            result = ValidationEngine.validate(value, rules, name)\r\n        }\r\n        result.id = (new Guid).toString();\r\n        this._applyValidationResult(result, adapter);\r\n        result.complete && result.complete.then(res => {\r\n            if (res.id === this._validationInfo.result.id) {\r\n                this._applyValidationResult(res, adapter)\r\n            }\r\n        });\r\n        return extend({}, this._validationInfo.result)\r\n    },\r\n    reset() {\r\n        var adapter = this.option(\"adapter\");\r\n        var result = {\r\n            id: null,\r\n            isValid: true,\r\n            brokenRule: null,\r\n            brokenRules: null,\r\n            pendingRules: null,\r\n            status: VALIDATION_STATUS_VALID,\r\n            complete: null\r\n        };\r\n        this._validationInfo.skipValidation = true;\r\n        adapter.reset();\r\n        this._validationInfo.skipValidation = false;\r\n        this._resetValidationRules();\r\n        this._applyValidationResult(result, adapter)\r\n    },\r\n    _updateValidationResult(result) {\r\n        if (!this._validationInfo.result || this._validationInfo.result.id !== result.id) {\r\n            var complete = this._validationInfo.deferred && this._validationInfo.result.complete;\r\n            this._validationInfo.result = extend({}, result, {\r\n                complete: complete\r\n            })\r\n        } else {\r\n            for (var prop in result) {\r\n                if (\"id\" !== prop && \"complete\" !== prop) {\r\n                    this._validationInfo.result[prop] = result[prop]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _applyValidationResult(result, adapter) {\r\n        var validatedAction = this._createActionByOption(\"onValidated\", {\r\n            excludeValidators: [\"readOnly\"]\r\n        });\r\n        result.validator = this;\r\n        this._updateValidationResult(result);\r\n        adapter.applyValidationResults && adapter.applyValidationResults(this._validationInfo.result);\r\n        this.option({\r\n            validationStatus: this._validationInfo.result.status\r\n        });\r\n        if (this._validationInfo.result.status === VALIDATION_STATUS_PENDING) {\r\n            if (!this._validationInfo.deferred) {\r\n                this._validationInfo.deferred = new Deferred;\r\n                this._validationInfo.result.complete = this._validationInfo.deferred.promise()\r\n            }\r\n            this._eventsStrategy.fireEvent(\"validating\", [this._validationInfo.result]);\r\n            return\r\n        }\r\n        if (this._validationInfo.result.status !== VALIDATION_STATUS_PENDING) {\r\n            validatedAction(result);\r\n            if (this._validationInfo.deferred) {\r\n                this._validationInfo.deferred.resolve(result);\r\n                this._validationInfo.deferred = null\r\n            }\r\n        }\r\n    },\r\n    focus() {\r\n        var adapter = this.option(\"adapter\");\r\n        adapter && adapter.focus && adapter.focus()\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    }\r\n});\r\nregisterComponent(\"dxValidator\", Validator);\r\nexport default Validator;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    SIMPLE_ITEM_TYPE\r\n} from \"./constants\";\r\nvar EDITORS_WITH_ARRAY_VALUE = [\"dxTagBox\", \"dxRangeSlider\"];\r\nexport var EDITORS_WITHOUT_LABELS = [\"dxCalendar\", \"dxCheckBox\", \"dxHtmlEditor\", \"dxRadioGroup\", \"dxRangeSlider\", \"dxSlider\", \"dxSwitch\"];\r\nexport function convertToRenderFieldItemOptions(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        item: item,\r\n        template: template,\r\n        name: name,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        managerLabelLocation: managerLabelLocation,\r\n        itemId: itemId,\r\n        managerMarkOptions: managerMarkOptions,\r\n        labelMode: labelMode\r\n    } = _ref;\r\n    var isRequired = isDefined(item.isRequired) ? item.isRequired : !!_hasRequiredRuleInSet(item.validationRules);\r\n    var isSimpleItem = item.itemType === SIMPLE_ITEM_TYPE;\r\n    var helpID = item.helpText ? \"dx-\" + new Guid : null;\r\n    var labelOptions = _convertToLabelOptions({\r\n        item: item,\r\n        id: itemId,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: managerLabelLocation,\r\n        formLabelMode: labelMode\r\n    });\r\n    var needRenderLabel = labelOptions.visible && labelOptions.text;\r\n    var {\r\n        location: labelLocation,\r\n        labelID: labelID\r\n    } = labelOptions;\r\n    var labelNeedBaselineAlign = \"top\" !== labelLocation && (!!item.helpText && !useFlexLayout || -1 !== inArray(item.editorType, [\"dxTextArea\", \"dxRadioGroup\", \"dxCalendar\", \"dxHtmlEditor\"]));\r\n    var editorOptions = _convertToEditorOptions({\r\n        editorType: item.editorType,\r\n        editorValue: editorValue,\r\n        defaultEditorName: item.dataField,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: item.editorOptions,\r\n        editorInputId: itemId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: labelMode,\r\n        labelText: labelOptions.textWithoutColon,\r\n        labelMark: labelOptions.markOptions.showRequiredMark ? String.fromCharCode(160) + labelOptions.markOptions.requiredMark : \"\"\r\n    });\r\n    var needRenderOptionalMarkAsHelpText = labelOptions.markOptions.showOptionalMark && !labelOptions.visible && \"hidden\" !== editorOptions.labelMode && !isDefined(item.helpText);\r\n    var helpText = needRenderOptionalMarkAsHelpText ? labelOptions.markOptions.optionalMark : item.helpText;\r\n    return {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        item: item,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorOptions: editorOptions\r\n    }\r\n}\r\nexport function getLabelMarkText(_ref2) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref2;\r\n    if (!showRequiredMark && !showOptionalMark) {\r\n        return \"\"\r\n    }\r\n    return String.fromCharCode(160) + (showRequiredMark ? requiredMark : optionalMark)\r\n}\r\nexport function convertToLabelMarkOptions(_ref3, isRequired) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref3;\r\n    return {\r\n        showRequiredMark: showRequiredMark && isRequired,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark && !isRequired,\r\n        optionalMark: optionalMark\r\n    }\r\n}\r\n\r\nfunction _convertToEditorOptions(_ref4) {\r\n    var {\r\n        editorType: editorType,\r\n        defaultEditorName: defaultEditorName,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: externalEditorOptions,\r\n        editorInputId: editorInputId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: formLabelMode,\r\n        labelText: labelText,\r\n        labelMark: labelMark\r\n    } = _ref4;\r\n    var editorOptionsWithValue = {};\r\n    if (void 0 !== editorValue || canAssignUndefinedValueToEditor) {\r\n        editorOptionsWithValue.value = editorValue\r\n    }\r\n    if (-1 !== EDITORS_WITH_ARRAY_VALUE.indexOf(editorType)) {\r\n        editorOptionsWithValue.value = editorOptionsWithValue.value || []\r\n    }\r\n    var labelMode = null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.labelMode;\r\n    if (!isDefined(labelMode)) {\r\n        labelMode = \"outside\" === formLabelMode ? \"hidden\" : formLabelMode\r\n    }\r\n    var stylingMode = (null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.stylingMode) || editorStylingMode;\r\n    var result = extend(true, editorOptionsWithValue, externalEditorOptions, {\r\n        inputAttr: {\r\n            id: editorInputId\r\n        },\r\n        validationBoundary: editorValidationBoundary,\r\n        stylingMode: stylingMode,\r\n        label: labelText,\r\n        labelMode: labelMode,\r\n        labelMark: labelMark\r\n    });\r\n    if (externalEditorOptions) {\r\n        if (result.dataSource) {\r\n            result.dataSource = externalEditorOptions.dataSource\r\n        }\r\n        if (result.items) {\r\n            result.items = externalEditorOptions.items\r\n        }\r\n    }\r\n    if (defaultEditorName && !result.name) {\r\n        result.name = defaultEditorName\r\n    }\r\n    return result\r\n}\r\n\r\nfunction _hasRequiredRuleInSet(rules) {\r\n    var hasRequiredRule;\r\n    if (rules && rules.length) {\r\n        each(rules, (function(index, rule) {\r\n            if (\"required\" === rule.type) {\r\n                hasRequiredRule = true;\r\n                return false\r\n            }\r\n        }))\r\n    }\r\n    return hasRequiredRule\r\n}\r\n\r\nfunction _convertToLabelOptions(_ref5) {\r\n    var {\r\n        item: item,\r\n        id: id,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: labelLocation,\r\n        formLabelMode: formLabelMode\r\n    } = _ref5;\r\n    var isEditorWithoutLabels = -1 !== inArray(item.editorType, EDITORS_WITHOUT_LABELS);\r\n    var labelOptions = extend({\r\n        showColon: showColonAfterLabel,\r\n        location: labelLocation,\r\n        id: id,\r\n        visible: \"outside\" === formLabelMode || isEditorWithoutLabels && \"hidden\" !== formLabelMode,\r\n        isRequired: isRequired\r\n    }, item ? item.label : {}, {\r\n        markOptions: convertToLabelMarkOptions(managerMarkOptions, isRequired)\r\n    });\r\n    if (-1 !== inArray(item.editorType, [\"dxRadioGroup\", \"dxCheckBox\", \"dxLookup\", \"dxSlider\", \"dxRangeSlider\", \"dxSwitch\", \"dxHtmlEditor\"])) {\r\n        labelOptions.labelID = \"dx-label-\".concat(new Guid)\r\n    }\r\n    if (!labelOptions.text && item.dataField) {\r\n        labelOptions.text = captionize(item.dataField)\r\n    }\r\n    if (labelOptions.text) {\r\n        labelOptions.textWithoutColon = labelOptions.text;\r\n        labelOptions.text += labelOptions.showColon ? \":\" : \"\"\r\n    }\r\n    return labelOptions\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/label.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"$FIELD_ITEM_LABEL_CONTENT_CLASS\"];\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    isEmpty\r\n} from \"../../../core/utils/string\";\r\nimport {\r\n    getLabelMarkText\r\n} from \"../ui.form.layout_manager.utils\";\r\nimport {\r\n    WIDGET_CLASS,\r\n    FIELD_ITEM_LABEL_CONTENT_CLASS,\r\n    FIELD_ITEM_LABEL_CLASS\r\n} from \"../constants\";\r\nexport var GET_LABEL_WIDTH_BY_TEXT_CLASS = \"dx-layout-manager-hidden-label\";\r\nexport var FIELD_ITEM_REQUIRED_MARK_CLASS = \"dx-field-item-required-mark\";\r\nexport var FIELD_ITEM_LABEL_LOCATION_CLASS = \"dx-field-item-label-location-\";\r\nexport var FIELD_ITEM_OPTIONAL_MARK_CLASS = \"dx-field-item-optional-mark\";\r\nexport var FIELD_ITEM_LABEL_TEXT_CLASS = \"dx-field-item-label-text\";\r\nexport function renderLabel(_ref) {\r\n    var {\r\n        text: text,\r\n        id: id,\r\n        location: location,\r\n        alignment: alignment,\r\n        labelID: labelID = null,\r\n        markOptions: markOptions = {}\r\n    } = _ref;\r\n    if (!isDefined(text) || text.length <= 0) {\r\n        return null\r\n    }\r\n    return $(\"<label>\").addClass(FIELD_ITEM_LABEL_CLASS + \" \" + FIELD_ITEM_LABEL_LOCATION_CLASS + location).attr(\"for\", id).attr(\"id\", labelID).css(\"textAlign\", alignment).append($(\"<span>\").addClass(FIELD_ITEM_LABEL_CONTENT_CLASS).append($(\"<span>\").addClass(FIELD_ITEM_LABEL_TEXT_CLASS).text(text), _renderLabelMark(markOptions)))\r\n}\r\n\r\nfunction _renderLabelMark(markOptions) {\r\n    var markText = getLabelMarkText(markOptions);\r\n    if (\"\" === markText) {\r\n        return null\r\n    }\r\n    return $(\"<span>\").addClass(markOptions.showRequiredMark ? FIELD_ITEM_REQUIRED_MARK_CLASS : FIELD_ITEM_OPTIONAL_MARK_CLASS).text(markText)\r\n}\r\nexport function setLabelWidthByMaxLabelWidth($targetContainer, labelsSelector, labelMarkOptions) {\r\n    var FIELD_ITEM_LABEL_CONTENT_CLASS_Selector = \"\".concat(labelsSelector, \" > .\").concat(FIELD_ITEM_LABEL_CLASS, \":not(.\").concat(FIELD_ITEM_LABEL_LOCATION_CLASS, \"top) > .\").concat(FIELD_ITEM_LABEL_CONTENT_CLASS);\r\n    var $FIELD_ITEM_LABEL_CONTENT_CLASS_Items = $targetContainer.find(FIELD_ITEM_LABEL_CONTENT_CLASS_Selector);\r\n    var FIELD_ITEM_LABEL_CONTENT_CLASS_Length = $FIELD_ITEM_LABEL_CONTENT_CLASS_Items.length;\r\n    var labelWidth;\r\n    var i;\r\n    var maxWidth = 0;\r\n    for (i = 0; i < FIELD_ITEM_LABEL_CONTENT_CLASS_Length; i++) {\r\n        labelWidth = getLabelWidthByInnerHTML({\r\n            $FIELD_ITEM_LABEL_CONTENT_CLASS: $FIELD_ITEM_LABEL_CONTENT_CLASS_Items[i],\r\n            location: \"left\",\r\n            markOptions: labelMarkOptions\r\n        });\r\n        if (labelWidth > maxWidth) {\r\n            maxWidth = labelWidth\r\n        }\r\n    }\r\n    for (i = 0; i < FIELD_ITEM_LABEL_CONTENT_CLASS_Length; i++) {\r\n        $FIELD_ITEM_LABEL_CONTENT_CLASS_Items[i].style.width = maxWidth + \"px\"\r\n    }\r\n}\r\n\r\nfunction getLabelWidthByInnerHTML(options) {\r\n    var {\r\n        $FIELD_ITEM_LABEL_CONTENT_CLASS: $FIELD_ITEM_LABEL_CONTENT_CLASS\r\n    } = options, renderLabelOptions = _objectWithoutPropertiesLoose(options, _excluded);\r\n    var $hiddenContainer = $(\"<div>\").addClass(WIDGET_CLASS).addClass(GET_LABEL_WIDTH_BY_TEXT_CLASS).appendTo(\"body\");\r\n    renderLabelOptions.text = \" \";\r\n    var $label = renderLabel(renderLabelOptions).appendTo($hiddenContainer);\r\n    var labelTextElement = $label.find(\".\" + FIELD_ITEM_LABEL_TEXT_CLASS)[0];\r\n    labelTextElement.innerHTML = getLabelInnerHTML($FIELD_ITEM_LABEL_CONTENT_CLASS);\r\n    var result = labelTextElement.offsetWidth;\r\n    $hiddenContainer.remove();\r\n    return result\r\n}\r\n\r\nfunction getLabelInnerHTML($FIELD_ITEM_LABEL_CONTENT_CLASS) {\r\n    var length = $FIELD_ITEM_LABEL_CONTENT_CLASS.children.length;\r\n    var child;\r\n    var result = \"\";\r\n    var i;\r\n    for (i = 0; i < length; i++) {\r\n        child = $FIELD_ITEM_LABEL_CONTENT_CLASS.children[i];\r\n        result += !isEmpty(child.innerText) ? child.innerText : child.innerHTML\r\n    }\r\n    return result\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/field_item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport eventsEngine from \"../../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../../events/click\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../../core/element\";\r\nimport {\r\n    captionize\r\n} from \"../../../core/utils/inflector\";\r\nimport {\r\n    format\r\n} from \"../../../core/utils/string\";\r\nimport {\r\n    isMaterial\r\n} from \"../../themes\";\r\nimport errors from \"../../widget/ui.errors\";\r\nimport Validator from \"../../validator\";\r\nimport {\r\n    FIELD_ITEM_CONTENT_CLASS\r\n} from \"../constants\";\r\nexport var FLEX_LAYOUT_CLASS = \"dx-flex-layout\";\r\nexport var FIELD_ITEM_OPTIONAL_CLASS = \"dx-field-item-optional\";\r\nexport var FIELD_ITEM_REQUIRED_CLASS = \"dx-field-item-required\";\r\nexport var FIELD_ITEM_CONTENT_WRAPPER_CLASS = \"dx-field-item-content-wrapper\";\r\nexport var FIELD_ITEM_CONTENT_LOCATION_CLASS = \"dx-field-item-content-location-\";\r\nexport var FIELD_ITEM_LABEL_ALIGN_CLASS = \"dx-field-item-label-align\";\r\nexport var FIELD_ITEM_HELP_TEXT_CLASS = \"dx-field-item-help-text\";\r\nexport var LABEL_VERTICAL_ALIGNMENT_CLASS = \"dx-label-v-align\";\r\nexport var LABEL_HORIZONTAL_ALIGNMENT_CLASS = \"dx-label-h-align\";\r\nimport {\r\n    renderLabel\r\n} from \"./label\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar INVALID_CLASS = \"dx-invalid\";\r\nexport function renderFieldItem(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        formLabelLocation: formLabelLocation,\r\n        item: item,\r\n        editorOptions: editorOptions,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup\r\n    } = _ref;\r\n    var $rootElement = $(\"<div>\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent);\r\n    $rootElement.addClass(isRequired ? FIELD_ITEM_REQUIRED_CLASS : FIELD_ITEM_OPTIONAL_CLASS);\r\n    if (isSimpleItem && useFlexLayout) {\r\n        $rootElement.addClass(FLEX_LAYOUT_CLASS)\r\n    }\r\n    if (isSimpleItem && labelNeedBaselineAlign) {\r\n        $rootElement.addClass(FIELD_ITEM_LABEL_ALIGN_CLASS)\r\n    }\r\n    var $fieldEditorContainer = $(\"<div>\");\r\n    $fieldEditorContainer.data(\"dx-form-item\", item);\r\n    $fieldEditorContainer.addClass(FIELD_ITEM_CONTENT_CLASS).addClass(FIELD_ITEM_CONTENT_LOCATION_CLASS + {\r\n        right: \"left\",\r\n        left: \"right\",\r\n        top: \"bottom\"\r\n    } [formLabelLocation]);\r\n    var $label = needRenderLabel ? renderLabel(labelOptions) : null;\r\n    if ($label) {\r\n        $rootElement.append($label);\r\n        if (\"top\" === labelLocation || \"left\" === labelLocation) {\r\n            $rootElement.append($fieldEditorContainer)\r\n        }\r\n        if (\"right\" === labelLocation) {\r\n            $rootElement.prepend($fieldEditorContainer)\r\n        }\r\n        if (\"top\" === labelLocation) {\r\n            $rootElement.addClass(LABEL_VERTICAL_ALIGNMENT_CLASS)\r\n        } else {\r\n            $rootElement.addClass(LABEL_HORIZONTAL_ALIGNMENT_CLASS)\r\n        }\r\n        if (\"dxCheckBox\" === item.editorType || \"dxSwitch\" === item.editorType) {\r\n            eventsEngine.on($label, clickEventName, (function() {\r\n                eventsEngine.trigger($fieldEditorContainer.children(), clickEventName)\r\n            }))\r\n        }\r\n    } else {\r\n        $rootElement.append($fieldEditorContainer)\r\n    }\r\n    var widgetInstance;\r\n    if (template) {\r\n        template.render({\r\n            container: getPublicElement($fieldEditorContainer),\r\n            model: {\r\n                dataField: item.dataField,\r\n                editorType: item.editorType,\r\n                editorOptions: editorOptions,\r\n                component: formOrLayoutManager,\r\n                name: item.name\r\n            }\r\n        })\r\n    } else {\r\n        var $div = $(\"<div>\").appendTo($fieldEditorContainer);\r\n        try {\r\n            widgetInstance = createComponentCallback($div, item.editorType, editorOptions);\r\n            widgetInstance.setAria(\"describedby\", helpID);\r\n            if (labelID) {\r\n                widgetInstance.setAria(\"labelledby\", labelID)\r\n            }\r\n            widgetInstance.setAria(\"required\", isRequired)\r\n        } catch (e) {\r\n            errors.log(\"E1035\", e.message)\r\n        }\r\n    }\r\n    var editorElem = $fieldEditorContainer.children().first();\r\n    var $validationTarget = editorElem.hasClass(TEMPLATE_WRAPPER_CLASS) ? editorElem.children().first() : editorElem;\r\n    var validationTargetInstance = $validationTarget && $validationTarget.data(\"dx-validation-target\");\r\n    if (validationTargetInstance) {\r\n        var isItemHaveCustomLabel = item.label && item.label.text;\r\n        var itemName = isItemHaveCustomLabel ? null : name;\r\n        var fieldName = isItemHaveCustomLabel ? item.label.text : itemName && captionize(itemName);\r\n        var validationRules;\r\n        if (isSimpleItem) {\r\n            if (item.validationRules) {\r\n                validationRules = item.validationRules\r\n            } else {\r\n                var requiredMessage = format(requiredMessageTemplate, fieldName || \"\");\r\n                validationRules = item.isRequired ? [{\r\n                    type: \"required\",\r\n                    message: requiredMessage\r\n                }] : null\r\n            }\r\n        }\r\n        if (Array.isArray(validationRules) && validationRules.length) {\r\n            createComponentCallback($validationTarget, Validator, {\r\n                validationRules: validationRules,\r\n                validationGroup: validationGroup,\r\n                dataGetter: function() {\r\n                    return {\r\n                        formItem: item\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        if (isMaterial()) {\r\n            var wrapperClass = \".\" + FIELD_ITEM_CONTENT_WRAPPER_CLASS;\r\n            var toggleInvalidClass = function(e) {\r\n                $(e.element).parents(wrapperClass).toggleClass(INVALID_CLASS, false === e.component.option(\"isValid\") && (e.component._isFocused() || \"always\" === e.component.option(\"validationMessageMode\")))\r\n            };\r\n            validationTargetInstance.on(\"optionChanged\", e => {\r\n                if (\"isValid\" !== e.name) {\r\n                    return\r\n                }\r\n                toggleInvalidClass(e)\r\n            });\r\n            validationTargetInstance.on(\"focusIn\", toggleInvalidClass).on(\"focusOut\", toggleInvalidClass).on(\"enterKey\", toggleInvalidClass)\r\n        }\r\n    }\r\n    if (helpText && isSimpleItem) {\r\n        var $editorParent = $fieldEditorContainer.parent();\r\n        $editorParent.append($(\"<div>\").addClass(FIELD_ITEM_CONTENT_WRAPPER_CLASS).append($fieldEditorContainer).append($(\"<div>\").addClass(FIELD_ITEM_HELP_TEXT_CLASS).attr(\"id\", helpID).text(helpText)))\r\n    }\r\n    return {\r\n        $fieldEditorContainer: $fieldEditorContainer,\r\n        $rootElement: $rootElement,\r\n        widgetInstance: widgetInstance\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/button_item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nvar FIELD_BUTTON_ITEM_CLASS = \"dx-field-button-item\";\r\nexport function renderButtonItem(_ref) {\r\n    var {\r\n        item: item,\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        validationGroup: validationGroup,\r\n        createComponentCallback: createComponentCallback\r\n    } = _ref;\r\n    var $rootElement = $(\"<div>\").appendTo($parent).addClass(rootElementCssClassList.join(\" \")).addClass(FIELD_BUTTON_ITEM_CLASS).css(\"textAlign\", convertAlignmentToTextAlign(item.horizontalAlignment));\r\n    $parent.css(\"justifyContent\", convertAlignmentToJustifyContent(item.verticalAlignment));\r\n    var $button = $(\"<div>\").appendTo($rootElement);\r\n    return {\r\n        $rootElement: $rootElement,\r\n        buttonInstance: createComponentCallback($button, \"dxButton\", extend({\r\n            validationGroup: validationGroup\r\n        }, item.buttonOptions))\r\n    }\r\n}\r\n\r\nfunction convertAlignmentToTextAlign(horizontalAlignment) {\r\n    return isDefined(horizontalAlignment) ? horizontalAlignment : \"right\"\r\n}\r\n\r\nfunction convertAlignmentToJustifyContent(verticalAlignment) {\r\n    switch (verticalAlignment) {\r\n        case \"center\":\r\n            return \"center\";\r\n        case \"bottom\":\r\n            return \"flex-end\";\r\n        default:\r\n            return \"flex-start\"\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/empty_item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nexport var FIELD_EMPTY_ITEM_CLASS = \"dx-field-empty-item\";\r\nexport function renderEmptyItem(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList\r\n    } = _ref;\r\n    return $(\"<div>\").addClass(FIELD_EMPTY_ITEM_CLASS).html(\"&nbsp;\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent)\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    default as FormItemsRunTimeInfo\r\n} from \"./ui.form.items_runtime_info\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isFunction,\r\n    isObject,\r\n    type\r\n} from \"../../core/utils/type\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    getCurrentScreenFactor,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    normalizeIndexes\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    removeEvent\r\n} from \"../../events/remove\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    styleProp\r\n} from \"../../core/utils/style\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport ResponsiveBox from \"../responsive_box\";\r\nimport {\r\n    LAYOUT_MANAGER_ONE_COLUMN,\r\n    FORM_LAYOUT_MANAGER_CLASS,\r\n    SINGLE_COLUMN_ITEM_CONTENT,\r\n    ROOT_SIMPLE_ITEM_CLASS,\r\n    SIMPLE_ITEM_TYPE,\r\n    FIELD_ITEM_CLASS\r\n} from \"./constants\";\r\nimport \"../text_box\";\r\nimport \"../number_box\";\r\nimport \"../check_box\";\r\nimport \"../date_box\";\r\nimport \"../button\";\r\nimport {\r\n    renderFieldItem\r\n} from \"./components/field_item\";\r\nimport {\r\n    renderButtonItem\r\n} from \"./components/button_item\";\r\nimport {\r\n    renderEmptyItem\r\n} from \"./components/empty_item\";\r\nimport {\r\n    convertToRenderFieldItemOptions\r\n} from \"./ui.form.layout_manager.utils\";\r\nvar FORM_EDITOR_BY_DEFAULT = \"dxTextBox\";\r\nvar LAYOUT_MANAGER_FIRST_ROW_CLASS = \"dx-first-row\";\r\nvar LAYOUT_MANAGER_LAST_ROW_CLASS = \"dx-last-row\";\r\nvar LAYOUT_MANAGER_FIRST_COL_CLASS = \"dx-first-col\";\r\nvar LAYOUT_MANAGER_LAST_COL_CLASS = \"dx-last-col\";\r\nvar LAYOUT_STRATEGY_FLEX = \"flex\";\r\nvar LAYOUT_STRATEGY_FALLBACK = \"fallback\";\r\nvar LayoutManager = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            layoutData: {},\r\n            readOnly: false,\r\n            colCount: 1,\r\n            colCountByScreen: void 0,\r\n            labelLocation: \"left\",\r\n            onFieldDataChanged: null,\r\n            onEditorEnterKey: null,\r\n            customizeItem: null,\r\n            alignItemLabels: true,\r\n            minColWidth: 200,\r\n            showRequiredMark: true,\r\n            screenByWidth: null,\r\n            showOptionalMark: false,\r\n            requiredMark: \"*\",\r\n            labelMode: \"outside\",\r\n            optionalMark: messageLocalization.format(\"dxForm-optionalMark\"),\r\n            requiredMessage: messageLocalization.getFormatter(\"dxForm-requiredMessage\")\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            layoutData: true,\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        var layoutData = this.option(\"layoutData\");\r\n        this.callBase();\r\n        this._itemWatchers = [];\r\n        this._itemsRunTimeInfo = new FormItemsRunTimeInfo;\r\n        this._updateReferencedOptions(layoutData);\r\n        this._initDataAndItems(layoutData)\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._cleanItemWatchers()\r\n    },\r\n    _initDataAndItems: function(initialData) {\r\n        this._syncDataWithItems();\r\n        this._updateItems(initialData)\r\n    },\r\n    _syncDataWithItems: function() {\r\n        var layoutData = this.option(\"layoutData\");\r\n        var userItems = this.option(\"items\");\r\n        if (isDefined(userItems)) {\r\n            userItems.forEach(item => {\r\n                if (item.dataField && void 0 === this._getDataByField(item.dataField)) {\r\n                    var value;\r\n                    if (item.editorOptions) {\r\n                        value = item.editorOptions.value\r\n                    }\r\n                    if (isDefined(value) || item.dataField in layoutData) {\r\n                        this._updateFieldValue(item.dataField, value)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _getDataByField: function(dataField) {\r\n        return dataField ? this.option(\"layoutData.\" + dataField) : null\r\n    },\r\n    _isCheckboxUndefinedStateEnabled: function(_ref) {\r\n        var {\r\n            allowIndeterminateState: allowIndeterminateState,\r\n            editorType: editorType,\r\n            dataField: dataField\r\n        } = _ref;\r\n        if (true === allowIndeterminateState && \"dxCheckBox\" === editorType) {\r\n            var nameParts = [\"layoutData\", ...dataField.split(\".\")];\r\n            var propertyName = nameParts.pop();\r\n            var layoutData = this.option(nameParts.join(\".\"));\r\n            return layoutData && propertyName in layoutData\r\n        }\r\n        return false\r\n    },\r\n    _updateFieldValue: function(dataField, value) {\r\n        var layoutData = this.option(\"layoutData\");\r\n        var newValue = value;\r\n        if (!variableWrapper.isWrapped(layoutData[dataField]) && isDefined(dataField)) {\r\n            this.option(\"layoutData.\" + dataField, newValue)\r\n        } else if (variableWrapper.isWritableWrapped(layoutData[dataField])) {\r\n            newValue = isFunction(newValue) ? newValue() : newValue;\r\n            layoutData[dataField](newValue)\r\n        }\r\n        this._triggerOnFieldDataChanged({\r\n            dataField: dataField,\r\n            value: newValue\r\n        })\r\n    },\r\n    _triggerOnFieldDataChanged: function(args) {\r\n        this._createActionByOption(\"onFieldDataChanged\")(args)\r\n    },\r\n    _updateItems: function(layoutData) {\r\n        var that = this;\r\n        var userItems = this.option(\"items\");\r\n        var isUserItemsExist = isDefined(userItems);\r\n        var customizeItem = that.option(\"customizeItem\");\r\n        var items = isUserItemsExist ? userItems : this._generateItemsByData(layoutData);\r\n        if (isDefined(items)) {\r\n            var processedItems = [];\r\n            each(items, (function(index, item) {\r\n                if (that._isAcceptableItem(item)) {\r\n                    item = that._processItem(item);\r\n                    customizeItem && customizeItem(item);\r\n                    if (isObject(item) && false !== variableWrapper.unwrap(item.visible)) {\r\n                        processedItems.push(item)\r\n                    }\r\n                }\r\n            }));\r\n            if (!that._itemWatchers.length || !isUserItemsExist) {\r\n                that._updateItemWatchers(items)\r\n            }\r\n            this._setItems(processedItems);\r\n            this._sortItems()\r\n        }\r\n    },\r\n    _cleanItemWatchers: function() {\r\n        this._itemWatchers.forEach((function(dispose) {\r\n            dispose()\r\n        }));\r\n        this._itemWatchers = []\r\n    },\r\n    _updateItemWatchers: function(items) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        items.forEach((function(item) {\r\n            if (isObject(item) && isDefined(item.visible) && isFunction(watch)) {\r\n                that._itemWatchers.push(watch((function() {\r\n                    return variableWrapper.unwrap(item.visible)\r\n                }), (function() {\r\n                    that._updateItems(that.option(\"layoutData\"));\r\n                    that.repaint()\r\n                }), {\r\n                    skipImmediate: true\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _generateItemsByData: function(layoutData) {\r\n        var result = [];\r\n        if (isDefined(layoutData)) {\r\n            each(layoutData, (function(dataField) {\r\n                result.push({\r\n                    dataField: dataField\r\n                })\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    _isAcceptableItem: function(item) {\r\n        var itemField = item.dataField || item;\r\n        var itemData = this._getDataByField(itemField);\r\n        return !(isFunction(itemData) && !variableWrapper.isWrapped(itemData))\r\n    },\r\n    _processItem: function(item) {\r\n        if (\"string\" === typeof item) {\r\n            item = {\r\n                dataField: item\r\n            }\r\n        }\r\n        if (\"object\" === typeof item && !item.itemType) {\r\n            item.itemType = SIMPLE_ITEM_TYPE\r\n        }\r\n        if (!isDefined(item.editorType) && isDefined(item.dataField)) {\r\n            var value = this._getDataByField(item.dataField);\r\n            item.editorType = isDefined(value) ? this._getEditorTypeByDataType(type(value)) : FORM_EDITOR_BY_DEFAULT\r\n        }\r\n        if (\"dxCheckBox\" === item.editorType) {\r\n            var _item$allowIndetermin;\r\n            item.allowIndeterminateState = null !== (_item$allowIndetermin = item.allowIndeterminateState) && void 0 !== _item$allowIndetermin ? _item$allowIndetermin : true\r\n        }\r\n        return item\r\n    },\r\n    _getEditorTypeByDataType: function(dataType) {\r\n        switch (dataType) {\r\n            case \"number\":\r\n                return \"dxNumberBox\";\r\n            case \"date\":\r\n                return \"dxDateBox\";\r\n            case \"boolean\":\r\n                return \"dxCheckBox\";\r\n            default:\r\n                return \"dxTextBox\"\r\n        }\r\n    },\r\n    _sortItems: function() {\r\n        normalizeIndexes(this._items, \"visibleIndex\");\r\n        this._sortIndexes()\r\n    },\r\n    _sortIndexes: function() {\r\n        this._items.sort((function(itemA, itemB) {\r\n            var indexA = itemA.visibleIndex;\r\n            var indexB = itemB.visibleIndex;\r\n            var result;\r\n            if (indexA > indexB) {\r\n                result = 1\r\n            } else if (indexA < indexB) {\r\n                result = -1\r\n            } else {\r\n                result = 0\r\n            }\r\n            return result\r\n        }))\r\n    },\r\n    _initMarkup: function() {\r\n        this._itemsRunTimeInfo.clear();\r\n        this.$element().addClass(FORM_LAYOUT_MANAGER_CLASS);\r\n        this.callBase();\r\n        this._renderResponsiveBox()\r\n    },\r\n    _hasBrowserFlex: function() {\r\n        return styleProp(LAYOUT_STRATEGY_FLEX) === LAYOUT_STRATEGY_FLEX\r\n    },\r\n    _renderResponsiveBox: function() {\r\n        var templatesInfo = [];\r\n        if (this._items && this._items.length) {\r\n            var colCount = this._getColCount();\r\n            var $container = $(\"<div>\").appendTo(this.$element());\r\n            this._prepareItemsWithMerging(colCount);\r\n            var layoutItems = this._generateLayoutItems();\r\n            this._responsiveBox = this._createComponent($container, ResponsiveBox, this._getResponsiveBoxConfig(layoutItems, colCount, templatesInfo));\r\n            if (!hasWindow()) {\r\n                this._renderTemplates(templatesInfo)\r\n            }\r\n        }\r\n    },\r\n    _itemStateChangedHandler: function(e) {\r\n        this._refresh()\r\n    },\r\n    _renderTemplates: function(templatesInfo) {\r\n        var that = this;\r\n        each(templatesInfo, (function(_, info) {\r\n            switch (info.itemType) {\r\n                case \"empty\":\r\n                    renderEmptyItem(info);\r\n                    break;\r\n                case \"button\":\r\n                    that._renderButtonItem(info);\r\n                    break;\r\n                default:\r\n                    that._renderFieldItem(info)\r\n            }\r\n        }))\r\n    },\r\n    _getResponsiveBoxConfig: function(layoutItems, colCount, templatesInfo) {\r\n        var that = this;\r\n        var colCountByScreen = that.option(\"colCountByScreen\");\r\n        var xsColCount = colCountByScreen && colCountByScreen.xs;\r\n        return {\r\n            onItemStateChanged: this._itemStateChangedHandler.bind(this),\r\n            _layoutStrategy: that._hasBrowserFlex() ? LAYOUT_STRATEGY_FLEX : LAYOUT_STRATEGY_FALLBACK,\r\n            onLayoutChanged: function() {\r\n                var onLayoutChanged = that.option(\"onLayoutChanged\");\r\n                var isSingleColumnMode = that.isSingleColumnMode();\r\n                if (onLayoutChanged) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, isSingleColumnMode);\r\n                    onLayoutChanged(isSingleColumnMode)\r\n                }\r\n            },\r\n            onContentReady: function(e) {\r\n                if (hasWindow()) {\r\n                    that._renderTemplates(templatesInfo)\r\n                }\r\n                if (that.option(\"onLayoutChanged\")) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, that.isSingleColumnMode(e.component))\r\n                }\r\n            },\r\n            itemTemplate: function(e, itemData, itemElement) {\r\n                if (!e.location) {\r\n                    return\r\n                }\r\n                var $itemElement = $(itemElement);\r\n                var itemRenderedCountInPreviousRows = e.location.row * colCount;\r\n                var item = that._items[e.location.col + itemRenderedCountInPreviousRows];\r\n                if (!item) {\r\n                    return\r\n                }\r\n                var itemCssClassList = [item.cssClass];\r\n                $itemElement.toggleClass(SINGLE_COLUMN_ITEM_CONTENT, that.isSingleColumnMode(this));\r\n                if (0 === e.location.row) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_FIRST_ROW_CLASS)\r\n                }\r\n                if (0 === e.location.col) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_FIRST_COL_CLASS)\r\n                }\r\n                if (item.itemType === SIMPLE_ITEM_TYPE && that.option(\"isRoot\")) {\r\n                    $itemElement.addClass(ROOT_SIMPLE_ITEM_CLASS)\r\n                }\r\n                var isLastColumn = e.location.col === colCount - 1 || e.location.col + e.location.colspan === colCount;\r\n                var rowsCount = that._getRowsCount();\r\n                var isLastRow = e.location.row === rowsCount - 1;\r\n                if (isLastColumn) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_LAST_COL_CLASS)\r\n                }\r\n                if (isLastRow) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_LAST_ROW_CLASS)\r\n                }\r\n                if (\"empty\" !== item.itemType) {\r\n                    itemCssClassList.push(FIELD_ITEM_CLASS);\r\n                    itemCssClassList.push(that.option(\"cssItemClass\"));\r\n                    if (isDefined(item.col)) {\r\n                        itemCssClassList.push(\"dx-col-\" + item.col)\r\n                    }\r\n                }\r\n                templatesInfo.push({\r\n                    itemType: item.itemType,\r\n                    item: item,\r\n                    $parent: $itemElement,\r\n                    rootElementCssClassList: itemCssClassList\r\n                })\r\n            },\r\n            cols: that._generateRatio(colCount),\r\n            rows: that._generateRatio(that._getRowsCount(), true),\r\n            dataSource: layoutItems,\r\n            screenByWidth: that.option(\"screenByWidth\"),\r\n            singleColumnScreen: xsColCount ? false : \"xs\"\r\n        }\r\n    },\r\n    _getColCount: function() {\r\n        var colCount = this.option(\"colCount\");\r\n        var colCountByScreen = this.option(\"colCountByScreen\");\r\n        if (colCountByScreen) {\r\n            var screenFactor = this.option(\"form\").getTargetScreenFactor();\r\n            if (!screenFactor) {\r\n                screenFactor = hasWindow() ? getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\"\r\n            }\r\n            colCount = colCountByScreen[screenFactor] || colCount\r\n        }\r\n        if (\"auto\" === colCount) {\r\n            if (this._cashedColCount) {\r\n                return this._cashedColCount\r\n            }\r\n            this._cashedColCount = colCount = this._getMaxColCount()\r\n        }\r\n        return colCount < 1 ? 1 : colCount\r\n    },\r\n    _getMaxColCount: function() {\r\n        if (!hasWindow()) {\r\n            return 1\r\n        }\r\n        var minColWidth = this.option(\"minColWidth\");\r\n        var width = getWidth(this.$element());\r\n        var itemsCount = this._items.length;\r\n        var maxColCount = Math.floor(width / minColWidth) || 1;\r\n        return itemsCount < maxColCount ? itemsCount : maxColCount\r\n    },\r\n    isCachedColCountObsolete: function() {\r\n        return this._cashedColCount && this._getMaxColCount() !== this._cashedColCount\r\n    },\r\n    _prepareItemsWithMerging: function(colCount) {\r\n        var items = this._items.slice(0);\r\n        var item;\r\n        var itemsMergedByCol;\r\n        var result = [];\r\n        var j;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            result.push(item);\r\n            if (this.option(\"alignItemLabels\") || item.alignItemLabels || item.colSpan) {\r\n                item.col = this._getColByIndex(result.length - 1, colCount)\r\n            }\r\n            if (item.colSpan > 1 && item.col + item.colSpan <= colCount) {\r\n                itemsMergedByCol = [];\r\n                for (j = 0; j < item.colSpan - 1; j++) {\r\n                    itemsMergedByCol.push({\r\n                        merged: true\r\n                    })\r\n                }\r\n                result = result.concat(itemsMergedByCol)\r\n            } else {\r\n                delete item.colSpan\r\n            }\r\n        }\r\n        this._setItems(result)\r\n    },\r\n    _getColByIndex: function(index, colCount) {\r\n        return index % colCount\r\n    },\r\n    _setItems: function(items) {\r\n        this._items = items;\r\n        this._cashedColCount = null\r\n    },\r\n    _generateLayoutItems: function() {\r\n        var items = this._items;\r\n        var colCount = this._getColCount();\r\n        var result = [];\r\n        var item;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            if (!item.merged) {\r\n                var generatedItem = {\r\n                    location: {\r\n                        row: parseInt(i / colCount),\r\n                        col: this._getColByIndex(i, colCount)\r\n                    }\r\n                };\r\n                if (isDefined(item.disabled)) {\r\n                    generatedItem.disabled = item.disabled\r\n                }\r\n                if (isDefined(item.visible)) {\r\n                    generatedItem.visible = item.visible\r\n                }\r\n                if (isDefined(item.colSpan)) {\r\n                    generatedItem.location.colspan = item.colSpan\r\n                }\r\n                if (isDefined(item.rowSpan)) {\r\n                    generatedItem.location.rowspan = item.rowSpan\r\n                }\r\n                result.push(generatedItem)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _renderEmptyItem: function($container) {\r\n        renderEmptyItem({\r\n            $container: $container\r\n        })\r\n    },\r\n    _renderButtonItem: function(_ref2) {\r\n        var {\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList\r\n        } = _ref2;\r\n        var {\r\n            $rootElement: $rootElement,\r\n            buttonInstance: buttonInstance\r\n        } = renderButtonItem({\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList,\r\n            validationGroup: this.option(\"validationGroup\"),\r\n            createComponentCallback: this._createComponent.bind(this)\r\n        });\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: buttonInstance,\r\n            guid: item.guid,\r\n            $itemContainer: $rootElement\r\n        })\r\n    },\r\n    _renderFieldItem: function(_ref3) {\r\n        var _this$option;\r\n        var {\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList\r\n        } = _ref3;\r\n        var editorValue = this._getDataByField(item.dataField);\r\n        var canAssignUndefinedValueToEditor = false;\r\n        if (void 0 === editorValue) {\r\n            var {\r\n                allowIndeterminateState: allowIndeterminateState,\r\n                editorType: editorType,\r\n                dataField: dataField\r\n            } = item;\r\n            canAssignUndefinedValueToEditor = this._isCheckboxUndefinedStateEnabled({\r\n                allowIndeterminateState: allowIndeterminateState,\r\n                editorType: editorType,\r\n                dataField: dataField\r\n            })\r\n        }\r\n        var name = item.dataField || item.name;\r\n        var {\r\n            $fieldEditorContainer: $fieldEditorContainer,\r\n            widgetInstance: widgetInstance,\r\n            $rootElement: $rootElement\r\n        } = renderFieldItem(convertToRenderFieldItemOptions({\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList,\r\n            item: item,\r\n            name: name,\r\n            editorValue: editorValue,\r\n            canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n            formOrLayoutManager: this._getFormOrThis(),\r\n            createComponentCallback: this._createComponent.bind(this),\r\n            useFlexLayout: this._hasBrowserFlex(),\r\n            formLabelLocation: this.option(\"labelLocation\"),\r\n            requiredMessageTemplate: this.option(\"requiredMessage\"),\r\n            validationGroup: this.option(\"validationGroup\"),\r\n            editorValidationBoundary: this.option(\"validationBoundary\"),\r\n            editorStylingMode: this.option(\"form\") && this.option(\"form\").option(\"stylingMode\"),\r\n            showColonAfterLabel: this.option(\"showColonAfterLabel\"),\r\n            managerLabelLocation: this.option(\"labelLocation\"),\r\n            template: item.template ? this._getTemplate(item.template) : null,\r\n            itemId: this.option(\"form\") && this.option(\"form\").getItemID(name),\r\n            managerMarkOptions: this._getMarkOptions(),\r\n            labelMode: this.option(\"labelMode\")\r\n        }));\r\n        null === (_this$option = this.option(\"onFieldItemRendered\")) || void 0 === _this$option ? void 0 : _this$option();\r\n        if (widgetInstance && item.dataField) {\r\n            this._bindDataField(widgetInstance, item.dataField, item.editorType, $fieldEditorContainer)\r\n        }\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: widgetInstance,\r\n            guid: item.guid,\r\n            $itemContainer: $rootElement\r\n        })\r\n    },\r\n    _getMarkOptions: function() {\r\n        return {\r\n            showRequiredMark: this.option(\"showRequiredMark\"),\r\n            requiredMark: this.option(\"requiredMark\"),\r\n            showOptionalMark: this.option(\"showOptionalMark\"),\r\n            optionalMark: this.option(\"optionalMark\")\r\n        }\r\n    },\r\n    _getFormOrThis: function() {\r\n        return this.option(\"form\") || this\r\n    },\r\n    _bindDataField: function(editorInstance, dataField, editorType, $container) {\r\n        var formOrThis = this._getFormOrThis();\r\n        editorInstance.on(\"enterKey\", (function(args) {\r\n            formOrThis._createActionByOption(\"onEditorEnterKey\")(extend(args, {\r\n                dataField: dataField\r\n            }))\r\n        }));\r\n        this._createWatcher(editorInstance, $container, dataField);\r\n        this.linkEditorToDataField(editorInstance, dataField, editorType)\r\n    },\r\n    _createWatcher: function(editorInstance, $container, dataField) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        if (!isFunction(watch)) {\r\n            return\r\n        }\r\n        var dispose = watch((function() {\r\n            return that._getDataByField(dataField)\r\n        }), (function() {\r\n            var fieldValue = that._getDataByField(dataField);\r\n            if (\"dxTagBox\" === editorInstance.NAME) {\r\n                var editorValue = editorInstance.option(\"value\");\r\n                if (fieldValue !== editorValue && function(array1, array2) {\r\n                        if (!Array.isArray(array1) || !Array.isArray(array2) || array1.length !== array2.length) {\r\n                            return false\r\n                        }\r\n                        for (var i = 0; i < array1.length; i++) {\r\n                            if (array1[i] !== array2[i]) {\r\n                                return false\r\n                            }\r\n                        }\r\n                        return true\r\n                    }(fieldValue, editorValue)) {\r\n                    return\r\n                }\r\n            }\r\n            editorInstance.option(\"value\", fieldValue)\r\n        }), {\r\n            deep: true,\r\n            skipImmediate: true\r\n        });\r\n        eventsEngine.on($container, removeEvent, dispose)\r\n    },\r\n    _getWatch: function() {\r\n        if (!isDefined(this._watch)) {\r\n            var formInstance = this.option(\"form\");\r\n            this._watch = formInstance && formInstance.option(\"integrationOptions.watchMethod\")\r\n        }\r\n        return this._watch\r\n    },\r\n    _createComponent: function($editor, type, editorOptions) {\r\n        var readOnlyState = this.option(\"readOnly\");\r\n        var instance = this.callBase($editor, type, editorOptions);\r\n        readOnlyState && instance.option(\"readOnly\", readOnlyState);\r\n        this.on(\"optionChanged\", (function(args) {\r\n            if (\"readOnly\" === args.name && !isDefined(editorOptions.readOnly)) {\r\n                instance.option(args.name, args.value)\r\n            }\r\n        }));\r\n        return instance\r\n    },\r\n    _generateRatio: function(count, isAutoSize) {\r\n        var result = [];\r\n        var ratio;\r\n        var i;\r\n        for (i = 0; i < count; i++) {\r\n            ratio = {\r\n                ratio: 1\r\n            };\r\n            if (isAutoSize) {\r\n                ratio.baseSize = \"auto\"\r\n            }\r\n            result.push(ratio)\r\n        }\r\n        return result\r\n    },\r\n    _getRowsCount: function() {\r\n        return Math.ceil(this._items.length / this._getColCount())\r\n    },\r\n    _updateReferencedOptions: function(newLayoutData) {\r\n        var layoutData = this.option(\"layoutData\");\r\n        if (isObject(layoutData)) {\r\n            Object.getOwnPropertyNames(layoutData).forEach(property => delete this._optionsByReference[\"layoutData.\" + property])\r\n        }\r\n        if (isObject(newLayoutData)) {\r\n            Object.getOwnPropertyNames(newLayoutData).forEach(property => this._optionsByReference[\"layoutData.\" + property] = true)\r\n        }\r\n    },\r\n    _resetWidget(instance) {\r\n        this._disableEditorValueChangedHandler = true;\r\n        instance.reset();\r\n        this._disableEditorValueChangedHandler = false;\r\n        instance.option(\"isValid\", true)\r\n    },\r\n    _optionChanged(args) {\r\n        if (0 === args.fullName.search(\"layoutData.\")) {\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"showRequiredMark\":\r\n            case \"showOptionalMark\":\r\n            case \"requiredMark\":\r\n            case \"optionalMark\":\r\n                this._cashedRequiredConfig = null;\r\n                this._invalidate();\r\n                break;\r\n            case \"layoutData\":\r\n                this._updateReferencedOptions(args.value);\r\n                if (this.option(\"items\")) {\r\n                    if (!isEmptyObject(args.value)) {\r\n                        this._itemsRunTimeInfo.each((_, itemRunTimeInfo) => {\r\n                            if (isDefined(itemRunTimeInfo.item)) {\r\n                                var dataField = itemRunTimeInfo.item.dataField;\r\n                                if (dataField && isDefined(itemRunTimeInfo.widgetInstance)) {\r\n                                    var valueGetter = compileGetter(dataField);\r\n                                    var dataValue = valueGetter(args.value);\r\n                                    var {\r\n                                        allowIndeterminateState: allowIndeterminateState,\r\n                                        editorType: editorType\r\n                                    } = itemRunTimeInfo.item;\r\n                                    if (void 0 !== dataValue || this._isCheckboxUndefinedStateEnabled({\r\n                                            allowIndeterminateState: allowIndeterminateState,\r\n                                            editorType: editorType,\r\n                                            dataField: dataField\r\n                                        })) {\r\n                                        itemRunTimeInfo.widgetInstance.option(\"value\", dataValue)\r\n                                    } else {\r\n                                        this._resetWidget(itemRunTimeInfo.widgetInstance)\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                } else {\r\n                    this._initDataAndItems(args.value);\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"items\":\r\n                this._cleanItemWatchers();\r\n                this._initDataAndItems(args.value);\r\n                this._invalidate();\r\n                break;\r\n            case \"alignItemLabels\":\r\n            case \"labelLocation\":\r\n            case \"labelMode\":\r\n            case \"requiredMessage\":\r\n                this._invalidate();\r\n                break;\r\n            case \"customizeItem\":\r\n                this._updateItems(this.option(\"layoutData\"));\r\n                this._invalidate();\r\n                break;\r\n            case \"colCount\":\r\n                this._resetColCount();\r\n                break;\r\n            case \"minColWidth\":\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"readOnly\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"onFieldDataChanged\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _resetColCount: function() {\r\n        this._cashedColCount = null;\r\n        this._invalidate()\r\n    },\r\n    linkEditorToDataField(editorInstance, dataField) {\r\n        this.on(\"optionChanged\", args => {\r\n            if (args.fullName === \"layoutData.\".concat(dataField)) {\r\n                editorInstance._setOptionWithoutOptionChange(\"value\", args.value)\r\n            }\r\n        });\r\n        editorInstance.on(\"valueChanged\", args => {\r\n            var isValueReferenceType = isObject(args.value) || Array.isArray(args.value);\r\n            if (!this._disableEditorValueChangedHandler && !(isValueReferenceType && args.value === args.previousValue)) {\r\n                this._updateFieldValue(dataField, args.value)\r\n            }\r\n        })\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (\"auto\" === this.option(\"colCount\") && this.isCachedColCountObsolete()) {\r\n            this._eventsStrategy.fireEvent(\"autoColCountChanged\")\r\n        }\r\n    },\r\n    updateData: function(data, value) {\r\n        var that = this;\r\n        if (isObject(data)) {\r\n            each(data, (function(dataField, fieldValue) {\r\n                that._updateFieldValue(dataField, fieldValue)\r\n            }))\r\n        } else if (\"string\" === typeof data) {\r\n            that._updateFieldValue(data, value)\r\n        }\r\n    },\r\n    getEditor: function(field) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByDataField(field) || this._itemsRunTimeInfo.findWidgetInstanceByName(field)\r\n    },\r\n    isSingleColumnMode: function(component) {\r\n        var responsiveBox = this._responsiveBox || component;\r\n        if (responsiveBox) {\r\n            return responsiveBox.option(\"currentScreenFactor\") === responsiveBox.option(\"singleColumnScreen\")\r\n        }\r\n    },\r\n    getItemsRunTimeInfo: function() {\r\n        return this._itemsRunTimeInfo\r\n    }\r\n});\r\nregisterComponent(\"dxLayoutManager\", LayoutManager);\r\nexport default LayoutManager;\r\n","/**\r\n * DevExtreme (esm/ui/validation_summary.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    grep\r\n} from \"../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\r\nvar ITEM_CLASS = VALIDATION_SUMMARY_CLASS + \"-item\";\r\nvar ITEM_DATA_KEY = VALIDATION_SUMMARY_CLASS + \"-item-data\";\r\nvar ValidationSummary = CollectionWidget.inherit({\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            focusStateEnabled: false,\r\n            noDataText: null\r\n        })\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._initGroupRegistration()\r\n    },\r\n    _initGroupRegistration() {\r\n        var $element = this.$element();\r\n        var group = this.option(\"validationGroup\") || ValidationEngine.findGroup($element, this._modelByElement($element));\r\n        var groupConfig = ValidationEngine.addGroup(group);\r\n        this._unsubscribeGroup();\r\n        this._groupWasInit = true;\r\n        this._validationGroup = group;\r\n        this.groupSubscription = this._groupValidationHandler.bind(this);\r\n        groupConfig.on(\"validated\", this.groupSubscription)\r\n    },\r\n    _unsubscribeGroup() {\r\n        var groupConfig = ValidationEngine.getGroupConfig(this._validationGroup);\r\n        groupConfig && groupConfig.off(\"validated\", this.groupSubscription)\r\n    },\r\n    _getOrderedItems(validators, items) {\r\n        var orderedItems = [];\r\n        each(validators, (function(_, validator) {\r\n            var foundItems = grep(items, (function(item) {\r\n                if (item.validator === validator) {\r\n                    return true\r\n                }\r\n            }));\r\n            if (foundItems.length) {\r\n                orderedItems = orderedItems.concat(foundItems)\r\n            }\r\n        }));\r\n        return orderedItems\r\n    },\r\n    _groupValidationHandler(params) {\r\n        var items = this._getOrderedItems(params.validators, map(params.brokenRules, (function(rule) {\r\n            return {\r\n                text: rule.message,\r\n                validator: rule.validator,\r\n                index: rule.index\r\n            }\r\n        })));\r\n        this.validators = params.validators;\r\n        each(this.validators, (_, validator) => {\r\n            if (validator._validationSummary !== this) {\r\n                var handler = this._itemValidationHandler.bind(this);\r\n                validator.on(\"validated\", handler);\r\n                validator.on(\"disposing\", (function() {\r\n                    validator.off(\"validated\", handler);\r\n                    validator._validationSummary = null;\r\n                    handler = null\r\n                }));\r\n                validator._validationSummary = this\r\n            }\r\n        });\r\n        this.option(\"items\", items)\r\n    },\r\n    _itemValidationHandler(_ref) {\r\n        var {\r\n            isValid: isValid,\r\n            validator: validator,\r\n            brokenRules: brokenRules\r\n        } = _ref;\r\n        var items = this.option(\"items\");\r\n        var itemsChanged = false;\r\n        var itemIndex = 0;\r\n        var _loop = function() {\r\n            var item = items[itemIndex];\r\n            if (item.validator === validator) {\r\n                var foundRule = grep(brokenRules || [], (function(rule) {\r\n                    return rule.index === item.index\r\n                }))[0];\r\n                if (isValid || !foundRule) {\r\n                    items.splice(itemIndex, 1);\r\n                    itemsChanged = true;\r\n                    return \"continue\"\r\n                }\r\n                if (foundRule.message !== item.text) {\r\n                    item.text = foundRule.message;\r\n                    itemsChanged = true\r\n                }\r\n            }\r\n            itemIndex++\r\n        };\r\n        while (itemIndex < items.length) {\r\n            var _ret = _loop();\r\n            if (\"continue\" === _ret) {\r\n                continue\r\n            }\r\n        }\r\n        each(brokenRules, (function(_, rule) {\r\n            var foundItem = grep(items, (function(item) {\r\n                return item.validator === validator && item.index === rule.index\r\n            }))[0];\r\n            if (!foundItem) {\r\n                items.push({\r\n                    text: rule.message,\r\n                    validator: validator,\r\n                    index: rule.index\r\n                });\r\n                itemsChanged = true\r\n            }\r\n        }));\r\n        if (itemsChanged) {\r\n            items = this._getOrderedItems(this.validators, items);\r\n            this.option(\"items\", items)\r\n        }\r\n    },\r\n    _initMarkup() {\r\n        this.$element().addClass(VALIDATION_SUMMARY_CLASS);\r\n        this.callBase()\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _itemClass: () => ITEM_CLASS,\r\n    _itemDataKey: () => ITEM_DATA_KEY,\r\n    _postprocessRenderItem(params) {\r\n        eventsEngine.on(params.itemElement, \"click\", (function() {\r\n            params.itemData.validator && params.itemData.validator.focus && params.itemData.validator.focus()\r\n        }))\r\n    },\r\n    _dispose() {\r\n        this.callBase();\r\n        this._unsubscribeGroup()\r\n    }\r\n});\r\nregisterComponent(\"dxValidationSummary\", ValidationSummary);\r\nexport default ValidationSummary;\r\n","/**\r\n * DevExtreme (esm/ui/validation_group.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport ValidationSummary from \"./validation_summary\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport Validator from \"./validator\";\r\nvar VALIDATION_ENGINE_CLASS = \"dx-validationgroup\";\r\nvar VALIDATOR_CLASS = \"dx-validator\";\r\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\r\nclass ValidationGroup extends DOMComponent {\r\n    _getDefaultOptions() {\r\n        return super._getDefaultOptions()\r\n    }\r\n    _init() {\r\n        super._init();\r\n        ValidationEngine.addGroup(this)\r\n    }\r\n    _initMarkup() {\r\n        var $element = this.$element();\r\n        $element.addClass(VALIDATION_ENGINE_CLASS);\r\n        $element.find(\".\".concat(VALIDATOR_CLASS)).each((function(_, validatorContainer) {\r\n            Validator.getInstance($(validatorContainer))._initGroupRegistration()\r\n        }));\r\n        $element.find(\".\".concat(VALIDATION_SUMMARY_CLASS)).each((function(_, summaryContainer) {\r\n            ValidationSummary.getInstance($(summaryContainer))._initGroupRegistration()\r\n        }));\r\n        super._initMarkup()\r\n    }\r\n    validate() {\r\n        return ValidationEngine.validateGroup(this)\r\n    }\r\n    reset() {\r\n        return ValidationEngine.resetGroup(this)\r\n    }\r\n    _dispose() {\r\n        ValidationEngine.removeGroup(this);\r\n        this.$element().removeClass(VALIDATION_ENGINE_CLASS);\r\n        super._dispose()\r\n    }\r\n    _useTemplates() {\r\n        return false\r\n    }\r\n}\r\nregisterComponent(\"dxValidationGroup\", ValidationGroup);\r\nexport default ValidationGroup;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport config from \"../../core/config\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isObject,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    triggerResizeEvent,\r\n    triggerShownEvent\r\n} from \"../../events/visibility_change\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport Editor from \"../editor/editor\";\r\nimport {\r\n    defaultScreenFactorFunc,\r\n    getCurrentScreenFactor,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport ValidationEngine from \"../validation_engine\";\r\nimport {\r\n    default as FormItemsRunTimeInfo\r\n} from \"./ui.form.items_runtime_info\";\r\nimport TabPanel from \"../tab_panel\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nimport tryCreateItemOptionAction from \"./ui.form.item_options_actions\";\r\nimport \"./ui.form.layout_manager\";\r\nimport {\r\n    concatPaths,\r\n    createItemPathByIndex,\r\n    getFullOptionName,\r\n    getOptionNameFromFullName,\r\n    tryGetTabPath,\r\n    getTextWithoutSpaces,\r\n    isEqualToDataFieldOrNameOrTitleOrCaption,\r\n    isFullPathContainsTabs,\r\n    getItemPath,\r\n    convertToLayoutManagerOptions\r\n} from \"./ui.form.utils\";\r\nimport {\r\n    convertToLabelMarkOptions\r\n} from \"./ui.form.layout_manager.utils\";\r\nimport {\r\n    setLabelWidthByMaxLabelWidth\r\n} from \"./components/label\";\r\nimport \"../validation_summary\";\r\nimport \"../validation_group\";\r\nimport {\r\n    FORM_CLASS,\r\n    FIELD_ITEM_CLASS,\r\n    FORM_GROUP_CLASS,\r\n    FORM_GROUP_CONTENT_CLASS,\r\n    FIELD_ITEM_CONTENT_HAS_GROUP_CLASS,\r\n    FIELD_ITEM_CONTENT_HAS_TABS_CLASS,\r\n    FORM_GROUP_WITH_CAPTION_CLASS,\r\n    FORM_GROUP_CAPTION_CLASS,\r\n    FIELD_ITEM_TAB_CLASS,\r\n    FORM_FIELD_ITEM_COL_CLASS,\r\n    GROUP_COL_COUNT_CLASS,\r\n    GROUP_COL_COUNT_ATTR,\r\n    FIELD_ITEM_CONTENT_CLASS,\r\n    FORM_VALIDATION_SUMMARY,\r\n    ROOT_SIMPLE_ITEM_CLASS,\r\n    FORM_UNDERLINED_CLASS\r\n} from \"./constants\";\r\nimport {\r\n    TOOLBAR_CLASS\r\n} from \"../toolbar/constants\";\r\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\r\nvar ITEM_OPTIONS_FOR_VALIDATION_UPDATING = [\"items\", \"isRequired\", \"validationRules\", \"visible\"];\r\nvar Form = Widget.inherit({\r\n    _init: function() {\r\n        this.callBase();\r\n        this._cachedColCountOptions = [];\r\n        this._itemsRunTimeInfo = new FormItemsRunTimeInfo;\r\n        this._groupsColCount = [];\r\n        this._attachSyncSubscriptions()\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            formID: \"dx-\" + new Guid,\r\n            formData: {},\r\n            colCount: 1,\r\n            screenByWidth: defaultScreenFactorFunc,\r\n            colCountByScreen: void 0,\r\n            labelLocation: \"left\",\r\n            readOnly: false,\r\n            onFieldDataChanged: null,\r\n            customizeItem: null,\r\n            onEditorEnterKey: null,\r\n            minColWidth: 200,\r\n            alignItemLabels: true,\r\n            alignItemLabelsInAllGroups: true,\r\n            alignRootItemLabels: true,\r\n            showColonAfterLabel: true,\r\n            showRequiredMark: true,\r\n            showOptionalMark: false,\r\n            requiredMark: \"*\",\r\n            optionalMark: messageLocalization.format(\"dxForm-optionalMark\"),\r\n            requiredMessage: messageLocalization.getFormatter(\"dxForm-requiredMessage\"),\r\n            showValidationSummary: false,\r\n            items: void 0,\r\n            scrollingEnabled: false,\r\n            validationGroup: void 0,\r\n            stylingMode: config().editorStylingMode,\r\n            labelMode: \"outside\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                showColonAfterLabel: false,\r\n                labelLocation: \"top\"\r\n            }\r\n        }])\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            formData: true,\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _getGroupColCount: function($element) {\r\n        return parseInt($element.attr(GROUP_COL_COUNT_ATTR))\r\n    },\r\n    _applyLabelsWidthByCol: function($container, index) {\r\n        var options = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\r\n        var labelMarkOptions = arguments.length > 3 ? arguments[3] : void 0;\r\n        var fieldItemClass = options.inOneColumn ? FIELD_ITEM_CLASS : FORM_FIELD_ITEM_COL_CLASS + index;\r\n        var cssExcludeTabbedSelector = options.excludeTabbed ? \":not(.\".concat(FIELD_ITEM_TAB_CLASS, \")\") : \"\";\r\n        setLabelWidthByMaxLabelWidth($container, \".\".concat(fieldItemClass).concat(cssExcludeTabbedSelector), labelMarkOptions);\r\n        return\r\n    },\r\n    _applyLabelsWidth: function($container, excludeTabbed, inOneColumn, colCount, labelMarkOptions) {\r\n        colCount = inOneColumn ? 1 : colCount || this._getGroupColCount($container);\r\n        var applyLabelsOptions = {\r\n            excludeTabbed: excludeTabbed,\r\n            inOneColumn: inOneColumn\r\n        };\r\n        var i;\r\n        for (i = 0; i < colCount; i++) {\r\n            this._applyLabelsWidthByCol($container, i, applyLabelsOptions, labelMarkOptions)\r\n        }\r\n    },\r\n    _getGroupElementsInColumn: function($container, columnIndex, colCount) {\r\n        var cssColCountSelector = isDefined(colCount) ? \".\" + GROUP_COL_COUNT_CLASS + colCount : \"\";\r\n        var groupSelector = \".\" + FORM_FIELD_ITEM_COL_CLASS + columnIndex + \" > .\" + FIELD_ITEM_CONTENT_CLASS + \" > .\" + FORM_GROUP_CLASS + cssColCountSelector;\r\n        return $container.find(groupSelector)\r\n    },\r\n    _applyLabelsWidthWithGroups: function($container, colCount, excludeTabbed, labelMarkOptions) {\r\n        if (true === this.option(\"alignRootItemLabels\")) {\r\n            var $rootSimpleItems = $container.find(\".\".concat(ROOT_SIMPLE_ITEM_CLASS));\r\n            for (var colIndex = 0; colIndex < colCount; colIndex++) {\r\n                this._applyLabelsWidthByCol($rootSimpleItems, colIndex, excludeTabbed, labelMarkOptions)\r\n            }\r\n        }\r\n        var alignItemLabelsInAllGroups = this.option(\"alignItemLabelsInAllGroups\");\r\n        if (alignItemLabelsInAllGroups) {\r\n            this._applyLabelsWidthWithNestedGroups($container, colCount, excludeTabbed, labelMarkOptions)\r\n        } else {\r\n            var $groups = this.$element().find(\".\" + FORM_GROUP_CLASS);\r\n            var i;\r\n            for (i = 0; i < $groups.length; i++) {\r\n                this._applyLabelsWidth($groups.eq(i), excludeTabbed, void 0, void 0, labelMarkOptions)\r\n            }\r\n        }\r\n    },\r\n    _applyLabelsWidthWithNestedGroups: function($container, colCount, excludeTabbed, labelMarkOptions) {\r\n        var applyLabelsOptions = {\r\n            excludeTabbed: excludeTabbed\r\n        };\r\n        var colIndex;\r\n        var groupsColIndex;\r\n        var groupColIndex;\r\n        var $groupsByCol;\r\n        for (colIndex = 0; colIndex < colCount; colIndex++) {\r\n            $groupsByCol = this._getGroupElementsInColumn($container, colIndex);\r\n            this._applyLabelsWidthByCol($groupsByCol, 0, applyLabelsOptions, labelMarkOptions);\r\n            for (groupsColIndex = 0; groupsColIndex < this._groupsColCount.length; groupsColIndex++) {\r\n                $groupsByCol = this._getGroupElementsInColumn($container, colIndex, this._groupsColCount[groupsColIndex]);\r\n                var groupColCount = this._getGroupColCount($groupsByCol);\r\n                for (groupColIndex = 1; groupColIndex < groupColCount; groupColIndex++) {\r\n                    this._applyLabelsWidthByCol($groupsByCol, groupColIndex, applyLabelsOptions, labelMarkOptions)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _labelLocation: function() {\r\n        return this.option(\"labelLocation\")\r\n    },\r\n    _alignLabelsInColumn: function(_ref) {\r\n        var {\r\n            layoutManager: layoutManager,\r\n            inOneColumn: inOneColumn,\r\n            $container: $container,\r\n            excludeTabbed: excludeTabbed,\r\n            items: items\r\n        } = _ref;\r\n        if (!hasWindow() || \"top\" === this._labelLocation()) {\r\n            return\r\n        }\r\n        var labelMarkOptions = convertToLabelMarkOptions(layoutManager._getMarkOptions());\r\n        if (inOneColumn) {\r\n            this._applyLabelsWidth($container, excludeTabbed, true, void 0, labelMarkOptions)\r\n        } else if (this._checkGrouping(items)) {\r\n            this._applyLabelsWidthWithGroups($container, layoutManager._getColCount(), excludeTabbed, labelMarkOptions)\r\n        } else {\r\n            this._applyLabelsWidth($container, excludeTabbed, false, layoutManager._getColCount(), labelMarkOptions)\r\n        }\r\n    },\r\n    _prepareFormData: function() {\r\n        if (!isDefined(this.option(\"formData\"))) {\r\n            this.option(\"formData\", {})\r\n        }\r\n    },\r\n    _setStylingModeClass: function() {\r\n        if (\"underlined\" === this.option(\"stylingMode\")) {\r\n            this.$element().addClass(FORM_UNDERLINED_CLASS)\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        ValidationEngine.addGroup(this._getValidationGroup());\r\n        this._clearCachedInstances();\r\n        this._prepareFormData();\r\n        this.$element().addClass(FORM_CLASS);\r\n        this._setStylingModeClass();\r\n        this.callBase();\r\n        this.setAria(\"role\", \"form\", this.$element());\r\n        if (this.option(\"scrollingEnabled\")) {\r\n            this._renderScrollable()\r\n        }\r\n        this._renderLayout();\r\n        this._renderValidationSummary();\r\n        this._lastMarkupScreenFactor = this._targetScreenFactor || this._getCurrentScreenFactor()\r\n    },\r\n    _getCurrentScreenFactor: function() {\r\n        return hasWindow() ? getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\"\r\n    },\r\n    _clearCachedInstances: function() {\r\n        this._itemsRunTimeInfo.clear();\r\n        this._cachedLayoutManagers = []\r\n    },\r\n    _alignLabels: function(layoutManager, inOneColumn) {\r\n        this._alignLabelsInColumn({\r\n            $container: this.$element(),\r\n            layoutManager: layoutManager,\r\n            excludeTabbed: true,\r\n            items: this.option(\"items\"),\r\n            inOneColumn: inOneColumn\r\n        });\r\n        triggerResizeEvent(this.$element().find(\".\".concat(TOOLBAR_CLASS)))\r\n    },\r\n    _clean: function() {\r\n        this._clearValidationSummary();\r\n        this.callBase();\r\n        this._groupsColCount = [];\r\n        this._cachedColCountOptions = [];\r\n        this._lastMarkupScreenFactor = void 0\r\n    },\r\n    _renderScrollable: function() {\r\n        var useNativeScrolling = this.option(\"useNativeScrolling\");\r\n        this._scrollable = new Scrollable(this.$element(), {\r\n            useNative: !!useNativeScrolling,\r\n            useSimulatedScrollbar: !useNativeScrolling,\r\n            useKeyboard: false,\r\n            direction: \"both\",\r\n            bounceEnabled: false\r\n        })\r\n    },\r\n    _getContent: function() {\r\n        return this.option(\"scrollingEnabled\") ? $(this._scrollable.content()) : this.$element()\r\n    },\r\n    _clearValidationSummary: function() {\r\n        var _this$_$validationSum;\r\n        null === (_this$_$validationSum = this._$validationSummary) || void 0 === _this$_$validationSum ? void 0 : _this$_$validationSum.remove();\r\n        this._$validationSummary = void 0;\r\n        this._validationSummary = void 0\r\n    },\r\n    _renderValidationSummary: function() {\r\n        this._clearValidationSummary();\r\n        if (this.option(\"showValidationSummary\")) {\r\n            this._$validationSummary = $(\"<div>\").addClass(FORM_VALIDATION_SUMMARY).appendTo(this._getContent());\r\n            this._validationSummary = this._$validationSummary.dxValidationSummary({\r\n                validationGroup: this._getValidationGroup()\r\n            }).dxValidationSummary(\"instance\")\r\n        }\r\n    },\r\n    _prepareItems(items, parentIsTabbedItem, currentPath, isTabs) {\r\n        if (items) {\r\n            var result = [];\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                var path = concatPaths(currentPath, createItemPathByIndex(i, isTabs));\r\n                var itemRunTimeInfo = {\r\n                    item: item,\r\n                    itemIndex: i,\r\n                    path: path\r\n                };\r\n                var guid = this._itemsRunTimeInfo.add(itemRunTimeInfo);\r\n                if (isString(item)) {\r\n                    item = {\r\n                        dataField: item\r\n                    }\r\n                }\r\n                if (isObject(item)) {\r\n                    var preparedItem = _extends({}, item);\r\n                    itemRunTimeInfo.preparedItem = preparedItem;\r\n                    preparedItem.guid = guid;\r\n                    this._tryPrepareGroupItem(preparedItem);\r\n                    this._tryPrepareTabbedItem(preparedItem, path);\r\n                    this._tryPrepareItemTemplate(preparedItem);\r\n                    if (parentIsTabbedItem) {\r\n                        preparedItem.cssItemClass = FIELD_ITEM_TAB_CLASS\r\n                    }\r\n                    if (preparedItem.items) {\r\n                        preparedItem.items = this._prepareItems(preparedItem.items, parentIsTabbedItem, path)\r\n                    }\r\n                    result.push(preparedItem)\r\n                } else {\r\n                    result.push(item)\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    },\r\n    _tryPrepareGroupItem: function(item) {\r\n        if (\"group\" === item.itemType) {\r\n            item.alignItemLabels = ensureDefined(item.alignItemLabels, true);\r\n            item._prepareGroupItemTemplate = itemTemplate => {\r\n                if (item.template) {\r\n                    item.groupContentTemplate = this._getTemplate(itemTemplate)\r\n                }\r\n                item.template = this._itemGroupTemplate.bind(this, item)\r\n            };\r\n            item._prepareGroupItemTemplate(item.template)\r\n        }\r\n    },\r\n    _tryPrepareTabbedItem: function(item, path) {\r\n        if (\"tabbed\" === item.itemType) {\r\n            item.template = this._itemTabbedTemplate.bind(this, item);\r\n            item.tabs = this._prepareItems(item.tabs, true, path, true)\r\n        }\r\n    },\r\n    _tryPrepareItemTemplate: function(item) {\r\n        if (item.template) {\r\n            item.template = this._getTemplate(item.template)\r\n        }\r\n    },\r\n    _checkGrouping: function(items) {\r\n        if (items) {\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                if (\"group\" === item.itemType) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _renderLayout: function() {\r\n        var that = this;\r\n        var items = that.option(\"items\");\r\n        var $content = that._getContent();\r\n        items = that._prepareItems(items);\r\n        that._rootLayoutManager = that._renderLayoutManager($content, this._createLayoutManagerOptions(items, {\r\n            isRoot: true,\r\n            colCount: that.option(\"colCount\"),\r\n            alignItemLabels: that.option(\"alignItemLabels\"),\r\n            screenByWidth: this.option(\"screenByWidth\"),\r\n            colCountByScreen: this.option(\"colCountByScreen\"),\r\n            onLayoutChanged: function(inOneColumn) {\r\n                that._alignLabels.bind(that)(that._rootLayoutManager, inOneColumn)\r\n            },\r\n            onContentReady: function(e) {\r\n                that._alignLabels(e.component, e.component.isSingleColumnMode())\r\n            }\r\n        }))\r\n    },\r\n    _tryGetItemsForTemplate: function(item) {\r\n        return item.items || []\r\n    },\r\n    _itemTabbedTemplate: function(item, e, $container) {\r\n        var $tabPanel = $(\"<div>\").appendTo($container);\r\n        var tabPanelOptions = extend({}, item.tabPanelOptions, {\r\n            dataSource: item.tabs,\r\n            onItemRendered: args => triggerShownEvent(args.itemElement),\r\n            itemTemplate: (itemData, e, container) => {\r\n                var $container = $(container);\r\n                var alignItemLabels = ensureDefined(itemData.alignItemLabels, true);\r\n                var layoutManager = this._renderLayoutManager($container, this._createLayoutManagerOptions(this._tryGetItemsForTemplate(itemData), {\r\n                    colCount: itemData.colCount,\r\n                    alignItemLabels: alignItemLabels,\r\n                    screenByWidth: this.option(\"screenByWidth\"),\r\n                    colCountByScreen: itemData.colCountByScreen,\r\n                    cssItemClass: itemData.cssItemClass,\r\n                    onLayoutChanged: inOneColumn => {\r\n                        this._alignLabelsInColumn({\r\n                            $container: $container,\r\n                            layoutManager: layoutManager,\r\n                            items: itemData.items,\r\n                            inOneColumn: inOneColumn\r\n                        })\r\n                    }\r\n                }));\r\n                if (this._itemsRunTimeInfo) {\r\n                    this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(itemData.guid, {\r\n                        layoutManager: layoutManager\r\n                    })\r\n                }\r\n                if (alignItemLabels) {\r\n                    this._alignLabelsInColumn({\r\n                        $container: $container,\r\n                        layoutManager: layoutManager,\r\n                        items: itemData.items,\r\n                        inOneColumn: layoutManager.isSingleColumnMode()\r\n                    })\r\n                }\r\n            }\r\n        });\r\n        var tryUpdateTabPanelInstance = (items, instance) => {\r\n            if (Array.isArray(items)) {\r\n                items.forEach(item => this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(item.guid, {\r\n                    widgetInstance: instance\r\n                }))\r\n            }\r\n        };\r\n        var tabPanel = this._createComponent($tabPanel, TabPanel, tabPanelOptions);\r\n        $($container).parent().addClass(FIELD_ITEM_CONTENT_HAS_TABS_CLASS);\r\n        tabPanel.on(\"optionChanged\", e => {\r\n            if (\"dataSource\" === e.fullName) {\r\n                tryUpdateTabPanelInstance(e.value, e.component)\r\n            }\r\n        });\r\n        tryUpdateTabPanelInstance([{\r\n            guid: item.guid\r\n        }, ...item.tabs], tabPanel)\r\n    },\r\n    _itemGroupTemplate: function(item, e, $container) {\r\n        var $group = $(\"<div>\").toggleClass(FORM_GROUP_WITH_CAPTION_CLASS, isDefined(item.caption) && item.caption.length).addClass(FORM_GROUP_CLASS).appendTo($container);\r\n        $($container).parent().addClass(FIELD_ITEM_CONTENT_HAS_GROUP_CLASS);\r\n        var colCount;\r\n        var layoutManager;\r\n        if (item.caption) {\r\n            $(\"<span>\").addClass(FORM_GROUP_CAPTION_CLASS).text(item.caption).appendTo($group)\r\n        }\r\n        var $groupContent = $(\"<div>\").addClass(FORM_GROUP_CONTENT_CLASS).appendTo($group);\r\n        if (item.groupContentTemplate) {\r\n            item._renderGroupContentTemplate = () => {\r\n                $groupContent.empty();\r\n                var data = {\r\n                    formData: this.option(\"formData\"),\r\n                    component: this\r\n                };\r\n                item.groupContentTemplate.render({\r\n                    model: data,\r\n                    container: getPublicElement($groupContent)\r\n                })\r\n            };\r\n            item._renderGroupContentTemplate()\r\n        } else {\r\n            layoutManager = this._renderLayoutManager($groupContent, this._createLayoutManagerOptions(this._tryGetItemsForTemplate(item), {\r\n                colCount: item.colCount,\r\n                colCountByScreen: item.colCountByScreen,\r\n                alignItemLabels: item.alignItemLabels,\r\n                cssItemClass: item.cssItemClass\r\n            }));\r\n            this._itemsRunTimeInfo && this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(item.guid, {\r\n                layoutManager: layoutManager\r\n            });\r\n            colCount = layoutManager._getColCount();\r\n            if (-1 === inArray(colCount, this._groupsColCount)) {\r\n                this._groupsColCount.push(colCount)\r\n            }\r\n            $group.addClass(GROUP_COL_COUNT_CLASS + colCount);\r\n            $group.attr(GROUP_COL_COUNT_ATTR, colCount)\r\n        }\r\n    },\r\n    _createLayoutManagerOptions: function(items, extendedLayoutManagerOptions) {\r\n        return convertToLayoutManagerOptions({\r\n            form: this,\r\n            formOptions: this.option(),\r\n            $formElement: this.$element(),\r\n            items: items,\r\n            validationGroup: this._getValidationGroup(),\r\n            extendedLayoutManagerOptions: extendedLayoutManagerOptions,\r\n            onFieldDataChanged: args => {\r\n                if (!this._isDataUpdating) {\r\n                    this._triggerOnFieldDataChanged(args)\r\n                }\r\n            },\r\n            onContentReady: args => {\r\n                this._itemsRunTimeInfo.addItemsOrExtendFrom(args.component._itemsRunTimeInfo);\r\n                extendedLayoutManagerOptions.onContentReady && extendedLayoutManagerOptions.onContentReady(args)\r\n            },\r\n            onDisposing: _ref2 => {\r\n                var {\r\n                    component: component\r\n                } = _ref2;\r\n                var nestedItemsRunTimeInfo = component.getItemsRunTimeInfo();\r\n                this._itemsRunTimeInfo.removeItemsByItems(nestedItemsRunTimeInfo)\r\n            },\r\n            onFieldItemRendered: () => {\r\n                var _this$_validationSumm;\r\n                null === (_this$_validationSumm = this._validationSummary) || void 0 === _this$_validationSumm ? void 0 : _this$_validationSumm._initGroupRegistration()\r\n            }\r\n        })\r\n    },\r\n    _renderLayoutManager: function($parent, layoutManagerOptions) {\r\n        var baseColCountByScreen = {\r\n            lg: layoutManagerOptions.colCount,\r\n            md: layoutManagerOptions.colCount,\r\n            sm: layoutManagerOptions.colCount,\r\n            xs: 1\r\n        };\r\n        this._cachedColCountOptions.push({\r\n            colCountByScreen: extend(baseColCountByScreen, layoutManagerOptions.colCountByScreen)\r\n        });\r\n        var $element = $(\"<div>\");\r\n        $element.appendTo($parent);\r\n        var instance = this._createComponent($element, \"dxLayoutManager\", layoutManagerOptions);\r\n        instance.on(\"autoColCountChanged\", () => {\r\n            this._clearAutoColCountChangedTimeout();\r\n            this.autoColCountChangedTimeoutId = setTimeout(() => !this._disposed && this._refresh(), 0)\r\n        });\r\n        this._cachedLayoutManagers.push(instance);\r\n        return instance\r\n    },\r\n    _getValidationGroup: function() {\r\n        return this.option(\"validationGroup\") || this\r\n    },\r\n    _createComponent: function($element, type, config) {\r\n        config = config || {};\r\n        this._extendConfig(config, {\r\n            readOnly: this.option(\"readOnly\")\r\n        });\r\n        return this.callBase($element, type, config)\r\n    },\r\n    _attachSyncSubscriptions: function() {\r\n        var that = this;\r\n        that.on(\"optionChanged\", (function(args) {\r\n            var optionFullName = args.fullName;\r\n            if (\"formData\" === optionFullName) {\r\n                if (!isDefined(args.value)) {\r\n                    that._options.silent(\"formData\", args.value = {})\r\n                }\r\n                that._triggerOnFieldDataChangedByDataSet(args.value)\r\n            }\r\n            if (that._cachedLayoutManagers.length) {\r\n                each(that._cachedLayoutManagers, (function(index, layoutManager) {\r\n                    if (\"formData\" === optionFullName) {\r\n                        that._isDataUpdating = true;\r\n                        layoutManager.option(\"layoutData\", args.value);\r\n                        that._isDataUpdating = false\r\n                    }\r\n                    if (\"readOnly\" === args.name || \"disabled\" === args.name) {\r\n                        layoutManager.option(optionFullName, args.value)\r\n                    }\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _optionChanged: function(args) {\r\n        var splitFullName = args.fullName.split(\".\");\r\n        if (splitFullName.length > 1 && -1 !== splitFullName[0].search(\"items\") && this._itemsOptionChangedHandler(args)) {\r\n            return\r\n        }\r\n        if (splitFullName.length > 1 && -1 !== splitFullName[0].search(\"formData\") && this._formDataOptionChangedHandler(args)) {\r\n            return\r\n        }\r\n        this._defaultOptionChangedHandler(args)\r\n    },\r\n    _defaultOptionChangedHandler: function(args) {\r\n        switch (args.name) {\r\n            case \"formData\":\r\n                if (!this.option(\"items\")) {\r\n                    this._invalidate()\r\n                } else if (isEmptyObject(args.value)) {\r\n                    this._resetValues()\r\n                }\r\n                break;\r\n            case \"onFieldDataChanged\":\r\n                break;\r\n            case \"items\":\r\n            case \"colCount\":\r\n            case \"onEditorEnterKey\":\r\n            case \"labelLocation\":\r\n            case \"labelMode\":\r\n            case \"alignItemLabels\":\r\n            case \"showColonAfterLabel\":\r\n            case \"customizeItem\":\r\n            case \"alignItemLabelsInAllGroups\":\r\n            case \"showRequiredMark\":\r\n            case \"showOptionalMark\":\r\n            case \"requiredMark\":\r\n            case \"optionalMark\":\r\n            case \"requiredMessage\":\r\n            case \"scrollingEnabled\":\r\n            case \"formID\":\r\n            case \"colCountByScreen\":\r\n            case \"screenByWidth\":\r\n            case \"stylingMode\":\r\n                this._invalidate();\r\n                break;\r\n            case \"showValidationSummary\":\r\n                this._renderValidationSummary();\r\n                break;\r\n            case \"minColWidth\":\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"alignRootItemLabels\":\r\n            case \"readOnly\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._rootLayoutManager.option(args.name, args.value);\r\n                this._alignLabels(this._rootLayoutManager, this._rootLayoutManager.isSingleColumnMode());\r\n                break;\r\n            case \"visible\":\r\n                this.callBase(args);\r\n                if (args.value) {\r\n                    triggerShownEvent(this.$element())\r\n                }\r\n                break;\r\n            case \"validationGroup\":\r\n                ValidationEngine.removeGroup(args.previousValue || this);\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _itemsOptionChangedHandler: function(args) {\r\n        var nameParts = args.fullName.split(\".\");\r\n        var value = args.value;\r\n        var itemPath = this._getItemPath(nameParts);\r\n        var item = this.option(itemPath);\r\n        var optionNameWithoutPath = args.fullName.replace(itemPath + \".\", \"\");\r\n        var simpleOptionName = optionNameWithoutPath.split(\".\")[0].replace(/\\[\\d+]/, \"\");\r\n        var itemAction = this._tryCreateItemOptionAction(simpleOptionName, item, item[simpleOptionName], args.previousValue, itemPath);\r\n        var result = this._tryExecuteItemOptionAction(itemAction) || this._tryChangeLayoutManagerItemOption(args.fullName, value);\r\n        if (!result && item) {\r\n            this._changeItemOption(item, optionNameWithoutPath, value);\r\n            var items = this._generateItemsFromData(this.option(\"items\"));\r\n            this.option(\"items\", items);\r\n            result = true\r\n        }\r\n        return result\r\n    },\r\n    _formDataOptionChangedHandler: function(args) {\r\n        var nameParts = args.fullName.split(\".\");\r\n        var value = args.value;\r\n        var dataField = nameParts.slice(1).join(\".\");\r\n        var editor = this.getEditor(dataField);\r\n        if (editor) {\r\n            editor.option(\"value\", value)\r\n        } else {\r\n            this._triggerOnFieldDataChanged({\r\n                dataField: dataField,\r\n                value: value\r\n            })\r\n        }\r\n        return true\r\n    },\r\n    _tryCreateItemOptionAction: function(optionName, item, value, previousValue, itemPath) {\r\n        if (\"tabs\" === optionName) {\r\n            this._itemsRunTimeInfo.removeItemsByPathStartWith(\"\".concat(itemPath, \".tabs\"));\r\n            value = this._prepareItems(value, true, itemPath, true)\r\n        }\r\n        return tryCreateItemOptionAction(optionName, {\r\n            item: item,\r\n            value: value,\r\n            previousValue: previousValue,\r\n            itemsRunTimeInfo: this._itemsRunTimeInfo\r\n        })\r\n    },\r\n    _tryExecuteItemOptionAction: function(action) {\r\n        return action && action.tryExecute()\r\n    },\r\n    _updateValidationGroupAndSummaryIfNeeded: function(fullName) {\r\n        var optionName = getOptionNameFromFullName(fullName);\r\n        if (ITEM_OPTIONS_FOR_VALIDATION_UPDATING.indexOf(optionName) > -1) {\r\n            ValidationEngine.addGroup(this._getValidationGroup());\r\n            if (this.option(\"showValidationSummary\")) {\r\n                var _this$_validationSumm2;\r\n                null === (_this$_validationSumm2 = this._validationSummary) || void 0 === _this$_validationSumm2 ? void 0 : _this$_validationSumm2._initGroupRegistration()\r\n            }\r\n        }\r\n    },\r\n    _setLayoutManagerItemOption(layoutManager, optionName, value, path) {\r\n        if (this._updateLockCount > 0) {\r\n            !layoutManager._updateLockCount && layoutManager.beginUpdate();\r\n            var key = this._itemsRunTimeInfo.findKeyByPath(path);\r\n            this.postponedOperations.add(key, () => {\r\n                !layoutManager._disposed && layoutManager.endUpdate();\r\n                return (new Deferred).resolve()\r\n            })\r\n        }\r\n        var contentReadyHandler = e => {\r\n            e.component.off(\"contentReady\", contentReadyHandler);\r\n            if (isFullPathContainsTabs(path)) {\r\n                var tabPath = tryGetTabPath(path);\r\n                var tabLayoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(tabPath);\r\n                if (tabLayoutManager) {\r\n                    this._alignLabelsInColumn({\r\n                        items: tabLayoutManager.option(\"items\"),\r\n                        layoutManager: tabLayoutManager,\r\n                        $container: tabLayoutManager.$element(),\r\n                        inOneColumn: tabLayoutManager.isSingleColumnMode()\r\n                    })\r\n                }\r\n            } else {\r\n                this._alignLabels(this._rootLayoutManager, this._rootLayoutManager.isSingleColumnMode())\r\n            }\r\n        };\r\n        layoutManager.on(\"contentReady\", contentReadyHandler);\r\n        layoutManager.option(optionName, value);\r\n        this._updateValidationGroupAndSummaryIfNeeded(optionName)\r\n    },\r\n    _tryChangeLayoutManagerItemOption(fullName, value) {\r\n        var nameParts = fullName.split(\".\");\r\n        var optionName = getOptionNameFromFullName(fullName);\r\n        if (\"items\" === optionName && nameParts.length > 1) {\r\n            var itemPath = this._getItemPath(nameParts);\r\n            var layoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(itemPath);\r\n            if (layoutManager) {\r\n                this._itemsRunTimeInfo.removeItemsByItems(layoutManager.getItemsRunTimeInfo());\r\n                var items = this._prepareItems(value, false, itemPath);\r\n                this._setLayoutManagerItemOption(layoutManager, optionName, items, itemPath);\r\n                return true\r\n            }\r\n        } else if (nameParts.length > 2) {\r\n            var endPartIndex = nameParts.length - 2;\r\n            var _itemPath = this._getItemPath(nameParts.slice(0, endPartIndex));\r\n            var _layoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(_itemPath);\r\n            if (_layoutManager) {\r\n                var fullOptionName = getFullOptionName(nameParts[endPartIndex], optionName);\r\n                if (\"editorType\" === optionName) {\r\n                    if (_layoutManager.option(fullOptionName) !== value) {\r\n                        return false\r\n                    }\r\n                }\r\n                if (\"visible\" === optionName) {\r\n                    var formItems = this.option(getFullOptionName(_itemPath, \"items\"));\r\n                    if (formItems && formItems.length) {\r\n                        var layoutManagerItems = _layoutManager.option(\"items\");\r\n                        formItems.forEach((item, index) => {\r\n                            var layoutItem = layoutManagerItems[index];\r\n                            layoutItem.visibleIndex = item.visibleIndex\r\n                        })\r\n                    }\r\n                }\r\n                this._setLayoutManagerItemOption(_layoutManager, fullOptionName, value, _itemPath);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _tryChangeLayoutManagerItemOptions(itemPath, options) {\r\n        var result;\r\n        this.beginUpdate();\r\n        each(options, (optionName, optionValue) => {\r\n            result = this._tryChangeLayoutManagerItemOption(getFullOptionName(itemPath, optionName), optionValue);\r\n            if (!result) {\r\n                return false\r\n            }\r\n        });\r\n        this.endUpdate();\r\n        return result\r\n    },\r\n    _getItemPath: function(nameParts) {\r\n        var itemPath = nameParts[0];\r\n        var i;\r\n        for (i = 1; i < nameParts.length; i++) {\r\n            if (-1 !== nameParts[i].search(/items\\[\\d+]|tabs\\[\\d+]/)) {\r\n                itemPath += \".\" + nameParts[i]\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        return itemPath\r\n    },\r\n    _triggerOnFieldDataChanged: function(args) {\r\n        this._createActionByOption(\"onFieldDataChanged\")(args)\r\n    },\r\n    _triggerOnFieldDataChangedByDataSet: function(data) {\r\n        var that = this;\r\n        if (data && isObject(data)) {\r\n            each(data, (function(dataField, value) {\r\n                that._triggerOnFieldDataChanged({\r\n                    dataField: dataField,\r\n                    value: value\r\n                })\r\n            }))\r\n        }\r\n    },\r\n    _updateFieldValue: function(dataField, value) {\r\n        if (isDefined(this.option(\"formData\"))) {\r\n            var editor = this.getEditor(dataField);\r\n            this.option(\"formData.\" + dataField, value);\r\n            if (editor) {\r\n                var editorValue = editor.option(\"value\");\r\n                if (editorValue !== value) {\r\n                    editor.option(\"value\", value)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _generateItemsFromData: function(items) {\r\n        var formData = this.option(\"formData\");\r\n        var result = [];\r\n        if (!items && isDefined(formData)) {\r\n            each(formData, (function(dataField) {\r\n                result.push({\r\n                    dataField: dataField\r\n                })\r\n            }))\r\n        }\r\n        if (items) {\r\n            each(items, (function(index, item) {\r\n                if (isObject(item)) {\r\n                    result.push(item)\r\n                } else {\r\n                    result.push({\r\n                        dataField: item\r\n                    })\r\n                }\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    _getItemByField: function(field, items) {\r\n        var that = this;\r\n        var fieldParts = isObject(field) ? field : that._getFieldParts(field);\r\n        var fieldName = fieldParts.fieldName;\r\n        var fieldPath = fieldParts.fieldPath;\r\n        var resultItem;\r\n        if (items.length) {\r\n            each(items, (function(index, item) {\r\n                var itemType = item.itemType;\r\n                if (fieldPath.length) {\r\n                    var path = fieldPath.slice();\r\n                    item = that._getItemByFieldPath(path, fieldName, item)\r\n                } else if (\"group\" === itemType && !(item.caption || item.name) || \"tabbed\" === itemType && !item.name) {\r\n                    var subItemsField = that._getSubItemField(itemType);\r\n                    item.items = that._generateItemsFromData(item.items);\r\n                    item = that._getItemByField({\r\n                        fieldName: fieldName,\r\n                        fieldPath: fieldPath\r\n                    }, item[subItemsField])\r\n                }\r\n                if (isEqualToDataFieldOrNameOrTitleOrCaption(item, fieldName)) {\r\n                    resultItem = item;\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        return resultItem\r\n    },\r\n    _getFieldParts: function(field) {\r\n        var fieldName = field;\r\n        var separatorIndex = fieldName.indexOf(\".\");\r\n        var resultPath = [];\r\n        while (-1 !== separatorIndex) {\r\n            resultPath.push(fieldName.substr(0, separatorIndex));\r\n            fieldName = fieldName.substr(separatorIndex + 1);\r\n            separatorIndex = fieldName.indexOf(\".\")\r\n        }\r\n        return {\r\n            fieldName: fieldName,\r\n            fieldPath: resultPath.reverse()\r\n        }\r\n    },\r\n    _getItemByFieldPath: function(path, fieldName, item) {\r\n        var itemType = item.itemType;\r\n        var subItemsField = this._getSubItemField(itemType);\r\n        var isItemWithSubItems = \"group\" === itemType || \"tabbed\" === itemType || item.title;\r\n        var result;\r\n        do {\r\n            if (isItemWithSubItems) {\r\n                var name = item.name || item.caption || item.title;\r\n                var isGroupWithName = isDefined(name);\r\n                var nameWithoutSpaces = getTextWithoutSpaces(name);\r\n                var pathNode = void 0;\r\n                item[subItemsField] = this._generateItemsFromData(item[subItemsField]);\r\n                if (isGroupWithName) {\r\n                    pathNode = path.pop()\r\n                }\r\n                if (!path.length) {\r\n                    result = this._getItemByField(fieldName, item[subItemsField]);\r\n                    if (result) {\r\n                        break\r\n                    }\r\n                }\r\n                if (!isGroupWithName || isGroupWithName && nameWithoutSpaces === pathNode) {\r\n                    if (path.length) {\r\n                        result = this._searchItemInEverySubItem(path, fieldName, item[subItemsField])\r\n                    }\r\n                }\r\n            } else {\r\n                break\r\n            }\r\n        } while (path.length && !isDefined(result));\r\n        return result\r\n    },\r\n    _getSubItemField: function(itemType) {\r\n        return \"tabbed\" === itemType ? \"tabs\" : \"items\"\r\n    },\r\n    _searchItemInEverySubItem: function(path, fieldName, items) {\r\n        var that = this;\r\n        var result;\r\n        each(items, (function(index, groupItem) {\r\n            result = that._getItemByFieldPath(path.slice(), fieldName, groupItem);\r\n            if (result) {\r\n                return false\r\n            }\r\n        }));\r\n        if (!result) {\r\n            result = false\r\n        }\r\n        return result\r\n    },\r\n    _changeItemOption: function(item, option, value) {\r\n        if (isObject(item)) {\r\n            item[option] = value\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        var currentScreenFactor = this._getCurrentScreenFactor();\r\n        if (this._lastMarkupScreenFactor !== currentScreenFactor) {\r\n            if (this._isColCountChanged(this._lastMarkupScreenFactor, currentScreenFactor)) {\r\n                this._targetScreenFactor = currentScreenFactor;\r\n                this._refresh();\r\n                this._targetScreenFactor = void 0\r\n            }\r\n            this._lastMarkupScreenFactor = currentScreenFactor\r\n        }\r\n    },\r\n    _isColCountChanged: function(oldScreenSize, newScreenSize) {\r\n        var isChanged = false;\r\n        each(this._cachedColCountOptions, (function(index, item) {\r\n            if (item.colCountByScreen[oldScreenSize] !== item.colCountByScreen[newScreenSize]) {\r\n                isChanged = true;\r\n                return false\r\n            }\r\n        }));\r\n        return isChanged\r\n    },\r\n    _refresh: function() {\r\n        var editorSelector = \".\" + FOCUSED_STATE_CLASS + \" input, .\" + FOCUSED_STATE_CLASS + \" textarea\";\r\n        eventsEngine.trigger(this.$element().find(editorSelector), \"change\");\r\n        this.callBase()\r\n    },\r\n    _resetValues: function() {\r\n        this._itemsRunTimeInfo.each((function(_, itemRunTimeInfo) {\r\n            if (isDefined(itemRunTimeInfo.widgetInstance) && Editor.isEditor(itemRunTimeInfo.widgetInstance)) {\r\n                itemRunTimeInfo.widgetInstance.reset();\r\n                itemRunTimeInfo.widgetInstance.option(\"isValid\", true)\r\n            }\r\n        }));\r\n        ValidationEngine.resetGroup(this._getValidationGroup())\r\n    },\r\n    _updateData: function(data, value, isComplexData) {\r\n        var that = this;\r\n        var _data = isComplexData ? value : data;\r\n        if (isObject(_data)) {\r\n            each(_data, (function(dataField, fieldValue) {\r\n                that._updateData(isComplexData ? data + \".\" + dataField : dataField, fieldValue, isObject(fieldValue))\r\n            }))\r\n        } else if (isString(data)) {\r\n            that._updateFieldValue(data, value)\r\n        }\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        this.callBase(key, handler);\r\n        this._itemsRunTimeInfo.each((function(_, itemRunTimeInfo) {\r\n            if (isDefined(itemRunTimeInfo.widgetInstance)) {\r\n                itemRunTimeInfo.widgetInstance.registerKeyHandler(key, handler)\r\n            }\r\n        }))\r\n    },\r\n    _focusTarget: function() {\r\n        return this.$element().find(\".\" + FIELD_ITEM_CONTENT_CLASS + \" [tabindex]\").first()\r\n    },\r\n    _visibilityChanged: function() {},\r\n    _clearAutoColCountChangedTimeout: function() {\r\n        if (this.autoColCountChangedTimeoutId) {\r\n            clearTimeout(this.autoColCountChangedTimeoutId);\r\n            this.autoColCountChangedTimeoutId = void 0\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this._clearAutoColCountChangedTimeout();\r\n        ValidationEngine.removeGroup(this._getValidationGroup());\r\n        this.callBase()\r\n    },\r\n    resetValues: function() {\r\n        this._resetValues()\r\n    },\r\n    updateData: function(data, value) {\r\n        this._updateData(data, value)\r\n    },\r\n    getEditor: function(dataField) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByDataField(dataField) || this._itemsRunTimeInfo.findWidgetInstanceByName(dataField)\r\n    },\r\n    getButton: function(name) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByName(name)\r\n    },\r\n    updateDimensions: function() {\r\n        var that = this;\r\n        var deferred = new Deferred;\r\n        if (that._scrollable) {\r\n            that._scrollable.update().done((function() {\r\n                deferred.resolveWith(that)\r\n            }))\r\n        } else {\r\n            deferred.resolveWith(that)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    itemOption: function(id, option, value) {\r\n        var items = this._generateItemsFromData(this.option(\"items\"));\r\n        var item = this._getItemByField(id, items);\r\n        var path = getItemPath(items, item);\r\n        if (!item) {\r\n            return\r\n        }\r\n        switch (arguments.length) {\r\n            case 1:\r\n                return item;\r\n            case 3:\r\n                var itemAction = this._tryCreateItemOptionAction(option, item, value, item[option], path);\r\n                this._changeItemOption(item, option, value);\r\n                var fullName = getFullOptionName(path, option);\r\n                if (!this._tryExecuteItemOptionAction(itemAction) && !this._tryChangeLayoutManagerItemOption(fullName, value)) {\r\n                    this.option(\"items\", items)\r\n                }\r\n                break;\r\n            default:\r\n                if (isObject(option)) {\r\n                    if (!this._tryChangeLayoutManagerItemOptions(path, option)) {\r\n                        var allowUpdateItems;\r\n                        each(option, (optionName, optionValue) => {\r\n                            var itemAction = this._tryCreateItemOptionAction(optionName, item, optionValue, item[optionName], path);\r\n                            this._changeItemOption(item, optionName, optionValue);\r\n                            if (!allowUpdateItems && !this._tryExecuteItemOptionAction(itemAction)) {\r\n                                allowUpdateItems = true\r\n                            }\r\n                        });\r\n                        allowUpdateItems && this.option(\"items\", items)\r\n                    }\r\n                }\r\n        }\r\n    },\r\n    validate: function() {\r\n        return ValidationEngine.validateGroup(this._getValidationGroup())\r\n    },\r\n    getItemID: function(name) {\r\n        return \"dx_\" + this.option(\"formID\") + \"_\" + (name || new Guid)\r\n    },\r\n    getTargetScreenFactor: function() {\r\n        return this._targetScreenFactor\r\n    }\r\n});\r\nregisterComponent(\"dxForm\", Form);\r\nexport default Form;\r\n","/**\r\n * DevExtreme (esm/ui/form.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Form from \"./form/ui.form\";\r\nexport default Form;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_form_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Button from \"../button\";\r\nimport devices from \"../../core/devices\";\r\nimport Form from \"../form\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    EDIT_MODE_FORM,\r\n    EDIT_MODE_POPUP,\r\n    FOCUSABLE_ELEMENT_SELECTOR,\r\n    EDITING_EDITROWKEY_OPTION_NAME,\r\n    EDITING_POPUP_OPTION_NAME,\r\n    DATA_EDIT_DATA_INSERT_TYPE,\r\n    EDITING_FORM_OPTION_NAME\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar EDIT_FORM_ITEM_CLASS = \"edit-form-item\";\r\nvar EDIT_POPUP_CLASS = \"edit-popup\";\r\nvar SCROLLABLE_CONTAINER_CLASS = \"dx-scrollable-container\";\r\nvar EDIT_POPUP_FORM_CLASS = \"edit-popup-form\";\r\nvar BUTTON_CLASS = \"dx-button\";\r\nvar FORM_BUTTONS_CONTAINER_CLASS = \"form-buttons-container\";\r\nvar getEditorType = item => {\r\n    var _column$formItem;\r\n    var column = item.column;\r\n    return item.isCustomEditorType ? item.editorType : null === (_column$formItem = column.formItem) || void 0 === _column$formItem ? void 0 : _column$formItem.editorType\r\n};\r\nvar forEachFormItems = (items, callBack) => {\r\n    items.forEach(item => {\r\n        if (item.items || item.tabs) {\r\n            forEachFormItems(item.items || item.tabs, callBack)\r\n        } else {\r\n            callBack(item)\r\n        }\r\n    })\r\n};\r\nexport var editingFormBasedModule = {\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                init: function() {\r\n                    this._editForm = null;\r\n                    this._updateEditFormDeferred = null;\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                isFormOrPopupEditMode: function() {\r\n                    return this.isPopupEditMode() || this.isFormEditMode()\r\n                },\r\n                isPopupEditMode: function() {\r\n                    var editMode = this.option(\"editing.mode\");\r\n                    return editMode === EDIT_MODE_POPUP\r\n                },\r\n                isFormEditMode: function() {\r\n                    var editMode = this.option(\"editing.mode\");\r\n                    return editMode === EDIT_MODE_FORM\r\n                },\r\n                getFirstEditableColumnIndex: function() {\r\n                    var firstFormItem = this._firstFormItem;\r\n                    if (this.isFormEditMode() && firstFormItem) {\r\n                        var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n                        var editRowIndex = this._dataController.getRowIndexByKey(editRowKey);\r\n                        var $editFormElements = this._rowsView.getCellElements(editRowIndex);\r\n                        return this._rowsView._getEditFormEditorVisibleIndex($editFormElements, firstFormItem.column)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                getEditFormRowIndex: function() {\r\n                    return this.isFormOrPopupEditMode() ? this._getVisibleEditRowIndex() : this.callBase.apply(this, arguments)\r\n                },\r\n                _isEditColumnVisible: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var editingOptions = this.option(\"editing\");\r\n                    return this.isFormOrPopupEditMode() ? editingOptions.allowUpdating || result : result\r\n                },\r\n                _handleDataChanged: function(args) {\r\n                    var editForm = this._editForm;\r\n                    if (\"refresh\" === args.changeType && this.isPopupEditMode() && null !== editForm && void 0 !== editForm && editForm.option(\"visible\")) {\r\n                        this._repaintEditPopup()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                getPopupContent: function() {\r\n                    var _this$_editPopup;\r\n                    var popupVisible = null === (_this$_editPopup = this._editPopup) || void 0 === _this$_editPopup ? void 0 : _this$_editPopup.option(\"visible\");\r\n                    if (this.isPopupEditMode() && popupVisible) {\r\n                        return this._$popupContent\r\n                    }\r\n                },\r\n                _showAddedRow: function(rowIndex) {\r\n                    if (this.isPopupEditMode()) {\r\n                        this._showEditPopup(rowIndex)\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _cancelEditDataCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.isPopupEditMode()) {\r\n                        this._hideEditPopup()\r\n                    }\r\n                },\r\n                _updateEditRowCore: function(row, skipCurrentRow, isCustomSetCellValue) {\r\n                    var editForm = this._editForm;\r\n                    if (this.isPopupEditMode()) {\r\n                        if (this.option(\"repaintChangesOnly\")) {\r\n                            var _row$update;\r\n                            null === (_row$update = row.update) || void 0 === _row$update ? void 0 : _row$update.call(row, row);\r\n                            this._rowsView.renderDelayedTemplates()\r\n                        } else if (editForm) {\r\n                            this._updateEditFormDeferred = (new Deferred).done(() => editForm.repaint());\r\n                            if (!this._updateLockCount) {\r\n                                this._updateEditFormDeferred.resolve()\r\n                            }\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _showEditPopup: function(rowIndex, repaintForm) {\r\n                    var isMobileDevice = \"desktop\" !== devices.current().deviceType;\r\n                    var popupOptions = extend({\r\n                        showTitle: false,\r\n                        fullScreen: isMobileDevice,\r\n                        copyRootClassesToWrapper: true,\r\n                        _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                        toolbarItems: [{\r\n                            toolbar: \"bottom\",\r\n                            location: \"after\",\r\n                            widget: \"dxButton\",\r\n                            options: this._getSaveButtonConfig()\r\n                        }, {\r\n                            toolbar: \"bottom\",\r\n                            location: \"after\",\r\n                            widget: \"dxButton\",\r\n                            options: this._getCancelButtonConfig()\r\n                        }],\r\n                        contentTemplate: this._getPopupEditFormTemplate(rowIndex)\r\n                    }, this.option(EDITING_POPUP_OPTION_NAME));\r\n                    if (!this._editPopup) {\r\n                        var $popupContainer = $(\"<div>\").appendTo(this.component.$element()).addClass(this.addWidgetPrefix(EDIT_POPUP_CLASS));\r\n                        this._editPopup = this._createComponent($popupContainer, Popup, {\r\n                            copyRootClassesToWrapper: true,\r\n                            _ignoreCopyRootClassesToWrapperDeprecation: true\r\n                        });\r\n                        this._editPopup.on(\"hiding\", this._getEditPopupHiddenHandler());\r\n                        this._editPopup.on(\"shown\", e => {\r\n                            eventsEngine.trigger(e.component.$content().find(FOCUSABLE_ELEMENT_SELECTOR).not(\".\" + SCROLLABLE_CONTAINER_CLASS).first(), \"focus\");\r\n                            if (repaintForm) {\r\n                                var _this$_editForm;\r\n                                null === (_this$_editForm = this._editForm) || void 0 === _this$_editForm ? void 0 : _this$_editForm.repaint()\r\n                            }\r\n                        })\r\n                    }\r\n                    this._editPopup.option(popupOptions);\r\n                    this._editPopup.show();\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _getPopupEditFormTemplate: function(rowIndex) {\r\n                    var row = this.component.getVisibleRows()[rowIndex];\r\n                    var templateOptions = {\r\n                        row: row,\r\n                        values: row.values,\r\n                        rowType: row.rowType,\r\n                        key: row.key,\r\n                        rowIndex: rowIndex\r\n                    };\r\n                    this._rowsView._addWatchMethod(templateOptions, row);\r\n                    return container => {\r\n                        var formTemplate = this.getEditFormTemplate();\r\n                        var scrollable = this._createComponent($(\"<div>\").appendTo(container), Scrollable);\r\n                        this._$popupContent = scrollable.$content();\r\n                        formTemplate(this._$popupContent, templateOptions, {\r\n                            isPopupForm: true\r\n                        });\r\n                        this._rowsView.renderDelayedTemplates()\r\n                    }\r\n                },\r\n                _repaintEditPopup: function() {\r\n                    var _this$_editPopup2;\r\n                    var rowIndex = this._getVisibleEditRowIndex();\r\n                    if (null !== (_this$_editPopup2 = this._editPopup) && void 0 !== _this$_editPopup2 && _this$_editPopup2.option(\"visible\") && rowIndex >= 0) {\r\n                        var defaultAnimation = this._editPopup.option(\"animation\");\r\n                        this._editPopup.option(\"animation\", null);\r\n                        this._showEditPopup(rowIndex, true);\r\n                        this._editPopup.option(\"animation\", defaultAnimation)\r\n                    }\r\n                },\r\n                _hideEditPopup: function() {\r\n                    var _this$_editPopup3;\r\n                    null === (_this$_editPopup3 = this._editPopup) || void 0 === _this$_editPopup3 ? void 0 : _this$_editPopup3.option(\"visible\", false)\r\n                },\r\n                optionChanged: function(args) {\r\n                    if (\"editing\" === args.name && this.isFormOrPopupEditMode()) {\r\n                        var fullName = args.fullName;\r\n                        if (0 === fullName.indexOf(EDITING_FORM_OPTION_NAME)) {\r\n                            this._handleFormOptionChange(args);\r\n                            args.handled = true\r\n                        } else if (0 === fullName.indexOf(EDITING_POPUP_OPTION_NAME)) {\r\n                            this._handlePopupOptionChange(args);\r\n                            args.handled = true\r\n                        }\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _handleFormOptionChange: function(args) {\r\n                    var _this$_editPopup4;\r\n                    if (this.isFormEditMode()) {\r\n                        var editRowIndex = this._getVisibleEditRowIndex();\r\n                        if (editRowIndex >= 0) {\r\n                            this._dataController.updateItems({\r\n                                changeType: \"update\",\r\n                                rowIndices: [editRowIndex]\r\n                            })\r\n                        }\r\n                    } else if (null !== (_this$_editPopup4 = this._editPopup) && void 0 !== _this$_editPopup4 && _this$_editPopup4.option(\"visible\") && 0 === args.fullName.indexOf(EDITING_FORM_OPTION_NAME)) {\r\n                        this._repaintEditPopup()\r\n                    }\r\n                },\r\n                _handlePopupOptionChange: function(args) {\r\n                    var editPopup = this._editPopup;\r\n                    if (editPopup) {\r\n                        var popupOptionName = args.fullName.slice(EDITING_POPUP_OPTION_NAME.length + 1);\r\n                        if (popupOptionName) {\r\n                            editPopup.option(popupOptionName, args.value)\r\n                        } else {\r\n                            editPopup.option(args.value)\r\n                        }\r\n                    }\r\n                },\r\n                renderFormEditTemplate: function(detailCellOptions, item, formTemplateOptions, container, isReadOnly) {\r\n                    var that = this;\r\n                    var $container = $(container);\r\n                    var column = item.column;\r\n                    var editorType = getEditorType(item);\r\n                    var rowData = null === detailCellOptions || void 0 === detailCellOptions ? void 0 : detailCellOptions.row.data;\r\n                    var form = formTemplateOptions.component;\r\n                    var {\r\n                        label: label,\r\n                        labelMark: labelMark,\r\n                        labelMode: labelMode\r\n                    } = formTemplateOptions.editorOptions || {};\r\n                    var cellOptions = extend({}, detailCellOptions, {\r\n                        data: rowData,\r\n                        cellElement: null,\r\n                        isOnForm: true,\r\n                        item: item,\r\n                        id: form.getItemID(item.name || item.dataField),\r\n                        column: extend({}, column, {\r\n                            editorType: editorType,\r\n                            editorOptions: extend({\r\n                                label: label,\r\n                                labelMark: labelMark,\r\n                                labelMode: labelMode\r\n                            }, column.editorOptions, item.editorOptions)\r\n                        }),\r\n                        columnIndex: column.index,\r\n                        setValue: !isReadOnly && column.allowEditing && function(value) {\r\n                            that.updateFieldValue(cellOptions, value)\r\n                        }\r\n                    });\r\n                    cellOptions.value = column.calculateCellValue(rowData);\r\n                    var template = this._getFormEditItemTemplate.bind(this)(cellOptions, column);\r\n                    this._rowsView.renderTemplate($container, template, cellOptions, !!$container.closest(getWindow().document).length).done(() => {\r\n                        this._rowsView._updateCell($container, cellOptions)\r\n                    });\r\n                    return cellOptions\r\n                },\r\n                getFormEditorTemplate: function(cellOptions, item) {\r\n                    var column = this.component.columnOption(item.dataField);\r\n                    return (options, container) => {\r\n                        var _cellOptions$row$watc, _cellOptions$row;\r\n                        var $container = $(container);\r\n                        null === (_cellOptions$row$watc = (_cellOptions$row = cellOptions.row).watch) || void 0 === _cellOptions$row$watc ? void 0 : _cellOptions$row$watc.call(_cellOptions$row, (function() {\r\n                            return column.selector(cellOptions.row.data)\r\n                        }), () => {\r\n                            var _validator;\r\n                            var $editorElement = $container.find(\".dx-widget\").first();\r\n                            var validator = $editorElement.data(\"dxValidator\");\r\n                            var validatorOptions = null === (_validator = validator) || void 0 === _validator ? void 0 : _validator.option();\r\n                            $container.contents().remove();\r\n                            cellOptions = this.renderFormEditTemplate.bind(this)(cellOptions, item, options, $container);\r\n                            $editorElement = $container.find(\".dx-widget\").first();\r\n                            validator = $editorElement.data(\"dxValidator\");\r\n                            if (validatorOptions && !validator) {\r\n                                $editorElement.dxValidator({\r\n                                    validationRules: validatorOptions.validationRules,\r\n                                    validationGroup: validatorOptions.validationGroup,\r\n                                    dataGetter: validatorOptions.dataGetter\r\n                                })\r\n                            }\r\n                        });\r\n                        cellOptions = this.renderFormEditTemplate.bind(this)(cellOptions, item, options, $container)\r\n                    }\r\n                },\r\n                getEditFormOptions: function(detailOptions) {\r\n                    var _this$_getValidationG;\r\n                    var editFormOptions = null === (_this$_getValidationG = this._getValidationGroupsInForm) || void 0 === _this$_getValidationG ? void 0 : _this$_getValidationG.call(this, detailOptions);\r\n                    var userCustomizeItem = this.option(\"editing.form.customizeItem\");\r\n                    var editFormItemClass = this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS);\r\n                    var items = this.option(\"editing.form.items\");\r\n                    var isCustomEditorType = {};\r\n                    if (!items) {\r\n                        var columns = this.getController(\"columns\").getColumns();\r\n                        items = [];\r\n                        each(columns, (function(_, column) {\r\n                            if (!column.isBand && !column.type) {\r\n                                items.push({\r\n                                    column: column,\r\n                                    name: column.name,\r\n                                    dataField: column.dataField\r\n                                })\r\n                            }\r\n                        }))\r\n                    } else {\r\n                        forEachFormItems(items, item => {\r\n                            var itemId = (null === item || void 0 === item ? void 0 : item.name) || (null === item || void 0 === item ? void 0 : item.dataField);\r\n                            if (itemId) {\r\n                                isCustomEditorType[itemId] = !!item.editorType\r\n                            }\r\n                        })\r\n                    }\r\n                    return extend({}, editFormOptions, {\r\n                        items: items,\r\n                        formID: \"dx-\" + new Guid,\r\n                        customizeItem: item => {\r\n                            var column;\r\n                            var itemId = item.name || item.dataField;\r\n                            if (item.column || itemId) {\r\n                                column = item.column || this._columnsController.columnOption(item.name ? \"name:\" + item.name : \"dataField:\" + item.dataField)\r\n                            }\r\n                            if (column) {\r\n                                item.label = item.label || {};\r\n                                item.label.text = item.label.text || column.caption;\r\n                                if (\"boolean\" === column.dataType && void 0 === item.label.visible) {\r\n                                    var labelMode = this.option(\"editing.form.labelMode\");\r\n                                    if (\"floating\" === labelMode || \"static\" === labelMode) {\r\n                                        item.label.visible = true\r\n                                    }\r\n                                }\r\n                                item.template = item.template || this.getFormEditorTemplate(detailOptions, item);\r\n                                item.column = column;\r\n                                item.isCustomEditorType = isCustomEditorType[itemId];\r\n                                if (column.formItem) {\r\n                                    extend(item, column.formItem)\r\n                                }\r\n                                if (void 0 === item.isRequired && column.validationRules) {\r\n                                    item.isRequired = column.validationRules.some((function(rule) {\r\n                                        return \"required\" === rule.type\r\n                                    }));\r\n                                    item.validationRules = []\r\n                                }\r\n                                var itemVisible = isDefined(item.visible) ? item.visible : true;\r\n                                if (!this._firstFormItem && itemVisible) {\r\n                                    this._firstFormItem = item\r\n                                }\r\n                            }\r\n                            null === userCustomizeItem || void 0 === userCustomizeItem ? void 0 : userCustomizeItem.call(this, item);\r\n                            item.cssClass = isString(item.cssClass) ? item.cssClass + \" \" + editFormItemClass : editFormItemClass\r\n                        }\r\n                    })\r\n                },\r\n                getEditFormTemplate: function() {\r\n                    return ($container, detailOptions, options) => {\r\n                        var editFormOptions = this.option(EDITING_FORM_OPTION_NAME);\r\n                        var baseEditFormOptions = this.getEditFormOptions(detailOptions);\r\n                        var $formContainer = $(\"<div>\").appendTo($container);\r\n                        var isPopupForm = null === options || void 0 === options ? void 0 : options.isPopupForm;\r\n                        this._firstFormItem = void 0;\r\n                        if (isPopupForm) {\r\n                            $formContainer.addClass(this.addWidgetPrefix(EDIT_POPUP_FORM_CLASS))\r\n                        }\r\n                        this._editForm = this._createComponent($formContainer, Form, extend({}, editFormOptions, baseEditFormOptions));\r\n                        if (!isPopupForm) {\r\n                            var $buttonsContainer = $(\"<div>\").addClass(this.addWidgetPrefix(FORM_BUTTONS_CONTAINER_CLASS)).appendTo($container);\r\n                            this._createComponent($(\"<div>\").appendTo($buttonsContainer), Button, this._getSaveButtonConfig());\r\n                            this._createComponent($(\"<div>\").appendTo($buttonsContainer), Button, this._getCancelButtonConfig())\r\n                        }\r\n                        this._editForm.on(\"contentReady\", () => {\r\n                            var _this$_editPopup5;\r\n                            this._rowsView.renderDelayedTemplates();\r\n                            null === (_this$_editPopup5 = this._editPopup) || void 0 === _this$_editPopup5 ? void 0 : _this$_editPopup5.repaint()\r\n                        })\r\n                    }\r\n                },\r\n                getEditForm: function() {\r\n                    return this._editForm\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var _this$_updateEditForm;\r\n                    null === (_this$_updateEditForm = this._updateEditFormDeferred) || void 0 === _this$_updateEditForm ? void 0 : _this$_updateEditForm.resolve()\r\n                },\r\n                _beforeEndSaving: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.isPopupEditMode()) {\r\n                        var _this$_editPopup6;\r\n                        null === (_this$_editPopup6 = this._editPopup) || void 0 === _this$_editPopup6 ? void 0 : _this$_editPopup6.hide()\r\n                    }\r\n                },\r\n                _processDataItemCore: function(item, _ref) {\r\n                    var {\r\n                        type: type\r\n                    } = _ref;\r\n                    if (this.isPopupEditMode() && type === DATA_EDIT_DATA_INSERT_TYPE) {\r\n                        item.visible = false\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _editRowFromOptionChangedCore: function(rowIndices, rowIndex) {\r\n                    var isPopupEditMode = this.isPopupEditMode();\r\n                    this.callBase(rowIndices, rowIndex, isPopupEditMode);\r\n                    if (isPopupEditMode) {\r\n                        this._showEditPopup(rowIndex)\r\n                    }\r\n                }\r\n            },\r\n            data: {\r\n                _updateEditItem: function(item) {\r\n                    if (this._editingController.isFormEditMode()) {\r\n                        item.rowType = \"detail\"\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _renderCellContent: function($cell, options) {\r\n                    if (\"data\" === options.rowType && this._editingController.isPopupEditMode() && false === options.row.visible) {\r\n                        return\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                getCellElements: function(rowIndex) {\r\n                    var $cellElements = this.callBase(rowIndex);\r\n                    var editingController = this._editingController;\r\n                    var editForm = editingController.getEditForm();\r\n                    var editFormRowIndex = editingController.getEditFormRowIndex();\r\n                    if (editFormRowIndex === rowIndex && $cellElements && editForm) {\r\n                        return editForm.$element().find(\".\" + this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS) + \", .\" + BUTTON_CLASS)\r\n                    }\r\n                    return $cellElements\r\n                },\r\n                _getVisibleColumnIndex: function($cells, rowIndex, columnIdentifier) {\r\n                    var editFormRowIndex = this._editingController.getEditFormRowIndex();\r\n                    if (editFormRowIndex === rowIndex && isString(columnIdentifier)) {\r\n                        var column = this._columnsController.columnOption(columnIdentifier);\r\n                        return this._getEditFormEditorVisibleIndex($cells, column)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _getEditFormEditorVisibleIndex: function($cells, column) {\r\n                    var visibleIndex = -1;\r\n                    each($cells, (function(index, cellElement) {\r\n                        var item = $(cellElement).find(\".dx-field-item-content\").data(\"dx-form-item\");\r\n                        if (null !== item && void 0 !== item && item.column && column && item.column.index === column.index) {\r\n                            visibleIndex = index;\r\n                            return false\r\n                        }\r\n                    }));\r\n                    return visibleIndex\r\n                },\r\n                _isFormItem: function(parameters) {\r\n                    var isDetailRow = \"detail\" === parameters.rowType || \"detailAdaptive\" === parameters.rowType;\r\n                    var isPopupEditing = \"data\" === parameters.rowType && this._editingController.isPopupEditMode();\r\n                    return (isDetailRow || isPopupEditing) && parameters.item\r\n                },\r\n                _updateCell: function($cell, parameters) {\r\n                    if (this._isFormItem(parameters)) {\r\n                        this._formItemPrepared(parameters, $cell)\r\n                    } else {\r\n                        this.callBase($cell, parameters)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing_form_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editingFormBasedModule\r\n} from \"../grid_core/ui.grid_core.editing_form_based\";\r\ngridCore.registerModule(\"editingFormBased\", editingFormBasedModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_cell_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport holdEvent from \"../../events/hold\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    deferRender\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    createObjectWithChanges\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    EDIT_MODE_BATCH,\r\n    EDIT_MODE_CELL,\r\n    TARGET_COMPONENT_NAME\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nvar ADD_ROW_BUTTON_CLASS = \"addrow-button\";\r\nvar DROPDOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar CELL_MODIFIED_CLASS = \"dx-cell-modified\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar ROW_REMOVED = \"dx-row-removed\";\r\nvar EDITING_EDITROWKEY_OPTION_NAME = \"editing.editRowKey\";\r\nvar EDITING_EDITCOLUMNNAME_OPTION_NAME = \"editing.editColumnName\";\r\nvar DATA_EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nexport default {\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                init: function() {\r\n                    var needCreateHandlers = !this._saveEditorHandler;\r\n                    this.callBase.apply(this, arguments);\r\n                    if (needCreateHandlers) {\r\n                        var $pointerDownTarget;\r\n                        var isResizing;\r\n                        this._pointerUpEditorHandler = () => {\r\n                            var _this$getController;\r\n                            isResizing = null === (_this$getController = this.getController(\"columnsResizer\")) || void 0 === _this$getController ? void 0 : _this$getController.isResizing()\r\n                        };\r\n                        this._pointerDownEditorHandler = e => $pointerDownTarget = $(e.target);\r\n                        this._saveEditorHandler = this.createAction((function(e) {\r\n                            var event = e.event;\r\n                            var $target = $(event.target);\r\n                            var targetComponent = event[TARGET_COMPONENT_NAME];\r\n                            var component = this.component;\r\n                            if ($pointerDownTarget && $pointerDownTarget.is(\"input\") && !$pointerDownTarget.is($target)) {\r\n                                return\r\n                            }\r\n\r\n                            function checkEditorPopup($element) {\r\n                                if (!$element) {\r\n                                    return false\r\n                                }\r\n                                var $dropDownEditorOverlay = $element.closest(\".\".concat(DROPDOWN_EDITOR_OVERLAY_CLASS));\r\n                                var $componentElement = component.$element();\r\n                                return $dropDownEditorOverlay.length > 0 && 0 === $componentElement.closest($dropDownEditorOverlay).length\r\n                            }\r\n                            if (this.isCellOrBatchEditMode() && !this._editCellInProgress) {\r\n                                var isEditorPopup = checkEditorPopup($target) || checkEditorPopup(null === targetComponent || void 0 === targetComponent ? void 0 : targetComponent.$element());\r\n                                var isDomElement = !!$target.closest(getWindow().document).length;\r\n                                var isAnotherComponent = targetComponent && !targetComponent._disposed && targetComponent !== this.component;\r\n                                var isAddRowButton = !!$target.closest(\".\".concat(this.addWidgetPrefix(ADD_ROW_BUTTON_CLASS))).length;\r\n                                var isFocusOverlay = $target.hasClass(this.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\r\n                                var isCellEditMode = this.isCellEditMode();\r\n                                if (!isResizing && !isEditorPopup && !isFocusOverlay && !(isAddRowButton && isCellEditMode && this.isEditing()) && (isDomElement || isAnotherComponent)) {\r\n                                    this._closeEditItem.bind(this)($target)\r\n                                }\r\n                            }\r\n                        }));\r\n                        eventsEngine.on(domAdapter.getDocument(), pointerEvents.up, this._pointerUpEditorHandler);\r\n                        eventsEngine.on(domAdapter.getDocument(), pointerEvents.down, this._pointerDownEditorHandler);\r\n                        eventsEngine.on(domAdapter.getDocument(), clickEventName, this._saveEditorHandler)\r\n                    }\r\n                },\r\n                isCellEditMode: function() {\r\n                    return this.option(\"editing.mode\") === EDIT_MODE_CELL\r\n                },\r\n                isBatchEditMode: function() {\r\n                    return this.option(\"editing.mode\") === EDIT_MODE_BATCH\r\n                },\r\n                isCellOrBatchEditMode: function() {\r\n                    return this.isCellEditMode() || this.isBatchEditMode()\r\n                },\r\n                _needToCloseEditableCell: function($targetElement) {\r\n                    var $element = this.component.$element();\r\n                    var result = this.isEditing();\r\n                    var isCurrentComponentElement = !$element || !!$targetElement.closest($element).length;\r\n                    if (isCurrentComponentElement) {\r\n                        var isDataRow = $targetElement.closest(\".\" + DATA_ROW_CLASS).length;\r\n                        if (isDataRow) {\r\n                            var rowsView = this.getView(\"rowsView\");\r\n                            var $targetCell = $targetElement.closest(\".\" + ROW_CLASS + \"> td\");\r\n                            var rowIndex = rowsView.getRowIndex($targetCell.parent());\r\n                            var columnIndex = rowsView.getCellElements(rowIndex).index($targetCell);\r\n                            var visibleColumns = this._columnsController.getVisibleColumns();\r\n                            var allowEditing = visibleColumns[columnIndex] && visibleColumns[columnIndex].allowEditing;\r\n                            result = result && !allowEditing && !this.isEditCell(rowIndex, columnIndex)\r\n                        }\r\n                    }\r\n                    return result || this.callBase.apply(this, arguments)\r\n                },\r\n                _closeEditItem: function($targetElement) {\r\n                    if (this._needToCloseEditableCell($targetElement)) {\r\n                        this.closeEditCell()\r\n                    }\r\n                },\r\n                _focusEditorIfNeed: function() {\r\n                    if (this._needFocusEditor && this.isCellOrBatchEditMode()) {\r\n                        var _this$_rowsView;\r\n                        var editColumnIndex = this._getVisibleEditColumnIndex();\r\n                        var $cell = null === (_this$_rowsView = this._rowsView) || void 0 === _this$_rowsView ? void 0 : _this$_rowsView._getCellElement(this._getVisibleEditRowIndex(), editColumnIndex);\r\n                        if ($cell && !$cell.find(\":focus\").length) {\r\n                            this._focusEditingCell(() => {\r\n                                this._editCellInProgress = false\r\n                            }, $cell, true)\r\n                        } else {\r\n                            this._editCellInProgress = false\r\n                        }\r\n                        this._needFocusEditor = false\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                isEditing: function() {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var isEditRowKeyDefined = isDefined(this.option(EDITING_EDITROWKEY_OPTION_NAME));\r\n                        var isEditColumnNameDefined = isDefined(this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME));\r\n                        return isEditRowKeyDefined && isEditColumnNameDefined\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _handleEditColumnNameChange: function(args) {\r\n                    var oldRowIndex = this._getVisibleEditRowIndex(args.previousValue);\r\n                    if (this.isCellOrBatchEditMode() && -1 !== oldRowIndex && isDefined(args.value) && args.value !== args.previousValue) {\r\n                        var columnIndex = this._columnsController.getVisibleColumnIndex(args.value);\r\n                        var oldColumnIndex = this._columnsController.getVisibleColumnIndex(args.previousValue);\r\n                        this._editCellFromOptionChanged(columnIndex, oldColumnIndex, oldRowIndex)\r\n                    }\r\n                },\r\n                _addRow: function(parentKey, deferred) {\r\n                    if (this.isCellEditMode() && this.hasChanges()) {\r\n                        var _deferred = new Deferred;\r\n                        this.saveEditData().done(() => {\r\n                            if (!this.hasChanges()) {\r\n                                this.addRow(parentKey).done(_deferred.resolve).fail(_deferred.reject)\r\n                            } else {\r\n                                _deferred.reject(\"cancel\")\r\n                            }\r\n                        });\r\n                        return _deferred.promise()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                editCell: function(rowIndex, columnIndex) {\r\n                    return this._editCell({\r\n                        rowIndex: rowIndex,\r\n                        columnIndex: columnIndex\r\n                    })\r\n                },\r\n                _editCell: function(options) {\r\n                    var d = new Deferred;\r\n                    var coreResult;\r\n                    this.executeOperation(d, () => {\r\n                        coreResult = this._editCellCore(options);\r\n                        when(coreResult).done(d.resolve).fail(d.reject)\r\n                    });\r\n                    return void 0 !== coreResult ? coreResult : d.promise()\r\n                },\r\n                _editCellCore: function(options) {\r\n                    var dataController = this._dataController;\r\n                    var isEditByOptionChanged = isDefined(options.oldColumnIndex) || isDefined(options.oldRowIndex);\r\n                    var {\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex,\r\n                        column: column,\r\n                        item: item\r\n                    } = this._getNormalizedEditCellOptions(options);\r\n                    var params = {\r\n                        data: null === item || void 0 === item ? void 0 : item.data,\r\n                        cancel: false,\r\n                        column: column\r\n                    };\r\n                    if (void 0 === item.key) {\r\n                        this._dataController.fireError(\"E1043\");\r\n                        return\r\n                    }\r\n                    if (column && (\"data\" === item.rowType || \"detailAdaptive\" === item.rowType) && !item.removed && this.isCellOrBatchEditMode()) {\r\n                        if (!isEditByOptionChanged && this.isEditCell(rowIndex, columnIndex)) {\r\n                            return true\r\n                        }\r\n                        var editRowIndex = rowIndex + dataController.getRowIndexOffset();\r\n                        return when(this._beforeEditCell(rowIndex, columnIndex, item)).done(cancel => {\r\n                            if (cancel) {\r\n                                return\r\n                            }\r\n                            if (!this._prepareEditCell(params, item, columnIndex, editRowIndex)) {\r\n                                this._processCanceledEditingCell()\r\n                            }\r\n                        })\r\n                    }\r\n                    return false\r\n                },\r\n                _beforeEditCell: function(rowIndex, columnIndex, item) {\r\n                    if (this.isCellEditMode() && !item.isNewRow && this.hasChanges()) {\r\n                        var d = new Deferred;\r\n                        this.saveEditData().always(() => {\r\n                            d.resolve(this.hasChanges())\r\n                        });\r\n                        return d\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    var publicMethods = this.callBase.apply(this, arguments);\r\n                    return publicMethods.concat([\"editCell\", \"closeEditCell\"])\r\n                },\r\n                _getNormalizedEditCellOptions: function(_ref) {\r\n                    var {\r\n                        oldColumnIndex: oldColumnIndex,\r\n                        oldRowIndex: oldRowIndex,\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    } = _ref;\r\n                    var columnsController = this._columnsController;\r\n                    var visibleColumns = columnsController.getVisibleColumns();\r\n                    var items = this._dataController.items();\r\n                    var item = items[rowIndex];\r\n                    var oldColumn;\r\n                    if (isDefined(oldColumnIndex)) {\r\n                        oldColumn = visibleColumns[oldColumnIndex]\r\n                    } else {\r\n                        oldColumn = this._getEditColumn()\r\n                    }\r\n                    if (!isDefined(oldRowIndex)) {\r\n                        oldRowIndex = this._getVisibleEditRowIndex()\r\n                    }\r\n                    if (isString(columnIndex)) {\r\n                        columnIndex = columnsController.columnOption(columnIndex, \"index\");\r\n                        columnIndex = columnsController.getVisibleIndex(columnIndex)\r\n                    }\r\n                    var column = visibleColumns[columnIndex];\r\n                    return {\r\n                        oldColumn: oldColumn,\r\n                        columnIndex: columnIndex,\r\n                        oldRowIndex: oldRowIndex,\r\n                        rowIndex: rowIndex,\r\n                        column: column,\r\n                        item: item\r\n                    }\r\n                },\r\n                _prepareEditCell: function(params, item, editColumnIndex, editRowIndex) {\r\n                    if (!item.isNewRow) {\r\n                        params.key = item.key\r\n                    }\r\n                    if (this._isEditingStart(params)) {\r\n                        return false\r\n                    }\r\n                    this._pageIndex = this._dataController.pageIndex();\r\n                    this._setEditRowKey(item.key);\r\n                    this._setEditColumnNameByIndex(editColumnIndex);\r\n                    if (!params.column.showEditorAlways) {\r\n                        var _item$oldData;\r\n                        this._addInternalData({\r\n                            key: item.key,\r\n                            oldData: null !== (_item$oldData = item.oldData) && void 0 !== _item$oldData ? _item$oldData : item.data\r\n                        })\r\n                    }\r\n                    return true\r\n                },\r\n                closeEditCell: function(isError, withoutSaveEditData) {\r\n                    var result = when();\r\n                    var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var deferred = new Deferred;\r\n                        result = new Deferred;\r\n                        this.executeOperation(deferred, () => {\r\n                            this._closeEditCellCore(isError, oldEditRowIndex, withoutSaveEditData).always(result.resolve)\r\n                        })\r\n                    }\r\n                    return result.promise()\r\n                },\r\n                _closeEditCellCore: function(isError, oldEditRowIndex, withoutSaveEditData) {\r\n                    var dataController = this._dataController;\r\n                    var deferred = new Deferred;\r\n                    var promise = deferred.promise();\r\n                    if (this.isCellEditMode() && this.hasChanges()) {\r\n                        if (!withoutSaveEditData) {\r\n                            this.saveEditData().done(error => {\r\n                                if (!this.hasChanges()) {\r\n                                    this.closeEditCell(!!error).always(deferred.resolve);\r\n                                    return\r\n                                }\r\n                                deferred.resolve()\r\n                            });\r\n                            return promise\r\n                        }\r\n                    } else {\r\n                        this._resetEditRowKey();\r\n                        this._resetEditColumnName();\r\n                        if (oldEditRowIndex >= 0) {\r\n                            var rowIndices = [oldEditRowIndex];\r\n                            this._beforeCloseEditCellInBatchMode(rowIndices);\r\n                            if (!isError) {\r\n                                dataController.updateItems({\r\n                                    changeType: \"update\",\r\n                                    rowIndices: rowIndices\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                    deferred.resolve();\r\n                    return promise\r\n                },\r\n                _resetModifiedClassCells: function(changes) {\r\n                    if (this.isBatchEditMode()) {\r\n                        var columnsCount = this._columnsController.getVisibleColumns().length;\r\n                        changes.forEach(_ref2 => {\r\n                            var {\r\n                                key: key\r\n                            } = _ref2;\r\n                            var rowIndex = this._dataController.getRowIndexByKey(key);\r\n                            if (-1 !== rowIndex) {\r\n                                for (var columnIndex = 0; columnIndex < columnsCount; columnIndex++) {\r\n                                    this._rowsView._getCellElement(rowIndex, columnIndex).removeClass(CELL_MODIFIED_CLASS)\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                _prepareChange: function(options, value, text) {\r\n                    var $cellElement = $(options.cellElement);\r\n                    if (this.isBatchEditMode() && void 0 !== options.key) {\r\n                        this._applyModified($cellElement, options)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _cancelSaving: function() {\r\n                    var dataController = this._dataController;\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        if (this.isBatchEditMode()) {\r\n                            this._resetEditIndices()\r\n                        }\r\n                        dataController.updateItems()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                optionChanged: function(args) {\r\n                    var fullName = args.fullName;\r\n                    if (\"editing\" === args.name && fullName === EDITING_EDITCOLUMNNAME_OPTION_NAME) {\r\n                        this._handleEditColumnNameChange(args);\r\n                        args.handled = true\r\n                    } else {\r\n                        this.callBase(args)\r\n                    }\r\n                },\r\n                _editCellFromOptionChanged: function(columnIndex, oldColumnIndex, oldRowIndex) {\r\n                    var columns = this._columnsController.getVisibleColumns();\r\n                    if (columnIndex > -1) {\r\n                        deferRender(() => {\r\n                            this._repaintEditCell(columns[columnIndex], columns[oldColumnIndex], oldRowIndex)\r\n                        })\r\n                    }\r\n                },\r\n                _handleEditRowKeyChange: function(args) {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var columnIndex = this._getVisibleEditColumnIndex();\r\n                        var oldRowIndexCorrection = this._getEditRowIndexCorrection();\r\n                        var oldRowIndex = this._dataController.getRowIndexByKey(args.previousValue) + oldRowIndexCorrection;\r\n                        if (isDefined(args.value) && args.value !== args.previousValue) {\r\n                            var _this$_editCellFromOp;\r\n                            null === (_this$_editCellFromOp = this._editCellFromOptionChanged) || void 0 === _this$_editCellFromOp ? void 0 : _this$_editCellFromOp.call(this, columnIndex, columnIndex, oldRowIndex)\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                deleteRow: function(rowIndex) {\r\n                    if (this.isCellEditMode() && this.isEditing()) {\r\n                        var isNewRow = this._dataController.items()[rowIndex].isNewRow;\r\n                        var rowKey = this._dataController.getKeyByRowIndex(rowIndex);\r\n                        this.closeEditCell(null, isNewRow).always(() => {\r\n                            rowIndex = this._dataController.getRowIndexByKey(rowKey);\r\n                            this._checkAndDeleteRow(rowIndex)\r\n                        })\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _checkAndDeleteRow: function(rowIndex) {\r\n                    if (this.isBatchEditMode()) {\r\n                        this._deleteRowCore(rowIndex)\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _refreshCore: function(params) {\r\n                    var {\r\n                        isPageChanged: isPageChanged\r\n                    } = null !== params && void 0 !== params ? params : {};\r\n                    var needResetIndexes = this.isBatchEditMode() || isPageChanged && \"virtual\" !== this.option(\"scrolling.mode\");\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        if (needResetIndexes) {\r\n                            this._resetEditColumnName();\r\n                            this._resetEditRowKey()\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _allowRowAdding: function(params) {\r\n                    if (this.isBatchEditMode()) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _afterDeleteRow: function(rowIndex, oldEditRowIndex) {\r\n                    var dataController = this._dataController;\r\n                    if (this.isBatchEditMode()) {\r\n                        dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: [oldEditRowIndex, rowIndex]\r\n                        });\r\n                        return (new Deferred).resolve()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _updateEditRow: function(row, forceUpdateRow, isCustomSetCellValue) {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        this._updateRowImmediately(row, forceUpdateRow, isCustomSetCellValue)\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _isDefaultButtonVisible: function(button, options) {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var isBatchMode = this.isBatchEditMode();\r\n                        switch (button.name) {\r\n                            case \"save\":\r\n                            case \"cancel\":\r\n                            case \"edit\":\r\n                                return false;\r\n                            case \"delete\":\r\n                                return this.callBase.apply(this, arguments) && (!isBatchMode || !options.row.removed);\r\n                            case \"undelete\":\r\n                                return isBatchMode && this.allowDeleting(options) && options.row.removed;\r\n                            default:\r\n                                return this.callBase.apply(this, arguments)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isRowDeleteAllowed: function() {\r\n                    var callBase = this.callBase.apply(this, arguments);\r\n                    return callBase || this.isBatchEditMode()\r\n                },\r\n                _beforeEndSaving: function(changes) {\r\n                    if (this.isCellEditMode()) {\r\n                        var _changes$;\r\n                        if (\"update\" !== (null === (_changes$ = changes[0]) || void 0 === _changes$ ? void 0 : _changes$.type)) {\r\n                            this.callBase.apply(this, arguments)\r\n                        }\r\n                    } else {\r\n                        if (this.isBatchEditMode()) {\r\n                            this._resetModifiedClassCells(changes)\r\n                        }\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                prepareEditButtons: function(headerPanel) {\r\n                    var editingOptions = this.option(\"editing\") || {};\r\n                    var buttonItems = this.callBase.apply(this, arguments);\r\n                    if ((editingOptions.allowUpdating || editingOptions.allowAdding || editingOptions.allowDeleting) && this.isBatchEditMode()) {\r\n                        buttonItems.push(this.prepareButtonItem(headerPanel, \"save\", \"saveEditData\", 21));\r\n                        buttonItems.push(this.prepareButtonItem(headerPanel, \"revert\", \"cancelEditData\", 22))\r\n                    }\r\n                    return buttonItems\r\n                },\r\n                _saveEditDataInner: function() {\r\n                    var _deferred2;\r\n                    var editRow = this._dataController.getVisibleRows()[this.getEditRowIndex()];\r\n                    var editColumn = this._getEditColumn();\r\n                    var showEditorAlways = null === editColumn || void 0 === editColumn ? void 0 : editColumn.showEditorAlways;\r\n                    var isUpdateInCellMode = this.isCellEditMode() && !(null !== editRow && void 0 !== editRow && editRow.isNewRow);\r\n                    var deferred;\r\n                    if (isUpdateInCellMode && showEditorAlways) {\r\n                        deferred = new Deferred;\r\n                        this.addDeferred(deferred)\r\n                    }\r\n                    return this.callBase.apply(this, arguments).always(null === (_deferred2 = deferred) || void 0 === _deferred2 ? void 0 : _deferred2.resolve)\r\n                },\r\n                _applyChange: function(options, params, forceUpdateRow) {\r\n                    var isUpdateInCellMode = this.isCellEditMode() && options.row && !options.row.isNewRow;\r\n                    var showEditorAlways = options.column.showEditorAlways;\r\n                    var isCustomSetCellValue = options.column.setCellValue !== options.column.defaultSetCellValue;\r\n                    var focusPreviousEditingCell = showEditorAlways && !forceUpdateRow && isUpdateInCellMode && this.hasEditData() && !this.isEditCell(options.rowIndex, options.columnIndex);\r\n                    if (focusPreviousEditingCell) {\r\n                        this._focusEditingCell();\r\n                        this._updateEditRow(options.row, true, isCustomSetCellValue);\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _applyChangeCore: function(options, forceUpdateRow) {\r\n                    var showEditorAlways = options.column.showEditorAlways;\r\n                    var isUpdateInCellMode = this.isCellEditMode() && options.row && !options.row.isNewRow;\r\n                    if (showEditorAlways && !forceUpdateRow) {\r\n                        if (isUpdateInCellMode) {\r\n                            this._setEditRowKey(options.row.key, true);\r\n                            this._setEditColumnNameByIndex(options.columnIndex, true);\r\n                            return this.saveEditData()\r\n                        } else if (this.isBatchEditMode()) {\r\n                            forceUpdateRow = this._needUpdateRow(options.column);\r\n                            return this.callBase(options, forceUpdateRow)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _processDataItemCore: function(item, _ref3) {\r\n                    var {\r\n                        data: data,\r\n                        type: type\r\n                    } = _ref3;\r\n                    if (this.isBatchEditMode() && type === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                        item.data = createObjectWithChanges(item.data, data)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _processRemoveCore: function(changes, editIndex, processIfBatch) {\r\n                    if (this.isBatchEditMode() && !processIfBatch) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _processRemoveIfError: function() {\r\n                    if (this.isBatchEditMode()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _beforeFocusElementInRow: function(rowIndex) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var editRowIndex = rowIndex >= 0 ? rowIndex : 0;\r\n                    var columnIndex = this.getFirstEditableColumnIndex();\r\n                    columnIndex >= 0 && this.editCell(editRowIndex, columnIndex)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    var editingController = this._editingController;\r\n                    if (editingController.isCellOrBatchEditMode() && this.option(\"editing.allowUpdating\")) {\r\n                        eventsEngine.on($table, addNamespace(holdEvent.name, \"dxDataGridRowsView\"), \"td:not(.\" + EDITOR_CELL_CLASS + \")\", this.createAction(() => {\r\n                            if (editingController.isEditing()) {\r\n                                editingController.closeEditCell()\r\n                            }\r\n                        }))\r\n                    }\r\n                    return $table\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var editingController = this._editingController;\r\n                        var isRowRemoved = !!row.removed;\r\n                        if (editingController.isBatchEditMode()) {\r\n                            isRowRemoved && $row.addClass(ROW_REMOVED)\r\n                        }\r\n                    }\r\n                    return $row\r\n                }\r\n            },\r\n            headerPanel: {\r\n                isVisible: function() {\r\n                    var editingOptions = this.getController(\"editing\").option(\"editing\");\r\n                    return this.callBase() || editingOptions && (editingOptions.allowUpdating || editingOptions.allowDeleting) && editingOptions.mode === EDIT_MODE_BATCH\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing_cell_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport editingCellBasedModule from \"../grid_core/ui.grid_core.editing_cell_based\";\r\ngridCore.registerModule(\"editingCellBased\", editingCellBasedModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.validating.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getWidth,\r\n    getOuterHeight,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    createObjectWithChanges\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    deferUpdate,\r\n    equalByValue,\r\n    getKeyHash\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    focused\r\n} from \"../widget/selectors\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Button from \"../button\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport ValidationEngine from \"../validation_engine\";\r\nimport Validator from \"../validator\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    Deferred,\r\n    when,\r\n    fromPromise\r\n} from \"../../core/utils/deferred\";\r\nimport LoadIndicator from \"../load_indicator\";\r\nimport {\r\n    encodeHtml\r\n} from \"../../core/utils/string\";\r\nimport browser from \"../../core/utils/browser\";\r\nvar INVALIDATE_CLASS = \"invalid\";\r\nvar REVERT_TOOLTIP_CLASS = \"revert-tooltip\";\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar INVALID_MESSAGE_CLASS = \"dx-invalid-message\";\r\nvar WIDGET_INVALID_MESSAGE_CLASS = \"invalid-message\";\r\nvar INVALID_MESSAGE_ALWAYS_CLASS = \"dx-invalid-message-always\";\r\nvar REVERT_BUTTON_CLASS = \"dx-revert-button\";\r\nvar VALIDATOR_CLASS = \"validator\";\r\nvar PENDING_INDICATOR_CLASS = \"dx-pending-indicator\";\r\nvar VALIDATION_PENDING_CLASS = \"dx-validation-pending\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar INSERT_INDEX = \"__DX_INSERT_INDEX__\";\r\nvar PADDING_BETWEEN_TOOLTIPS = 2;\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_CELL = \"cell\";\r\nvar EDIT_MODE_POPUP = \"popup\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar FORM_BASED_MODES = [EDIT_MODE_POPUP, EDIT_MODE_FORM];\r\nvar COMMAND_TRANSPARENT = \"transparent\";\r\nvar VALIDATION_STATUS = {\r\n    valid: \"valid\",\r\n    invalid: \"invalid\",\r\n    pending: \"pending\"\r\n};\r\nvar EDIT_DATA_INSERT_TYPE = \"insert\";\r\nvar EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nvar VALIDATION_CANCELLED = \"cancel\";\r\nvar validationResultIsValid = function(result) {\r\n    return isDefined(result) && result !== VALIDATION_CANCELLED\r\n};\r\nvar cellValueShouldBeValidated = function(value, rowOptions) {\r\n    return void 0 !== value || void 0 === value && rowOptions && !rowOptions.isNewRow\r\n};\r\nvar ValidatingController = modules.Controller.inherit({\r\n    init: function() {\r\n        this._editingController = this.getController(\"editing\");\r\n        this.createAction(\"onRowValidating\");\r\n        if (!this._validationState) {\r\n            this.initValidationState()\r\n        }\r\n    },\r\n    initValidationState() {\r\n        this._validationState = [];\r\n        this._validationStateCache = {}\r\n    },\r\n    _rowIsValidated: function(change) {\r\n        var validationData = this._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n        return !!validationData && !!validationData.validated\r\n    },\r\n    _getValidationData: function(key, create) {\r\n        var keyHash = getKeyHash(key);\r\n        var isObjectKeyHash = isObject(keyHash);\r\n        var validationData;\r\n        if (isObjectKeyHash) {\r\n            validationData = this._validationState.filter(data => equalByValue(data.key, key))[0]\r\n        } else {\r\n            validationData = this._validationStateCache[keyHash]\r\n        }\r\n        if (!validationData && create) {\r\n            validationData = {\r\n                key: key,\r\n                isValid: true\r\n            };\r\n            this._validationState.push(validationData);\r\n            if (!isObjectKeyHash) {\r\n                this._validationStateCache[keyHash] = validationData\r\n            }\r\n        }\r\n        return validationData\r\n    },\r\n    _getBrokenRules: function(validationData, validationResults) {\r\n        var brokenRules;\r\n        if (validationResults) {\r\n            brokenRules = validationResults.brokenRules || validationResults.brokenRule && [validationResults.brokenRule]\r\n        } else {\r\n            brokenRules = validationData.brokenRules || []\r\n        }\r\n        return brokenRules\r\n    },\r\n    _rowValidating: function(validationData, validationResults) {\r\n        var deferred = new Deferred;\r\n        var change = this._editingController.getChangeByKey(null === validationData || void 0 === validationData ? void 0 : validationData.key);\r\n        var brokenRules = this._getBrokenRules(validationData, validationResults);\r\n        var isValid = validationResults ? validationResults.isValid : validationData.isValid;\r\n        var parameters = {\r\n            brokenRules: brokenRules,\r\n            isValid: isValid,\r\n            key: change.key,\r\n            newData: change.data,\r\n            oldData: this._editingController._getOldData(change.key),\r\n            promise: null,\r\n            errorText: this.getHiddenValidatorsErrorText(brokenRules)\r\n        };\r\n        this.executeAction(\"onRowValidating\", parameters);\r\n        when(fromPromise(parameters.promise)).always((function() {\r\n            validationData.isValid = parameters.isValid;\r\n            validationData.errorText = parameters.errorText;\r\n            deferred.resolve(parameters)\r\n        }));\r\n        return deferred.promise()\r\n    },\r\n    getHiddenValidatorsErrorText: function(brokenRules) {\r\n        var brokenRulesMessages = [];\r\n        each(brokenRules, (function(_, brokenRule) {\r\n            var column = brokenRule.column;\r\n            var isGroupExpandColumn = column && void 0 !== column.groupIndex && !column.showWhenGrouped;\r\n            var isVisibleColumn = column && column.visible;\r\n            if (!brokenRule.validator.$element().parent().length && (!isVisibleColumn || isGroupExpandColumn)) {\r\n                brokenRulesMessages.push(brokenRule.message)\r\n            }\r\n        }));\r\n        return brokenRulesMessages.join(\", \")\r\n    },\r\n    validate: function(isFull) {\r\n        var isValid = true;\r\n        var editingController = this._editingController;\r\n        var deferred = new Deferred;\r\n        var completeList = [];\r\n        var editMode = editingController.getEditMode();\r\n        isFull = isFull || editMode === EDIT_MODE_ROW;\r\n        if (this._isValidationInProgress) {\r\n            return deferred.resolve(false).promise()\r\n        }\r\n        this._isValidationInProgress = true;\r\n        if (isFull) {\r\n            editingController.addDeferred(deferred);\r\n            var changes = editingController.getChanges();\r\n            each(changes, (index, _ref) => {\r\n                var {\r\n                    type: type,\r\n                    key: key\r\n                } = _ref;\r\n                if (\"remove\" !== type) {\r\n                    var validationData = this._getValidationData(key, true);\r\n                    var validationResult = this.validateGroup(validationData);\r\n                    completeList.push(validationResult);\r\n                    validationResult.done(validationResult => {\r\n                        validationData.validated = true;\r\n                        isValid = isValid && validationResult.isValid\r\n                    })\r\n                }\r\n            })\r\n        } else if (this._currentCellValidator) {\r\n            var validationResult = this.validateGroup(this._currentCellValidator._findGroup());\r\n            completeList.push(validationResult);\r\n            validationResult.done(validationResult => {\r\n                isValid = validationResult.isValid\r\n            })\r\n        }\r\n        when(...completeList).done(() => {\r\n            this._isValidationInProgress = false;\r\n            deferred.resolve(isValid)\r\n        });\r\n        return deferred.promise()\r\n    },\r\n    validateGroup: function(validationData) {\r\n        var _validationResult;\r\n        var result = new Deferred;\r\n        var validateGroup = validationData && ValidationEngine.getGroupConfig(validationData);\r\n        var validationResult;\r\n        if (null !== validateGroup && void 0 !== validateGroup && validateGroup.validators.length) {\r\n            this.resetRowValidationResults(validationData);\r\n            validationResult = ValidationEngine.validateGroup(validationData)\r\n        }\r\n        when((null === (_validationResult = validationResult) || void 0 === _validationResult ? void 0 : _validationResult.complete) || validationResult).done(validationResult => {\r\n            when(this._rowValidating(validationData, validationResult)).done(result.resolve)\r\n        });\r\n        return result.promise()\r\n    },\r\n    isRowDataModified: change => !isEmptyObject(change.data),\r\n    updateValidationState: function(change) {\r\n        var editMode = this._editingController.getEditMode();\r\n        var key = change.key;\r\n        var validationData = this._getValidationData(key, true);\r\n        if (-1 === FORM_BASED_MODES.indexOf(editMode)) {\r\n            if (change.type === EDIT_DATA_INSERT_TYPE && !this.isRowDataModified(change)) {\r\n                validationData.isValid = true;\r\n                return\r\n            }\r\n            this.setDisableApplyValidationResults(true);\r\n            var groupConfig = ValidationEngine.getGroupConfig(validationData);\r\n            if (groupConfig) {\r\n                var validationResult = ValidationEngine.validateGroup(validationData);\r\n                when(validationResult.complete || validationResult).done(validationResult => {\r\n                    validationData.isValid = validationResult.isValid;\r\n                    validationData.brokenRules = validationResult.brokenRules\r\n                })\r\n            } else if (!validationData.brokenRules || !validationData.brokenRules.length) {\r\n                validationData.isValid = true\r\n            }\r\n            this.setDisableApplyValidationResults(false)\r\n        } else {\r\n            validationData.isValid = true\r\n        }\r\n    },\r\n    setValidator: function(validator) {\r\n        this._currentCellValidator = validator\r\n    },\r\n    renderCellPendingIndicator: function($container) {\r\n        var $indicator = $container.find(\".\" + PENDING_INDICATOR_CLASS);\r\n        if (!$indicator.length) {\r\n            var $indicatorContainer = $container;\r\n            $indicator = $(\"<div>\").appendTo($indicatorContainer).addClass(PENDING_INDICATOR_CLASS);\r\n            this._createComponent($indicator, LoadIndicator);\r\n            $container.addClass(VALIDATION_PENDING_CLASS)\r\n        }\r\n    },\r\n    disposeCellPendingIndicator: function($container) {\r\n        var $indicator = $container.find(\".\" + PENDING_INDICATOR_CLASS);\r\n        if ($indicator.length) {\r\n            var indicator = LoadIndicator.getInstance($indicator);\r\n            if (indicator) {\r\n                indicator.dispose();\r\n                indicator.$element().remove()\r\n            }\r\n            $container.removeClass(VALIDATION_PENDING_CLASS)\r\n        }\r\n    },\r\n    validationStatusChanged: function(result) {\r\n        var validator = result.validator;\r\n        var validationGroup = validator.option(\"validationGroup\");\r\n        var column = validator.option(\"dataGetter\")().column;\r\n        this.updateCellValidationResult({\r\n            rowKey: validationGroup.key,\r\n            columnIndex: column.index,\r\n            validationResult: result\r\n        })\r\n    },\r\n    validatorInitialized: function(arg) {\r\n        arg.component.on(\"validating\", this.validationStatusChanged.bind(this));\r\n        arg.component.on(\"validated\", this.validationStatusChanged.bind(this))\r\n    },\r\n    validatorDisposing: function(arg) {\r\n        var validator = arg.component;\r\n        var validationGroup = validator.option(\"validationGroup\");\r\n        var column = validator.option(\"dataGetter\")().column;\r\n        var result = this.getCellValidationResult({\r\n            rowKey: null === validationGroup || void 0 === validationGroup ? void 0 : validationGroup.key,\r\n            columnIndex: column.index\r\n        });\r\n        if (validationResultIsValid(result) && result.status === VALIDATION_STATUS.pending) {\r\n            this.cancelCellValidationResult({\r\n                change: validationGroup,\r\n                columnIndex: column.index\r\n            })\r\n        }\r\n    },\r\n    applyValidationResult: function($container, result) {\r\n        var validator = result.validator;\r\n        var validationGroup = validator.option(\"validationGroup\");\r\n        var column = validator.option(\"dataGetter\")().column;\r\n        result.brokenRules && result.brokenRules.forEach(rule => {\r\n            rule.columnIndex = column.index;\r\n            rule.column = column\r\n        });\r\n        if ($container) {\r\n            var validationResult = this.getCellValidationResult({\r\n                rowKey: validationGroup.key,\r\n                columnIndex: column.index\r\n            });\r\n            var requestIsDisabled = validationResultIsValid(validationResult) && validationResult.disabledPendingId === result.id;\r\n            if (this._disableApplyValidationResults || requestIsDisabled) {\r\n                return\r\n            }\r\n            if (result.status === VALIDATION_STATUS.invalid) {\r\n                var $focus = $container.find(\":focus\");\r\n                if (!focused($focus)) {\r\n                    eventsEngine.trigger($focus, \"focus\");\r\n                    eventsEngine.trigger($focus, pointerEvents.down)\r\n                }\r\n            }\r\n            var editor = !column.editCellTemplate && this.getController(\"editorFactory\").getEditorInstance($container);\r\n            if (result.status === VALIDATION_STATUS.pending) {\r\n                if (editor) {\r\n                    editor.option(\"validationStatus\", VALIDATION_STATUS.pending)\r\n                } else {\r\n                    this.renderCellPendingIndicator($container)\r\n                }\r\n            } else if (editor) {\r\n                editor.option(\"validationStatus\", VALIDATION_STATUS.valid)\r\n            } else {\r\n                this.disposeCellPendingIndicator($container)\r\n            }\r\n            $container.toggleClass(this.addWidgetPrefix(INVALIDATE_CLASS), result.status === VALIDATION_STATUS.invalid)\r\n        }\r\n    },\r\n    _syncInternalEditingData: function(parameters) {\r\n        var _parameters$row;\r\n        var editingController = this._editingController;\r\n        var change = editingController.getChangeByKey(parameters.key);\r\n        var oldDataFromState = editingController._getOldData(parameters.key);\r\n        var oldData = null === (_parameters$row = parameters.row) || void 0 === _parameters$row ? void 0 : _parameters$row.oldData;\r\n        if (change && oldData && !oldDataFromState) {\r\n            editingController._addInternalData({\r\n                key: parameters.key,\r\n                oldData: oldData\r\n            })\r\n        }\r\n    },\r\n    createValidator: function(parameters, $container) {\r\n        var editingController = this._editingController;\r\n        var column = parameters.column;\r\n        var showEditorAlways = column.showEditorAlways;\r\n        if (isDefined(column.command) || !column.validationRules || !Array.isArray(column.validationRules) || !column.validationRules.length) {\r\n            return\r\n        }\r\n        var editIndex = editingController.getIndexByKey(parameters.key, editingController.getChanges());\r\n        var needCreateValidator = editIndex > -1;\r\n        if (!needCreateValidator) {\r\n            if (!showEditorAlways) {\r\n                var columnsController = this.getController(\"columns\");\r\n                var visibleColumns = (null === columnsController || void 0 === columnsController ? void 0 : columnsController.getVisibleColumns()) || [];\r\n                showEditorAlways = visibleColumns.some((function(column) {\r\n                    return column.showEditorAlways\r\n                }))\r\n            }\r\n            var isEditRow = equalByValue(this.option(\"editing.editRowKey\"), parameters.key);\r\n            var isCellOrBatchEditingAllowed = editingController.isCellOrBatchEditMode() && editingController.allowUpdating({\r\n                row: parameters.row\r\n            });\r\n            needCreateValidator = isEditRow || isCellOrBatchEditingAllowed && showEditorAlways;\r\n            if (isCellOrBatchEditingAllowed && showEditorAlways) {\r\n                var _parameters$row$oldDa, _parameters$row2;\r\n                editingController._addInternalData({\r\n                    key: parameters.key,\r\n                    oldData: null !== (_parameters$row$oldDa = null === (_parameters$row2 = parameters.row) || void 0 === _parameters$row2 ? void 0 : _parameters$row2.oldData) && void 0 !== _parameters$row$oldDa ? _parameters$row$oldDa : parameters.data\r\n                })\r\n            }\r\n        }\r\n        if (needCreateValidator) {\r\n            if ($container && !$container.length) {\r\n                errors.log(\"E1050\");\r\n                return\r\n            }\r\n            this._syncInternalEditingData(parameters);\r\n            var validationData = this._getValidationData(parameters.key, true);\r\n            var getValue = () => {\r\n                var change = editingController.getChangeByKey(null === validationData || void 0 === validationData ? void 0 : validationData.key);\r\n                var value = column.calculateCellValue((null === change || void 0 === change ? void 0 : change.data) || {});\r\n                return void 0 !== value ? value : parameters.value\r\n            };\r\n            var useDefaultValidator = $container && $container.hasClass(\"dx-widget\");\r\n            $container && $container.addClass(this.addWidgetPrefix(VALIDATOR_CLASS));\r\n            var validator = new Validator($container || $(\"<div>\"), {\r\n                name: column.caption,\r\n                validationRules: extend(true, [], column.validationRules),\r\n                validationGroup: validationData,\r\n                adapter: useDefaultValidator ? null : {\r\n                    getValue: getValue,\r\n                    applyValidationResults: result => {\r\n                        this.applyValidationResult($container, result)\r\n                    }\r\n                },\r\n                dataGetter: function() {\r\n                    var key = null === validationData || void 0 === validationData ? void 0 : validationData.key;\r\n                    var change = editingController.getChangeByKey(key);\r\n                    var oldData = editingController._getOldData(key);\r\n                    return {\r\n                        data: createObjectWithChanges(oldData, null === change || void 0 === change ? void 0 : change.data),\r\n                        column: column\r\n                    }\r\n                },\r\n                onInitialized: this.validatorInitialized.bind(this),\r\n                onDisposing: this.validatorDisposing.bind(this)\r\n            });\r\n            if (useDefaultValidator) {\r\n                var adapter = validator.option(\"adapter\");\r\n                if (adapter) {\r\n                    adapter.getValue = getValue;\r\n                    adapter.validationRequestsCallbacks = [];\r\n                    adapter.bypass = () => parameters.row.isNewRow && !this._isValidationInProgress && !editingController.isCellModified(parameters)\r\n                }\r\n            }\r\n            return validator\r\n        }\r\n    },\r\n    setDisableApplyValidationResults: function(flag) {\r\n        this._disableApplyValidationResults = flag\r\n    },\r\n    getDisableApplyValidationResults: function() {\r\n        return this._disableApplyValidationResults\r\n    },\r\n    isCurrentValidatorProcessing: function(_ref2) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref2;\r\n        return this._currentCellValidator && equalByValue(this._currentCellValidator.option(\"validationGroup\").key, rowKey) && this._currentCellValidator.option(\"dataGetter\")().column.index === columnIndex\r\n    },\r\n    validateCell: function(validator) {\r\n        var cellParams = {\r\n            rowKey: validator.option(\"validationGroup\").key,\r\n            columnIndex: validator.option(\"dataGetter\")().column.index\r\n        };\r\n        var validationResult = this.getCellValidationResult(cellParams);\r\n        var stateRestored = validationResultIsValid(validationResult);\r\n        if (!stateRestored) {\r\n            validationResult = validator.validate()\r\n        }\r\n        var deferred = new Deferred;\r\n        var adapter = validator.option(\"adapter\");\r\n        if (stateRestored && validationResult.status === VALIDATION_STATUS.pending) {\r\n            this.updateCellValidationResult(cellParams);\r\n            adapter.applyValidationResults(validationResult)\r\n        }\r\n        when(validationResult.complete || validationResult).done(validationResult => {\r\n            stateRestored && adapter.applyValidationResults(validationResult);\r\n            deferred.resolve(validationResult)\r\n        });\r\n        return deferred.promise()\r\n    },\r\n    updateCellValidationResult: function(_ref3) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex,\r\n            validationResult: validationResult\r\n        } = _ref3;\r\n        var validationData = this._getValidationData(rowKey);\r\n        if (!validationData) {\r\n            return\r\n        }\r\n        if (!validationData.validationResults) {\r\n            validationData.validationResults = {}\r\n        }\r\n        var result;\r\n        if (validationResult) {\r\n            result = extend({}, validationResult);\r\n            validationData.validationResults[columnIndex] = result;\r\n            if (validationResult.status === VALIDATION_STATUS.pending) {\r\n                if (this._editingController.getEditMode() === EDIT_MODE_CELL) {\r\n                    result.deferred = new Deferred;\r\n                    result.complete.always(() => {\r\n                        result.deferred.resolve()\r\n                    });\r\n                    this._editingController.addDeferred(result.deferred)\r\n                }\r\n                if (this._disableApplyValidationResults) {\r\n                    result.disabledPendingId = validationResult.id;\r\n                    return\r\n                }\r\n            }\r\n        } else {\r\n            result = validationData.validationResults[columnIndex]\r\n        }\r\n        if (result && result.disabledPendingId) {\r\n            delete result.disabledPendingId\r\n        }\r\n    },\r\n    getCellValidationResult: function(_ref4) {\r\n        var _validationData$valid;\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref4;\r\n        var validationData = this._getValidationData(rowKey, true);\r\n        return null === validationData || void 0 === validationData ? void 0 : null === (_validationData$valid = validationData.validationResults) || void 0 === _validationData$valid ? void 0 : _validationData$valid[columnIndex]\r\n    },\r\n    removeCellValidationResult: function(_ref5) {\r\n        var {\r\n            change: change,\r\n            columnIndex: columnIndex\r\n        } = _ref5;\r\n        var validationData = this._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n        if (validationData && validationData.validationResults) {\r\n            this.cancelCellValidationResult({\r\n                change: change,\r\n                columnIndex: columnIndex\r\n            });\r\n            delete validationData.validationResults[columnIndex]\r\n        }\r\n    },\r\n    cancelCellValidationResult: function(_ref6) {\r\n        var {\r\n            change: change,\r\n            columnIndex: columnIndex\r\n        } = _ref6;\r\n        var validationData = this._getValidationData(change.key);\r\n        if (change && validationData.validationResults) {\r\n            var result = validationData.validationResults[columnIndex];\r\n            if (result) {\r\n                result.deferred && result.deferred.reject(VALIDATION_CANCELLED);\r\n                validationData.validationResults[columnIndex] = VALIDATION_CANCELLED\r\n            }\r\n        }\r\n    },\r\n    resetRowValidationResults: function(validationData) {\r\n        if (validationData) {\r\n            validationData.validationResults && delete validationData.validationResults;\r\n            delete validationData.validated\r\n        }\r\n    },\r\n    isInvalidCell: function(_ref7) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref7;\r\n        var result = this.getCellValidationResult({\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        });\r\n        return validationResultIsValid(result) && result.status === VALIDATION_STATUS.invalid\r\n    },\r\n    getCellValidator: function(_ref8) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref8;\r\n        var validationData = this._getValidationData(rowKey);\r\n        var groupConfig = validationData && ValidationEngine.getGroupConfig(validationData);\r\n        var validators = groupConfig && groupConfig.validators;\r\n        return validators && validators.filter(v => {\r\n            var column = v.option(\"dataGetter\")().column;\r\n            return column ? column.index === columnIndex : false\r\n        })[0]\r\n    },\r\n    setCellValidationStatus: function(cellOptions) {\r\n        var validationResult = this.getCellValidationResult({\r\n            rowKey: cellOptions.key,\r\n            columnIndex: cellOptions.column.index\r\n        });\r\n        if (isDefined(validationResult)) {\r\n            cellOptions.validationStatus = validationResult !== VALIDATION_CANCELLED ? validationResult.status : VALIDATION_CANCELLED\r\n        } else {\r\n            delete cellOptions.validationStatus\r\n        }\r\n    }\r\n});\r\nexport var validatingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            editing: {\r\n                texts: {\r\n                    validationCancelChanges: messageLocalization.format(\"dxDataGrid-validationCancelChanges\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        validating: ValidatingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                _addChange: function(changeParams) {\r\n                    var change = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (change && changeParams.type !== EDIT_DATA_REMOVE_TYPE) {\r\n                        validatingController.updateValidationState(change)\r\n                    }\r\n                    return change\r\n                },\r\n                _handleChangesChange: function(args) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    args.value.forEach(change => {\r\n                        if (void 0 === validatingController._getValidationData(change.key)) {\r\n                            validatingController.updateValidationState(change)\r\n                        }\r\n                    })\r\n                },\r\n                _updateRowAndPageIndices: function() {\r\n                    var that = this;\r\n                    var startInsertIndex = that.getView(\"rowsView\").getTopVisibleItemIndex();\r\n                    var rowIndex = startInsertIndex;\r\n                    each(that.getChanges(), (_, _ref9) => {\r\n                        var {\r\n                            key: key,\r\n                            type: type\r\n                        } = _ref9;\r\n                        var validationData = this.getController(\"validating\")._getValidationData(key);\r\n                        if (validationData && !validationData.isValid && validationData.pageIndex !== that._pageIndex) {\r\n                            validationData.pageIndex = that._pageIndex;\r\n                            if (type === EDIT_DATA_INSERT_TYPE) {\r\n                                validationData.rowIndex = startInsertIndex\r\n                            } else {\r\n                                validationData.rowIndex = rowIndex\r\n                            }\r\n                            rowIndex++\r\n                        }\r\n                    })\r\n                },\r\n                _getValidationGroupsInForm: function(detailOptions) {\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationData = validatingController._getValidationData(detailOptions.key, true);\r\n                    return {\r\n                        validationGroup: validationData\r\n                    }\r\n                },\r\n                _validateEditFormAfterUpdate: function(row, isCustomSetCellValue) {\r\n                    if (isCustomSetCellValue && this._editForm) {\r\n                        this._editForm.validate()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _prepareEditCell: function(params) {\r\n                    var isNotCanceled = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (isNotCanceled && params.column.showEditorAlways) {\r\n                        validatingController.updateValidationState({\r\n                            key: params.key\r\n                        })\r\n                    }\r\n                    return isNotCanceled\r\n                },\r\n                processItems: function(items, changeType) {\r\n                    var changes = this.getChanges();\r\n                    var dataController = this.getController(\"data\");\r\n                    var validatingController = this.getController(\"validating\");\r\n                    items = this.callBase(items, changeType);\r\n                    var itemsCount = items.length;\r\n                    var addInValidItem = function(change, validationData) {\r\n                        var data = {\r\n                            key: change.key\r\n                        };\r\n                        var index = function(change, items) {\r\n                            var index = -1;\r\n                            var isInsert = change.type === EDIT_DATA_INSERT_TYPE;\r\n                            var key = change.key;\r\n                            each(items, (function(i, item) {\r\n                                if (equalByValue(key, isInsert ? item.key : dataController.keyOf(item))) {\r\n                                    index = i;\r\n                                    return false\r\n                                }\r\n                            }));\r\n                            return index\r\n                        }(change, items);\r\n                        if (index >= 0) {\r\n                            return\r\n                        }\r\n                        validationData.rowIndex = validationData.rowIndex > itemsCount ? validationData.rowIndex % itemsCount : validationData.rowIndex;\r\n                        var rowIndex = validationData.rowIndex;\r\n                        data[INSERT_INDEX] = 1;\r\n                        items.splice(rowIndex, 0, data)\r\n                    };\r\n                    if (this.getEditMode() === EDIT_MODE_BATCH && \"prepend\" !== changeType && \"append\" !== changeType) {\r\n                        changes.forEach(change => {\r\n                            var key = change.key;\r\n                            var validationData = validatingController._getValidationData(key);\r\n                            if (validationData && change.type && validationData.pageIndex === this._pageIndex && (null === change || void 0 === change ? void 0 : change.pageIndex) !== this._pageIndex) {\r\n                                addInValidItem(change, validationData)\r\n                            }\r\n                        })\r\n                    }\r\n                    return items\r\n                },\r\n                processDataItem: function(item) {\r\n                    var isInserted = item.data[INSERT_INDEX];\r\n                    var key = isInserted ? item.data.key : item.key;\r\n                    var editMode = this.getEditMode();\r\n                    if (editMode === EDIT_MODE_BATCH && isInserted && key) {\r\n                        var changes = this.getChanges();\r\n                        var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n                        if (editIndex >= 0) {\r\n                            var change = changes[editIndex];\r\n                            if (change.type !== EDIT_DATA_INSERT_TYPE) {\r\n                                var oldData = this._getOldData(change.key);\r\n                                item.data = extend(true, {}, oldData, change.data);\r\n                                item.key = key\r\n                            }\r\n                        }\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _createInvisibleColumnValidators: function(changes) {\r\n                    var that = this;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var columns = columnsController.getColumns();\r\n                    var invisibleColumns = columnsController.getInvisibleColumns().filter(column => !column.isBand);\r\n                    var groupColumns = columnsController.getGroupColumns().filter(column => !column.showWhenGrouped && -1 === invisibleColumns.indexOf(column));\r\n                    var invisibleColumnValidators = [];\r\n                    var isCellVisible = (column, rowKey) => this._dataController.getRowIndexByKey(rowKey) >= 0 && invisibleColumns.indexOf(column) < 0;\r\n                    invisibleColumns.push(...groupColumns);\r\n                    if (-1 === FORM_BASED_MODES.indexOf(this.getEditMode())) {\r\n                        each(columns, (function(_, column) {\r\n                            changes.forEach((function(change) {\r\n                                var data;\r\n                                if (isCellVisible(column, change.key)) {\r\n                                    return\r\n                                }\r\n                                if (change.type === EDIT_DATA_INSERT_TYPE) {\r\n                                    data = change.data\r\n                                } else if (\"update\" === change.type) {\r\n                                    var oldData = that._getOldData(change.key);\r\n                                    data = createObjectWithChanges(oldData, change.data)\r\n                                }\r\n                                if (data) {\r\n                                    var validator = validatingController.createValidator({\r\n                                        column: column,\r\n                                        key: change.key,\r\n                                        value: column.calculateCellValue(data)\r\n                                    });\r\n                                    if (validator) {\r\n                                        invisibleColumnValidators.push(validator)\r\n                                    }\r\n                                }\r\n                            }))\r\n                        }))\r\n                    }\r\n                    return function() {\r\n                        invisibleColumnValidators.forEach((function(validator) {\r\n                            validator.dispose()\r\n                        }))\r\n                    }\r\n                },\r\n                _beforeSaveEditData: function(change, editIndex) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationData = validatingController._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n                    if (change) {\r\n                        var isValid = \"remove\" === change.type || validationData.isValid;\r\n                        result = result || !isValid\r\n                    } else {\r\n                        var disposeValidators = this._createInvisibleColumnValidators(this.getChanges());\r\n                        result = new Deferred;\r\n                        this.executeOperation(result, () => {\r\n                            validatingController.validate(true).done(isFullValid => {\r\n                                disposeValidators();\r\n                                this._updateRowAndPageIndices();\r\n                                switch (this.getEditMode()) {\r\n                                    case EDIT_MODE_CELL:\r\n                                        if (!isFullValid) {\r\n                                            this._focusEditingCell()\r\n                                        }\r\n                                        break;\r\n                                    case EDIT_MODE_BATCH:\r\n                                        if (!isFullValid) {\r\n                                            this._resetEditRowKey();\r\n                                            this._resetEditColumnName();\r\n                                            this.getController(\"data\").updateItems()\r\n                                        }\r\n                                }\r\n                                result.resolve(!isFullValid)\r\n                            })\r\n                        })\r\n                    }\r\n                    return result.promise ? result.promise() : result\r\n                },\r\n                _beforeEditCell: function(rowIndex, columnIndex, item) {\r\n                    var result = this.callBase(rowIndex, columnIndex, item);\r\n                    if (this.getEditMode() === EDIT_MODE_CELL) {\r\n                        var $cell = this._rowsView._getCellElement(rowIndex, columnIndex);\r\n                        var validator = $cell && $cell.data(\"dxValidator\");\r\n                        var rowOptions = $cell && $cell.closest(\".dx-row\").data(\"options\");\r\n                        var value = validator && validator.option(\"adapter\").getValue();\r\n                        if (validator && cellValueShouldBeValidated(value, rowOptions)) {\r\n                            var validatingController = this.getController(\"validating\");\r\n                            var deferred = new Deferred;\r\n                            when(validatingController.validateCell(validator), result).done((validationResult, result) => {\r\n                                deferred.resolve(validationResult.status === VALIDATION_STATUS.valid && result)\r\n                            });\r\n                            return deferred.promise()\r\n                        } else if (!validator) {\r\n                            return result\r\n                        }\r\n                    }\r\n                },\r\n                _afterSaveEditData: function(cancel) {\r\n                    var $firstErrorRow;\r\n                    var isCellEditMode = this.getEditMode() === EDIT_MODE_CELL;\r\n                    each(this.getChanges(), (_, change) => {\r\n                        var $errorRow = this._showErrorRow(change);\r\n                        $firstErrorRow = $firstErrorRow || $errorRow\r\n                    });\r\n                    if ($firstErrorRow) {\r\n                        var scrollable = this._rowsView.getScrollable();\r\n                        if (scrollable) {\r\n                            scrollable.update();\r\n                            scrollable.scrollToElement($firstErrorRow)\r\n                        }\r\n                    }\r\n                    if (cancel && isCellEditMode && this._needUpdateRow()) {\r\n                        var editRowIndex = this.getEditRowIndex();\r\n                        this._dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: [editRowIndex]\r\n                        });\r\n                        this._focusEditingCell()\r\n                    } else if (!cancel) {\r\n                        var shouldResetValidationState = true;\r\n                        if (isCellEditMode) {\r\n                            var columns = this.getController(\"columns\").getColumns();\r\n                            var columnsWithValidatingEditors = columns.filter(col => {\r\n                                var _col$validationRules;\r\n                                return col.showEditorAlways && (null === (_col$validationRules = col.validationRules) || void 0 === _col$validationRules ? void 0 : _col$validationRules.length) > 0\r\n                            }).length > 0;\r\n                            shouldResetValidationState = !columnsWithValidatingEditors\r\n                        }\r\n                        if (shouldResetValidationState) {\r\n                            this.getController(\"validating\").initValidationState()\r\n                        }\r\n                    }\r\n                },\r\n                _handleDataChanged: function(args) {\r\n                    var validationState = this.getController(\"validating\")._validationState;\r\n                    if (\"standard\" === this.option(\"scrolling.mode\")) {\r\n                        this.resetRowAndPageIndices()\r\n                    }\r\n                    if (\"prepend\" === args.changeType) {\r\n                        each(validationState, (function(_, validationData) {\r\n                            validationData.rowIndex += args.items.length\r\n                        }))\r\n                    }\r\n                    this.callBase(args)\r\n                },\r\n                resetRowAndPageIndices: function() {\r\n                    var validationState = this.getController(\"validating\")._validationState;\r\n                    each(validationState, (_, validationData) => {\r\n                        if (validationData.pageIndex !== this._pageIndex) {\r\n                            delete validationData.pageIndex;\r\n                            delete validationData.rowIndex\r\n                        }\r\n                    })\r\n                },\r\n                _beforeCancelEditData: function() {\r\n                    this.getController(\"validating\").initValidationState();\r\n                    this.callBase()\r\n                },\r\n                _showErrorRow: function(change) {\r\n                    var $popupContent;\r\n                    var errorHandling = this.getController(\"errorHandling\");\r\n                    var items = this.getController(\"data\").items();\r\n                    var rowIndex = this.getIndexByKey(change.key, items);\r\n                    var validationData = this.getController(\"validating\")._getValidationData(change.key);\r\n                    if (!(null !== validationData && void 0 !== validationData && validationData.isValid) && null !== validationData && void 0 !== validationData && validationData.errorText && rowIndex >= 0) {\r\n                        $popupContent = this.getPopupContent();\r\n                        return errorHandling && errorHandling.renderErrorRow(null === validationData || void 0 === validationData ? void 0 : validationData.errorText, rowIndex, $popupContent)\r\n                    }\r\n                },\r\n                updateFieldValue: function(e) {\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var deferred = new Deferred;\r\n                    validatingController.removeCellValidationResult({\r\n                        change: this.getChangeByKey(e.key),\r\n                        columnIndex: e.column.index\r\n                    });\r\n                    this.callBase.apply(this, arguments).done(() => {\r\n                        var currentValidator = validatingController.getCellValidator({\r\n                            rowKey: e.key,\r\n                            columnIndex: e.column.index\r\n                        });\r\n                        when(currentValidator && validatingController.validateCell(currentValidator)).done(validationResult => {\r\n                            this.getController(\"editorFactory\").refocus();\r\n                            deferred.resolve(validationResult)\r\n                        })\r\n                    });\r\n                    return deferred.promise()\r\n                },\r\n                highlightDataCell: function($cell, parameters) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    validatingController.setCellValidationStatus(parameters);\r\n                    var isEditableCell = !!parameters.setValue;\r\n                    var cellModified = this.isCellModified(parameters);\r\n                    var isValidated = isDefined(parameters.validationStatus);\r\n                    var needValidation = cellModified && parameters.column.setCellValue || isEditableCell && !cellModified && !(parameters.row.isNewRow || !isValidated);\r\n                    if (needValidation) {\r\n                        var validator = $cell.data(\"dxValidator\");\r\n                        if (validator) {\r\n                            when(this.getController(\"validating\").validateCell(validator)).done(() => {\r\n                                validatingController.setCellValidationStatus(parameters)\r\n                            })\r\n                        }\r\n                    }\r\n                },\r\n                getChangeByKey: function(key) {\r\n                    var changes = this.getChanges();\r\n                    return changes[gridCoreUtils.getIndexByKey(key, changes)]\r\n                },\r\n                isCellModified: function(parameters) {\r\n                    var cellModified = this.callBase(parameters);\r\n                    var change = this.getChangeByKey(parameters.key);\r\n                    var isCellInvalid = !!parameters.row && this.getController(\"validating\").isInvalidCell({\r\n                        rowKey: parameters.key,\r\n                        columnIndex: parameters.column.index\r\n                    });\r\n                    return cellModified || this.getController(\"validating\")._rowIsValidated(change) && isCellInvalid\r\n                }\r\n            },\r\n            editorFactory: {\r\n                _showRevertButton: function($container) {\r\n                    if (!$container || !$container.length) {\r\n                        return\r\n                    }\r\n                    var $tooltipElement = this._rowsView.element().find(\".\" + this.addWidgetPrefix(REVERT_TOOLTIP_CLASS));\r\n                    var $overlayContainer = $container.closest(\".\".concat(this.addWidgetPrefix(CONTENT_CLASS)));\r\n                    $tooltipElement && $tooltipElement.remove();\r\n                    $tooltipElement = $(\"<div>\").addClass(this.addWidgetPrefix(REVERT_TOOLTIP_CLASS)).appendTo($container);\r\n                    var tooltipOptions = {\r\n                        animation: null,\r\n                        visible: true,\r\n                        width: \"auto\",\r\n                        height: \"auto\",\r\n                        target: $container,\r\n                        shading: false,\r\n                        container: $overlayContainer,\r\n                        propagateOutsideClick: true,\r\n                        closeOnOutsideClick: false,\r\n                        copyRootClassesToWrapper: true,\r\n                        _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                        contentTemplate: () => {\r\n                            var $buttonElement = $(\"<div>\").addClass(REVERT_BUTTON_CLASS);\r\n                            var buttonOptions = {\r\n                                icon: \"revert\",\r\n                                hint: this.option(\"editing.texts.validationCancelChanges\"),\r\n                                onClick: () => {\r\n                                    this._editingController.cancelEditData()\r\n                                }\r\n                            };\r\n                            return new Button($buttonElement, buttonOptions).$element()\r\n                        },\r\n                        position: {\r\n                            my: \"left top\",\r\n                            at: \"right top\",\r\n                            offset: \"1 0\",\r\n                            collision: \"flip\",\r\n                            boundaryOffset: \"0 0\",\r\n                            boundary: this._rowsView.element()\r\n                        },\r\n                        onPositioned: this._positionedHandler.bind(this)\r\n                    };\r\n                    return new Overlay($tooltipElement, tooltipOptions)\r\n                },\r\n                _hideFixedGroupCell: function($cell, overlayOptions) {\r\n                    var $nextFixedRowElement;\r\n                    var $groupCellElement;\r\n                    var isFixedColumns = this._rowsView.isFixedColumns();\r\n                    var isFormOrPopupEditMode = this._editingController.isFormOrPopupEditMode();\r\n                    if (isFixedColumns && !isFormOrPopupEditMode) {\r\n                        var nextRowOptions = $cell.closest(\".dx-row\").next().data(\"options\");\r\n                        if (nextRowOptions && \"group\" === nextRowOptions.rowType) {\r\n                            $nextFixedRowElement = $(this._rowsView.getRowElement(nextRowOptions.rowIndex)).last();\r\n                            $groupCellElement = $nextFixedRowElement.find(\".\" + GROUP_CELL_CLASS);\r\n                            if ($groupCellElement.length && \"hidden\" !== $groupCellElement.get(0).style.visibility) {\r\n                                $groupCellElement.css(\"visibility\", \"hidden\");\r\n                                overlayOptions.onDisposing = function() {\r\n                                    $groupCellElement.css(\"visibility\", \"\")\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _positionedHandler: function(e, isOverlayVisible) {\r\n                    if (!e.component.__skipPositionProcessing) {\r\n                        var isRevertButton = $(e.element).hasClass(this.addWidgetPrefix(REVERT_TOOLTIP_CLASS));\r\n                        var needRepaint = !isRevertButton && this._rowsView.updateFreeSpaceRowHeight();\r\n                        var normalizedPosition = this._normalizeValidationMessagePositionAndMaxWidth(e, isRevertButton, isOverlayVisible);\r\n                        e.component.__skipPositionProcessing = !!(needRepaint || normalizedPosition);\r\n                        if (normalizedPosition) {\r\n                            e.component.option(normalizedPosition)\r\n                        } else if (needRepaint) {\r\n                            e.component.repaint()\r\n                        }\r\n                    }\r\n                },\r\n                _showValidationMessage: function($cell, messages, alignment, revertTooltip) {\r\n                    var editorPopup = $cell.find(\".dx-dropdowneditor-overlay\").data(\"dxPopup\");\r\n                    var isOverlayVisible = editorPopup && editorPopup.option(\"visible\");\r\n                    var myPosition = isOverlayVisible ? \"top right\" : \"top \" + alignment;\r\n                    var atPosition = isOverlayVisible ? \"top left\" : \"bottom \" + alignment;\r\n                    var $overlayContainer = $cell.closest(\".\".concat(this.addWidgetPrefix(CONTENT_CLASS)));\r\n                    var errorMessageText = \"\";\r\n                    messages && messages.forEach((function(message) {\r\n                        errorMessageText += (errorMessageText.length ? \"<br/>\" : \"\") + encodeHtml(message)\r\n                    }));\r\n                    var invalidMessageClass = this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS);\r\n                    this._rowsView.element().find(\".\" + invalidMessageClass).remove();\r\n                    var $overlayElement = $(\"<div>\").addClass(INVALID_MESSAGE_CLASS).addClass(INVALID_MESSAGE_ALWAYS_CLASS).addClass(invalidMessageClass).html(errorMessageText).appendTo($cell);\r\n                    var overlayOptions = {\r\n                        target: $cell,\r\n                        container: $overlayContainer,\r\n                        shading: false,\r\n                        width: \"auto\",\r\n                        height: \"auto\",\r\n                        visible: true,\r\n                        animation: false,\r\n                        propagateOutsideClick: true,\r\n                        closeOnOutsideClick: false,\r\n                        copyRootClassesToWrapper: true,\r\n                        _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                        position: {\r\n                            collision: \"flip\",\r\n                            boundary: this._rowsView.element(),\r\n                            boundaryOffset: \"0 0\",\r\n                            offset: {\r\n                                x: 0,\r\n                                y: !isOverlayVisible && browser.mozilla ? -1 : 0\r\n                            },\r\n                            my: myPosition,\r\n                            at: atPosition\r\n                        },\r\n                        onPositioned: e => {\r\n                            this._positionedHandler(e, isOverlayVisible);\r\n                            this._shiftValidationMessageIfNeed(e.component.$content(), revertTooltip && revertTooltip.$content(), $cell)\r\n                        }\r\n                    };\r\n                    this._hideFixedGroupCell($cell, overlayOptions);\r\n                    new Overlay($overlayElement, overlayOptions)\r\n                },\r\n                _normalizeValidationMessagePositionAndMaxWidth: function(options, isRevertButton, isOverlayVisible) {\r\n                    var fixedColumns = this._columnsController.getFixedColumns();\r\n                    if (!fixedColumns || !fixedColumns.length) {\r\n                        return\r\n                    }\r\n                    var position;\r\n                    var visibleTableWidth = !isRevertButton && (that = this, element = options.element, rowIndex = $(element).closest(\"tr\").index(), $cellElements = $(that._rowsView.getRowElement(rowIndex)).first().children().filter(\":not(.dx-hidden-cell)\"), that._rowsView._getWidths($cellElements).reduce((w1, w2) => w1 + w2, 0));\r\n                    var that, element, rowIndex, $cellElements;\r\n                    var $overlayContentElement = options.component.$content();\r\n                    var validationMessageWidth = getOuterWidth($overlayContentElement, true);\r\n                    var needMaxWidth = !isRevertButton && validationMessageWidth > visibleTableWidth;\r\n                    var columnIndex = this._rowsView.getCellIndex($(options.element).closest(\"td\"));\r\n                    var boundaryNonFixedColumnsInfo = function(fixedColumns) {\r\n                        var firstNonFixedColumnIndex;\r\n                        var lastNonFixedColumnIndex;\r\n                        fixedColumns.some((column, index) => {\r\n                            if (column.command === COMMAND_TRANSPARENT) {\r\n                                firstNonFixedColumnIndex = 0 === index ? -1 : index;\r\n                                lastNonFixedColumnIndex = index === fixedColumns.length - 1 ? -1 : index + column.colspan - 1;\r\n                                return true\r\n                            }\r\n                        });\r\n                        return {\r\n                            startColumnIndex: firstNonFixedColumnIndex,\r\n                            endColumnIndex: lastNonFixedColumnIndex\r\n                        }\r\n                    }(fixedColumns);\r\n                    if (!isRevertButton && (columnIndex === boundaryNonFixedColumnsInfo.startColumnIndex || needMaxWidth)) {\r\n                        position = {\r\n                            collision: \"none flip\",\r\n                            my: \"top left\",\r\n                            at: isOverlayVisible ? \"top right\" : \"bottom left\"\r\n                        }\r\n                    } else if (columnIndex === boundaryNonFixedColumnsInfo.endColumnIndex) {\r\n                        position = {\r\n                            collision: \"none flip\",\r\n                            my: \"top right\",\r\n                            at: isRevertButton || isOverlayVisible ? \"top left\" : \"bottom right\"\r\n                        };\r\n                        if (isRevertButton) {\r\n                            position.offset = \"-1 0\"\r\n                        }\r\n                    }\r\n                    return position && {\r\n                        position: position,\r\n                        maxWidth: needMaxWidth ? visibleTableWidth - 2 : void 0\r\n                    }\r\n                },\r\n                _shiftValidationMessageIfNeed: function($content, $revertContent, $cell) {\r\n                    if (!$revertContent) {\r\n                        return\r\n                    }\r\n                    var contentOffset = $content.offset();\r\n                    var revertContentOffset = $revertContent.offset();\r\n                    if (contentOffset.top === revertContentOffset.top && contentOffset.left + getWidth($content) > revertContentOffset.left) {\r\n                        var left = getWidth($revertContent) + PADDING_BETWEEN_TOOLTIPS;\r\n                        $content.css(\"left\", revertContentOffset.left < $cell.offset().left ? -left : left)\r\n                    }\r\n                },\r\n                _getTooltipsSelector: function() {\r\n                    var invalidMessageClass = this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS);\r\n                    var revertTooltipClass = this.addWidgetPrefix(REVERT_TOOLTIP_CLASS);\r\n                    return \".dx-editor-cell .\" + revertTooltipClass + \", .dx-editor-cell .\" + invalidMessageClass + \", .dx-cell-modified .\" + invalidMessageClass\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this._columnsController = this.getController(\"columns\");\r\n                    this._rowsView = this.getView(\"rowsView\")\r\n                },\r\n                loseFocus: function(skipValidator) {\r\n                    if (!skipValidator) {\r\n                        this.getController(\"validating\").setValidator(null)\r\n                    }\r\n                    this.callBase()\r\n                },\r\n                updateCellState: function($element, validationResult, hideBorder) {\r\n                    var _change$data;\r\n                    var $focus = null === $element || void 0 === $element ? void 0 : $element.closest(this._getFocusCellSelector());\r\n                    var $cell = null !== $focus && void 0 !== $focus && $focus.is(\"td\") ? $focus : null;\r\n                    var rowOptions = null === $focus || void 0 === $focus ? void 0 : $focus.closest(\".dx-row\").data(\"options\");\r\n                    var change = rowOptions ? this.getController(\"editing\").getChangeByKey(rowOptions.key) : null;\r\n                    var column = $cell && this.getController(\"columns\").getVisibleColumns()[$cell.index()];\r\n                    var isCellModified = void 0 !== (null === change || void 0 === change ? void 0 : null === (_change$data = change.data) || void 0 === _change$data ? void 0 : _change$data[null === column || void 0 === column ? void 0 : column.name]) && !this._editingController.isSaving();\r\n                    var revertTooltip;\r\n                    if ((null === validationResult || void 0 === validationResult ? void 0 : validationResult.status) === VALIDATION_STATUS.invalid || isCellModified) {\r\n                        if (this._editingController.getEditMode() === EDIT_MODE_CELL) {\r\n                            revertTooltip = this._showRevertButton($focus)\r\n                        }\r\n                    }\r\n                    var showValidationMessage = validationResult && validationResult.status === VALIDATION_STATUS.invalid;\r\n                    if (showValidationMessage && $cell && column && validationResult && validationResult.brokenRules) {\r\n                        var errorMessages = [];\r\n                        validationResult.brokenRules.forEach((function(rule) {\r\n                            if (rule.message) {\r\n                                errorMessages.push(rule.message)\r\n                            }\r\n                        }));\r\n                        if (errorMessages.length) {\r\n                            this._showValidationMessage($focus, errorMessages, column.alignment || \"left\", revertTooltip)\r\n                        }\r\n                    }!hideBorder && this._rowsView.element() && this._rowsView.updateFreeSpaceRowHeight()\r\n                },\r\n                focus: function($element, hideBorder) {\r\n                    if (!arguments.length) {\r\n                        return this.callBase()\r\n                    }\r\n                    var $tooltips = $element && $element.closest(\".\" + this.addWidgetPrefix(ROWS_VIEW_CLASS)).find(this._getTooltipsSelector());\r\n                    $tooltips && $tooltips.remove();\r\n                    if (null !== $element && void 0 !== $element && $element.hasClass(\"dx-row\")) {\r\n                        return this.callBase($element, hideBorder)\r\n                    }\r\n                    var $focus = null === $element || void 0 === $element ? void 0 : $element.closest(this._getFocusCellSelector());\r\n                    var callBase = this.callBase;\r\n                    var validator = $focus && ($focus.data(\"dxValidator\") || $element.find(\".\" + this.addWidgetPrefix(VALIDATOR_CLASS)).eq(0).data(\"dxValidator\"));\r\n                    var rowOptions = $focus && $focus.closest(\".dx-row\").data(\"options\");\r\n                    var editingController = this.getController(\"editing\");\r\n                    var change = rowOptions ? editingController.getChangeByKey(rowOptions.key) : null;\r\n                    var validationResult;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (validator) {\r\n                        validatingController.setValidator(validator);\r\n                        var value = validator.option(\"adapter\").getValue();\r\n                        if (cellValueShouldBeValidated(value, rowOptions) || validatingController._rowIsValidated(change)) {\r\n                            editingController.waitForDeferredOperations().done(() => {\r\n                                when(validatingController.validateCell(validator)).done(result => {\r\n                                    validationResult = result;\r\n                                    var column = validationResult.validator.option(\"dataGetter\")().column;\r\n                                    if (change && column && !validatingController.isCurrentValidatorProcessing({\r\n                                            rowKey: change.key,\r\n                                            columnIndex: column.index\r\n                                        })) {\r\n                                        return\r\n                                    }\r\n                                    if (validationResult.status === VALIDATION_STATUS.invalid) {\r\n                                        hideBorder = true\r\n                                    }\r\n                                    this.updateCellState($element, validationResult, hideBorder);\r\n                                    callBase.call(this, $element, hideBorder)\r\n                                })\r\n                            });\r\n                            return this.callBase($element, hideBorder)\r\n                        }\r\n                    }\r\n                    this.updateCellState($element, validationResult, hideBorder);\r\n                    return this.callBase($element, hideBorder)\r\n                },\r\n                getEditorInstance: function($container) {\r\n                    var $editor = $container.find(\".dx-texteditor\").eq(0);\r\n                    return gridCoreUtils.getWidgetInstance($editor)\r\n                }\r\n            },\r\n            data: {\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    var _oldRow$cells, _cell$column$validati;\r\n                    var cell = null === (_oldRow$cells = oldRow.cells) || void 0 === _oldRow$cells ? void 0 : _oldRow$cells[columnIndex];\r\n                    var oldValidationStatus = cell && cell.validationStatus;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationResult = validatingController.getCellValidationResult({\r\n                        rowKey: oldRow.key,\r\n                        columnIndex: columnIndex\r\n                    });\r\n                    var validationData = validatingController._getValidationData(oldRow.key);\r\n                    var newValidationStatus = validationResultIsValid(validationResult) ? validationResult.status : validationResult;\r\n                    var rowIsModified = JSON.stringify(newRow.modifiedValues) !== JSON.stringify(oldRow.modifiedValues);\r\n                    var cellIsMarkedAsInvalid = $(null === cell || void 0 === cell ? void 0 : cell.cellElement).hasClass(this.addWidgetPrefix(INVALIDATE_CLASS));\r\n                    var editingChanged = oldRow.isEditing !== newRow.isEditing;\r\n                    var hasValidationRules = null === cell || void 0 === cell ? void 0 : null === (_cell$column$validati = cell.column.validationRules) || void 0 === _cell$column$validati ? void 0 : _cell$column$validati.length;\r\n                    if (editingChanged && hasValidationRules || oldValidationStatus !== newValidationStatus && rowIsModified || validationData.isValid && cellIsMarkedAsInvalid) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                updateFreeSpaceRowHeight: function($table) {\r\n                    var $rowElements;\r\n                    var $freeSpaceRowElement;\r\n                    var $freeSpaceRowElements;\r\n                    var $element = this.element();\r\n                    var $tooltipContent = $element && $element.find(\".\" + this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS) + \" .dx-overlay-content\");\r\n                    this.callBase($table);\r\n                    if ($tooltipContent && $tooltipContent.length) {\r\n                        $rowElements = this._getRowElements();\r\n                        $freeSpaceRowElements = this._getFreeSpaceRowElements($table);\r\n                        $freeSpaceRowElement = $freeSpaceRowElements.first();\r\n                        if ($freeSpaceRowElement && 1 === $rowElements.length && (!$freeSpaceRowElement.is(\":visible\") || getOuterHeight($tooltipContent) > getOuterHeight($freeSpaceRowElement))) {\r\n                            $freeSpaceRowElements.show();\r\n                            setHeight($freeSpaceRowElements, getOuterHeight($tooltipContent));\r\n                            return true\r\n                        }\r\n                    }\r\n                },\r\n                _formItemPrepared: function(cellOptions, $container) {\r\n                    this.callBase.apply(this, arguments);\r\n                    deferUpdate(() => {\r\n                        var $editor = $container.find(\".dx-widget\").first();\r\n                        var isEditorDisposed = $editor.length && !$editor.children().length;\r\n                        if (!isEditorDisposed) {\r\n                            this.getController(\"validating\").createValidator(cellOptions, $editor)\r\n                        }\r\n                    })\r\n                },\r\n                _cellPrepared: function($cell, parameters) {\r\n                    if (!this.getController(\"editing\").isFormOrPopupEditMode()) {\r\n                        this.getController(\"validating\").createValidator(parameters, $cell)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _restoreErrorRow: function(contentTable) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    editingController && editingController.hasChanges() && this._getRowElements(contentTable).each((_, item) => {\r\n                        var rowOptions = $(item).data(\"options\");\r\n                        if (rowOptions) {\r\n                            var change = editingController.getChangeByKey(rowOptions.key);\r\n                            change && editingController._showErrorRow(change)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.validating.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    validatingModule\r\n} from \"../grid_core/ui.grid_core.validating\";\r\ngridCore.registerModule(\"validating\", validatingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid.core.virtual_data_loader.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isObject,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar needTwoPagesLoading = that => that.option(\"scrolling.loadTwoPagesOnStart\") || that._controller.isVirtual() || that._controller.getViewportItemIndex() > 0;\r\nvar getBeginPageIndex = that => that._cache.length ? that._cache[0].pageIndex : -1;\r\nvar getEndPageIndex = that => that._cache.length ? that._cache[that._cache.length - 1].pageIndex : -1;\r\nvar fireChanged = (that, changed, args) => {\r\n    that._isChangedFiring = true;\r\n    changed(args);\r\n    that._isChangedFiring = false\r\n};\r\nvar processDelayChanged = (that, changed, args) => {\r\n    if (that._isDelayChanged) {\r\n        that._isDelayChanged = false;\r\n        fireChanged(that, changed, args);\r\n        return true\r\n    }\r\n};\r\nvar getViewportPageCount = that => {\r\n    var pageSize = that._dataOptions.pageSize();\r\n    var preventPreload = that.option(\"scrolling.preventPreload\");\r\n    if (preventPreload) {\r\n        return 0\r\n    }\r\n    var realViewportSize = that._controller.viewportSize();\r\n    if (that._controller.isVirtualMode() && that.option(\"scrolling.removeInvisiblePages\")) {\r\n        realViewportSize = 0;\r\n        var viewportSize = that._controller.viewportSize() * that._controller.viewportItemSize();\r\n        var offset = that._controller.getContentOffset();\r\n        var position = that._controller.getViewportPosition();\r\n        var virtualItemsCount = that._controller.virtualItemsCount();\r\n        var totalItemsCount = that._dataOptions.totalItemsCount();\r\n        for (var itemIndex = virtualItemsCount.begin; itemIndex < totalItemsCount; itemIndex++) {\r\n            if (offset >= position + viewportSize) {\r\n                break\r\n            }\r\n            var itemSize = that._controller.getItemSizes()[itemIndex] || that._controller.viewportItemSize();\r\n            offset += itemSize;\r\n            if (offset >= position) {\r\n                realViewportSize++\r\n            }\r\n        }\r\n    }\r\n    return pageSize && realViewportSize > 0 ? Math.ceil(realViewportSize / pageSize) : 1\r\n};\r\nvar getPreloadPageCount = (that, previous) => {\r\n    var preloadEnabled = that.option(\"scrolling.preloadEnabled\");\r\n    var pageCount = getViewportPageCount(that);\r\n    var isAppendMode = that._controller.isAppendMode();\r\n    if (pageCount) {\r\n        if (previous) {\r\n            pageCount = preloadEnabled ? 1 : 0\r\n        } else {\r\n            if (preloadEnabled) {\r\n                pageCount++\r\n            }\r\n            if (isAppendMode || !needTwoPagesLoading(that)) {\r\n                pageCount--\r\n            }\r\n        }\r\n    }\r\n    return pageCount\r\n};\r\nvar getPageIndexForLoad = that => {\r\n    var result = -1;\r\n    var beginPageIndex = getBeginPageIndex(that);\r\n    var dataOptions = that._dataOptions;\r\n    if (beginPageIndex < 0) {\r\n        result = that._pageIndex\r\n    } else if (!that._cache[that._pageIndex - beginPageIndex]) {\r\n        result = that._pageIndex\r\n    } else if (beginPageIndex >= 0 && that._controller.viewportSize() >= 0) {\r\n        if (beginPageIndex > 0) {\r\n            var needToLoadPageBeforeLast = getEndPageIndex(that) + 1 === dataOptions.pageCount() && that._cache.length < getPreloadPageCount(that) + 1;\r\n            var needToLoadPrevPage = needToLoadPageBeforeLast || that._pageIndex === beginPageIndex && getPreloadPageCount(that, true);\r\n            if (needToLoadPrevPage) {\r\n                result = beginPageIndex - 1\r\n            }\r\n        }\r\n        if (result < 0) {\r\n            var needToLoadNextPage = beginPageIndex + that._cache.length <= that._pageIndex + getPreloadPageCount(that);\r\n            if (needToLoadNextPage) {\r\n                result = beginPageIndex + that._cache.length\r\n            }\r\n        }\r\n    }\r\n    if (that._loadingPageIndexes[result]) {\r\n        result = -1\r\n    }\r\n    return result\r\n};\r\nvar loadCore = (that, pageIndex) => {\r\n    var dataOptions = that._dataOptions;\r\n    if (pageIndex === that.pageIndex() || !dataOptions.isLoading() && pageIndex < dataOptions.pageCount() || !dataOptions.hasKnownLastPage() && pageIndex === dataOptions.pageCount()) {\r\n        dataOptions.pageIndex(pageIndex);\r\n        that._loadingPageIndexes[pageIndex] = true;\r\n        return when(dataOptions.load()).always(() => {\r\n            that._loadingPageIndexes[pageIndex] = false\r\n        })\r\n    }\r\n};\r\nvar processChanged = (that, changed, changeType, isDelayChanged, removeCacheItem) => {\r\n    var dataOptions = that._dataOptions;\r\n    var items = dataOptions.items().slice();\r\n    var change = isObject(changeType) ? changeType : void 0;\r\n    var isPrepend = \"prepend\" === changeType;\r\n    var viewportItems = dataOptions.viewportItems();\r\n    if (changeType && isString(changeType) && !that._isDelayChanged) {\r\n        change = {\r\n            changeType: changeType,\r\n            items: items\r\n        };\r\n        if (removeCacheItem) {\r\n            change.removeCount = removeCacheItem.itemsCount;\r\n            if (change.removeCount && dataOptions.correctCount) {\r\n                change.removeCount = dataOptions.correctCount(viewportItems, change.removeCount, isPrepend)\r\n            }\r\n        }\r\n    }\r\n    var removeItemCount = removeCacheItem ? removeCacheItem.itemsLength : 0;\r\n    if (removeItemCount && dataOptions.correctCount) {\r\n        removeItemCount = dataOptions.correctCount(viewportItems, removeItemCount, isPrepend)\r\n    }\r\n    if (\"append\" === changeType) {\r\n        viewportItems.push.apply(viewportItems, items);\r\n        if (removeCacheItem) {\r\n            viewportItems.splice(0, removeItemCount)\r\n        }\r\n    } else if (isPrepend) {\r\n        viewportItems.unshift.apply(viewportItems, items);\r\n        if (removeCacheItem) {\r\n            viewportItems.splice(-removeItemCount)\r\n        }\r\n    } else {\r\n        that._dataOptions.viewportItems(items)\r\n    }\r\n    dataOptions.updateLoading();\r\n    that._lastPageIndex = that.pageIndex();\r\n    that._isDelayChanged = isDelayChanged;\r\n    if (!isDelayChanged) {\r\n        fireChanged(that, changed, change)\r\n    }\r\n};\r\nexport class VirtualDataLoader {\r\n    constructor(controller, dataOptions) {\r\n        this._controller = controller;\r\n        this._dataOptions = dataOptions;\r\n        this._pageIndex = this._lastPageIndex = dataOptions.pageIndex();\r\n        this._cache = [];\r\n        this._loadingPageIndexes = {}\r\n    }\r\n    option() {\r\n        return this._controller.option.apply(this._controller, arguments)\r\n    }\r\n    viewportItemIndexChanged(itemIndex) {\r\n        var pageSize = this._dataOptions.pageSize();\r\n        var pageCount = this._dataOptions.pageCount();\r\n        var virtualMode = this._controller.isVirtualMode();\r\n        var appendMode = this._controller.isAppendMode();\r\n        var totalItemsCount = this._dataOptions.totalItemsCount();\r\n        var newPageIndex;\r\n        if (pageSize && (virtualMode || appendMode) && totalItemsCount >= 0) {\r\n            var viewportSize = this._controller.viewportSize();\r\n            if (viewportSize && itemIndex + viewportSize >= totalItemsCount && !this._controller.isVirtual()) {\r\n                if (this._dataOptions.hasKnownLastPage()) {\r\n                    newPageIndex = pageCount - 1;\r\n                    var lastPageSize = totalItemsCount % pageSize;\r\n                    if (newPageIndex > 0 && lastPageSize > 0 && lastPageSize < viewportSize) {\r\n                        newPageIndex--\r\n                    }\r\n                } else {\r\n                    newPageIndex = pageCount\r\n                }\r\n            } else {\r\n                newPageIndex = Math.floor(itemIndex / pageSize);\r\n                var maxPageIndex = pageCount - 1;\r\n                newPageIndex = Math.max(newPageIndex, 0);\r\n                newPageIndex = Math.min(newPageIndex, maxPageIndex)\r\n            }\r\n            this.pageIndex(newPageIndex);\r\n            return this.load()\r\n        }\r\n    }\r\n    pageIndex(pageIndex) {\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if (false !== this.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            if (void 0 !== pageIndex) {\r\n                this._pageIndex = pageIndex\r\n            }\r\n            return this._pageIndex\r\n        } else {\r\n            return this._dataOptions.pageIndex(pageIndex)\r\n        }\r\n    }\r\n    beginPageIndex(defaultPageIndex) {\r\n        var beginPageIndex = getBeginPageIndex(this);\r\n        if (beginPageIndex < 0) {\r\n            beginPageIndex = void 0 !== defaultPageIndex ? defaultPageIndex : this.pageIndex()\r\n        }\r\n        return beginPageIndex\r\n    }\r\n    endPageIndex() {\r\n        var endPageIndex = getEndPageIndex(this);\r\n        return endPageIndex > 0 ? endPageIndex : this._lastPageIndex\r\n    }\r\n    pageSize() {\r\n        return this._dataOptions.pageSize()\r\n    }\r\n    load() {\r\n        var dataOptions = this._dataOptions;\r\n        var result;\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if (false !== this.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            var pageIndexForLoad = getPageIndexForLoad(this);\r\n            if (pageIndexForLoad >= 0) {\r\n                var loadResult = loadCore(this, pageIndexForLoad);\r\n                if (loadResult) {\r\n                    result = new Deferred;\r\n                    loadResult.done(() => {\r\n                        var delayDeferred = this._delayDeferred;\r\n                        if (delayDeferred) {\r\n                            delayDeferred.done(result.resolve).fail(result.reject)\r\n                        } else {\r\n                            result.resolve()\r\n                        }\r\n                    }).fail(result.reject);\r\n                    dataOptions.updateLoading()\r\n                }\r\n            }\r\n        } else {\r\n            result = dataOptions.load()\r\n        }\r\n        if (!result && this._lastPageIndex !== this.pageIndex()) {\r\n            this._dataOptions.onChanged({\r\n                changeType: \"pageIndex\"\r\n            })\r\n        }\r\n        return result || (new Deferred).resolve()\r\n    }\r\n    loadIfNeed() {\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if ((isVirtualMode || isAppendMode) && !this._dataOptions.isLoading() && (!this._isChangedFiring || this._controller.isVirtual())) {\r\n            var position = this._controller.getViewportPosition();\r\n            if (position > 0) {\r\n                this._controller._setViewportPositionCore(position)\r\n            } else {\r\n                this.load()\r\n            }\r\n        }\r\n    }\r\n    handleDataChanged(callBase, e) {\r\n        var dataOptions = this._dataOptions;\r\n        var lastCacheLength = this._cache.length;\r\n        var changeType;\r\n        var removeInvisiblePages;\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if (e && e.changes) {\r\n            fireChanged(this, callBase, e)\r\n        } else if (false !== this.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            var beginPageIndex = getBeginPageIndex(this);\r\n            if (beginPageIndex >= 0) {\r\n                if (isVirtualMode && beginPageIndex + this._cache.length !== dataOptions.pageIndex() && beginPageIndex - 1 !== dataOptions.pageIndex()) {\r\n                    lastCacheLength = 0;\r\n                    this._cache = []\r\n                }\r\n                if (isAppendMode) {\r\n                    if (0 === dataOptions.pageIndex()) {\r\n                        this._cache = []\r\n                    } else if (dataOptions.pageIndex() < getEndPageIndex(this)) {\r\n                        fireChanged(this, callBase, {\r\n                            changeType: \"append\",\r\n                            items: []\r\n                        });\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n            var cacheItem = {\r\n                pageIndex: dataOptions.pageIndex(),\r\n                itemsLength: dataOptions.items(true).length,\r\n                itemsCount: this.itemsCount(true)\r\n            };\r\n            if (this.option(\"scrolling.removeInvisiblePages\") && isVirtualMode) {\r\n                removeInvisiblePages = this._cache.length > Math.max(getPreloadPageCount(this) + (this.option(\"scrolling.preloadEnabled\") ? 1 : 0), 2)\r\n            } else {\r\n                processDelayChanged(this, callBase, {\r\n                    isDelayed: true\r\n                })\r\n            }\r\n            var removeCacheItem;\r\n            if (beginPageIndex === dataOptions.pageIndex() + 1) {\r\n                if (removeInvisiblePages) {\r\n                    removeCacheItem = this._cache.pop()\r\n                }\r\n                changeType = \"prepend\";\r\n                this._cache.unshift(cacheItem)\r\n            } else {\r\n                if (removeInvisiblePages) {\r\n                    removeCacheItem = this._cache.shift()\r\n                }\r\n                changeType = \"append\";\r\n                this._cache.push(cacheItem)\r\n            }\r\n            var isDelayChanged = isVirtualMode && 0 === lastCacheLength && needTwoPagesLoading(this);\r\n            processChanged(this, callBase, this._cache.length > 1 ? changeType : void 0, isDelayChanged, removeCacheItem);\r\n            this._delayDeferred = this.load().done(() => {\r\n                if (processDelayChanged(this, callBase)) {\r\n                    this.load()\r\n                }\r\n            })\r\n        } else {\r\n            processChanged(this, callBase, e)\r\n        }\r\n    }\r\n    getDelayDeferred() {\r\n        return this._delayDeferred\r\n    }\r\n    itemsCount(isBase) {\r\n        var itemsCount = 0;\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        if (!isBase && isVirtualMode) {\r\n            this._cache.forEach(cacheItem => {\r\n                itemsCount += cacheItem.itemsCount\r\n            })\r\n        } else {\r\n            itemsCount = this._dataOptions.itemsCount()\r\n        }\r\n        return itemsCount\r\n    }\r\n    virtualItemsCount() {\r\n        var pageIndex = getBeginPageIndex(this);\r\n        if (pageIndex < 0) {\r\n            pageIndex = this._dataOptions.pageIndex()\r\n        }\r\n        var beginItemsCount = pageIndex * this._dataOptions.pageSize();\r\n        var itemsCount = this._cache.length * this._dataOptions.pageSize();\r\n        var endItemsCount = Math.max(0, this._dataOptions.totalItemsCount() - itemsCount - beginItemsCount);\r\n        return {\r\n            begin: beginItemsCount,\r\n            end: endItemsCount\r\n        }\r\n    }\r\n    reset() {\r\n        this._loadingPageIndexes = {};\r\n        this._cache = []\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_scrolling_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport {\r\n    VirtualDataLoader\r\n} from \"./ui.grid.core.virtual_data_loader\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar _isVirtualMode = that => that.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL || that._isVirtual;\r\nvar _isAppendMode = that => that.option(\"scrolling.mode\") === SCROLLING_MODE_INFINITE && !that._isVirtual;\r\nexport function subscribeToExternalScrollers($element, scrollChangedHandler, $targetElement) {\r\n    var $scrollElement;\r\n    var scrollableArray = [];\r\n    var scrollToArray = [];\r\n    var disposeArray = [];\r\n    $targetElement = $targetElement || $element;\r\n\r\n    function getElementOffset(scrollable) {\r\n        var $scrollableElement = scrollable.element ? scrollable.$element() : scrollable;\r\n        var scrollableOffset = positionUtils.offset($scrollableElement);\r\n        if (!scrollableOffset) {\r\n            return $element.offset().top\r\n        }\r\n        return scrollable.scrollTop() - (scrollableOffset.top - $element.offset().top)\r\n    }\r\n    var widgetScrollStrategy = {\r\n        on: function(scrollable, eventName, handler) {\r\n            scrollable.on(\"scroll\", handler)\r\n        },\r\n        off: function(scrollable, eventName, handler) {\r\n            scrollable.off(\"scroll\", handler)\r\n        }\r\n    };\r\n\r\n    function subscribeToScrollEvents($scrollElement) {\r\n        var isDocument = \"#document\" === $scrollElement.get(0).nodeName;\r\n        var scrollable = $scrollElement.data(\"dxScrollable\");\r\n        var eventsStrategy = widgetScrollStrategy;\r\n        if (!scrollable) {\r\n            scrollable = isDocument && $(getWindow()) || \"auto\" === $scrollElement.css(\"overflowY\") && $scrollElement;\r\n            eventsStrategy = eventsEngine;\r\n            if (!scrollable) {\r\n                return\r\n            }\r\n        }\r\n        var handler = function(scrollable) {\r\n            return function() {\r\n                var scrollTop = scrollable.scrollTop() - getElementOffset(scrollable);\r\n                scrollTop = scrollTop > 0 ? scrollTop : 0;\r\n                scrollChangedHandler(scrollTop)\r\n            }\r\n        }(scrollable);\r\n        eventsStrategy.on(scrollable, \"scroll\", handler);\r\n        scrollToArray.push((function(pos) {\r\n            var topOffset = getElementOffset(scrollable);\r\n            var scrollMethod = scrollable.scrollTo ? \"scrollTo\" : \"scrollTop\";\r\n            if (pos - topOffset >= 0) {\r\n                scrollable[scrollMethod](pos + topOffset)\r\n            }\r\n        }));\r\n        scrollableArray.push(scrollable);\r\n        disposeArray.push((function() {\r\n            eventsStrategy.off(scrollable, \"scroll\", handler)\r\n        }))\r\n    }\r\n    for ($scrollElement = $targetElement.parent(); $scrollElement.length; $scrollElement = $scrollElement.parent()) {\r\n        subscribeToScrollEvents($scrollElement)\r\n    }\r\n    return {\r\n        scrollTo: function(pos) {\r\n            each(scrollToArray, (function(_, scrollTo) {\r\n                scrollTo(pos)\r\n            }))\r\n        },\r\n        dispose: function() {\r\n            each(disposeArray, (function(_, dispose) {\r\n                dispose()\r\n            }))\r\n        }\r\n    }\r\n}\r\nexport var VirtualScrollController = Class.inherit(function() {\r\n    var members = {\r\n        ctor: function(component, dataOptions, isVirtual) {\r\n            this._dataOptions = dataOptions;\r\n            this.component = component;\r\n            this._viewportSize = false === component.option(LEGACY_SCROLLING_MODE) ? 15 : 0;\r\n            this._viewportItemSize = 20;\r\n            this._viewportItemIndex = 0;\r\n            this._position = 0;\r\n            this._isScrollingBack = false;\r\n            this._contentSize = 0;\r\n            this._itemSizes = {};\r\n            this._sizeRatio = 1;\r\n            this._isVirtual = isVirtual;\r\n            this.positionChanged = Callbacks();\r\n            this._dataLoader = new VirtualDataLoader(this, this._dataOptions)\r\n        },\r\n        getItemSizes: function() {\r\n            return this._itemSizes\r\n        },\r\n        option: function() {\r\n            return this.component.option.apply(this.component, arguments)\r\n        },\r\n        isVirtual: function() {\r\n            return this._isVirtual\r\n        },\r\n        virtualItemsCount: function() {\r\n            if (_isVirtualMode(this)) {\r\n                var dataOptions = this._dataOptions;\r\n                var totalItemsCount = dataOptions.totalItemsCount();\r\n                if (false === this.option(LEGACY_SCROLLING_MODE) && -1 !== totalItemsCount) {\r\n                    var viewportParams = this.getViewportParams();\r\n                    var loadedOffset = dataOptions.loadedOffset();\r\n                    var loadedItemCount = dataOptions.loadedItemCount();\r\n                    var skip = Math.max(viewportParams.skip, loadedOffset);\r\n                    var take = Math.min(viewportParams.take, loadedItemCount);\r\n                    var endItemsCount = Math.max(totalItemsCount - (skip + take), 0);\r\n                    return {\r\n                        begin: skip,\r\n                        end: endItemsCount\r\n                    }\r\n                }\r\n                return this._dataLoader.virtualItemsCount.apply(this._dataLoader, arguments)\r\n            }\r\n        },\r\n        getScrollingTimeout: function() {\r\n            var renderAsync = this.option(\"scrolling.renderAsync\");\r\n            var scrollingTimeout = 0;\r\n            if (!isDefined(renderAsync)) {\r\n                scrollingTimeout = Math.min(this.option(\"scrolling.timeout\") || 0, this._dataOptions.changingDuration());\r\n                if (scrollingTimeout < this.option(\"scrolling.renderingThreshold\")) {\r\n                    scrollingTimeout = this.option(\"scrolling.minTimeout\") || 0\r\n                }\r\n            } else if (renderAsync) {\r\n                var _this$option;\r\n                scrollingTimeout = null !== (_this$option = this.option(\"scrolling.timeout\")) && void 0 !== _this$option ? _this$option : 0\r\n            }\r\n            return scrollingTimeout\r\n        },\r\n        setViewportPosition: function(position) {\r\n            var result = new Deferred;\r\n            var scrollingTimeout = this.getScrollingTimeout();\r\n            clearTimeout(this._scrollTimeoutID);\r\n            if (scrollingTimeout > 0) {\r\n                this._scrollTimeoutID = setTimeout(() => {\r\n                    this._setViewportPositionCore(position);\r\n                    result.resolve()\r\n                }, scrollingTimeout)\r\n            } else {\r\n                this._setViewportPositionCore(position);\r\n                result.resolve()\r\n            }\r\n            return result.promise()\r\n        },\r\n        getViewportPosition: function() {\r\n            return this._position\r\n        },\r\n        getItemIndexByPosition: function(position) {\r\n            var _position;\r\n            position = null !== (_position = position) && void 0 !== _position ? _position : this._position;\r\n            var defaultItemSize = this.getItemSize();\r\n            var offset = 0;\r\n            var itemOffset = 0;\r\n            var itemOffsetsWithSize = Object.keys(this._itemSizes).concat(-1);\r\n            for (var i = 0; i < itemOffsetsWithSize.length && offset < position; i++) {\r\n                var itemOffsetWithSize = parseInt(itemOffsetsWithSize[i]);\r\n                var itemOffsetDiff = (position - offset) / defaultItemSize;\r\n                if (itemOffsetWithSize < 0 || itemOffset + itemOffsetDiff < itemOffsetWithSize) {\r\n                    itemOffset += itemOffsetDiff;\r\n                    break\r\n                } else {\r\n                    itemOffsetDiff = itemOffsetWithSize - itemOffset;\r\n                    offset += itemOffsetDiff * defaultItemSize;\r\n                    itemOffset += itemOffsetDiff\r\n                }\r\n                var itemSize = this._itemSizes[itemOffsetWithSize];\r\n                offset += itemSize;\r\n                itemOffset += offset < position ? 1 : (position - offset + itemSize) / itemSize\r\n            }\r\n            return Math.round(50 * itemOffset) / 50\r\n        },\r\n        isScrollingBack: function() {\r\n            return this._isScrollingBack\r\n        },\r\n        _setViewportPositionCore: function(position) {\r\n            var prevPosition = this._position || 0;\r\n            this._position = position;\r\n            if (prevPosition !== this._position) {\r\n                this._isScrollingBack = this._position < prevPosition\r\n            }\r\n            var itemIndex = this.getItemIndexByPosition();\r\n            var result = this.setViewportItemIndex(itemIndex);\r\n            this.positionChanged.fire();\r\n            return result\r\n        },\r\n        setContentItemSizes: function(sizes) {\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            this._contentSize = sizes.reduce((a, b) => a + b, 0);\r\n            if (virtualItemsCount) {\r\n                sizes.forEach((size, index) => {\r\n                    this._itemSizes[virtualItemsCount.begin + index] = size\r\n                });\r\n                var virtualContentSize = (virtualItemsCount.begin + virtualItemsCount.end + this.itemsCount()) * this._viewportItemSize;\r\n                var contentHeightLimit = gridCoreUtils.getContentHeightLimit(browser);\r\n                if (virtualContentSize > contentHeightLimit) {\r\n                    this._sizeRatio = contentHeightLimit / virtualContentSize\r\n                } else {\r\n                    this._sizeRatio = 1\r\n                }\r\n            }\r\n        },\r\n        getItemSize: function() {\r\n            return this._viewportItemSize * this._sizeRatio\r\n        },\r\n        getItemOffset: function(itemIndex, isEnd) {\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            var itemCount = itemIndex;\r\n            if (!virtualItemsCount) {\r\n                return 0\r\n            }\r\n            var offset = 0;\r\n            var totalItemsCount = this._dataOptions.totalItemsCount();\r\n            Object.keys(this._itemSizes).forEach(currentItemIndex => {\r\n                if (!itemCount) {\r\n                    return\r\n                }\r\n                if (isEnd ? currentItemIndex >= totalItemsCount - itemIndex : currentItemIndex < itemIndex) {\r\n                    offset += this._itemSizes[currentItemIndex];\r\n                    itemCount--\r\n                }\r\n            });\r\n            return Math.floor(offset + itemCount * this._viewportItemSize * this._sizeRatio)\r\n        },\r\n        getContentOffset: function(type) {\r\n            var isEnd = \"end\" === type;\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            if (!virtualItemsCount) {\r\n                return 0\r\n            }\r\n            return this.getItemOffset(isEnd ? virtualItemsCount.end : virtualItemsCount.begin, isEnd)\r\n        },\r\n        getVirtualContentSize: function() {\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            return virtualItemsCount ? this.getContentOffset(\"begin\") + this.getContentOffset(\"end\") + this._contentSize : 0\r\n        },\r\n        getViewportItemIndex: function() {\r\n            return this._viewportItemIndex\r\n        },\r\n        setViewportItemIndex: function(itemIndex) {\r\n            this._viewportItemIndex = itemIndex;\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                return\r\n            }\r\n            return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader, arguments)\r\n        },\r\n        viewportItemSize: function(size) {\r\n            if (void 0 !== size) {\r\n                this._viewportItemSize = size\r\n            }\r\n            return this._viewportItemSize\r\n        },\r\n        viewportSize: function(size) {\r\n            if (void 0 !== size) {\r\n                this._viewportSize = size\r\n            }\r\n            return this._viewportSize\r\n        },\r\n        viewportHeight: function(height) {\r\n            var begin = this.getItemIndexByPosition();\r\n            var end = this.getItemIndexByPosition(this._position + height);\r\n            this.viewportSize(Math.ceil(end - begin));\r\n            if (this._viewportItemIndex !== begin) {\r\n                this._setViewportPositionCore(this._position)\r\n            }\r\n        },\r\n        reset: function(isRefresh) {\r\n            this._dataLoader.reset();\r\n            if (!isRefresh) {\r\n                this._itemSizes = {}\r\n            }\r\n        },\r\n        subscribeToWindowScrollEvents: function($element) {\r\n            this._windowScroll = this._windowScroll || subscribeToExternalScrollers($element, scrollTop => {\r\n                if (this.viewportItemSize()) {\r\n                    this.setViewportPosition(scrollTop)\r\n                }\r\n            })\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._scrollTimeoutID);\r\n            this._windowScroll && this._windowScroll.dispose();\r\n            this._windowScroll = null\r\n        },\r\n        scrollTo: function(pos) {\r\n            this._windowScroll && this._windowScroll.scrollTo(pos)\r\n        },\r\n        isVirtualMode: function() {\r\n            return _isVirtualMode(this)\r\n        },\r\n        isAppendMode: function() {\r\n            return _isAppendMode(this)\r\n        },\r\n        getViewportParams: function() {\r\n            var _this$option2;\r\n            var virtualMode = this.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL;\r\n            var totalItemsCount = this._dataOptions.totalItemsCount();\r\n            var hasKnownLastPage = this._dataOptions.hasKnownLastPage();\r\n            var topIndex = hasKnownLastPage && this._viewportItemIndex > totalItemsCount ? totalItemsCount : this._viewportItemIndex;\r\n            var bottomIndex = this._viewportSize + topIndex;\r\n            var maxGap = this.option(\"scrolling.prerenderedRowChunkSize\") || 1;\r\n            var isScrollingBack = this.isScrollingBack();\r\n            var minGap = null !== (_this$option2 = this.option(\"scrolling.prerenderedRowCount\")) && void 0 !== _this$option2 ? _this$option2 : 1;\r\n            var topMinGap = isScrollingBack ? minGap : 0;\r\n            var bottomMinGap = isScrollingBack ? 0 : minGap;\r\n            var skip = Math.floor(Math.max(0, topIndex - topMinGap) / maxGap) * maxGap;\r\n            var take = Math.ceil((bottomIndex + bottomMinGap - skip) / maxGap) * maxGap;\r\n            if (virtualMode) {\r\n                var remainedItems = Math.max(0, totalItemsCount - skip);\r\n                take = Math.min(take, remainedItems)\r\n            }\r\n            return {\r\n                skip: skip,\r\n                take: take\r\n            }\r\n        },\r\n        itemsCount: function() {\r\n            var result = 0;\r\n            if (this.option(LEGACY_SCROLLING_MODE)) {\r\n                result = this._dataLoader.itemsCount.apply(this._dataLoader, arguments)\r\n            } else {\r\n                result = this._dataOptions.itemsCount()\r\n            }\r\n            return result\r\n        }\r\n    };\r\n    [\"pageIndex\", \"beginPageIndex\", \"endPageIndex\", \"pageSize\", \"load\", \"loadIfNeed\", \"handleDataChanged\", \"getDelayDeferred\"].forEach((function(name) {\r\n        members[name] = function() {\r\n            return this._dataLoader[name].apply(this._dataLoader, arguments)\r\n        }\r\n    }));\r\n    return members\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_scrolling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    VirtualScrollController,\r\n    subscribeToExternalScrollers\r\n} from \"./ui.grid_core.virtual_scrolling_core\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport LoadIndicator from \"../load_indicator\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar BOTTOM_LOAD_PANEL_CLASS = \"bottom-load-panel\";\r\nvar TABLE_CONTENT_CLASS = \"table-content\";\r\nvar GROUP_SPACE_CLASS = \"group-space\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar FREESPACE_CLASS = \"dx-freespace-row\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar VIRTUAL_ROW_CLASS = \"dx-virtual-row\";\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar LOAD_TIMEOUT = 300;\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar VISIBLE_PAGE_INDEX = \"paging.pageIndex\";\r\nvar isVirtualMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL\r\n};\r\nvar isAppendMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_INFINITE\r\n};\r\nvar isVirtualPaging = function(that) {\r\n    return isVirtualMode(that) || isAppendMode(that)\r\n};\r\nvar _correctCount = function(items, count, fromEnd, isItemCountableFunc) {\r\n    for (var i = 0; i < count + 1; i++) {\r\n        var item = items[fromEnd ? items.length - 1 - i : i];\r\n        if (item && !isItemCountableFunc(item, i === count, fromEnd)) {\r\n            count++\r\n        }\r\n    }\r\n    return count\r\n};\r\nvar isItemCountableByDataSource = function(item, dataSource) {\r\n    return \"data\" === item.rowType && !item.isNewRow || \"group\" === item.rowType && dataSource.isGroupItemCountable(item.data)\r\n};\r\nvar updateItemIndices = function(items) {\r\n    items.forEach((function(item, index) {\r\n        item.rowIndex = index\r\n    }));\r\n    return items\r\n};\r\nvar VirtualScrollingDataSourceAdapterExtender = function() {\r\n    var _updateLoading = function(that) {\r\n        var beginPageIndex = that._virtualScrollController.beginPageIndex(-1);\r\n        if (isVirtualMode(that)) {\r\n            if (beginPageIndex < 0 || that.viewportSize() >= 0 && that.getViewportItemIndex() >= 0 && (beginPageIndex * that.pageSize() > that.getViewportItemIndex() || beginPageIndex * that.pageSize() + that.itemsCount() < that.getViewportItemIndex() + that.viewportSize()) && that._dataSource.isLoading()) {\r\n                if (!that._isLoading) {\r\n                    that._isLoading = true;\r\n                    that.loadingChanged.fire(true)\r\n                }\r\n            } else if (that._isLoading) {\r\n                that._isLoading = false;\r\n                that.loadingChanged.fire(false)\r\n            }\r\n        }\r\n    };\r\n    var result = {\r\n        init: function() {\r\n            this.callBase.apply(this, arguments);\r\n            this._items = [];\r\n            this._totalCount = -1;\r\n            this._isLoaded = true;\r\n            this._loadPageCount = 1;\r\n            this._virtualScrollController = new VirtualScrollController(this.component, this._getVirtualScrollDataOptions())\r\n        },\r\n        _getVirtualScrollDataOptions: function() {\r\n            var that = this;\r\n            return {\r\n                pageSize: function() {\r\n                    return that.pageSize()\r\n                },\r\n                totalItemsCount: function() {\r\n                    return that.totalItemsCount()\r\n                },\r\n                hasKnownLastPage: function() {\r\n                    return that.hasKnownLastPage()\r\n                },\r\n                pageIndex: function(index) {\r\n                    return that._dataSource.pageIndex(index)\r\n                },\r\n                isLoading: function() {\r\n                    return that._dataSource.isLoading() && !that.isCustomLoading()\r\n                },\r\n                pageCount: function() {\r\n                    return that.pageCount()\r\n                },\r\n                load: function() {\r\n                    return that._dataSource.load()\r\n                },\r\n                updateLoading: function() {\r\n                    _updateLoading(that)\r\n                },\r\n                itemsCount: function() {\r\n                    return that.itemsCount(true)\r\n                },\r\n                items: function() {\r\n                    return that._dataSource.items()\r\n                },\r\n                viewportItems: function(items) {\r\n                    if (items) {\r\n                        that._items = items\r\n                    }\r\n                    return that._items\r\n                },\r\n                onChanged: function(e) {\r\n                    that.changed.fire(e)\r\n                },\r\n                changingDuration: function(e) {\r\n                    if (that.isLoading()) {\r\n                        return LOAD_TIMEOUT\r\n                    }\r\n                    return that._renderTime || 0\r\n                }\r\n            }\r\n        },\r\n        _handleLoadingChanged: function(isLoading) {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n            }\r\n            if (!isVirtualMode(this) || this._isLoadingAll) {\r\n                this._isLoading = isLoading;\r\n                this.callBase.apply(this, arguments)\r\n            }\r\n            if (isLoading) {\r\n                this._startLoadTime = new Date\r\n            } else {\r\n                this._startLoadTime = void 0\r\n            }\r\n        },\r\n        _handleLoadError: function() {\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                this._isLoading = false;\r\n                this.loadingChanged.fire(false)\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _handleDataChanged: function(e) {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                this._items = this._dataSource.items().slice();\r\n                this._totalCount = this._dataSourceTotalCount(true);\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n            }\r\n            var callBase = this.callBase.bind(this);\r\n            this._virtualScrollController.handleDataChanged(callBase, e)\r\n        },\r\n        _customizeRemoteOperations: function(options, operationTypes) {\r\n            var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n            var renderAsync = this.option(\"scrolling.renderAsync\");\r\n            if (!isDefined(renderAsync)) {\r\n                renderAsync = this._renderTime >= this.option(\"scrolling.renderingThreshold\")\r\n            }\r\n            if ((isVirtualMode(this) || isAppendMode(this) && newMode) && !operationTypes.reload && (operationTypes.skip || newMode) && !renderAsync) {\r\n                options.delay = void 0\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        items: function() {\r\n            return this._items\r\n        },\r\n        _dataSourceTotalCount: function(isBase) {\r\n            return false === this.option(LEGACY_SCROLLING_MODE) && isVirtualMode(this) && !isBase ? this._totalCount : this.callBase()\r\n        },\r\n        itemsCount: function(isBase) {\r\n            if (isBase || false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                return this.callBase()\r\n            }\r\n            return this._virtualScrollController.itemsCount()\r\n        },\r\n        load: function(loadOptions) {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE) || loadOptions) {\r\n                return this.callBase(loadOptions)\r\n            }\r\n            return this._virtualScrollController.load()\r\n        },\r\n        isLoading: function() {\r\n            return false === this.option(LEGACY_SCROLLING_MODE) ? this._dataSource.isLoading() : this._isLoading\r\n        },\r\n        isLoaded: function() {\r\n            return this._dataSource.isLoaded() && this._isLoaded\r\n        },\r\n        resetPagesCache: function(isLiveUpdate) {\r\n            if (!isLiveUpdate) {\r\n                this._virtualScrollController.reset(true)\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _changeRowExpandCore: function() {\r\n            var result = this.callBase.apply(this, arguments);\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                return result\r\n            }\r\n            this.resetPagesCache();\r\n            _updateLoading(this);\r\n            return result\r\n        },\r\n        reload: function() {\r\n            this._dataSource.pageIndex(this.pageIndex());\r\n            var virtualScrollController = this._virtualScrollController;\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE) && virtualScrollController) {\r\n                var d = new Deferred;\r\n                this.callBase.apply(this, arguments).done((function(r) {\r\n                    var delayDeferred = virtualScrollController.getDelayDeferred();\r\n                    if (delayDeferred) {\r\n                        delayDeferred.done(d.resolve).fail(d.reject)\r\n                    } else {\r\n                        d.resolve(r)\r\n                    }\r\n                })).fail(d.reject);\r\n                return d\r\n            } else {\r\n                return this.callBase.apply(this, arguments)\r\n            }\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                var storeLoadOptions = options.storeLoadOptions;\r\n                var dataSource = this._dataSource;\r\n                if (operationTypes.reload) {\r\n                    this._virtualScrollController.reset();\r\n                    dataSource.items().length = 0;\r\n                    this._isLoaded = false;\r\n                    _updateLoading(this);\r\n                    this._isLoaded = true;\r\n                    if (isAppendMode(this)) {\r\n                        this.pageIndex(0);\r\n                        dataSource.pageIndex(0);\r\n                        storeLoadOptions.pageIndex = 0;\r\n                        options.pageIndex = 0;\r\n                        storeLoadOptions.skip = 0\r\n                    } else {\r\n                        dataSource.pageIndex(this.pageIndex());\r\n                        if (dataSource.paginate()) {\r\n                            options.pageIndex = this.pageIndex();\r\n                            storeLoadOptions.skip = this.pageIndex() * this.pageSize()\r\n                        }\r\n                    }\r\n                } else if (isAppendMode(this) && storeLoadOptions.skip && this._totalCountCorrection < 0) {\r\n                    storeLoadOptions.skip += this._totalCountCorrection\r\n                }\r\n            }\r\n            return this.callBase.apply(this, arguments)\r\n        },\r\n        dispose: function() {\r\n            this._virtualScrollController.dispose();\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        loadPageCount: function(count) {\r\n            if (!isDefined(count)) {\r\n                return this._loadPageCount\r\n            }\r\n            this._loadPageCount = count\r\n        },\r\n        _handleDataLoading: function(options) {\r\n            var loadPageCount = this.loadPageCount();\r\n            var pageSize = this.pageSize();\r\n            var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var takeIsDefined = isDefined(storeLoadOptions.take);\r\n            options.loadPageCount = loadPageCount;\r\n            if (!options.isCustomLoading && newMode && takeIsDefined && loadPageCount > 1 && pageSize > 0) {\r\n                storeLoadOptions.take = loadPageCount * pageSize\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _loadPageSize: function() {\r\n            return this.callBase.apply(this, arguments) * this.loadPageCount()\r\n        }\r\n    };\r\n    [\"beginPageIndex\", \"endPageIndex\", \"pageIndex\"].forEach((function(name) {\r\n        result[name] = function() {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                var dataSource = this._dataSource;\r\n                return dataSource.pageIndex.apply(dataSource, arguments)\r\n            }\r\n            var virtualScrollController = this._virtualScrollController;\r\n            return virtualScrollController[name].apply(virtualScrollController, arguments)\r\n        }\r\n    }));\r\n    [\"virtualItemsCount\", \"getContentOffset\", \"getVirtualContentSize\", \"setContentItemSizes\", \"setViewportPosition\", \"getViewportItemIndex\", \"setViewportItemIndex\", \"getItemIndexByPosition\", \"viewportSize\", \"viewportItemSize\", \"getItemSize\", \"getItemSizes\", \"loadIfNeed\"].forEach((function(name) {\r\n        result[name] = function() {\r\n            var virtualScrollController = this._virtualScrollController;\r\n            return virtualScrollController[name].apply(virtualScrollController, arguments)\r\n        }\r\n    }));\r\n    return result\r\n}();\r\nvar VirtualScrollingRowsViewExtender = function() {\r\n    var removeEmptyRows = function($emptyRows, className) {\r\n        var tBodies = $emptyRows.toArray().map(row => $(row).parent(\".\" + className).get(0)).filter(row => row);\r\n        if (tBodies.length) {\r\n            $emptyRows = $(tBodies)\r\n        }\r\n        var rowCount = className === FREESPACE_CLASS ? $emptyRows.length - 1 : $emptyRows.length;\r\n        for (var i = 0; i < rowCount; i++) {\r\n            $emptyRows.eq(i).remove()\r\n        }\r\n    };\r\n    return {\r\n        init: function() {\r\n            var _dataController$state;\r\n            var dataController = this.getController(\"data\");\r\n            this.callBase();\r\n            dataController.pageChanged.add(pageIndex => {\r\n                this.scrollToPage(null !== pageIndex && void 0 !== pageIndex ? pageIndex : dataController.pageIndex())\r\n            });\r\n            dataController.dataSourceChanged.add(() => {\r\n                !this._scrollTop && this._scrollToCurrentPageOnResize()\r\n            });\r\n            null === (_dataController$state = dataController.stateLoaded) || void 0 === _dataController$state ? void 0 : _dataController$state.add(() => {\r\n                this._scrollToCurrentPageOnResize()\r\n            });\r\n            this._scrollToCurrentPageOnResize()\r\n        },\r\n        _scrollToCurrentPageOnResize: function() {\r\n            var dataController = this.getController(\"data\");\r\n            if (dataController.pageIndex() > 0) {\r\n                var resizeHandler = () => {\r\n                    this.resizeCompleted.remove(resizeHandler);\r\n                    this.scrollToPage(dataController.pageIndex())\r\n                };\r\n                this.resizeCompleted.add(resizeHandler)\r\n            }\r\n        },\r\n        scrollToPage: function(pageIndex) {\r\n            var dataController = this._dataController;\r\n            var pageSize = dataController ? dataController.pageSize() : 0;\r\n            var scrollPosition;\r\n            if (isVirtualMode(this) || isAppendMode(this)) {\r\n                var itemSize = dataController.getItemSize();\r\n                var itemSizes = dataController.getItemSizes();\r\n                var itemIndex = pageIndex * pageSize;\r\n                scrollPosition = itemIndex * itemSize;\r\n                for (var index in itemSizes) {\r\n                    if (index < itemIndex) {\r\n                        scrollPosition += itemSizes[index] - itemSize\r\n                    }\r\n                }\r\n            } else {\r\n                scrollPosition = 0\r\n            }\r\n            this.scrollTo({\r\n                y: scrollPosition,\r\n                x: this._scrollLeft\r\n            })\r\n        },\r\n        renderDelayedTemplates: function(e) {\r\n            this._updateContentPosition(true);\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _renderCore: function(e) {\r\n            var startRenderTime = new Date;\r\n            this.callBase.apply(this, arguments);\r\n            var dataSource = this._dataController._dataSource;\r\n            if (dataSource && e) {\r\n                var itemCount = e.items ? e.items.length : 20;\r\n                var viewportSize = this._dataController.viewportSize() || 20;\r\n                if (gridCoreUtils.isVirtualRowRendering(this) && itemCount > 0 && false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                    dataSource._renderTime = (new Date - startRenderTime) * viewportSize / itemCount\r\n                } else {\r\n                    dataSource._renderTime = new Date - startRenderTime\r\n                }\r\n            }\r\n        },\r\n        _getRowElements: function(tableElement) {\r\n            var $rows = this.callBase(tableElement);\r\n            return $rows && $rows.not(\".\" + VIRTUAL_ROW_CLASS)\r\n        },\r\n        _removeRowsElements: function(contentTable, removeCount, changeType) {\r\n            var rowElements = this._getRowElements(contentTable).toArray();\r\n            if (\"append\" === changeType) {\r\n                rowElements = rowElements.slice(0, removeCount)\r\n            } else {\r\n                rowElements = rowElements.slice(-removeCount)\r\n            }\r\n            var errorHandlingController = this.getController(\"errorHandling\");\r\n            rowElements.map(rowElement => {\r\n                var $rowElement = $(rowElement);\r\n                errorHandlingController && errorHandlingController.removeErrorRow($rowElement.next());\r\n                $rowElement.remove()\r\n            })\r\n        },\r\n        _updateContent: function(tableElement, change) {\r\n            var $freeSpaceRowElements;\r\n            var contentElement = this._findContentElement();\r\n            var changeType = change && change.changeType;\r\n            var contentTable = contentElement.children().first();\r\n            if (\"append\" === changeType || \"prepend\" === changeType) {\r\n                var $tBodies = this._getBodies(tableElement);\r\n                if (1 === $tBodies.length) {\r\n                    this._getBodies(contentTable)[\"append\" === changeType ? \"append\" : \"prepend\"]($tBodies.children())\r\n                } else {\r\n                    $tBodies[\"append\" === changeType ? \"appendTo\" : \"prependTo\"](contentTable)\r\n                }\r\n                tableElement.remove();\r\n                $freeSpaceRowElements = this._getFreeSpaceRowElements(contentTable);\r\n                removeEmptyRows($freeSpaceRowElements, FREESPACE_CLASS);\r\n                if (change.removeCount) {\r\n                    this._removeRowsElements(contentTable, change.removeCount, changeType)\r\n                }\r\n                this._restoreErrorRow(contentTable)\r\n            } else {\r\n                this.callBase.apply(this, arguments);\r\n                if (\"update\" === changeType) {\r\n                    this._restoreErrorRow(contentTable)\r\n                }\r\n            }\r\n            this._updateBottomLoading()\r\n        },\r\n        _addVirtualRow: function($table, isFixed, location, position) {\r\n            if (!position) {\r\n                return\r\n            }\r\n            var $virtualRow = this._createEmptyRow(VIRTUAL_ROW_CLASS, isFixed, position);\r\n            $virtualRow = this._wrapRowIfNeed($table, $virtualRow);\r\n            this._appendEmptyRow($table, $virtualRow, location)\r\n        },\r\n        _getRowHeights: function() {\r\n            var rowHeights = this._getRowElements(this._tableElement).toArray().map((function(row) {\r\n                return getBoundingRect(row).height\r\n            }));\r\n            return rowHeights\r\n        },\r\n        _correctRowHeights: function(rowHeights) {\r\n            var dataController = this._dataController;\r\n            var dataSource = dataController._dataSource;\r\n            var correctedRowHeights = [];\r\n            var visibleRows = dataController.getVisibleRows();\r\n            var itemSize = 0;\r\n            var firstCountableItem = true;\r\n            var lastLoadIndex = -1;\r\n            for (var i = 0; i < rowHeights.length; i++) {\r\n                var currentItem = visibleRows[i];\r\n                if (!isDefined(currentItem)) {\r\n                    continue\r\n                }\r\n                if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                    if (lastLoadIndex >= 0 && lastLoadIndex !== currentItem.loadIndex) {\r\n                        correctedRowHeights.push(itemSize);\r\n                        itemSize = 0\r\n                    }\r\n                    lastLoadIndex = currentItem.loadIndex\r\n                } else if (isItemCountableByDataSource(currentItem, dataSource)) {\r\n                    if (firstCountableItem) {\r\n                        firstCountableItem = false\r\n                    } else {\r\n                        correctedRowHeights.push(itemSize);\r\n                        itemSize = 0\r\n                    }\r\n                }\r\n                itemSize += rowHeights[i]\r\n            }\r\n            itemSize > 0 && correctedRowHeights.push(itemSize);\r\n            return correctedRowHeights\r\n        },\r\n        _updateContentPosition: function(isRender) {\r\n            var dataController = this._dataController;\r\n            var rowHeight = this._rowHeight || 20;\r\n            dataController.viewportItemSize(rowHeight);\r\n            if (isVirtualMode(this) || gridCoreUtils.isVirtualRowRendering(this)) {\r\n                if (!isRender) {\r\n                    var rowHeights = this._getRowHeights();\r\n                    var correctedRowHeights = this._correctRowHeights(rowHeights);\r\n                    dataController.setContentItemSizes(correctedRowHeights)\r\n                }\r\n                var top = dataController.getContentOffset(\"begin\");\r\n                var bottom = dataController.getContentOffset(\"end\");\r\n                var $tables = this.getTableElements();\r\n                var $virtualRows = $tables.children(\"tbody\").children(\".\" + VIRTUAL_ROW_CLASS);\r\n                removeEmptyRows($virtualRows, VIRTUAL_ROW_CLASS);\r\n                $tables.each((index, element) => {\r\n                    var isFixed = index > 0;\r\n                    this._isFixedTableRendering = isFixed;\r\n                    this._addVirtualRow($(element), isFixed, \"top\", top);\r\n                    this._addVirtualRow($(element), isFixed, \"bottom\", bottom);\r\n                    this._isFixedTableRendering = false\r\n                })\r\n            }\r\n        },\r\n        _isTableLinesDisplaysCorrect: function(table) {\r\n            var hasColumnLines = table.find(\".\" + COLUMN_LINES_CLASS).length > 0;\r\n            return hasColumnLines === this.option(\"showColumnLines\")\r\n        },\r\n        _isColumnElementsEqual: function($columns, $virtualColumns) {\r\n            var result = $columns.length === $virtualColumns.length;\r\n            if (result) {\r\n                each($columns, (function(index, element) {\r\n                    if (element.style.width !== $virtualColumns[index].style.width) {\r\n                        result = false;\r\n                        return result\r\n                    }\r\n                }))\r\n            }\r\n            return result\r\n        },\r\n        _getCellClasses: function(column) {\r\n            var classes = [];\r\n            var cssClass = column.cssClass;\r\n            var isExpandColumn = \"expand\" === column.command;\r\n            cssClass && classes.push(cssClass);\r\n            isExpandColumn && classes.push(this.addWidgetPrefix(GROUP_SPACE_CLASS));\r\n            return classes\r\n        },\r\n        _findBottomLoadPanel: function($contentElement) {\r\n            var $element = $contentElement || this.element();\r\n            var $bottomLoadPanel = $element && $element.find(\".\" + this.addWidgetPrefix(BOTTOM_LOAD_PANEL_CLASS));\r\n            if ($bottomLoadPanel && $bottomLoadPanel.length) {\r\n                return $bottomLoadPanel\r\n            }\r\n        },\r\n        _updateBottomLoading: function() {\r\n            var virtualMode = isVirtualMode(this);\r\n            var appendMode = isAppendMode(this);\r\n            var showBottomLoading = !this._dataController.hasKnownLastPage() && this._dataController.isLoaded() && (virtualMode || appendMode);\r\n            var $contentElement = this._findContentElement();\r\n            var bottomLoadPanelElement = this._findBottomLoadPanel($contentElement);\r\n            if (showBottomLoading) {\r\n                if (!bottomLoadPanelElement) {\r\n                    $(\"<div>\").addClass(this.addWidgetPrefix(BOTTOM_LOAD_PANEL_CLASS)).append(this._createComponent($(\"<div>\"), LoadIndicator).$element()).appendTo($contentElement)\r\n                }\r\n            } else if (bottomLoadPanelElement) {\r\n                bottomLoadPanelElement.remove()\r\n            }\r\n        },\r\n        _handleScroll: function(e) {\r\n            var legacyScrollingMode = true === this.option(LEGACY_SCROLLING_MODE);\r\n            var zeroTopPosition = 0 === e.scrollOffset.top;\r\n            if ((this._hasHeight || !legacyScrollingMode && zeroTopPosition) && this._rowHeight) {\r\n                this._dataController.setViewportPosition(e.scrollOffset.top)\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _needUpdateRowHeight: function(itemsCount) {\r\n            return this.callBase.apply(this, arguments) || itemsCount > 0 && isAppendMode(this) && !gridCoreUtils.isVirtualRowRendering(this)\r\n        },\r\n        _updateRowHeight: function() {\r\n            this.callBase.apply(this, arguments);\r\n            if (this._rowHeight) {\r\n                this._updateContentPosition();\r\n                var viewportHeight = this._hasHeight ? getOuterHeight(this.element()) : getOuterHeight(getWindow());\r\n                var dataController = this._dataController;\r\n                if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                    dataController.viewportHeight(viewportHeight);\r\n                    dataController.updateViewport()\r\n                } else {\r\n                    dataController.viewportSize(Math.ceil(viewportHeight / this._rowHeight))\r\n                }\r\n            }\r\n        },\r\n        updateFreeSpaceRowHeight: function() {\r\n            var result = this.callBase.apply(this, arguments);\r\n            if (result) {\r\n                this._updateContentPosition()\r\n            }\r\n            return result\r\n        },\r\n        setLoading: function(isLoading, messageText) {\r\n            var dataController = this._dataController;\r\n            var hasBottomLoadPanel = dataController.pageIndex() > 0 && dataController.isLoaded() && !!this._findBottomLoadPanel();\r\n            if (false === this.option(LEGACY_SCROLLING_MODE) && isLoading && dataController.isViewportChanging()) {\r\n                return\r\n            }\r\n            if (hasBottomLoadPanel) {\r\n                isLoading = false\r\n            }\r\n            this.callBase.call(this, isLoading, messageText)\r\n        },\r\n        _resizeCore: function() {\r\n            var that = this;\r\n            var $element = that.element();\r\n            that.callBase();\r\n            if (that.component.$element() && !that._windowScroll && $element.closest(getWindow().document).length) {\r\n                that._windowScroll = subscribeToExternalScrollers($element, (function(scrollPos) {\r\n                    if (!that._hasHeight && that._rowHeight) {\r\n                        that._dataController.setViewportPosition(scrollPos)\r\n                    }\r\n                }), that.component.$element());\r\n                that.on(\"disposing\", (function() {\r\n                    that._windowScroll.dispose()\r\n                }))\r\n            }\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                that.loadIfNeed()\r\n            }\r\n        },\r\n        loadIfNeed: function() {\r\n            var _dataController$loadI;\r\n            var dataController = this._dataController;\r\n            null === dataController || void 0 === dataController ? void 0 : null === (_dataController$loadI = dataController.loadIfNeed) || void 0 === _dataController$loadI ? void 0 : _dataController$loadI.call(dataController)\r\n        },\r\n        setColumnWidths: function(widths) {\r\n            var scrollable = this.getScrollable();\r\n            var $content;\r\n            this.callBase.apply(this, arguments);\r\n            if (\"virtual\" === this.option(\"scrolling.mode\")) {\r\n                $content = scrollable ? $(scrollable.content()) : this.element();\r\n                this.callBase(widths, $content.children(\".\" + this.addWidgetPrefix(CONTENT_CLASS)).children(\":not(.\" + this.addWidgetPrefix(TABLE_CONTENT_CLASS) + \")\"))\r\n            }\r\n        },\r\n        _restoreErrorRow: function() {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                var errorHandling = this.getController(\"errorHandling\");\r\n                null === errorHandling || void 0 === errorHandling ? void 0 : errorHandling.removeErrorRow()\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._scrollTimeoutID);\r\n            this.callBase()\r\n        }\r\n    }\r\n}();\r\nexport var virtualScrollingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            scrolling: {\r\n                timeout: 300,\r\n                updateTimeout: 300,\r\n                minTimeout: 0,\r\n                renderingThreshold: 100,\r\n                removeInvisiblePages: true,\r\n                rowPageSize: 5,\r\n                prerenderedRowChunkSize: 1,\r\n                mode: \"standard\",\r\n                preloadEnabled: false,\r\n                rowRenderingMode: \"standard\",\r\n                loadTwoPagesOnStart: false,\r\n                legacyMode: false,\r\n                prerenderedRowCount: 1\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        dataSourceAdapter: VirtualScrollingDataSourceAdapterExtender,\r\n        controllers: {\r\n            data: function() {\r\n                var members = {\r\n                    _refreshDataSource: function() {\r\n                        var baseResult = this.callBase.apply(this, arguments) || (new Deferred).resolve().promise();\r\n                        baseResult.done(this.initVirtualRows.bind(this));\r\n                        return baseResult\r\n                    },\r\n                    _loadDataSource: function() {\r\n                        if (this._rowsScrollController && isVirtualPaging(this)) {\r\n                            var _this$getLoadPagePara, _this$_dataSource;\r\n                            var {\r\n                                loadPageCount: loadPageCount\r\n                            } = null !== (_this$getLoadPagePara = this.getLoadPageParams()) && void 0 !== _this$getLoadPagePara ? _this$getLoadPagePara : {};\r\n                            loadPageCount >= 1 && (null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.loadPageCount(loadPageCount))\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    getRowPageSize: function() {\r\n                        var rowPageSize = this.option(\"scrolling.rowPageSize\");\r\n                        var pageSize = this.pageSize();\r\n                        return pageSize && pageSize < rowPageSize ? pageSize : rowPageSize\r\n                    },\r\n                    reload: function() {\r\n                        var rowsScrollController = this._rowsScrollController || this._dataSource;\r\n                        var itemIndex = rowsScrollController && rowsScrollController.getItemIndexByPosition();\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        return result && result.done(() => {\r\n                            if (isVirtualMode(this) || gridCoreUtils.isVirtualRowRendering(this)) {\r\n                                var rowIndexOffset = this.getRowIndexOffset();\r\n                                var rowIndex = Math.floor(itemIndex) - rowIndexOffset;\r\n                                var component = this.component;\r\n                                var scrollable = component.getScrollable && component.getScrollable();\r\n                                var isSortingOperation = this.dataSource().operationTypes().sorting;\r\n                                if (scrollable && !isSortingOperation && rowIndex >= 0) {\r\n                                    var rowElement = component.getRowElement(rowIndex);\r\n                                    var $rowElement = rowElement && rowElement[0] && $(rowElement[0]);\r\n                                    var top = $rowElement && $rowElement.position().top;\r\n                                    var isChromeLatest = browser.chrome && browser.version >= 91;\r\n                                    var allowedTopOffset = browser.mozilla || isChromeLatest ? 1 : 0;\r\n                                    if (top > allowedTopOffset) {\r\n                                        top = Math.round(top + getOuterHeight($rowElement) * (itemIndex % 1));\r\n                                        scrollable.scrollTo({\r\n                                            y: top\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    },\r\n                    initVirtualRows: function() {\r\n                        var virtualRowsRendering = gridCoreUtils.isVirtualRowRendering(this);\r\n                        this._allItems = null;\r\n                        this._loadViewportParams = null;\r\n                        if (\"virtual\" !== this.option(\"scrolling.mode\") && true !== virtualRowsRendering || false === virtualRowsRendering || false !== this.option(LEGACY_SCROLLING_MODE) && !this.option(\"scrolling.rowPageSize\")) {\r\n                            this._visibleItems = null;\r\n                            this._rowsScrollController = null;\r\n                            return\r\n                        }\r\n                        var pageIndex = !isVirtualMode(this) && this.pageIndex() >= this.pageCount() ? this.pageCount() - 1 : this.pageIndex();\r\n                        this._rowPageIndex = Math.ceil(pageIndex * this.pageSize() / this.getRowPageSize());\r\n                        this._visibleItems = false === this.option(LEGACY_SCROLLING_MODE) ? null : [];\r\n                        this._viewportChanging = false;\r\n                        this._needUpdateViewportAfterLoading = false;\r\n                        if (!this._rowsScrollController) {\r\n                            this._rowsScrollController = new VirtualScrollController(this.component, this._getRowsScrollDataOptions(), true);\r\n                            this._rowsScrollController.positionChanged.add(() => {\r\n                                var _this$_dataSource2;\r\n                                if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                                    this._viewportChanging = true;\r\n                                    this.loadViewport();\r\n                                    this._viewportChanging = false;\r\n                                    return\r\n                                }\r\n                                null === (_this$_dataSource2 = this._dataSource) || void 0 === _this$_dataSource2 ? void 0 : _this$_dataSource2.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())\r\n                            })\r\n                        }\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            this._updateLoadViewportParams()\r\n                        }\r\n                        if (this.isLoaded() && false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                            this._rowsScrollController.load()\r\n                        }\r\n                    },\r\n                    isViewportChanging: function() {\r\n                        return this._viewportChanging\r\n                    },\r\n                    _getRowsScrollDataOptions: function() {\r\n                        var that = this;\r\n                        var isItemCountable = function(item) {\r\n                            return isItemCountableByDataSource(item, that._dataSource)\r\n                        };\r\n                        return {\r\n                            pageSize: function() {\r\n                                return that.getRowPageSize()\r\n                            },\r\n                            loadedOffset: function() {\r\n                                var _that$_dataSource;\r\n                                return isVirtualMode(that) && (null === (_that$_dataSource = that._dataSource) || void 0 === _that$_dataSource ? void 0 : _that$_dataSource.lastLoadOptions().skip) || 0\r\n                            },\r\n                            loadedItemCount: function() {\r\n                                return that._itemCount\r\n                            },\r\n                            totalItemsCount: function() {\r\n                                if (isVirtualPaging(that)) {\r\n                                    return that.totalItemsCount()\r\n                                }\r\n                                return false === that.option(LEGACY_SCROLLING_MODE) ? that._itemCount : that._items.filter(isItemCountable).length\r\n                            },\r\n                            hasKnownLastPage: function() {\r\n                                return false === that.option(LEGACY_SCROLLING_MODE) ? that.hasKnownLastPage() : true\r\n                            },\r\n                            pageIndex: function(index) {\r\n                                if (void 0 !== index) {\r\n                                    that._rowPageIndex = index\r\n                                }\r\n                                return that._rowPageIndex\r\n                            },\r\n                            isLoading: function() {\r\n                                return that.isLoading()\r\n                            },\r\n                            pageCount: function() {\r\n                                var pageCount = Math.ceil(this.totalItemsCount() / this.pageSize());\r\n                                return pageCount ? pageCount : 1\r\n                            },\r\n                            load: function() {\r\n                                if (that._rowsScrollController.pageIndex() >= this.pageCount()) {\r\n                                    that._rowPageIndex = this.pageCount() - 1;\r\n                                    that._rowsScrollController.pageIndex(that._rowPageIndex)\r\n                                }\r\n                                if (!this.items().length && this.totalItemsCount()) {\r\n                                    return\r\n                                }\r\n                                that._rowsScrollController.handleDataChanged(change => {\r\n                                    change = change || {};\r\n                                    change.changeType = change.changeType || \"refresh\";\r\n                                    change.items = change.items || that._visibleItems;\r\n                                    that._visibleItems.forEach((item, index) => {\r\n                                        item.rowIndex = index\r\n                                    });\r\n                                    that._fireChanged(change)\r\n                                })\r\n                            },\r\n                            updateLoading: function() {},\r\n                            itemsCount: function() {\r\n                                return this.items(true).length\r\n                            },\r\n                            correctCount: function(items, count, fromEnd) {\r\n                                return _correctCount(items, count, fromEnd, (item, isNextAfterLast, fromEnd) => {\r\n                                    if (item.isNewRow) {\r\n                                        return isNextAfterLast && !fromEnd\r\n                                    }\r\n                                    if (isNextAfterLast && fromEnd) {\r\n                                        return !item.isNewRow\r\n                                    }\r\n                                    return isItemCountable(item)\r\n                                })\r\n                            },\r\n                            items: function(countableOnly) {\r\n                                var result = that._items;\r\n                                if (that.option(LEGACY_SCROLLING_MODE)) {\r\n                                    var dataSource = that.dataSource();\r\n                                    var virtualItemsCount = null === dataSource || void 0 === dataSource ? void 0 : dataSource.virtualItemsCount();\r\n                                    var begin = virtualItemsCount ? virtualItemsCount.begin : 0;\r\n                                    var rowPageSize = that.getRowPageSize();\r\n                                    var skip = that._rowPageIndex * rowPageSize - begin;\r\n                                    var take = rowPageSize;\r\n                                    if (skip < 0) {\r\n                                        return []\r\n                                    }\r\n                                    if (skip) {\r\n                                        skip = this.correctCount(result, skip);\r\n                                        result = result.slice(skip)\r\n                                    }\r\n                                    if (take) {\r\n                                        take = this.correctCount(result, take);\r\n                                        result = result.slice(0, take)\r\n                                    }\r\n                                }\r\n                                return countableOnly ? result.filter(isItemCountable) : result\r\n                            },\r\n                            viewportItems: function(items) {\r\n                                if (items && false !== that.option(LEGACY_SCROLLING_MODE)) {\r\n                                    that._visibleItems = items\r\n                                }\r\n                                return that._visibleItems\r\n                            },\r\n                            onChanged: function() {},\r\n                            changingDuration: function(e) {\r\n                                var dataSource = that.dataSource();\r\n                                if (null !== dataSource && void 0 !== dataSource && dataSource.isLoading() && false !== that.option(LEGACY_SCROLLING_MODE)) {\r\n                                    return LOAD_TIMEOUT\r\n                                }\r\n                                return (null === dataSource || void 0 === dataSource ? void 0 : dataSource._renderTime) || 0\r\n                            }\r\n                        }\r\n                    },\r\n                    _updateItemsCore: function(change) {\r\n                        var delta = this.getRowIndexDelta();\r\n                        this.callBase.apply(this, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && gridCoreUtils.isVirtualRowRendering(this)) {\r\n                            if (\"update\" === change.changeType && 0 === change.rowIndices.length && change.cancelEmptyChanges) {\r\n                                change.cancel = true\r\n                            }\r\n                            return\r\n                        }\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            var visibleItems = this._visibleItems;\r\n                            var isRefresh = \"refresh\" === change.changeType || change.isLiveUpdate;\r\n                            if (\"append\" === change.changeType && change.items && !change.items.length) {\r\n                                return\r\n                            }\r\n                            if (isRefresh || \"append\" === change.changeType || \"prepend\" === change.changeType) {\r\n                                change.cancel = true;\r\n                                isRefresh && rowsScrollController.reset(true);\r\n                                rowsScrollController.load()\r\n                            } else {\r\n                                if (\"update\" === change.changeType) {\r\n                                    change.rowIndices.forEach((rowIndex, index) => {\r\n                                        var changeType = change.changeTypes[index];\r\n                                        var newItem = change.items[index];\r\n                                        if (\"update\" === changeType) {\r\n                                            visibleItems[rowIndex] = newItem\r\n                                        } else if (\"insert\" === changeType) {\r\n                                            visibleItems.splice(rowIndex, 0, newItem)\r\n                                        } else if (\"remove\" === changeType) {\r\n                                            visibleItems.splice(rowIndex, 1)\r\n                                        }\r\n                                    })\r\n                                } else {\r\n                                    visibleItems.forEach((item, index) => {\r\n                                        visibleItems[index] = this._items[index + delta] || visibleItems[index]\r\n                                    });\r\n                                    change.items = visibleItems\r\n                                }\r\n                                updateItemIndices(visibleItems)\r\n                            }\r\n                        }\r\n                    },\r\n                    _updateLoadViewportParams: function() {\r\n                        var viewportParams = this._rowsScrollController.getViewportParams();\r\n                        var pageSize = this.pageSize();\r\n                        if (viewportParams && !isVirtualPaging(this) && pageSize > 0) {\r\n                            var pageOffset = this.pageIndex() * pageSize;\r\n                            viewportParams.skip += pageOffset\r\n                        }\r\n                        this._loadViewportParams = viewportParams\r\n                    },\r\n                    _processItems: function(items) {\r\n                        var newItems = this.callBase.apply(this, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            var _dataSource$lastLoadO;\r\n                            var dataSource = this._dataSource;\r\n                            var currentIndex = null !== (_dataSource$lastLoadO = null === dataSource || void 0 === dataSource ? void 0 : dataSource.lastLoadOptions().skip) && void 0 !== _dataSource$lastLoadO ? _dataSource$lastLoadO : 0;\r\n                            var prevCountable;\r\n                            var prevRowType;\r\n                            var isPrevRowNew;\r\n                            var wasCountableItem = false;\r\n                            newItems.forEach(item => {\r\n                                var rowType = item.rowType;\r\n                                var itemCountable = isItemCountableByDataSource(item, dataSource);\r\n                                if (!item.isNewRow && isDefined(prevCountable)) {\r\n                                    var isNextGroupItem = \"group\" === rowType && (prevCountable || itemCountable || \"group\" !== prevRowType && currentIndex > 0);\r\n                                    var isNextDataItem = \"data\" === rowType && itemCountable && (prevCountable || \"group\" !== prevRowType);\r\n                                    var isPrevNewRowFirst = isPrevRowNew && !wasCountableItem;\r\n                                    if (isNextGroupItem || isNextDataItem) {\r\n                                        wasCountableItem = true;\r\n                                        if (!isPrevNewRowFirst) {\r\n                                            currentIndex++\r\n                                        }\r\n                                    }\r\n                                }\r\n                                item.loadIndex = currentIndex;\r\n                                prevCountable = itemCountable;\r\n                                prevRowType = rowType;\r\n                                isPrevRowNew = item.isNewRow\r\n                            })\r\n                        }\r\n                        return newItems\r\n                    },\r\n                    _afterProcessItems: function(items) {\r\n                        this._itemCount = items.filter(item => isItemCountableByDataSource(item, this._dataSource)).length;\r\n                        if (isDefined(this._loadViewportParams)) {\r\n                            this._updateLoadViewportParams();\r\n                            var result = items;\r\n                            this._allItems = items;\r\n                            if (items.length) {\r\n                                var {\r\n                                    skipForCurrentPage: skipForCurrentPage\r\n                                } = this.getLoadPageParams(true);\r\n                                var skip = items[0].loadIndex + skipForCurrentPage;\r\n                                var take = this._loadViewportParams.take;\r\n                                result = items.filter(it => {\r\n                                    var isNewRowOnStart = it.isNewRow && it.loadIndex >= skip - 1;\r\n                                    var isNewRowInEmptyData = it.isNewRow && it.loadIndex === skip && 0 === take;\r\n                                    var isLoadIndexGreaterStart = it.loadIndex >= skip || isNewRowOnStart;\r\n                                    var isLoadIndexLessEnd = it.loadIndex < skip + take || isNewRowInEmptyData;\r\n                                    return isLoadIndexGreaterStart && isLoadIndexLessEnd\r\n                                })\r\n                            }\r\n                            return result\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    _applyChange: function(change) {\r\n                        var that = this;\r\n                        var items = change.items;\r\n                        var changeType = change.changeType;\r\n                        var removeCount = change.removeCount;\r\n                        if (removeCount) {\r\n                            var fromEnd = \"prepend\" === changeType;\r\n                            removeCount = _correctCount(that._items, removeCount, fromEnd, (function(item, isNextAfterLast) {\r\n                                return \"data\" === item.rowType && !item.isNewRow || \"group\" === item.rowType && (that._dataSource.isGroupItemCountable(item.data) || isNextAfterLast)\r\n                            }));\r\n                            change.removeCount = removeCount\r\n                        }\r\n                        switch (changeType) {\r\n                            case \"prepend\":\r\n                                that._items.unshift.apply(that._items, items);\r\n                                if (removeCount) {\r\n                                    that._items.splice(-removeCount)\r\n                                }\r\n                                break;\r\n                            case \"append\":\r\n                                that._items.push.apply(that._items, items);\r\n                                if (removeCount) {\r\n                                    that._items.splice(0, removeCount)\r\n                                }\r\n                                break;\r\n                            default:\r\n                                that.callBase(change)\r\n                        }\r\n                    },\r\n                    items: function(allItems) {\r\n                        return allItems ? this._allItems || this._items : this._visibleItems || this._items\r\n                    },\r\n                    getRowIndexDelta: function() {\r\n                        var delta = 0;\r\n                        if (this.option(LEGACY_SCROLLING_MODE)) {\r\n                            var visibleItems = this._visibleItems;\r\n                            if (visibleItems && visibleItems[0]) {\r\n                                delta = this._items.indexOf(visibleItems[0])\r\n                            }\r\n                        }\r\n                        return delta < 0 ? 0 : delta\r\n                    },\r\n                    getRowIndexOffset: function(byLoadedRows) {\r\n                        var offset = 0;\r\n                        var dataSource = this.dataSource();\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        if (rowsScrollController && !byLoadedRows) {\r\n                            if (newMode && isDefined(this._loadViewportParams)) {\r\n                                var {\r\n                                    skipForCurrentPage: skipForCurrentPage,\r\n                                    pageIndex: pageIndex\r\n                                } = this.getLoadPageParams(true);\r\n                                var items = this.items(true);\r\n                                offset = virtualPaging ? pageIndex * this.pageSize() : 0;\r\n                                if (items.length) {\r\n                                    var firstLoadIndex = items[0].loadIndex;\r\n                                    offset += items.filter(item => item.loadIndex < firstLoadIndex + skipForCurrentPage).length\r\n                                }\r\n                            } else {\r\n                                offset = rowsScrollController.beginPageIndex() * rowsScrollController.pageSize()\r\n                            }\r\n                        } else if (virtualPaging && newMode && dataSource) {\r\n                            var _dataSource$lastLoadO2;\r\n                            offset = null !== (_dataSource$lastLoadO2 = dataSource.lastLoadOptions().skip) && void 0 !== _dataSource$lastLoadO2 ? _dataSource$lastLoadO2 : 0\r\n                        } else if (isVirtualMode(this) && dataSource) {\r\n                            offset = dataSource.beginPageIndex() * dataSource.pageSize()\r\n                        }\r\n                        return offset\r\n                    },\r\n                    viewportSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        var result = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.viewportSize.apply(rowsScrollController, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return result\r\n                        }\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.viewportSize.apply(dataSource, arguments)\r\n                    },\r\n                    viewportHeight: function(height) {\r\n                        var _this$_rowsScrollCont;\r\n                        null === (_this$_rowsScrollCont = this._rowsScrollController) || void 0 === _this$_rowsScrollCont ? void 0 : _this$_rowsScrollCont.viewportHeight(height)\r\n                    },\r\n                    viewportItemSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        var result = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.viewportItemSize.apply(rowsScrollController, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return result\r\n                        }\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.viewportItemSize.apply(dataSource, arguments)\r\n                    },\r\n                    setViewportPosition: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        if (rowsScrollController) {\r\n                            rowsScrollController.setViewportPosition.apply(rowsScrollController, arguments)\r\n                        } else {\r\n                            null === dataSource || void 0 === dataSource ? void 0 : dataSource.setViewportPosition.apply(dataSource, arguments)\r\n                        }\r\n                    },\r\n                    setContentItemSizes: function(sizes) {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        var result = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.setContentItemSizes(sizes);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return result\r\n                        }\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.setContentItemSizes(sizes)\r\n                    },\r\n                    getPreloadedRowCount: function() {\r\n                        var preloadCount = this.option(\"scrolling.preloadedRowCount\");\r\n                        var preloadEnabled = this.option(\"scrolling.preloadEnabled\");\r\n                        if (isDefined(preloadCount)) {\r\n                            return preloadCount\r\n                        }\r\n                        var viewportSize = this.viewportSize();\r\n                        return preloadEnabled ? 2 * viewportSize : viewportSize\r\n                    },\r\n                    getLoadPageParams: function(byLoadedPage) {\r\n                        var _this$_dataSource3, _this$_dataSource4;\r\n                        var pageSize = this.pageSize();\r\n                        var viewportParams = this._loadViewportParams;\r\n                        var lastLoadOptions = null === (_this$_dataSource3 = this._dataSource) || void 0 === _this$_dataSource3 ? void 0 : _this$_dataSource3.lastLoadOptions();\r\n                        var loadedPageIndex = (null === lastLoadOptions || void 0 === lastLoadOptions ? void 0 : lastLoadOptions.pageIndex) || 0;\r\n                        var loadedTake = (null === lastLoadOptions || void 0 === lastLoadOptions ? void 0 : lastLoadOptions.take) || 0;\r\n                        var isScrollingBack = this._rowsScrollController.isScrollingBack();\r\n                        var topPreloadCount = isScrollingBack ? this.getPreloadedRowCount() : 0;\r\n                        var bottomPreloadCount = isScrollingBack ? 0 : this.getPreloadedRowCount();\r\n                        var totalCountCorrection = (null === (_this$_dataSource4 = this._dataSource) || void 0 === _this$_dataSource4 ? void 0 : _this$_dataSource4.totalCountCorrection()) || 0;\r\n                        var skipWithPreload = Math.max(0, viewportParams.skip - topPreloadCount);\r\n                        var pageIndex = byLoadedPage ? loadedPageIndex : Math.floor(pageSize ? skipWithPreload / pageSize : 0);\r\n                        var pageOffset = pageIndex * pageSize;\r\n                        var skipForCurrentPage = viewportParams.skip - pageOffset;\r\n                        var loadingTake = viewportParams.take + skipForCurrentPage + bottomPreloadCount - totalCountCorrection;\r\n                        var take = byLoadedPage ? loadedTake : loadingTake;\r\n                        var loadPageCount = Math.ceil(pageSize ? take / pageSize : 0);\r\n                        return {\r\n                            pageIndex: pageIndex,\r\n                            loadPageCount: Math.max(1, loadPageCount),\r\n                            skipForCurrentPage: Math.max(0, skipForCurrentPage)\r\n                        }\r\n                    },\r\n                    _updateVisiblePageIndex: function(currentPageIndex) {\r\n                        if (!this._rowsScrollController) {\r\n                            return\r\n                        }\r\n                        if (isDefined(currentPageIndex)) {\r\n                            this._silentOption(VISIBLE_PAGE_INDEX, currentPageIndex);\r\n                            this.pageChanged.fire();\r\n                            return\r\n                        }\r\n                        var viewPortItemIndex = this._rowsScrollController.getViewportItemIndex();\r\n                        var newPageIndex = Math.floor(viewPortItemIndex / this.pageSize());\r\n                        if (this.pageIndex() !== newPageIndex) {\r\n                            this._silentOption(VISIBLE_PAGE_INDEX, newPageIndex);\r\n                            this.updateItems({\r\n                                changeType: \"pageIndex\"\r\n                            })\r\n                        }\r\n                    },\r\n                    _getChangedLoadParams: function() {\r\n                        var loadedPageParams = this.getLoadPageParams(true);\r\n                        var {\r\n                            pageIndex: pageIndex,\r\n                            loadPageCount: loadPageCount\r\n                        } = this.getLoadPageParams();\r\n                        var pageIndexIsValid = this._pageIndexIsValid(pageIndex);\r\n                        var result = null;\r\n                        if (!this._isLoading && pageIndexIsValid && (pageIndex !== loadedPageParams.pageIndex || loadPageCount !== loadedPageParams.loadPageCount)) {\r\n                            result = {\r\n                                pageIndex: pageIndex,\r\n                                loadPageCount: loadPageCount\r\n                            }\r\n                        }\r\n                        return result\r\n                    },\r\n                    _pageIndexIsValid: function(pageIndex) {\r\n                        var result = true;\r\n                        if (isAppendMode(this) && this.hasKnownLastPage() || isVirtualMode(this)) {\r\n                            result = pageIndex * this.pageSize() < this.totalItemsCount()\r\n                        }\r\n                        return result\r\n                    },\r\n                    _loadItems: function(checkLoading) {\r\n                        var _dataSourceAdapter$lo, _dataSourceAdapter$pa;\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        var dataSourceAdapter = this._dataSource;\r\n                        var changedParams = this._getChangedLoadParams();\r\n                        var currentLoadPageCount = null !== (_dataSourceAdapter$lo = null === dataSourceAdapter || void 0 === dataSourceAdapter ? void 0 : dataSourceAdapter.loadPageCount()) && void 0 !== _dataSourceAdapter$lo ? _dataSourceAdapter$lo : 0;\r\n                        var lastRequiredItemCount = this.pageSize() * currentLoadPageCount;\r\n                        var currentPageIndex = null !== (_dataSourceAdapter$pa = null === dataSourceAdapter || void 0 === dataSourceAdapter ? void 0 : dataSourceAdapter.pageIndex()) && void 0 !== _dataSourceAdapter$pa ? _dataSourceAdapter$pa : 0;\r\n                        var pageIndexNotChanged = (null === changedParams || void 0 === changedParams ? void 0 : changedParams.pageIndex) === currentPageIndex;\r\n                        var allLoadedInAppendMode = isAppendMode(this) && this.totalItemsCount() < lastRequiredItemCount;\r\n                        var result = false;\r\n                        if (!dataSourceAdapter || virtualPaging && checkLoading && ((null === changedParams || void 0 === changedParams ? void 0 : changedParams.pageIndex) > currentPageIndex || pageIndexNotChanged && allLoadedInAppendMode)) {\r\n                            return result\r\n                        }\r\n                        if (virtualPaging && this._isLoading) {\r\n                            this._needUpdateViewportAfterLoading = true\r\n                        }\r\n                        if (virtualPaging && changedParams) {\r\n                            result = true;\r\n                            dataSourceAdapter.pageIndex(changedParams.pageIndex);\r\n                            dataSourceAdapter.loadPageCount(changedParams.loadPageCount);\r\n                            this._repaintChangesOnly = true;\r\n                            this._needUpdateDimensions = true;\r\n                            var viewportChanging = this._viewportChanging;\r\n                            this.load().always(() => {\r\n                                this._repaintChangesOnly = void 0;\r\n                                this._needUpdateDimensions = void 0\r\n                            }).done(() => {\r\n                                var isLastPage = this.pageCount() > 0 && this.pageIndex() === this.pageCount() - 1;\r\n                                (viewportChanging || isLastPage) && this._updateVisiblePageIndex();\r\n                                if (this._needUpdateViewportAfterLoading) {\r\n                                    this._needUpdateViewportAfterLoading = false;\r\n                                    this.loadViewport({\r\n                                        checkLoadedParamsOnly: true\r\n                                    })\r\n                                }\r\n                            })\r\n                        }\r\n                        return result\r\n                    },\r\n                    loadViewport: function(params) {\r\n                        var {\r\n                            checkLoadedParamsOnly: checkLoadedParamsOnly,\r\n                            checkLoading: checkLoading\r\n                        } = null !== params && void 0 !== params ? params : {};\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        if (virtualPaging || gridCoreUtils.isVirtualRowRendering(this)) {\r\n                            this._updateLoadViewportParams();\r\n                            var loadingItemsStarted = this._loadItems(checkLoading);\r\n                            if (!loadingItemsStarted && !(this._isLoading && checkLoading) && !checkLoadedParamsOnly) {\r\n                                this.updateItems({\r\n                                    repaintChangesOnly: true,\r\n                                    needUpdateDimensions: true,\r\n                                    useProcessedItemsCache: true,\r\n                                    cancelEmptyChanges: true\r\n                                })\r\n                            }\r\n                        }\r\n                    },\r\n                    updateViewport: function() {\r\n                        var _this$_loadViewportPa, _this$_loadViewportPa2;\r\n                        var viewportSize = this.viewportSize();\r\n                        var itemCount = this.items().length;\r\n                        var viewportIsNotFilled = viewportSize > itemCount;\r\n                        var currentTake = null !== (_this$_loadViewportPa = null === (_this$_loadViewportPa2 = this._loadViewportParams) || void 0 === _this$_loadViewportPa2 ? void 0 : _this$_loadViewportPa2.take) && void 0 !== _this$_loadViewportPa ? _this$_loadViewportPa : 0;\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var newTake = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.getViewportParams().take;\r\n                        (viewportIsNotFilled || currentTake < newTake) && itemCount && this.loadViewport({\r\n                            checkLoading: true\r\n                        })\r\n                    },\r\n                    loadIfNeed: function() {\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return\r\n                        }\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.loadIfNeed();\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.loadIfNeed()\r\n                    },\r\n                    getItemSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getItemSize.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getItemSize.apply(dataSource, arguments)\r\n                    },\r\n                    getItemSizes: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getItemSizes.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getItemSizes.apply(dataSource, arguments)\r\n                    },\r\n                    getContentOffset: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getContentOffset.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getContentOffset.apply(dataSource, arguments)\r\n                    },\r\n                    refresh: function(options) {\r\n                        var dataSource = this._dataSource;\r\n                        if (dataSource && options && options.load && isAppendMode(this)) {\r\n                            dataSource.resetCurrentTotalCount()\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    dispose: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.dispose();\r\n                        this.callBase.apply(this, arguments)\r\n                    },\r\n                    topItemIndex: function() {\r\n                        var _this$_loadViewportPa3;\r\n                        return null === (_this$_loadViewportPa3 = this._loadViewportParams) || void 0 === _this$_loadViewportPa3 ? void 0 : _this$_loadViewportPa3.skip\r\n                    },\r\n                    bottomItemIndex: function() {\r\n                        var viewportParams = this._loadViewportParams;\r\n                        return viewportParams && viewportParams.skip + viewportParams.take\r\n                    },\r\n                    virtualItemsCount: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.virtualItemsCount.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.virtualItemsCount.apply(dataSource, arguments)\r\n                    },\r\n                    pageIndex: function(_pageIndex) {\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && virtualPaging && rowsScrollController) {\r\n                            if (void 0 === _pageIndex) {\r\n                                var _this$option;\r\n                                return null !== (_this$option = this.option(VISIBLE_PAGE_INDEX)) && void 0 !== _this$option ? _this$option : 0\r\n                            }\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    _fireChanged: function(e) {\r\n                        this.callBase.apply(this, arguments);\r\n                        var {\r\n                            operationTypes: operationTypes\r\n                        } = e;\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && isVirtualPaging(this) && operationTypes) {\r\n                            var {\r\n                                fullReload: fullReload,\r\n                                pageIndex: pageIndex\r\n                            } = operationTypes;\r\n                            if (e.isDataChanged && !fullReload && pageIndex) {\r\n                                this._updateVisiblePageIndex(this._dataSource.pageIndex())\r\n                            }\r\n                        }\r\n                    },\r\n                    _getPagingOptionValue: function(optionName) {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && isVirtualPaging(this)) {\r\n                            result = this[optionName]()\r\n                        }\r\n                        return result\r\n                    },\r\n                    isEmpty: function() {\r\n                        return false === this.option(LEGACY_SCROLLING_MODE) ? !this.items(true).length : this.callBase(this, arguments)\r\n                    },\r\n                    isLastPageLoaded: function() {\r\n                        var result = false;\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && isVirtualPaging(this)) {\r\n                            var {\r\n                                pageIndex: pageIndex,\r\n                                loadPageCount: loadPageCount\r\n                            } = this.getLoadPageParams(true);\r\n                            var pageCount = this.pageCount();\r\n                            result = pageIndex + loadPageCount >= pageCount\r\n                        } else {\r\n                            result = this.callBase.apply(this, arguments)\r\n                        }\r\n                        return result\r\n                    },\r\n                    reset: function() {\r\n                        this._itemCount = 0;\r\n                        this._allItems = null;\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                };\r\n                gridCoreUtils.proxyMethod(members, \"getVirtualContentSize\");\r\n                gridCoreUtils.proxyMethod(members, \"setViewportItemIndex\");\r\n                return members\r\n            }(),\r\n            resizing: {\r\n                resize: function() {\r\n                    var that = this;\r\n                    var callBase = that.callBase;\r\n                    var result;\r\n                    if (isVirtualMode(that) || gridCoreUtils.isVirtualRowRendering(that)) {\r\n                        clearTimeout(that._resizeTimeout);\r\n                        var diff = new Date - that._lastTime;\r\n                        var updateTimeout = that.option(\"scrolling.updateTimeout\");\r\n                        if (that._lastTime && diff < updateTimeout) {\r\n                            result = new Deferred;\r\n                            that._resizeTimeout = setTimeout((function() {\r\n                                callBase.apply(that).done(result.resolve).fail(result.reject);\r\n                                that._lastTime = new Date\r\n                            }), updateTimeout);\r\n                            that._lastTime = new Date\r\n                        } else {\r\n                            result = callBase.apply(that);\r\n                            if (that._dataController.isLoaded()) {\r\n                                that._lastTime = new Date\r\n                            }\r\n                        }\r\n                    } else {\r\n                        result = callBase.apply(that)\r\n                    }\r\n                    return result\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._resizeTimeout)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: VirtualScrollingRowsViewExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.virtual_scrolling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport dataSourceAdapter from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    virtualScrollingModule\r\n} from \"../grid_core/ui.grid_core.virtual_scrolling\";\r\ngridCore.registerModule(\"virtualScrolling\", virtualScrollingModule);\r\ndataSourceAdapter.extend(virtualScrollingModule.extenders.dataSourceAdapter);\r\n","/**\r\n * DevExtreme (esm/ui/overlay/utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getInnerHeight,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    isNumeric\r\n} from \"../../core/utils/type\";\r\nvar WINDOW_HEIGHT_PERCENT = .9;\r\nexport var getElementMaxHeightByWindow = ($element, startLocation) => {\r\n    var $window = $(getWindow());\r\n    var {\r\n        top: elementOffset\r\n    } = $element.offset();\r\n    var actualOffset;\r\n    if (isNumeric(startLocation)) {\r\n        if (startLocation < elementOffset) {\r\n            return elementOffset - startLocation\r\n        } else {\r\n            actualOffset = getInnerHeight($window) - startLocation + $window.scrollTop()\r\n        }\r\n    } else {\r\n        var offsetTop = elementOffset - $window.scrollTop();\r\n        var offsetBottom = getInnerHeight($window) - offsetTop - getOuterHeight($element);\r\n        actualOffset = Math.max(offsetTop, offsetBottom)\r\n    }\r\n    return actualOffset * WINDOW_HEIGHT_PERCENT\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/menu/ui.submenu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight,\r\n    setWidth,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport animationPosition from \"../../animation/position\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport ContextMenu from \"../context_menu\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nclass Submenu extends ContextMenu {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            orientation: \"horizontal\",\r\n            tabIndex: null,\r\n            onHoverStart: noop\r\n        })\r\n    }\r\n    _initDataAdapter() {\r\n        this._dataAdapter = this.option(\"_dataAdapter\");\r\n        if (!this._dataAdapter) {\r\n            super._initDataAdapter()\r\n        }\r\n    }\r\n    _renderContentImpl() {\r\n        this._renderContextMenuOverlay();\r\n        super._renderContentImpl();\r\n        var node = this._dataAdapter.getNodeByKey(this.option(\"_parentKey\"));\r\n        node && this._renderItems(this._getChildNodes(node));\r\n        this._renderDelimiter()\r\n    }\r\n    _renderDelimiter() {\r\n        this.$contentDelimiter = $(\"<div>\").appendTo(this._itemContainer()).addClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)\r\n    }\r\n    _getOverlayOptions() {\r\n        return extend(super._getOverlayOptions(), {\r\n            onPositioned: this._overlayPositionedActionHandler.bind(this)\r\n        })\r\n    }\r\n    _overlayPositionedActionHandler(arg) {\r\n        this._showDelimiter(arg)\r\n    }\r\n    _hoverEndHandler(e) {\r\n        super._hoverEndHandler(e);\r\n        this._toggleFocusClass(false, e.currentTarget)\r\n    }\r\n    _isMenuHorizontal() {\r\n        return \"horizontal\" === this.option(\"orientation\")\r\n    }\r\n    _hoverStartHandler(e) {\r\n        var hoverStartAction = this.option(\"onHoverStart\");\r\n        hoverStartAction(e);\r\n        super._hoverStartHandler(e);\r\n        this._toggleFocusClass(true, e.currentTarget)\r\n    }\r\n    _drawSubmenu($rootItem) {\r\n        this._actions.onShowing({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        });\r\n        super._drawSubmenu($rootItem);\r\n        this._actions.onShown({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        })\r\n    }\r\n    _hideSubmenu($rootItem) {\r\n        this._actions.onHiding({\r\n            cancel: true,\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        });\r\n        super._hideSubmenu($rootItem);\r\n        this._actions.onHidden({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        })\r\n    }\r\n    _showDelimiter(arg) {\r\n        if (!this.$contentDelimiter) {\r\n            return\r\n        }\r\n        var $submenu = this._itemContainer().children(\".\".concat(DX_SUBMENU_CLASS)).eq(0);\r\n        var $rootItem = this.option(\"position\").of;\r\n        var position = {\r\n            of: $submenu\r\n        };\r\n        var containerOffset = arg.position;\r\n        var vLocation = containerOffset.v.location;\r\n        var hLocation = containerOffset.h.location;\r\n        var rootOffset = $rootItem.offset();\r\n        var offsetLeft = Math.round(rootOffset.left);\r\n        var offsetTop = Math.round(rootOffset.top);\r\n        var rootWidth = getWidth($rootItem);\r\n        var rootHeight = getHeight($rootItem);\r\n        var submenuWidth = getWidth($submenu);\r\n        var submenuHeight = getHeight($submenu);\r\n        this.$contentDelimiter.css(\"display\", \"block\");\r\n        setWidth(this.$contentDelimiter, this._isMenuHorizontal() ? rootWidth < submenuWidth ? rootWidth - 2 : submenuWidth : 2);\r\n        setHeight(this.$contentDelimiter, this._isMenuHorizontal() ? 2 : rootHeight < submenuHeight ? rootHeight - 2 : submenuHeight);\r\n        if (this._isMenuHorizontal()) {\r\n            if (vLocation > offsetTop) {\r\n                if (Math.round(hLocation) === offsetLeft) {\r\n                    position.offset = \"1 -1\";\r\n                    position.at = position.my = \"left top\"\r\n                } else {\r\n                    position.offset = \"-1 -1\";\r\n                    position.at = position.my = \"right top\"\r\n                }\r\n            } else {\r\n                setHeight(this.$contentDelimiter, 5);\r\n                if (Math.round(hLocation) === offsetLeft) {\r\n                    position.offset = \"1 4\";\r\n                    position.at = position.my = \"left bottom\"\r\n                } else {\r\n                    position.offset = \"-1 2\";\r\n                    position.at = position.my = \"right bottom\"\r\n                }\r\n            }\r\n        } else if (hLocation > offsetLeft) {\r\n            if (Math.round(vLocation) === offsetTop) {\r\n                position.offset = \"-1 1\";\r\n                position.at = position.my = \"left top\"\r\n            } else {\r\n                position.offset = \"-1 -1\";\r\n                position.at = position.my = \"left bottom\"\r\n            }\r\n        } else if (Math.round(vLocation) === offsetTop) {\r\n            position.offset = \"1 1\";\r\n            position.at = position.my = \"right top\"\r\n        } else {\r\n            position.offset = \"1 -1\";\r\n            position.at = position.my = \"right bottom\"\r\n        }\r\n        animationPosition.setup(this.$contentDelimiter, position)\r\n    }\r\n    _getContextMenuPosition() {\r\n        return this.option(\"position\")\r\n    }\r\n    isOverlayVisible() {\r\n        return this._overlay.option(\"visible\")\r\n    }\r\n    getOverlayContent() {\r\n        return this._overlay.$content()\r\n    }\r\n}\r\nexport default Submenu;\r\n","/**\r\n * DevExtreme (esm/ui/menu/ui.menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isPlainObject,\r\n    isObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getElementMaxHeightByWindow\r\n} from \"../overlay/utils\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    end as hoverEventEnd\r\n} from \"../../events/hover\";\r\nimport MenuBase from \"../context_menu/ui.menu_base\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport Submenu from \"./ui.submenu\";\r\nimport Button from \"../button\";\r\nimport TreeView from \"../tree_view\";\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\r\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\r\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\r\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\r\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\r\nvar NEXTITEM_OPERATION = \"nextItem\";\r\nvar PREVITEM_OPERATION = \"prevItem\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\", \"onItemRendered\"];\r\nclass Menu extends MenuBase {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            orientation: \"horizontal\",\r\n            submenuDirection: \"auto\",\r\n            showFirstSubmenuMode: {\r\n                name: \"onClick\",\r\n                delay: {\r\n                    show: 50,\r\n                    hide: 300\r\n                }\r\n            },\r\n            hideSubmenuOnMouseLeave: false,\r\n            onSubmenuShowing: null,\r\n            onSubmenuShown: null,\r\n            onSubmenuHiding: null,\r\n            onSubmenuHidden: null,\r\n            adaptivityEnabled: false\r\n        })\r\n    }\r\n    _setOptionsByReference() {\r\n        super._setOptionsByReference();\r\n        extend(this._optionsByReference, {\r\n            animation: true,\r\n            selectedItem: true\r\n        })\r\n    }\r\n    _itemElements() {\r\n        var rootMenuElements = super._itemElements();\r\n        var submenuElements = this._submenuItemElements();\r\n        return rootMenuElements.add(submenuElements)\r\n    }\r\n    _submenuItemElements() {\r\n        var elements = [];\r\n        var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\r\n        var currentSubmenu = this._submenus.length && this._submenus[0];\r\n        if (currentSubmenu && currentSubmenu.itemsContainer()) {\r\n            elements = currentSubmenu.itemsContainer().find(itemSelector)\r\n        }\r\n        return elements\r\n    }\r\n    _focusTarget() {\r\n        return this.$element()\r\n    }\r\n    _isMenuHorizontal() {\r\n        return \"horizontal\" === this.option(\"orientation\")\r\n    }\r\n    _moveFocus(location) {\r\n        var $items = this._getAvailableItems();\r\n        var isMenuHorizontal = this._isMenuHorizontal();\r\n        var $activeItem = this._getActiveItem(true);\r\n        var argument;\r\n        var operation;\r\n        var navigationAction;\r\n        var $newTarget;\r\n        switch (location) {\r\n            case FOCUS_UP:\r\n                operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\r\n                argument = isMenuHorizontal ? $activeItem : $items;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            case FOCUS_DOWN:\r\n                operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\r\n                argument = isMenuHorizontal ? $activeItem : $items;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                argument = isMenuHorizontal ? $items : $activeItem;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            case FOCUS_LEFT:\r\n                operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                argument = isMenuHorizontal ? $items : $activeItem;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            default:\r\n                return super._moveFocus(location)\r\n        }\r\n        if ($newTarget && 0 !== $newTarget.length) {\r\n            this.option(\"focusedElement\", getPublicElement($newTarget))\r\n        }\r\n    }\r\n    _getItemsNavigationOperation(operation) {\r\n        var navOperation = operation;\r\n        if (this.option(\"rtlEnabled\")) {\r\n            navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION\r\n        }\r\n        return navOperation\r\n    }\r\n    _getKeyboardNavigationAction(operation, argument) {\r\n        var action = noop;\r\n        switch (operation) {\r\n            case SHOW_SUBMENU_OPERATION:\r\n                if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n                    action = this._showSubmenu.bind(this, argument)\r\n                }\r\n                break;\r\n            case NEXTITEM_OPERATION:\r\n                action = this._nextItem.bind(this, argument);\r\n                break;\r\n            case PREVITEM_OPERATION:\r\n                action = this._prevItem.bind(this, argument)\r\n        }\r\n        return action\r\n    }\r\n    _clean() {\r\n        super._clean();\r\n        this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer)\r\n    }\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            if (!this._menuItemsWidth) {\r\n                this._updateItemsWidthCache()\r\n            }\r\n            this._dimensionChanged()\r\n        }\r\n    }\r\n    _isAdaptivityEnabled() {\r\n        return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\")\r\n    }\r\n    _updateItemsWidthCache() {\r\n        var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\r\n        this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true)\r\n    }\r\n    _dimensionChanged() {\r\n        if (!this._isAdaptivityEnabled()) {\r\n            return\r\n        }\r\n        var containerWidth = getOuterWidth(this.$element());\r\n        this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth)\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this._submenus = []\r\n    }\r\n    _initActions() {\r\n        this._actions = {};\r\n        each(ACTIONS, (index, action) => {\r\n            this._actions[action] = this._createActionByOption(action)\r\n        })\r\n    }\r\n    _initMarkup() {\r\n        this._visibleSubmenu = null;\r\n        this.$element().addClass(DX_MENU_CLASS);\r\n        super._initMarkup();\r\n        this.setAria(\"role\", \"menubar\")\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this._initAdaptivity()\r\n    }\r\n    _renderHamburgerButton() {\r\n        this._hamburger = new Button($(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\r\n            icon: \"menu\",\r\n            activeStateEnabled: false,\r\n            onClick: this._toggleTreeView.bind(this)\r\n        });\r\n        return this._hamburger.$element()\r\n    }\r\n    _toggleTreeView(state) {\r\n        if (isPlainObject(state)) {\r\n            state = !this._overlay.option(\"visible\")\r\n        }\r\n        this._overlay.option(\"visible\", state);\r\n        this._toggleHamburgerActiveState(state)\r\n    }\r\n    _toggleHamburgerActiveState(state) {\r\n        this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state)\r\n    }\r\n    _toggleAdaptiveMode(state) {\r\n        var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\r\n        var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\r\n        if (state) {\r\n            this._hideVisibleSubmenu()\r\n        } else {\r\n            this._treeView && this._treeView.collapseAll();\r\n            this._overlay && this._toggleTreeView(state)\r\n        }\r\n        $menuItemsContainer.toggle(!state);\r\n        $adaptiveElements.toggle(state)\r\n    }\r\n    _removeAdaptivity() {\r\n        if (!this._$adaptiveContainer) {\r\n            return\r\n        }\r\n        this._toggleAdaptiveMode(false);\r\n        this._$adaptiveContainer.remove();\r\n        this._$adaptiveContainer = null;\r\n        this._treeView = null;\r\n        this._hamburger = null;\r\n        this._overlay = null\r\n    }\r\n    _treeviewItemClickHandler(e) {\r\n        this._actions.onItemClick(e);\r\n        if (!e.node.children.length) {\r\n            this._toggleTreeView(false)\r\n        }\r\n    }\r\n    _getAdaptiveOverlayOptions() {\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        var position = rtl ? \"right\" : \"left\";\r\n        return {\r\n            _ignoreFunctionValueDeprecation: true,\r\n            maxHeight: () => getElementMaxHeightByWindow(this.$element()),\r\n            deferRendering: false,\r\n            shading: false,\r\n            animation: false,\r\n            hideOnParentScroll: true,\r\n            onHidden: () => {\r\n                this._toggleHamburgerActiveState(false)\r\n            },\r\n            height: \"auto\",\r\n            closeOnOutsideClick: e => !$(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length,\r\n            position: {\r\n                collision: \"flipfit\",\r\n                at: \"bottom \" + position,\r\n                my: \"top \" + position,\r\n                of: this._hamburger.$element()\r\n            }\r\n        }\r\n    }\r\n    _getTreeViewOptions() {\r\n        var menuOptions = {};\r\n        each([\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"], (_, option) => {\r\n            menuOptions[option] = this.option(option)\r\n        });\r\n        each([\"onItemContextMenu\", \"onSelectionChanged\"], (_, actionName) => {\r\n            menuOptions[actionName] = e => {\r\n                this._actions[actionName](e)\r\n            }\r\n        });\r\n        return extend(menuOptions, {\r\n            dataSource: this.getDataSource(),\r\n            animationEnabled: !!this.option(\"animation\"),\r\n            onItemClick: this._treeviewItemClickHandler.bind(this),\r\n            onItemExpanded: e => {\r\n                this._overlay.repaint();\r\n                this._actions.onSubmenuShown(e)\r\n            },\r\n            onItemCollapsed: e => {\r\n                this._overlay.repaint();\r\n                this._actions.onSubmenuHidden(e)\r\n            },\r\n            selectNodesRecursive: false,\r\n            selectByClick: this.option(\"selectByClick\"),\r\n            expandEvent: \"click\"\r\n        })\r\n    }\r\n    _initAdaptivity() {\r\n        if (!this._isAdaptivityEnabled()) {\r\n            return\r\n        }\r\n        this._$adaptiveContainer = $(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\r\n        var $hamburger = this._renderHamburgerButton();\r\n        this._treeView = this._createComponent($(\"<div>\"), TreeView, this._getTreeViewOptions());\r\n        this._overlay = this._createComponent($(\"<div>\"), Overlay, this._getAdaptiveOverlayOptions());\r\n        this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\r\n        this._overlay.$wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\r\n        this._$adaptiveContainer.append($hamburger);\r\n        this._$adaptiveContainer.append(this._overlay.$element());\r\n        this.$element().append(this._$adaptiveContainer);\r\n        this._updateItemsWidthCache();\r\n        this._dimensionChanged()\r\n    }\r\n    _getDelay(delayType) {\r\n        var delay = this.option(\"showFirstSubmenuMode\").delay;\r\n        if (!isDefined(delay)) {\r\n            return DEFAULT_DELAY[delayType]\r\n        } else {\r\n            return isObject(delay) ? delay[delayType] : delay\r\n        }\r\n    }\r\n    _keyboardHandler(e) {\r\n        return super._keyboardHandler(e, !!this._visibleSubmenu)\r\n    }\r\n    _renderContainer() {\r\n        var $wrapper = $(\"<div>\");\r\n        $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\r\n        return super._renderContainer($wrapper)\r\n    }\r\n    _renderSubmenuItems(node, $itemFrame) {\r\n        var submenu = this._createSubmenu(node, $itemFrame);\r\n        this._submenus.push(submenu);\r\n        this._renderBorderElement($itemFrame);\r\n        return submenu\r\n    }\r\n    _getKeyboardListeners() {\r\n        return super._getKeyboardListeners().concat(this._visibleSubmenu)\r\n    }\r\n    _createSubmenu(node, $rootItem) {\r\n        var $submenuContainer = $(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\r\n        var items = this._getChildNodes(node);\r\n        var result = this._createComponent($submenuContainer, Submenu, extend(this._getSubmenuOptions(), {\r\n            _dataAdapter: this._dataAdapter,\r\n            _parentKey: node.internalFields.key,\r\n            items: items,\r\n            onHoverStart: this._clearTimeouts.bind(this),\r\n            position: this.getSubmenuPosition($rootItem)\r\n        }));\r\n        this._attachSubmenuHandlers($rootItem, result);\r\n        return result\r\n    }\r\n    _getSubmenuOptions() {\r\n        var $submenuTarget = $(\"<div>\");\r\n        var isMenuHorizontal = this._isMenuHorizontal();\r\n        return {\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            target: $submenuTarget,\r\n            orientation: this.option(\"orientation\"),\r\n            selectionMode: this.option(\"selectionMode\"),\r\n            cssClass: this.option(\"cssClass\"),\r\n            selectByClick: this.option(\"selectByClick\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            animation: this.option(\"animation\"),\r\n            showSubmenuMode: this.option(\"showSubmenuMode\"),\r\n            displayExpr: this.option(\"displayExpr\"),\r\n            disabledExpr: this.option(\"disabledExpr\"),\r\n            selectedExpr: this.option(\"selectedExpr\"),\r\n            itemsExpr: this.option(\"itemsExpr\"),\r\n            onFocusedItemChanged: e => {\r\n                if (!e.component.option(\"visible\")) {\r\n                    return\r\n                }\r\n                this.option(\"focusedElement\", e.component.option(\"focusedElement\"))\r\n            },\r\n            onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\r\n            onItemClick: this._nestedItemOnItemClickHandler.bind(this),\r\n            onItemRendered: this._nestedItemOnItemRenderedHandler.bind(this),\r\n            onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\r\n            onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\r\n            onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\r\n            onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\r\n        }\r\n    }\r\n    _getShowFirstSubmenuMode() {\r\n        if (!this._isDesktopDevice()) {\r\n            return \"onClick\"\r\n        }\r\n        var optionValue = this.option(\"showFirstSubmenuMode\");\r\n        return isObject(optionValue) ? optionValue.name : optionValue\r\n    }\r\n    _moveMainMenuFocus(direction) {\r\n        var $items = this._getAvailableItems();\r\n        var itemCount = $items.length;\r\n        var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\r\n        var itemIndex = $items.index($currentItem);\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\r\n        if (itemIndex >= itemCount) {\r\n            itemIndex = 0\r\n        } else if (itemIndex < 0) {\r\n            itemIndex = itemCount - 1\r\n        }\r\n        var $newItem = $items.eq(itemIndex);\r\n        this.option(\"focusedElement\", getPublicElement($newItem))\r\n    }\r\n    _nestedItemOnSelectionChangedHandler(args) {\r\n        var selectedItem = args.addedItems.length && args.addedItems[0];\r\n        var submenu = Submenu.getInstance(args.element);\r\n        var onSelectionChanged = this._actions.onSelectionChanged;\r\n        onSelectionChanged(args);\r\n        selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\r\n        this._clearRootSelection();\r\n        this._setOptionWithoutOptionChange(\"selectedItem\", selectedItem)\r\n    }\r\n    _clearSelectionInSubmenus(item, targetSubmenu) {\r\n        var cleanAllSubmenus = !arguments.length;\r\n        each(this._submenus, (index, submenu) => {\r\n            var $submenu = submenu._itemContainer();\r\n            var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\r\n            var $selectedItem = $submenu.find(\".\".concat(this._selectedItemClass()));\r\n            if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\r\n                $selectedItem.removeClass(this._selectedItemClass());\r\n                var selectedItemData = this._getItemData($selectedItem);\r\n                if (selectedItemData) {\r\n                    selectedItemData.selected = false\r\n                }\r\n                submenu._clearSelectedItems()\r\n            }\r\n        })\r\n    }\r\n    _clearRootSelection() {\r\n        var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\r\n        if ($prevSelectedItem.length) {\r\n            var prevSelectedItemData = this._getItemData($prevSelectedItem);\r\n            prevSelectedItemData.selected = false;\r\n            $prevSelectedItem.removeClass(this._selectedItemClass())\r\n        }\r\n    }\r\n    _nestedItemOnItemClickHandler(e) {\r\n        this._actions.onItemClick(e)\r\n    }\r\n    _nestedItemOnItemRenderedHandler(e) {\r\n        this._actions.onItemRendered(e)\r\n    }\r\n    _attachSubmenuHandlers($rootItem, submenu) {\r\n        var $submenuOverlayContent = submenu.getOverlayContent();\r\n        var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\r\n        var submenuMouseLeaveName = addNamespace(hoverEventEnd, this.NAME + \"_submenu\");\r\n        submenu.option({\r\n            onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\r\n            onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\r\n            onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\r\n            onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\r\n        });\r\n        each(submenus, (index, submenu) => {\r\n            eventsEngine.off(submenu, submenuMouseLeaveName);\r\n            eventsEngine.on(submenu, submenuMouseLeaveName, null, this._submenuMouseLeaveHandler.bind(this, $rootItem))\r\n        })\r\n    }\r\n    _submenuOnShowingHandler($rootItem, submenu) {\r\n        var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n        this._actions.onSubmenuShowing({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: submenu\r\n        });\r\n        $border.show();\r\n        $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n    }\r\n    _submenuOnShownHandler($rootItem, submenu) {\r\n        this._actions.onSubmenuShown({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: submenu\r\n        })\r\n    }\r\n    _submenuOnHidingHandler($rootItem, submenu, eventArgs) {\r\n        var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n        var args = eventArgs;\r\n        args.rootItem = getPublicElement($rootItem);\r\n        args.submenu = submenu;\r\n        this._actions.onSubmenuHiding(args);\r\n        eventArgs = args;\r\n        if (!eventArgs.cancel) {\r\n            if (this._visibleSubmenu === submenu) {\r\n                this._visibleSubmenu = null\r\n            }\r\n            $border.hide();\r\n            $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n        }\r\n    }\r\n    _submenuOnHiddenHandler($rootItem, submenu) {\r\n        this._actions.onSubmenuHidden({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: submenu\r\n        })\r\n    }\r\n    _submenuMouseLeaveHandler($rootItem, eventArgs) {\r\n        var target = $(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\r\n        var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\r\n        if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\r\n            this._clearTimeouts();\r\n            setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"))\r\n        }\r\n    }\r\n    _hideSubmenuAfterTimeout() {\r\n        if (!this._visibleSubmenu) {\r\n            return\r\n        }\r\n        var isRootItemHovered = $(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\r\n        var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\r\n        var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\r\n        if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\r\n            this._visibleSubmenu.hide()\r\n        }\r\n    }\r\n    _getSubmenuByRootElement($rootItem) {\r\n        if (!$rootItem) {\r\n            return false\r\n        }\r\n        var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\r\n        return $submenu.length && Submenu.getInstance($submenu)\r\n    }\r\n    getSubmenuPosition($rootItem) {\r\n        var isHorizontalMenu = this._isMenuHorizontal();\r\n        var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var submenuPosition = {\r\n            collision: \"flip\",\r\n            of: $rootItem\r\n        };\r\n        switch (submenuDirection) {\r\n            case \"leftortop\":\r\n                submenuPosition.at = \"left top\";\r\n                submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                break;\r\n            case \"rightorbottom\":\r\n                submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                submenuPosition.my = \"left top\";\r\n                break;\r\n            default:\r\n                if (isHorizontalMenu) {\r\n                    submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\r\n                    submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                } else {\r\n                    submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\r\n                    submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                }\r\n        }\r\n        return submenuPosition\r\n    }\r\n    _renderBorderElement($item) {\r\n        $(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide()\r\n    }\r\n    _itemPointerDownHandler(e) {\r\n        var $target = $(e.target);\r\n        var $closestItem = $target.closest(this._itemElements());\r\n        if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\r\n            this.option(\"focusedElement\", null);\r\n            return\r\n        }\r\n        super._itemPointerDownHandler(e)\r\n    }\r\n    _hoverStartHandler(e) {\r\n        var mouseMoveEventName = addNamespace(pointerEvents.move, this.NAME);\r\n        var $item = this._getItemElementByEventArgs(e);\r\n        var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n        var isSelectionActive = isDefined(e.buttons) && 1 === e.buttons || !isDefined(e.buttons) && 1 === e.which;\r\n        if (this._isItemDisabled($item)) {\r\n            return\r\n        }\r\n        eventsEngine.off($item, mouseMoveEventName);\r\n        if (!this._hasChildren(node)) {\r\n            this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\r\n            return\r\n        }\r\n        if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\r\n            var submenu = this._getSubmenuByElement($item);\r\n            this._clearTimeouts();\r\n            if (!submenu.isOverlayVisible()) {\r\n                eventsEngine.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\r\n                this._showSubmenuTimer = this._getDelay(\"hide\")\r\n            }\r\n        }\r\n    }\r\n    _hoverEndHandler(eventArg) {\r\n        var $item = this._getItemElementByEventArgs(eventArg);\r\n        var relatedTarget = $(eventArg.relatedTarget);\r\n        super._hoverEndHandler(eventArg);\r\n        this._clearTimeouts();\r\n        if (this._isItemDisabled($item)) {\r\n            return\r\n        }\r\n        if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\r\n            return\r\n        }\r\n        if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\r\n            this._hideSubmenuTimer = setTimeout(() => {\r\n                this._hideSubmenuAfterTimeout()\r\n            }, this._getDelay(\"hide\"))\r\n        }\r\n    }\r\n    _hideVisibleSubmenu() {\r\n        if (!this._visibleSubmenu) {\r\n            return false\r\n        }\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        return true\r\n    }\r\n    _showSubmenu($itemElement) {\r\n        var submenu = this._getSubmenuByElement($itemElement);\r\n        if (this._visibleSubmenu !== submenu) {\r\n            this._hideVisibleSubmenu()\r\n        }\r\n        if (submenu) {\r\n            this._clearTimeouts();\r\n            submenu.show();\r\n            this.option(\"focusedElement\", submenu.option(\"focusedElement\"))\r\n        }\r\n        this._visibleSubmenu = submenu;\r\n        this._hoveredRootItem = $itemElement\r\n    }\r\n    _hideSubmenu(submenu) {\r\n        submenu && submenu.hide();\r\n        if (this._visibleSubmenu === submenu) {\r\n            this._visibleSubmenu = null\r\n        }\r\n        this._hoveredRootItem = null\r\n    }\r\n    _itemMouseMoveHandler(e) {\r\n        if (e.pointers && e.pointers.length) {\r\n            return\r\n        }\r\n        var $item = $(e.currentTarget);\r\n        if (!isDefined(this._showSubmenuTimer)) {\r\n            return\r\n        }\r\n        this._clearTimeouts();\r\n        this._showSubmenuTimer = setTimeout(() => {\r\n            var submenu = this._getSubmenuByElement($item);\r\n            if (submenu && !submenu.isOverlayVisible()) {\r\n                this._showSubmenu($item)\r\n            }\r\n        }, this._getDelay(\"show\"))\r\n    }\r\n    _clearTimeouts() {\r\n        clearTimeout(this._hideSubmenuTimer);\r\n        clearTimeout(this._showSubmenuTimer)\r\n    }\r\n    _getSubmenuByElement($itemElement, itemData) {\r\n        var submenu = this._getSubmenuByRootElement($itemElement);\r\n        if (submenu) {\r\n            return submenu\r\n        } else {\r\n            itemData = itemData || this._getItemData($itemElement);\r\n            var node = this._dataAdapter.getNodeByItem(itemData);\r\n            return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement)\r\n        }\r\n    }\r\n    _updateSubmenuVisibilityOnClick(actionArgs) {\r\n        var args = actionArgs.args.length && actionArgs.args[0];\r\n        if (!args || this._disabledGetter(args.itemData)) {\r\n            return\r\n        }\r\n        var $itemElement = $(args.itemElement);\r\n        var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\r\n        this._updateSelectedItemOnClick(actionArgs);\r\n        if (this._visibleSubmenu) {\r\n            if (this._visibleSubmenu === currentSubmenu) {\r\n                if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\r\n                    this._hideSubmenu(this._visibleSubmenu)\r\n                }\r\n                return\r\n            } else {\r\n                this._hideSubmenu(this._visibleSubmenu)\r\n            }\r\n        }\r\n        if (!currentSubmenu) {\r\n            return\r\n        }\r\n        if (!currentSubmenu.isOverlayVisible()) {\r\n            this._showSubmenu($itemElement);\r\n            return\r\n        }\r\n    }\r\n    _optionChanged(args) {\r\n        if (ACTIONS.indexOf(args.name) >= 0) {\r\n            this._initActions();\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"orientation\":\r\n            case \"submenuDirection\":\r\n                this._invalidate();\r\n                break;\r\n            case \"showFirstSubmenuMode\":\r\n            case \"hideSubmenuOnMouseLeave\":\r\n                break;\r\n            case \"showSubmenuMode\":\r\n                this._changeSubmenusOption(args.name, args.value);\r\n                break;\r\n            case \"adaptivityEnabled\":\r\n                args.value ? this._initAdaptivity() : this._removeAdaptivity();\r\n                break;\r\n            case \"width\":\r\n                if (this._isAdaptivityEnabled()) {\r\n                    this._treeView.option(args.name, args.value);\r\n                    this._overlay.option(args.name, args.value)\r\n                }\r\n                super._optionChanged(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"animation\":\r\n                if (this._isAdaptivityEnabled()) {\r\n                    this._treeView.option(\"animationEnabled\", !!args.value)\r\n                }\r\n                super._optionChanged(args);\r\n                break;\r\n            default:\r\n                if (this._isAdaptivityEnabled() && (args.name === args.fullName || \"items\" === args.name)) {\r\n                    this._treeView.option(args.fullName, args.value)\r\n                }\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _changeSubmenusOption(name, value) {\r\n        each(this._submenus, (index, submenu) => {\r\n            submenu.option(name, value)\r\n        })\r\n    }\r\n    selectItem(itemElement) {\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        super.selectItem(itemElement)\r\n    }\r\n    unselectItem(itemElement) {\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        super.selectItem(itemElement)\r\n    }\r\n}\r\nregisterComponent(\"dxMenu\", Menu);\r\nexport default Menu;\r\n","/**\r\n * DevExtreme (esm/ui/menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Menu from \"./menu/ui.menu\";\r\nexport default Menu;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_row.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Editor from \"../editor/editor\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport Menu from \"../menu\";\r\nimport {\r\n    selectView\r\n} from \"../shared/accessibility\";\r\nvar OPERATION_ICONS = {\r\n    \"=\": \"filter-operation-equals\",\r\n    \"<>\": \"filter-operation-not-equals\",\r\n    \"<\": \"filter-operation-less\",\r\n    \"<=\": \"filter-operation-less-equal\",\r\n    \">\": \"filter-operation-greater\",\r\n    \">=\": \"filter-operation-greater-equal\",\r\n    default: \"filter-operation-default\",\r\n    notcontains: \"filter-operation-not-contains\",\r\n    contains: \"filter-operation-contains\",\r\n    startswith: \"filter-operation-starts-with\",\r\n    endswith: \"filter-operation-ends-with\",\r\n    between: \"filter-operation-between\"\r\n};\r\nvar OPERATION_DESCRIPTORS = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notEqual\",\r\n    \"<\": \"lessThan\",\r\n    \"<=\": \"lessThanOrEqual\",\r\n    \">\": \"greaterThan\",\r\n    \">=\": \"greaterThanOrEqual\",\r\n    startswith: \"startsWith\",\r\n    contains: \"contains\",\r\n    notcontains: \"notContains\",\r\n    endswith: \"endsWith\",\r\n    between: \"between\"\r\n};\r\nvar FILTERING_TIMEOUT = 700;\r\nvar CORRECT_FILTER_RANGE_OVERLAY_WIDTH = 1;\r\nvar FILTER_ROW_CLASS = \"filter-row\";\r\nvar FILTER_RANGE_OVERLAY_CLASS = \"filter-range-overlay\";\r\nvar FILTER_RANGE_START_CLASS = \"filter-range-start\";\r\nvar FILTER_RANGE_END_CLASS = \"filter-range-end\";\r\nvar MENU_CLASS = \"dx-menu\";\r\nvar EDITOR_WITH_MENU_CLASS = \"dx-editor-with-menu\";\r\nvar EDITOR_CONTAINER_CLASS = \"dx-editor-container\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar FILTER_MENU = \"dx-filter-menu\";\r\nvar APPLY_BUTTON_CLASS = \"dx-apply-button\";\r\nvar HIGHLIGHT_OUTLINE_CLASS = \"dx-highlight-outline\";\r\nvar FOCUSED_CLASS = \"dx-focused\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FILTER_RANGE_CONTENT_CLASS = \"dx-filter-range-content\";\r\nvar FILTER_MODIFIED_CLASS = \"dx-filter-modified\";\r\nvar EDITORS_INPUT_SELECTOR = \"input:not([type='hidden'])\";\r\nvar BETWEEN_OPERATION_DATA_TYPES = [\"date\", \"datetime\", \"number\"];\r\n\r\nfunction isOnClickApplyFilterMode(that) {\r\n    return \"onClick\" === that.option(\"filterRow.applyFilter\")\r\n}\r\nvar ColumnHeadersViewFilterRowExtender = function() {\r\n    var getEditorInstance = function($editorContainer) {\r\n        var $editor = $editorContainer && $editorContainer.children();\r\n        var componentNames = $editor && $editor.data(\"dxComponents\");\r\n        var editor = componentNames && componentNames.length && $editor.data(componentNames[0]);\r\n        if (editor instanceof Editor) {\r\n            return editor\r\n        }\r\n    };\r\n    var getRangeTextByFilterValue = function(that, column) {\r\n        var result = \"\";\r\n        var rangeEnd = \"\";\r\n        var filterValue = getColumnFilterValue(that, column);\r\n        var formatOptions = gridCoreUtils.getFormatOptionsByColumn(column, \"filterRow\");\r\n        if (Array.isArray(filterValue)) {\r\n            result = gridCoreUtils.formatValue(filterValue[0], formatOptions);\r\n            rangeEnd = gridCoreUtils.formatValue(filterValue[1], formatOptions);\r\n            if (\"\" !== rangeEnd) {\r\n                result += \" - \" + rangeEnd\r\n            }\r\n        } else if (isDefined(filterValue)) {\r\n            result = gridCoreUtils.formatValue(filterValue, formatOptions)\r\n        }\r\n        return result\r\n    };\r\n\r\n    function getColumnFilterValue(that, column) {\r\n        if (column) {\r\n            return isOnClickApplyFilterMode(that) && void 0 !== column.bufferedFilterValue ? column.bufferedFilterValue : column.filterValue\r\n        }\r\n    }\r\n    var getColumnSelectedFilterOperation = function(that, column) {\r\n        if (column) {\r\n            return isOnClickApplyFilterMode(that) && void 0 !== column.bufferedSelectedFilterOperation ? column.bufferedSelectedFilterOperation : column.selectedFilterOperation\r\n        }\r\n    };\r\n    var getFilterValue = function(that, columnIndex, $editorContainer) {\r\n        var column = that._columnsController.columnOption(columnIndex);\r\n        var filterValue = getColumnFilterValue(that, column);\r\n        var isFilterRange = $editorContainer.closest(\".\" + that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).length;\r\n        var isRangeStart = $editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS));\r\n        if (filterValue && Array.isArray(filterValue) && \"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n            if (isRangeStart) {\r\n                return filterValue[0]\r\n            } else {\r\n                return filterValue[1]\r\n            }\r\n        }\r\n        return !isFilterRange && function(filterValue, column) {\r\n            if (column && BETWEEN_OPERATION_DATA_TYPES.indexOf(column.dataType) >= 0 && Array.isArray(filterValue)) {\r\n                return false\r\n            }\r\n            return void 0 !== filterValue\r\n        }(filterValue, column) ? filterValue : null\r\n    };\r\n    var updateFilterValue = function(that, options) {\r\n        var value = \"\" === options.value ? null : options.value;\r\n        var $editorContainer = options.container;\r\n        var column = that._columnsController.columnOption(options.column.index);\r\n        var filterValue = getFilterValue(that, column.index, $editorContainer);\r\n        if (!isDefined(filterValue) && !isDefined(value)) {\r\n            return\r\n        }\r\n        that._applyFilterViewController.setHighLight($editorContainer, filterValue !== value);\r\n        var columnOptionName = isOnClickApplyFilterMode(that) ? \"bufferedFilterValue\" : \"filterValue\";\r\n        var normalizedValue = function(that, filterValue, column, $editorContainer) {\r\n            if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                var columnFilterValue = getColumnFilterValue(that, column);\r\n                if ($editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS))) {\r\n                    return [filterValue, Array.isArray(columnFilterValue) ? columnFilterValue[1] : void 0]\r\n                } else {\r\n                    return [Array.isArray(columnFilterValue) ? columnFilterValue[0] : columnFilterValue, filterValue]\r\n                }\r\n            }\r\n            return filterValue\r\n        }(that, value, column, $editorContainer);\r\n        var isBetween = \"between\" === getColumnSelectedFilterOperation(that, column);\r\n        var notFireEvent = options.notFireEvent || isBetween && Array.isArray(normalizedValue) && normalizedValue.indexOf(void 0) >= 0;\r\n        that._columnsController.columnOption(column.index, columnOptionName, normalizedValue, notFireEvent)\r\n    };\r\n    return {\r\n        _updateEditorValue: function(column, $editorContainer) {\r\n            var editor = getEditorInstance($editorContainer);\r\n            editor && editor.option(\"value\", getFilterValue(this, column.index, $editorContainer))\r\n        },\r\n        _columnOptionChanged: function(e) {\r\n            var optionNames = e.optionNames;\r\n            var $cell;\r\n            var $editorContainer;\r\n            var $editorRangeElements;\r\n            var $menu;\r\n            if (gridCoreUtils.checkChanges(optionNames, [\"filterValue\", \"bufferedFilterValue\", \"selectedFilterOperation\", \"bufferedSelectedFilterOperation\", \"filterValues\", \"filterType\"]) && void 0 !== e.columnIndex) {\r\n                var visibleIndex = this._columnsController.getVisibleIndex(e.columnIndex);\r\n                var column = this._columnsController.columnOption(e.columnIndex);\r\n                $cell = this._getCellElement(this.element().find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS)).index(), visibleIndex) || $();\r\n                $editorContainer = $cell.find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n                if (optionNames.filterValue || optionNames.bufferedFilterValue) {\r\n                    this._updateEditorValue(column, $editorContainer);\r\n                    var overlayInstance = $cell.find(\".\" + this.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).data(\"dxOverlay\");\r\n                    if (overlayInstance) {\r\n                        $editorRangeElements = overlayInstance.$content().find(\".\" + EDITOR_CONTAINER_CLASS);\r\n                        this._updateEditorValue(column, $editorRangeElements.first());\r\n                        this._updateEditorValue(column, $editorRangeElements.last())\r\n                    }\r\n                    if (!overlayInstance || !overlayInstance.option(\"visible\")) {\r\n                        this._updateFilterRangeContent($cell, getRangeTextByFilterValue(this, column))\r\n                    }\r\n                }\r\n                if (optionNames.selectedFilterOperation || optionNames.bufferedSelectedFilterOperation) {\r\n                    if (visibleIndex >= 0 && column) {\r\n                        $menu = $cell.find(\".\" + MENU_CLASS);\r\n                        if ($menu.length) {\r\n                            this._updateFilterOperationChooser($menu, column, $editorContainer);\r\n                            if (\"between\" === getColumnSelectedFilterOperation(this, column)) {\r\n                                this._renderFilterRangeContent($cell, column)\r\n                            } else if ($editorContainer.find(\".\" + FILTER_RANGE_CONTENT_CLASS).length) {\r\n                                this._renderEditor($editorContainer, this._getEditorOptions($editorContainer, column));\r\n                                this._hideFilterRange()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return\r\n            }\r\n            this.callBase(e)\r\n        },\r\n        _renderCore: function() {\r\n            this._filterRangeOverlayInstance = null;\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _resizeCore: function() {\r\n            this.callBase.apply(this, arguments);\r\n            this._filterRangeOverlayInstance && this._filterRangeOverlayInstance.repaint()\r\n        },\r\n        isFilterRowVisible: function() {\r\n            return this._isElementVisible(this.option(\"filterRow\"))\r\n        },\r\n        isVisible: function() {\r\n            return this.callBase() || this.isFilterRowVisible()\r\n        },\r\n        init: function() {\r\n            this.callBase();\r\n            this._applyFilterViewController = this.getController(\"applyFilter\")\r\n        },\r\n        _initFilterRangeOverlay: function($cell, column) {\r\n            var that = this;\r\n            var sharedData = {};\r\n            var $editorContainer = $cell.find(\".dx-editor-container\");\r\n            var $overlay = $(\"<div>\").addClass(that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).appendTo($cell);\r\n            return that._createComponent($overlay, Overlay, {\r\n                height: \"auto\",\r\n                shading: false,\r\n                showTitle: false,\r\n                focusStateEnabled: false,\r\n                closeOnOutsideClick: true,\r\n                copyRootClassesToWrapper: true,\r\n                _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                animation: false,\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"top\",\r\n                    of: $editorContainer.length && $editorContainer || $cell,\r\n                    offset: \"0 -1\"\r\n                },\r\n                contentTemplate: function(contentElement) {\r\n                    var editorOptions;\r\n                    var $editor = $(\"<div>\").addClass(EDITOR_CONTAINER_CLASS + \" \" + that.addWidgetPrefix(FILTER_RANGE_START_CLASS)).appendTo(contentElement);\r\n                    column = that._columnsController.columnOption(column.index);\r\n                    editorOptions = that._getEditorOptions($editor, column);\r\n                    editorOptions.sharedData = sharedData;\r\n                    that._renderEditor($editor, editorOptions);\r\n                    eventsEngine.on($editor.find(EDITORS_INPUT_SELECTOR), \"keydown\", (function(e) {\r\n                        var $prevElement = $cell.find(\"[tabindex]\").not(e.target).first();\r\n                        if (\"tab\" === normalizeKeyName(e) && e.shiftKey) {\r\n                            e.preventDefault();\r\n                            that._hideFilterRange();\r\n                            if (!$prevElement.length) {\r\n                                $prevElement = $cell.prev().find(\"[tabindex]\").last()\r\n                            }\r\n                            eventsEngine.trigger($prevElement, \"focus\")\r\n                        }\r\n                    }));\r\n                    $editor = $(\"<div>\").addClass(EDITOR_CONTAINER_CLASS + \" \" + that.addWidgetPrefix(FILTER_RANGE_END_CLASS)).appendTo(contentElement);\r\n                    editorOptions = that._getEditorOptions($editor, column);\r\n                    editorOptions.sharedData = sharedData;\r\n                    that._renderEditor($editor, editorOptions);\r\n                    eventsEngine.on($editor.find(EDITORS_INPUT_SELECTOR), \"keydown\", (function(e) {\r\n                        if (\"tab\" === normalizeKeyName(e) && !e.shiftKey) {\r\n                            e.preventDefault();\r\n                            that._hideFilterRange();\r\n                            eventsEngine.trigger($cell.next().find(\"[tabindex]\").first(), \"focus\")\r\n                        }\r\n                    }));\r\n                    return $(contentElement).addClass(that.getWidgetContainerClass())\r\n                },\r\n                onShown: function(e) {\r\n                    var $editor = e.component.$content().find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n                    eventsEngine.trigger($editor.find(EDITORS_INPUT_SELECTOR), \"focus\")\r\n                },\r\n                onHidden: function() {\r\n                    column = that._columnsController.columnOption(column.index);\r\n                    $cell.find(\".\" + MENU_CLASS).parent().addClass(EDITOR_WITH_MENU_CLASS);\r\n                    if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                        that._updateFilterRangeContent($cell, getRangeTextByFilterValue(that, column));\r\n                        that.component.updateDimensions()\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        _updateFilterRangeOverlay: function(options) {\r\n            var overlayInstance = this._filterRangeOverlayInstance;\r\n            overlayInstance && overlayInstance.option(options)\r\n        },\r\n        _showFilterRange: function($cell, column) {\r\n            var $overlay = $cell.children(\".\" + this.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS));\r\n            var overlayInstance = $overlay.length && $overlay.data(\"dxOverlay\");\r\n            if (!overlayInstance && column) {\r\n                overlayInstance = this._initFilterRangeOverlay($cell, column)\r\n            }\r\n            if (!overlayInstance.option(\"visible\")) {\r\n                this._filterRangeOverlayInstance && this._filterRangeOverlayInstance.hide();\r\n                this._filterRangeOverlayInstance = overlayInstance;\r\n                this._updateFilterRangeOverlay({\r\n                    width: getOuterWidth($cell, true) + CORRECT_FILTER_RANGE_OVERLAY_WIDTH\r\n                });\r\n                this._filterRangeOverlayInstance && this._filterRangeOverlayInstance.show()\r\n            }\r\n        },\r\n        _hideFilterRange: function() {\r\n            var overlayInstance = this._filterRangeOverlayInstance;\r\n            overlayInstance && overlayInstance.hide()\r\n        },\r\n        getFilterRangeOverlayInstance: function() {\r\n            return this._filterRangeOverlayInstance\r\n        },\r\n        _createRow: function(row) {\r\n            var $row = this.callBase(row);\r\n            if (\"filter\" === row.rowType) {\r\n                $row.addClass(this.addWidgetPrefix(FILTER_ROW_CLASS));\r\n                if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n                    eventsEngine.on($row, \"keydown\", event => selectView(\"filterRow\", this, event))\r\n                }\r\n            }\r\n            return $row\r\n        },\r\n        _getRows: function() {\r\n            var result = this.callBase();\r\n            if (this.isFilterRowVisible()) {\r\n                result.push({\r\n                    rowType: \"filter\"\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        _renderFilterCell: function(cell, options) {\r\n            var column = options.column;\r\n            var $cell = $(cell);\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                this.setAria(\"describedby\", column.headerId, $cell)\r\n            }\r\n            this.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaFilterCell\"), $cell);\r\n            $cell.addClass(EDITOR_CELL_CLASS);\r\n            var $container = $(\"<div>\").appendTo($cell);\r\n            var $editorContainer = $(\"<div>\").addClass(EDITOR_CONTAINER_CLASS).appendTo($container);\r\n            if (\"between\" === getColumnSelectedFilterOperation(this, column)) {\r\n                this._renderFilterRangeContent($cell, column)\r\n            } else {\r\n                var editorOptions = this._getEditorOptions($editorContainer, column);\r\n                this._renderEditor($editorContainer, editorOptions)\r\n            }\r\n            var alignment = column.alignment;\r\n            if (alignment && \"center\" !== alignment) {\r\n                $cell.find(EDITORS_INPUT_SELECTOR).first().css(\"textAlign\", column.alignment)\r\n            }\r\n            if (column.filterOperations && column.filterOperations.length) {\r\n                this._renderFilterOperationChooser($container, column, $editorContainer)\r\n            }\r\n        },\r\n        _renderCellContent: function($cell, options) {\r\n            var that = this;\r\n            var column = options.column;\r\n            if (\"filter\" === options.rowType) {\r\n                if (column.command) {\r\n                    $cell.html(\"&nbsp;\")\r\n                } else if (column.allowFiltering) {\r\n                    that.renderTemplate($cell, that._renderFilterCell.bind(that), options).done(() => {\r\n                        that._updateCell($cell, options)\r\n                    });\r\n                    return\r\n                }\r\n            }\r\n            that.callBase($cell, options)\r\n        },\r\n        _getEditorOptions: function($editorContainer, column) {\r\n            var that = this;\r\n            var accessibilityOptions = {\r\n                editorOptions: {\r\n                    inputAttr: that._getFilterInputAccessibilityAttributes(column)\r\n                }\r\n            };\r\n            var result = extend(accessibilityOptions, column, {\r\n                value: getFilterValue(that, column.index, $editorContainer),\r\n                parentType: \"filterRow\",\r\n                showAllText: that.option(\"filterRow.showAllText\"),\r\n                updateValueTimeout: \"onClick\" === that.option(\"filterRow.applyFilter\") ? 0 : FILTERING_TIMEOUT,\r\n                width: null,\r\n                setValue: function(value, notFireEvent) {\r\n                    updateFilterValue(that, {\r\n                        column: column,\r\n                        value: value,\r\n                        container: $editorContainer,\r\n                        notFireEvent: notFireEvent\r\n                    })\r\n                }\r\n            });\r\n            if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                if ($editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS))) {\r\n                    result.placeholder = that.option(\"filterRow.betweenStartText\")\r\n                } else {\r\n                    result.placeholder = that.option(\"filterRow.betweenEndText\")\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        _getFilterInputAccessibilityAttributes: function(column) {\r\n            var columnAriaLabel = messageLocalization.format(\"dxDataGrid-ariaFilterCell\");\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                return {\r\n                    \"aria-label\": columnAriaLabel,\r\n                    \"aria-describedby\": column.headerId\r\n                }\r\n            }\r\n            return {\r\n                \"aria-label\": columnAriaLabel\r\n            }\r\n        },\r\n        _renderEditor: function($editorContainer, options) {\r\n            $editorContainer.empty();\r\n            return this.getController(\"editorFactory\").createEditor($(\"<div>\").appendTo($editorContainer), options)\r\n        },\r\n        _renderFilterRangeContent: function($cell, column) {\r\n            var that = this;\r\n            var $editorContainer = $cell.find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n            $editorContainer.empty();\r\n            var $filterRangeContent = $(\"<div>\").addClass(FILTER_RANGE_CONTENT_CLASS).attr(\"tabindex\", this.option(\"tabIndex\"));\r\n            eventsEngine.on($filterRangeContent, \"focusin\", (function() {\r\n                that._showFilterRange($cell, column)\r\n            }));\r\n            $filterRangeContent.appendTo($editorContainer);\r\n            that._updateFilterRangeContent($cell, getRangeTextByFilterValue(that, column))\r\n        },\r\n        _updateFilterRangeContent: function($cell, value) {\r\n            var $filterRangeContent = $cell.find(\".\" + FILTER_RANGE_CONTENT_CLASS);\r\n            if ($filterRangeContent.length) {\r\n                if (\"\" === value) {\r\n                    $filterRangeContent.html(\"&nbsp;\")\r\n                } else {\r\n                    $filterRangeContent.text(value)\r\n                }\r\n            }\r\n        },\r\n        _updateFilterOperationChooser: function($menu, column, $editorContainer) {\r\n            var that = this;\r\n            var isCellWasFocused;\r\n            var restoreFocus = function() {\r\n                var menu = Menu.getInstance($menu);\r\n                menu && menu.option(\"focusedElement\", null);\r\n                isCellWasFocused && that._focusEditor($editorContainer)\r\n            };\r\n            that._createComponent($menu, Menu, {\r\n                integrationOptions: {},\r\n                activeStateEnabled: false,\r\n                selectionMode: \"single\",\r\n                cssClass: that.getWidgetContainerClass() + \" \" + CELL_FOCUS_DISABLED_CLASS + \" \" + FILTER_MENU,\r\n                showFirstSubmenuMode: \"onHover\",\r\n                hideSubmenuOnMouseLeave: true,\r\n                items: [{\r\n                    disabled: column.filterOperations && column.filterOperations.length ? false : true,\r\n                    icon: OPERATION_ICONS[getColumnSelectedFilterOperation(that, column) || \"default\"],\r\n                    selectable: false,\r\n                    items: that._getFilterOperationMenuItems(column)\r\n                }],\r\n                onItemClick: function(properties) {\r\n                    var selectedFilterOperation = properties.itemData.name;\r\n                    var columnSelectedFilterOperation = getColumnSelectedFilterOperation(that, column);\r\n                    var notFocusEditor = false;\r\n                    var isOnClickMode = isOnClickApplyFilterMode(that);\r\n                    var options = {};\r\n                    if (properties.itemData.items || selectedFilterOperation && selectedFilterOperation === columnSelectedFilterOperation) {\r\n                        return\r\n                    }\r\n                    if (selectedFilterOperation) {\r\n                        options[isOnClickMode ? \"bufferedSelectedFilterOperation\" : \"selectedFilterOperation\"] = selectedFilterOperation;\r\n                        if (\"between\" === selectedFilterOperation || \"between\" === columnSelectedFilterOperation) {\r\n                            notFocusEditor = \"between\" === selectedFilterOperation;\r\n                            options[isOnClickMode ? \"bufferedFilterValue\" : \"filterValue\"] = null\r\n                        }\r\n                    } else {\r\n                        options[isOnClickMode ? \"bufferedFilterValue\" : \"filterValue\"] = null;\r\n                        options[isOnClickMode ? \"bufferedSelectedFilterOperation\" : \"selectedFilterOperation\"] = column.defaultSelectedFilterOperation || null\r\n                    }\r\n                    that._columnsController.columnOption(column.index, options);\r\n                    that._applyFilterViewController.setHighLight($editorContainer, true);\r\n                    if (!selectedFilterOperation) {\r\n                        var editor = getEditorInstance($editorContainer);\r\n                        if (editor && \"dxDateBox\" === editor.NAME && !editor.option(\"isValid\")) {\r\n                            editor.reset();\r\n                            editor.option(\"isValid\", true)\r\n                        }\r\n                    }\r\n                    if (!notFocusEditor) {\r\n                        that._focusEditor($editorContainer)\r\n                    } else {\r\n                        that._showFilterRange($editorContainer.closest(\".\" + EDITOR_CELL_CLASS), column)\r\n                    }\r\n                },\r\n                onSubmenuShown: function() {\r\n                    isCellWasFocused = that._isEditorFocused($editorContainer);\r\n                    that.getController(\"editorFactory\").loseFocus()\r\n                },\r\n                onSubmenuHiding: function() {\r\n                    eventsEngine.trigger($menu, \"blur\");\r\n                    restoreFocus()\r\n                },\r\n                onContentReady: function(e) {\r\n                    eventsEngine.on($menu, \"blur\", () => {\r\n                        var menu = e.component;\r\n                        menu._hideSubmenu(menu._visibleSubmenu);\r\n                        restoreFocus()\r\n                    })\r\n                },\r\n                rtlEnabled: that.option(\"rtlEnabled\")\r\n            })\r\n        },\r\n        _isEditorFocused: function($container) {\r\n            return $container.hasClass(FOCUSED_CLASS) || $container.parents(\".\" + FOCUSED_CLASS).length\r\n        },\r\n        _focusEditor: function($container) {\r\n            this.getController(\"editorFactory\").focus($container);\r\n            eventsEngine.trigger($container.find(EDITORS_INPUT_SELECTOR), \"focus\")\r\n        },\r\n        _renderFilterOperationChooser: function($container, column, $editorContainer) {\r\n            var $menu;\r\n            if (this.option(\"filterRow.showOperationChooser\")) {\r\n                $container.addClass(EDITOR_WITH_MENU_CLASS);\r\n                $menu = $(\"<div>\").prependTo($container);\r\n                this._updateFilterOperationChooser($menu, column, $editorContainer)\r\n            }\r\n        },\r\n        _getFilterOperationMenuItems: function(column) {\r\n            var that = this;\r\n            var result = [{}];\r\n            var filterRowOptions = that.option(\"filterRow\");\r\n            var operationDescriptions = filterRowOptions && filterRowOptions.operationDescriptions || {};\r\n            if (column.filterOperations && column.filterOperations.length) {\r\n                var availableFilterOperations = column.filterOperations.filter((function(value) {\r\n                    return isDefined(OPERATION_DESCRIPTORS[value])\r\n                }));\r\n                result = map(availableFilterOperations, (function(value) {\r\n                    var descriptionName = OPERATION_DESCRIPTORS[value];\r\n                    return {\r\n                        name: value,\r\n                        selected: (getColumnSelectedFilterOperation(that, column) || column.defaultFilterOperation) === value,\r\n                        text: operationDescriptions[descriptionName],\r\n                        icon: OPERATION_ICONS[value]\r\n                    }\r\n                }));\r\n                result.push({\r\n                    name: null,\r\n                    text: filterRowOptions && filterRowOptions.resetOperationText,\r\n                    icon: OPERATION_ICONS.default\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        optionChanged: function(args) {\r\n            switch (args.name) {\r\n                case \"filterRow\":\r\n                case \"showColumnLines\":\r\n                    this._invalidate(true, true);\r\n                    args.handled = true;\r\n                    break;\r\n                default:\r\n                    this.callBase(args)\r\n            }\r\n        }\r\n    }\r\n}();\r\nvar DataControllerFilterRowExtender = {\r\n    skipCalculateColumnFilters: function() {\r\n        return false\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (this.skipCalculateColumnFilters()) {\r\n            return this.callBase()\r\n        }\r\n        var filters = [this.callBase()];\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        each(columns, (function() {\r\n            if (this.allowFiltering && this.calculateFilterExpression && isDefined(this.filterValue)) {\r\n                var filter = this.createFilterExpression(this.filterValue, this.selectedFilterOperation || this.defaultFilterOperation, \"filterRow\");\r\n                filters.push(filter)\r\n            }\r\n        }));\r\n        return gridCoreUtils.combineFilters(filters)\r\n    }\r\n};\r\nvar ApplyFilterViewController = modules.ViewController.inherit({\r\n    _getHeaderPanel: function() {\r\n        if (!this._headerPanel) {\r\n            this._headerPanel = this.getView(\"headerPanel\")\r\n        }\r\n        return this._headerPanel\r\n    },\r\n    setHighLight: function($element, value) {\r\n        if (isOnClickApplyFilterMode(this)) {\r\n            $element && $element.toggleClass(HIGHLIGHT_OUTLINE_CLASS, value) && $element.closest(\".\" + EDITOR_CELL_CLASS).toggleClass(FILTER_MODIFIED_CLASS, value);\r\n            this._getHeaderPanel().enableApplyButton(value)\r\n        }\r\n    },\r\n    applyFilter: function() {\r\n        var columnsController = this.getController(\"columns\");\r\n        var columns = columnsController.getColumns();\r\n        columnsController.beginUpdate();\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var column = columns[i];\r\n            if (void 0 !== column.bufferedFilterValue) {\r\n                columnsController.columnOption(i, \"filterValue\", column.bufferedFilterValue);\r\n                column.bufferedFilterValue = void 0\r\n            }\r\n            if (void 0 !== column.bufferedSelectedFilterOperation) {\r\n                columnsController.columnOption(i, \"selectedFilterOperation\", column.bufferedSelectedFilterOperation);\r\n                column.bufferedSelectedFilterOperation = void 0\r\n            }\r\n        }\r\n        columnsController.endUpdate();\r\n        this.removeHighLights()\r\n    },\r\n    removeHighLights: function() {\r\n        if (isOnClickApplyFilterMode(this)) {\r\n            var columnHeadersViewElement = this.getView(\"columnHeadersView\").element();\r\n            columnHeadersViewElement.find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS) + \" .\" + HIGHLIGHT_OUTLINE_CLASS).removeClass(HIGHLIGHT_OUTLINE_CLASS);\r\n            columnHeadersViewElement.find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS) + \" .\" + FILTER_MODIFIED_CLASS).removeClass(FILTER_MODIFIED_CLASS);\r\n            this._getHeaderPanel().enableApplyButton(false)\r\n        }\r\n    }\r\n});\r\nexport var filterRowModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterRow: {\r\n                visible: false,\r\n                showOperationChooser: true,\r\n                showAllText: messageLocalization.format(\"dxDataGrid-filterRowShowAllText\"),\r\n                resetOperationText: messageLocalization.format(\"dxDataGrid-filterRowResetOperationText\"),\r\n                applyFilter: \"auto\",\r\n                applyFilterText: messageLocalization.format(\"dxDataGrid-applyFilterText\"),\r\n                operationDescriptions: {\r\n                    equal: messageLocalization.format(\"dxDataGrid-filterRowOperationEquals\"),\r\n                    notEqual: messageLocalization.format(\"dxDataGrid-filterRowOperationNotEquals\"),\r\n                    lessThan: messageLocalization.format(\"dxDataGrid-filterRowOperationLess\"),\r\n                    lessThanOrEqual: messageLocalization.format(\"dxDataGrid-filterRowOperationLessOrEquals\"),\r\n                    greaterThan: messageLocalization.format(\"dxDataGrid-filterRowOperationGreater\"),\r\n                    greaterThanOrEqual: messageLocalization.format(\"dxDataGrid-filterRowOperationGreaterOrEquals\"),\r\n                    startsWith: messageLocalization.format(\"dxDataGrid-filterRowOperationStartsWith\"),\r\n                    contains: messageLocalization.format(\"dxDataGrid-filterRowOperationContains\"),\r\n                    notContains: messageLocalization.format(\"dxDataGrid-filterRowOperationNotContains\"),\r\n                    endsWith: messageLocalization.format(\"dxDataGrid-filterRowOperationEndsWith\"),\r\n                    between: messageLocalization.format(\"dxDataGrid-filterRowOperationBetween\"),\r\n                    isBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                    isNotBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n                },\r\n                betweenStartText: messageLocalization.format(\"dxDataGrid-filterRowOperationBetweenStartText\"),\r\n                betweenEndText: messageLocalization.format(\"dxDataGrid-filterRowOperationBetweenEndText\")\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        applyFilter: ApplyFilterViewController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterRowExtender,\r\n            columnsResizer: {\r\n                _startResizing: function() {\r\n                    var that = this;\r\n                    that.callBase.apply(that, arguments);\r\n                    if (that.isResizing()) {\r\n                        var overlayInstance = that._columnHeadersView.getFilterRangeOverlayInstance();\r\n                        if (overlayInstance) {\r\n                            var cellIndex = overlayInstance.$element().closest(\"td\").index();\r\n                            if (cellIndex === that._targetPoint.columnIndex || cellIndex === that._targetPoint.columnIndex + 1) {\r\n                                overlayInstance.$content().hide()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _endResizing: function() {\r\n                    var that = this;\r\n                    var $cell;\r\n                    if (that.isResizing()) {\r\n                        var overlayInstance = that._columnHeadersView.getFilterRangeOverlayInstance();\r\n                        if (overlayInstance) {\r\n                            $cell = overlayInstance.$element().closest(\"td\");\r\n                            that._columnHeadersView._updateFilterRangeOverlay({\r\n                                width: getOuterWidth($cell, true) + CORRECT_FILTER_RANGE_OVERLAY_WIDTH\r\n                            });\r\n                            overlayInstance.$content().show()\r\n                        }\r\n                    }\r\n                    that.callBase.apply(that, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFilterRowExtender,\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var filterItem = this._prepareFilterItem(items);\r\n                    return filterItem.concat(items)\r\n                },\r\n                _prepareFilterItem: function() {\r\n                    var that = this;\r\n                    var filterItem = [];\r\n                    if (that._isShowApplyFilterButton()) {\r\n                        var hintText = that.option(\"filterRow.applyFilterText\");\r\n                        var columns = that._columnsController.getColumns();\r\n                        var disabled = !columns.filter((function(column) {\r\n                            return void 0 !== column.bufferedFilterValue\r\n                        })).length;\r\n                        var toolbarItem = {\r\n                            widget: \"dxButton\",\r\n                            options: {\r\n                                icon: \"apply-filter\",\r\n                                disabled: disabled,\r\n                                onClick: function() {\r\n                                    that._applyFilterViewController.applyFilter()\r\n                                },\r\n                                hint: hintText,\r\n                                text: hintText,\r\n                                onInitialized: function(e) {\r\n                                    $(e.element).addClass(that._getToolbarButtonClass(APPLY_BUTTON_CLASS))\r\n                                }\r\n                            },\r\n                            showText: \"inMenu\",\r\n                            name: \"applyFilterButton\",\r\n                            location: \"after\",\r\n                            locateInMenu: \"auto\",\r\n                            sortIndex: 10\r\n                        };\r\n                        filterItem.push(toolbarItem)\r\n                    }\r\n                    return filterItem\r\n                },\r\n                _isShowApplyFilterButton: function() {\r\n                    var filterRowOptions = this.option(\"filterRow\");\r\n                    return filterRowOptions && filterRowOptions.visible && \"onClick\" === filterRowOptions.applyFilter\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._dataController = this.getController(\"data\");\r\n                    this._applyFilterViewController = this.getController(\"applyFilter\")\r\n                },\r\n                enableApplyButton: function(value) {\r\n                    this.setToolbarItemDisabled(\"applyFilterButton\", !value)\r\n                },\r\n                isVisible: function() {\r\n                    return this.callBase() || this._isShowApplyFilterButton()\r\n                },\r\n                optionChanged: function(args) {\r\n                    if (\"filterRow\" === args.name) {\r\n                        this._invalidate();\r\n                        args.handled = true\r\n                    } else {\r\n                        this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_row.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterRowModule\r\n} from \"../grid_core/ui.grid_core.filter_row\";\r\ncore.registerModule(\"filterRow\", filterRowModule);\r\n","/**\r\n * DevExtreme (esm/ui/list/modules/search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport searchBoxMixin from \"../../widget/ui.search_box_mixin\";\r\nimport TextBox from \"../../text_box\";\r\nsearchBoxMixin.setEditorClass(TextBox);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_filter_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Popup from \"../popup\";\r\nimport TreeView from \"../tree_view\";\r\nimport List from \"../list_light\";\r\nimport \"../list/modules/search\";\r\nimport \"../list/modules/selection\";\r\nvar HEADER_FILTER_CLASS = \"dx-header-filter\";\r\nvar HEADER_FILTER_MENU_CLASS = \"dx-header-filter-menu\";\r\nvar DEFAULT_SEARCH_EXPRESSION = \"text\";\r\n\r\nfunction resetChildrenItemSelection(items) {\r\n    items = items || [];\r\n    for (var i = 0; i < items.length; i++) {\r\n        items[i].selected = false;\r\n        resetChildrenItemSelection(items[i].items)\r\n    }\r\n}\r\n\r\nfunction updateSelectAllState(e, filterValues) {\r\n    if (e.component.option(\"searchValue\")) {\r\n        return\r\n    }\r\n    var selectAllCheckBox = $(e.element).find(\".dx-list-select-all-checkbox\").data(\"dxCheckBox\");\r\n    if (selectAllCheckBox && filterValues && filterValues.length) {\r\n        selectAllCheckBox.option(\"value\", void 0)\r\n    }\r\n}\r\n\r\nfunction isSearchEnabled(that, options) {\r\n    var headerFilter = options.headerFilter;\r\n    if (headerFilter && isDefined(headerFilter.allowSearch)) {\r\n        return headerFilter.allowSearch\r\n    }\r\n    return that.option(\"headerFilter.allowSearch\")\r\n}\r\nexport function updateHeaderFilterItemSelectionState(item, filterValuesMatch, isExcludeFilter) {\r\n    if (filterValuesMatch ^ isExcludeFilter) {\r\n        item.selected = true;\r\n        if (isExcludeFilter && item.items) {\r\n            for (var j = 0; j < item.items.length; j++) {\r\n                if (!item.items[j].selected) {\r\n                    item.selected = void 0;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    } else if (isExcludeFilter || item.selected) {\r\n        item.selected = false;\r\n        resetChildrenItemSelection(item.items)\r\n    }\r\n}\r\nexport var HeaderFilterView = modules.View.inherit({\r\n    getPopupContainer: function() {\r\n        return this._popupContainer\r\n    },\r\n    getListContainer: function() {\r\n        return this._listContainer\r\n    },\r\n    applyHeaderFilter: function(options) {\r\n        var list = this.getListContainer();\r\n        var searchValue = list.option(\"searchValue\");\r\n        var isSelectAll = !searchValue && !options.isFilterBuilder && list.$element().find(\".dx-checkbox\").eq(0).hasClass(\"dx-checkbox-checked\");\r\n        var filterValues = [];\r\n        if (!isSelectAll) {\r\n            if (\"tree\" === options.type) {\r\n                if (options.filterType) {\r\n                    options.filterType = \"include\"\r\n                }! function fillSelectedItemKeys(filterValues, items, isExclude) {\r\n                    each(items, (function(_, item) {\r\n                        if (void 0 !== item.selected && !!item.selected ^ isExclude) {\r\n                            var node = list._getNode(item);\r\n                            var hasChildren = list._hasChildren(node);\r\n                            var hasChildrenWithSelection = hasChildren && item.items && item.items.some(item => item.selected);\r\n                            if (!searchValue || !hasChildrenWithSelection) {\r\n                                filterValues.push(item.value);\r\n                                return\r\n                            }\r\n                        }\r\n                        if (item.items && item.items.length) {\r\n                            fillSelectedItemKeys(filterValues, item.items, isExclude)\r\n                        }\r\n                    }))\r\n                }(filterValues, list.option(\"items\"), false);\r\n                options.filterValues = filterValues\r\n            }\r\n        } else {\r\n            if (\"tree\" === options.type) {\r\n                options.filterType = \"exclude\"\r\n            }\r\n            if (Array.isArray(options.filterValues)) {\r\n                options.filterValues = []\r\n            }\r\n        }\r\n        if (options.filterValues && !options.filterValues.length) {\r\n            options.filterValues = null\r\n        }\r\n        options.apply();\r\n        this.hideHeaderFilterMenu()\r\n    },\r\n    showHeaderFilterMenu: function($columnElement, options) {\r\n        if (options) {\r\n            this._initializePopupContainer(options);\r\n            var popupContainer = this.getPopupContainer();\r\n            this.hideHeaderFilterMenu();\r\n            this.updatePopup($columnElement, options);\r\n            popupContainer.show()\r\n        }\r\n    },\r\n    hideHeaderFilterMenu: function() {\r\n        var headerFilterMenu = this.getPopupContainer();\r\n        headerFilterMenu && headerFilterMenu.hide()\r\n    },\r\n    updatePopup: function($element, options) {\r\n        var showColumnLines = this.option(\"showColumnLines\");\r\n        var alignment = \"right\" === options.alignment ^ !showColumnLines ? \"left\" : \"right\";\r\n        if (this._popupContainer) {\r\n            this._cleanPopupContent();\r\n            this._popupContainer.option(\"position\", {\r\n                my: alignment + \" top\",\r\n                at: alignment + \" bottom\",\r\n                of: $element,\r\n                collision: \"flip fit\"\r\n            })\r\n        }\r\n    },\r\n    _getSearchExpr: function(options) {\r\n        var lookup = options.lookup;\r\n        var useDefaultSearchExpr = options.useDefaultSearchExpr;\r\n        var headerFilterDataSource = options.headerFilter && options.headerFilter.dataSource;\r\n        if (useDefaultSearchExpr || isDefined(headerFilterDataSource) && !isFunction(headerFilterDataSource)) {\r\n            return DEFAULT_SEARCH_EXPRESSION\r\n        }\r\n        if (lookup) {\r\n            return lookup.displayExpr || \"this\"\r\n        }\r\n        if (options.dataSource) {\r\n            var group = options.dataSource.group;\r\n            if (Array.isArray(group) && group.length > 0) {\r\n                return group[0].selector\r\n            } else if (isFunction(group) && !options.remoteFiltering) {\r\n                return group\r\n            }\r\n        }\r\n        return options.dataField || options.selector\r\n    },\r\n    _cleanPopupContent: function() {\r\n        this._popupContainer && this._popupContainer.$content().empty()\r\n    },\r\n    _initializePopupContainer: function(options) {\r\n        var that = this;\r\n        var $element = that.element();\r\n        var headerFilterOptions = that.option(\"headerFilter\");\r\n        var width = options.headerFilter && options.headerFilter.width || headerFilterOptions && headerFilterOptions.width;\r\n        var height = options.headerFilter && options.headerFilter.height || headerFilterOptions && headerFilterOptions.height;\r\n        var dxPopupOptions = {\r\n            width: width,\r\n            height: height,\r\n            visible: false,\r\n            shading: false,\r\n            showTitle: false,\r\n            showCloseButton: false,\r\n            hideOnParentScroll: false,\r\n            dragEnabled: false,\r\n            closeOnOutsideClick: true,\r\n            focusStateEnabled: false,\r\n            copyRootClassesToWrapper: true,\r\n            _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n            toolbarItems: [{\r\n                toolbar: \"bottom\",\r\n                location: \"after\",\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    text: headerFilterOptions.texts.ok,\r\n                    onClick: function() {\r\n                        that.applyHeaderFilter(options)\r\n                    }\r\n                }\r\n            }, {\r\n                toolbar: \"bottom\",\r\n                location: \"after\",\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    text: headerFilterOptions.texts.cancel,\r\n                    onClick: function() {\r\n                        that.hideHeaderFilterMenu()\r\n                    }\r\n                }\r\n            }],\r\n            resizeEnabled: true,\r\n            onShowing: function(e) {\r\n                e.component.$content().parent().addClass(\"dx-dropdowneditor-overlay\");\r\n                that._initializeListContainer(options);\r\n                options.onShowing && options.onShowing(e)\r\n            },\r\n            onShown: function() {\r\n                that.getListContainer().focus()\r\n            },\r\n            onHidden: options.onHidden,\r\n            onInitialized: function(e) {\r\n                var component = e.component;\r\n                component.option(\"animation\", component._getDefaultOptions().animation)\r\n            }\r\n        };\r\n        if (!isDefined(that._popupContainer)) {\r\n            that._popupContainer = that._createComponent($element, Popup, dxPopupOptions)\r\n        } else {\r\n            that._popupContainer.option(dxPopupOptions)\r\n        }\r\n    },\r\n    _initializeListContainer: function(options) {\r\n        var that = this;\r\n        var $content = that._popupContainer.$content();\r\n        var widgetOptions = {\r\n            searchEnabled: isSearchEnabled(that, options),\r\n            searchTimeout: that.option(\"headerFilter.searchTimeout\"),\r\n            searchMode: options.headerFilter && options.headerFilter.searchMode || \"\",\r\n            dataSource: options.dataSource,\r\n            onContentReady: function() {\r\n                that.renderCompleted.fire()\r\n            },\r\n            itemTemplate: function(data, _, element) {\r\n                var $element = $(element);\r\n                if (options.encodeHtml) {\r\n                    return $element.text(data.text)\r\n                }\r\n                return $element.html(data.text)\r\n            }\r\n        };\r\n\r\n        function onOptionChanged(e) {\r\n            if (\"searchValue\" === e.fullName && !options.isFilterBuilder && false !== that.option(\"headerFilter.hideSelectAllOnSearch\")) {\r\n                if (\"tree\" === options.type) {\r\n                    e.component.option(\"showCheckBoxesMode\", e.value ? \"normal\" : \"selectAll\")\r\n                } else {\r\n                    e.component.option(\"selectionMode\", e.value ? \"multiple\" : \"all\")\r\n                }\r\n            }\r\n        }\r\n        if (\"tree\" === options.type) {\r\n            that._listContainer = that._createComponent($(\"<div>\").appendTo($content), TreeView, extend(widgetOptions, {\r\n                showCheckBoxesMode: options.isFilterBuilder ? \"normal\" : \"selectAll\",\r\n                onOptionChanged: onOptionChanged,\r\n                keyExpr: \"id\"\r\n            }))\r\n        } else {\r\n            that._listContainer = that._createComponent($(\"<div>\").appendTo($content), List, extend(widgetOptions, {\r\n                searchExpr: that._getSearchExpr(options),\r\n                pageLoadMode: \"scrollBottom\",\r\n                showSelectionControls: true,\r\n                selectionMode: options.isFilterBuilder ? \"multiple\" : \"all\",\r\n                onOptionChanged: onOptionChanged,\r\n                onSelectionChanged: function(e) {\r\n                    var items = e.component.option(\"items\");\r\n                    var selectedItems = e.component.option(\"selectedItems\");\r\n                    if (!e.component._selectedItemsUpdating && !e.component.option(\"searchValue\") && !options.isFilterBuilder) {\r\n                        var filterValues = options.filterValues || [];\r\n                        var isExclude = \"exclude\" === options.filterType;\r\n                        if (0 === selectedItems.length && items.length && (filterValues.length <= 1 || isExclude && filterValues.length === items.length - 1)) {\r\n                            options.filterType = \"include\";\r\n                            options.filterValues = []\r\n                        } else if (selectedItems.length === items.length) {\r\n                            options.filterType = \"exclude\";\r\n                            options.filterValues = []\r\n                        }\r\n                    }\r\n                    each(items, (function(index, item) {\r\n                        var selected = gridCoreUtils.getIndexByKey(item, selectedItems, null) >= 0;\r\n                        var oldSelected = !!item.selected;\r\n                        if (oldSelected !== selected) {\r\n                            item.selected = selected;\r\n                            options.filterValues = options.filterValues || [];\r\n                            var filterValueIndex = gridCoreUtils.getIndexByKey(item.value, options.filterValues, null);\r\n                            if (filterValueIndex >= 0) {\r\n                                options.filterValues.splice(filterValueIndex, 1)\r\n                            }\r\n                            if (selected ^ \"exclude\" === options.filterType) {\r\n                                options.filterValues.push(item.value)\r\n                            }\r\n                        }\r\n                    }));\r\n                    updateSelectAllState(e, options.filterValues)\r\n                },\r\n                onContentReady: function(e) {\r\n                    var component = e.component;\r\n                    var items = component.option(\"items\");\r\n                    var selectedItems = [];\r\n                    each(items, (function() {\r\n                        if (this.selected) {\r\n                            selectedItems.push(this)\r\n                        }\r\n                    }));\r\n                    component._selectedItemsUpdating = true;\r\n                    component.option(\"selectedItems\", selectedItems);\r\n                    component._selectedItemsUpdating = false;\r\n                    updateSelectAllState(e, options.filterValues)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    _renderCore: function() {\r\n        this.element().addClass(HEADER_FILTER_MENU_CLASS)\r\n    }\r\n});\r\nexport var allowHeaderFiltering = function(column) {\r\n    return isDefined(column.allowHeaderFiltering) ? column.allowHeaderFiltering : column.allowFiltering\r\n};\r\nexport var headerFilterMixin = {\r\n    _applyColumnState: function(options) {\r\n        var $headerFilterIndicator;\r\n        var rootElement = options.rootElement;\r\n        var column = options.column;\r\n        if (\"headerFilter\" === options.name) {\r\n            rootElement.find(\".\" + HEADER_FILTER_CLASS).remove();\r\n            if (allowHeaderFiltering(column)) {\r\n                $headerFilterIndicator = this.callBase(options).toggleClass(\"dx-header-filter-empty\", this._isHeaderFilterEmpty(column));\r\n                if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n                    $headerFilterIndicator.attr(\"tabindex\", this.option(\"tabindex\") || 0)\r\n                }\r\n            }\r\n            return $headerFilterIndicator\r\n        }\r\n        return this.callBase(options)\r\n    },\r\n    _isHeaderFilterEmpty: function(column) {\r\n        return !column.filterValues || !column.filterValues.length\r\n    },\r\n    _getIndicatorClassName: function(name) {\r\n        if (\"headerFilter\" === name) {\r\n            return HEADER_FILTER_CLASS\r\n        }\r\n        return this.callBase(name)\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        if (\"headerFilter\" === options.name) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            if ($container.children().length && (!rtlEnabled && \"right\" === options.columnAlignment || rtlEnabled && \"left\" === options.columnAlignment)) {\r\n                $container.prepend($indicator);\r\n                return\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"headerFilter\" === args.name) {\r\n            var requireReady = \"columnHeadersView\" === this.name;\r\n            this._invalidate(requireReady, requireReady);\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_filter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport filterUtils from \"../shared/filtering\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    headerFilterMixin,\r\n    HeaderFilterView,\r\n    updateHeaderFilterItemSelectionState,\r\n    allowHeaderFiltering\r\n} from \"./ui.grid_core.header_filter_core\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isObject,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"../../data/data_source/utils\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    restoreFocus\r\n} from \"../shared/accessibility\";\r\nimport dataQuery from \"../../data/query\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nvar DATE_INTERVAL_FORMATS = {\r\n    month: function(value) {\r\n        return dateLocalization.getMonthNames()[value - 1]\r\n    },\r\n    quarter: function(value) {\r\n        return dateLocalization.format(new Date(2e3, 3 * value - 1), \"quarter\")\r\n    }\r\n};\r\n\r\nfunction ungroupUTCDates(items, dateParts, dates) {\r\n    dateParts = dateParts || [];\r\n    dates = dates || [];\r\n    items.forEach(item => {\r\n        if (isDefined(item.key)) {\r\n            var isMonthPart = 1 === dateParts.length;\r\n            dateParts.push(isMonthPart ? item.key - 1 : item.key);\r\n            if (item.items) {\r\n                ungroupUTCDates(item.items, dateParts, dates)\r\n            } else {\r\n                var date = new Date(Date.UTC.apply(Date, dateParts));\r\n                dates.push(date)\r\n            }\r\n            dateParts.pop()\r\n        } else {\r\n            dates.push(null)\r\n        }\r\n    });\r\n    return dates\r\n}\r\n\r\nfunction convertDataFromUTCToLocal(data, column) {\r\n    var dates = ungroupUTCDates(data);\r\n    var query = dataQuery(dates);\r\n    var group = gridCoreUtils.getHeaderFilterGroupParameters(_extends({}, column, {\r\n        calculateCellValue: date => date\r\n    }));\r\n    return storeHelper.queryByOptions(query, {\r\n        group: group\r\n    }).toArray()\r\n}\r\n\r\nfunction isUTCFormat(format) {\r\n    return \"Z\" === (null === format || void 0 === format ? void 0 : format.slice(-1)) || \"'Z'\" === (null === format || void 0 === format ? void 0 : format.slice(-3))\r\n}\r\nvar HeaderFilterController = modules.ViewController.inherit({\r\n    init: function() {\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._dataController = this.getController(\"data\");\r\n        this._headerFilterView = this.getView(\"headerFilterView\")\r\n    },\r\n    _updateSelectedState: function(items, column) {\r\n        var i = items.length;\r\n        var isExclude = \"exclude\" === column.filterType;\r\n        while (i--) {\r\n            var item = items[i];\r\n            if (\"items\" in items[i]) {\r\n                this._updateSelectedState(items[i].items, column)\r\n            }\r\n            updateHeaderFilterItemSelectionState(item, gridCoreUtils.getIndexByKey(items[i].value, column.filterValues, null) > -1, isExclude)\r\n        }\r\n    },\r\n    _normalizeGroupItem: function(item, currentLevel, options) {\r\n        var value;\r\n        var displayValue;\r\n        var path = options.path;\r\n        var valueSelector = options.valueSelector;\r\n        var displaySelector = options.displaySelector;\r\n        var column = options.column;\r\n        if (valueSelector && displaySelector) {\r\n            value = valueSelector(item);\r\n            displayValue = displaySelector(item)\r\n        } else {\r\n            value = item.key;\r\n            displayValue = value\r\n        }\r\n        if (!isObject(item)) {\r\n            item = {}\r\n        } else {\r\n            item = extend({}, item)\r\n        }\r\n        path.push(value);\r\n        if (1 === path.length) {\r\n            item.value = path[0]\r\n        } else {\r\n            item.value = path.join(\"/\")\r\n        }\r\n        item.text = this.getHeaderItemText(displayValue, column, currentLevel, options.headerFilterOptions);\r\n        return item\r\n    },\r\n    getHeaderItemText: function(displayValue, column, currentLevel, headerFilterOptions) {\r\n        var text = gridCoreUtils.formatValue(displayValue, function(value, column, currentLevel) {\r\n            var groupInterval = filterUtils.getGroupInterval(column);\r\n            var result = gridCoreUtils.getFormatOptionsByColumn(column, \"headerFilter\");\r\n            if (groupInterval) {\r\n                result.groupInterval = groupInterval[currentLevel];\r\n                if (gridCoreUtils.isDateType(column.dataType)) {\r\n                    result.format = DATE_INTERVAL_FORMATS[groupInterval[currentLevel]]\r\n                } else if (\"number\" === column.dataType) {\r\n                    result.getDisplayFormat = function() {\r\n                        var formatOptions = {\r\n                            format: column.format,\r\n                            target: \"headerFilter\"\r\n                        };\r\n                        var firstValueText = gridCoreUtils.formatValue(value, formatOptions);\r\n                        var secondValue = value + groupInterval[currentLevel];\r\n                        var secondValueText = gridCoreUtils.formatValue(secondValue, formatOptions);\r\n                        return firstValueText && secondValueText ? firstValueText + \" - \" + secondValueText : \"\"\r\n                    }\r\n                }\r\n            }\r\n            return result\r\n        }(displayValue, column, currentLevel));\r\n        if (!text) {\r\n            text = headerFilterOptions.texts.emptyValue\r\n        }\r\n        return text\r\n    },\r\n    _processGroupItems: function(groupItems, currentLevel, path, options) {\r\n        var displaySelector;\r\n        var valueSelector;\r\n        var column = options.column;\r\n        var lookup = column.lookup;\r\n        var level = options.level;\r\n        path = path || [];\r\n        currentLevel = currentLevel || 0;\r\n        if (lookup) {\r\n            displaySelector = compileGetter(lookup.displayExpr);\r\n            valueSelector = compileGetter(lookup.valueExpr)\r\n        }\r\n        for (var i = 0; i < groupItems.length; i++) {\r\n            groupItems[i] = this._normalizeGroupItem(groupItems[i], currentLevel, {\r\n                column: options.column,\r\n                headerFilterOptions: options.headerFilterOptions,\r\n                displaySelector: displaySelector,\r\n                valueSelector: valueSelector,\r\n                path: path\r\n            });\r\n            if (\"items\" in groupItems[i]) {\r\n                if (currentLevel === level || !isDefined(groupItems[i].value)) {\r\n                    delete groupItems[i].items\r\n                } else {\r\n                    this._processGroupItems(groupItems[i].items, currentLevel + 1, path, options)\r\n                }\r\n            }\r\n            path.pop()\r\n        }\r\n    },\r\n    getDataSource: function(column) {\r\n        var _column$headerFilter;\r\n        var that = this;\r\n        var dataSource = that._dataController.dataSource();\r\n        var remoteGrouping = null === dataSource || void 0 === dataSource ? void 0 : dataSource.remoteOperations().grouping;\r\n        var group = gridCoreUtils.getHeaderFilterGroupParameters(column, remoteGrouping);\r\n        var headerFilterDataSource = null === (_column$headerFilter = column.headerFilter) || void 0 === _column$headerFilter ? void 0 : _column$headerFilter.dataSource;\r\n        var headerFilterOptions = that.option(\"headerFilter\");\r\n        var isLookup = false;\r\n        var options = {\r\n            component: that.component\r\n        };\r\n        if (!dataSource) {\r\n            return\r\n        }\r\n        if (isDefined(headerFilterDataSource) && !isFunction(headerFilterDataSource)) {\r\n            options.dataSource = normalizeDataSourceOptions(headerFilterDataSource)\r\n        } else if (column.lookup) {\r\n            isLookup = true;\r\n            var lookupDataSourceOptions;\r\n            if (column.lookup.items) {\r\n                lookupDataSourceOptions = column.lookup.items\r\n            } else {\r\n                lookupDataSourceOptions = column.lookup.dataSource;\r\n                if (isFunction(lookupDataSourceOptions) && !variableWrapper.isWrapped(lookupDataSourceOptions)) {\r\n                    lookupDataSourceOptions = lookupDataSourceOptions({})\r\n                }\r\n            }\r\n            options.dataSource = normalizeDataSourceOptions(lookupDataSourceOptions)\r\n        } else {\r\n            var cutoffLevel = Array.isArray(group) ? group.length - 1 : 0;\r\n            that._currentColumn = column;\r\n            var filter = that._dataController.getCombinedFilter();\r\n            that._currentColumn = null;\r\n            options.dataSource = {\r\n                filter: filter,\r\n                group: group,\r\n                useDefaultSearch: true,\r\n                load: function(options) {\r\n                    var d = new Deferred;\r\n                    options.dataField = column.dataField || column.name;\r\n                    dataSource.load(options).done((function(data) {\r\n                        var convertUTCDates = remoteGrouping && isUTCFormat(column.serializationFormat) && cutoffLevel > 3;\r\n                        if (convertUTCDates) {\r\n                            data = convertDataFromUTCToLocal(data, column)\r\n                        }\r\n                        that._processGroupItems(data, null, null, {\r\n                            level: cutoffLevel,\r\n                            column: column,\r\n                            headerFilterOptions: headerFilterOptions\r\n                        });\r\n                        d.resolve(data)\r\n                    })).fail(d.reject);\r\n                    return d\r\n                }\r\n            }\r\n        }\r\n        if (isFunction(headerFilterDataSource)) {\r\n            headerFilterDataSource.call(column, options)\r\n        }\r\n        var origPostProcess = options.dataSource.postProcess;\r\n        options.dataSource.postProcess = function(data) {\r\n            var items = data;\r\n            if (isLookup) {\r\n                if (0 === this.pageIndex() && !this.searchValue()) {\r\n                    items = items.slice(0);\r\n                    items.unshift(null)\r\n                }\r\n                that._processGroupItems(items, null, null, {\r\n                    level: 0,\r\n                    column: column,\r\n                    headerFilterOptions: headerFilterOptions\r\n                })\r\n            }\r\n            items = origPostProcess && origPostProcess.call(this, items) || items;\r\n            that._updateSelectedState(items, column);\r\n            return items\r\n        };\r\n        return options.dataSource\r\n    },\r\n    getCurrentColumn: function() {\r\n        return this._currentColumn\r\n    },\r\n    showHeaderFilterMenu: function(columnIndex, isGroupPanel) {\r\n        var columnsController = this._columnsController;\r\n        var column = extend(true, {}, this._columnsController.getColumns()[columnIndex]);\r\n        if (column) {\r\n            var visibleIndex = columnsController.getVisibleIndex(columnIndex);\r\n            var view = isGroupPanel ? this.getView(\"headerPanel\") : this.getView(\"columnHeadersView\");\r\n            var $columnElement = $columnElement || view.getColumnElements().eq(isGroupPanel ? column.groupIndex : visibleIndex);\r\n            this.showHeaderFilterMenuBase({\r\n                columnElement: $columnElement,\r\n                column: column,\r\n                applyFilter: true,\r\n                apply: function() {\r\n                    columnsController.columnOption(columnIndex, {\r\n                        filterValues: this.filterValues,\r\n                        filterType: this.filterType\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    },\r\n    showHeaderFilterMenuBase: function(options) {\r\n        var that = this;\r\n        var column = options.column;\r\n        if (column) {\r\n            var groupInterval = filterUtils.getGroupInterval(column);\r\n            var dataSource = that._dataController.dataSource();\r\n            var remoteFiltering = dataSource && dataSource.remoteOperations().filtering;\r\n            extend(options, column, {\r\n                type: groupInterval && groupInterval.length > 1 ? \"tree\" : \"list\",\r\n                remoteFiltering: remoteFiltering,\r\n                onShowing: function(e) {\r\n                    var dxResizableInstance = e.component.$overlayContent().dxResizable(\"instance\");\r\n                    dxResizableInstance && dxResizableInstance.option(\"onResizeEnd\", (function(e) {\r\n                        var columnsController = that.getController(\"columns\");\r\n                        var headerFilterByColumn = columnsController.columnOption(options.dataField, \"headerFilter\");\r\n                        headerFilterByColumn = headerFilterByColumn || {};\r\n                        headerFilterByColumn.width = e.width;\r\n                        headerFilterByColumn.height = e.height;\r\n                        columnsController.columnOption(options.dataField, \"headerFilter\", headerFilterByColumn, true)\r\n                    }))\r\n                },\r\n                onHidden: () => restoreFocus(this)\r\n            });\r\n            options.dataSource = that.getDataSource(options);\r\n            if (options.isFilterBuilder) {\r\n                options.dataSource.filter = null;\r\n                options.alignment = \"right\"\r\n            }\r\n            that._headerFilterView.showHeaderFilterMenu(options.columnElement, options)\r\n        }\r\n    },\r\n    hideHeaderFilterMenu: function() {\r\n        this._headerFilterView.hideHeaderFilterMenu()\r\n    }\r\n});\r\nvar ColumnHeadersViewHeaderFilterExtender = extend({}, headerFilterMixin, {\r\n    _renderCellContent: function($cell, options) {\r\n        var $headerFilterIndicator;\r\n        var column = options.column;\r\n        if (!column.command && allowHeaderFiltering(column) && this.option(\"headerFilter.visible\") && \"header\" === options.rowType) {\r\n            $headerFilterIndicator = this._applyColumnState({\r\n                name: \"headerFilter\",\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: this.option(\"showColumnLines\")\r\n            });\r\n            $headerFilterIndicator && this._subscribeToIndicatorEvent($headerFilterIndicator, column, \"headerFilter\")\r\n        }\r\n        this.callBase($cell, options)\r\n    },\r\n    _subscribeToIndicatorEvent: function($indicator, column, indicatorName) {\r\n        var that = this;\r\n        if (\"headerFilter\" === indicatorName) {\r\n            eventsEngine.on($indicator, clickEventName, that.createAction((function(e) {\r\n                e.event.stopPropagation();\r\n                that.getController(\"headerFilter\").showHeaderFilterMenu(column.index, false)\r\n            })))\r\n        }\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        var $indicator = this.callBase($cell, column, indicatorName);\r\n        $indicator && this._subscribeToIndicatorEvent($indicator, column, indicatorName)\r\n    },\r\n    _updateHeaderFilterIndicators: function() {\r\n        if (this.option(\"headerFilter.visible\")) {\r\n            this._updateIndicators(\"headerFilter\")\r\n        }\r\n    },\r\n    _needUpdateFilterIndicators: function() {\r\n        return true\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (gridCoreUtils.checkChanges(optionNames, [\"filterValues\", \"filterType\"])) {\r\n            if (this._needUpdateFilterIndicators()) {\r\n                this._updateHeaderFilterIndicators()\r\n            }\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    }\r\n});\r\nvar HeaderPanelHeaderFilterExtender = extend({}, headerFilterMixin, {\r\n    _createGroupPanelItem: function($rootElement, groupColumn) {\r\n        var that = this;\r\n        var $item = that.callBase.apply(that, arguments);\r\n        var $headerFilterIndicator;\r\n        if (!groupColumn.command && allowHeaderFiltering(groupColumn) && that.option(\"headerFilter.visible\")) {\r\n            $headerFilterIndicator = that._applyColumnState({\r\n                name: \"headerFilter\",\r\n                rootElement: $item,\r\n                column: {\r\n                    alignment: getDefaultAlignment(that.option(\"rtlEnabled\")),\r\n                    filterValues: groupColumn.filterValues,\r\n                    allowHeaderFiltering: true\r\n                },\r\n                showColumnLines: true\r\n            });\r\n            $headerFilterIndicator && eventsEngine.on($headerFilterIndicator, clickEventName, that.createAction((function(e) {\r\n                var event = e.event;\r\n                event.stopPropagation();\r\n                that.getController(\"headerFilter\").showHeaderFilterMenu(groupColumn.index, true)\r\n            })))\r\n        }\r\n        return $item\r\n    }\r\n});\r\nexport function invertFilterExpression(filter) {\r\n    return [\"!\", filter]\r\n}\r\nvar DataControllerFilterRowExtender = {\r\n    skipCalculateColumnFilters: function() {\r\n        return false\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (this.skipCalculateColumnFilters()) {\r\n            return this.callBase()\r\n        }\r\n        var filters = [this.callBase()];\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        var headerFilterController = this.getController(\"headerFilter\");\r\n        var currentColumn = headerFilterController.getCurrentColumn();\r\n        each(columns, (function(_, column) {\r\n            var filter;\r\n            if (currentColumn && currentColumn.index === column.index) {\r\n                return\r\n            }\r\n            if (allowHeaderFiltering(column) && column.calculateFilterExpression && Array.isArray(column.filterValues) && column.filterValues.length) {\r\n                var filterValues = [];\r\n                each(column.filterValues, (function(_, filterValue) {\r\n                    if (Array.isArray(filterValue)) {\r\n                        filter = filterValue\r\n                    } else {\r\n                        if (column.deserializeValue && !gridCoreUtils.isDateType(column.dataType) && \"number\" !== column.dataType) {\r\n                            filterValue = column.deserializeValue(filterValue)\r\n                        }\r\n                        filter = column.createFilterExpression(filterValue, \"=\", \"headerFilter\")\r\n                    }\r\n                    if (filter) {\r\n                        filter.columnIndex = column.index\r\n                    }\r\n                    filterValues.push(filter)\r\n                }));\r\n                filterValues = gridCoreUtils.combineFilters(filterValues, \"or\");\r\n                filters.push(\"exclude\" === column.filterType ? [\"!\", filterValues] : filterValues)\r\n            }\r\n        }));\r\n        return gridCoreUtils.combineFilters(filters)\r\n    }\r\n};\r\nexport var headerFilterModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            headerFilter: {\r\n                visible: false,\r\n                width: 252,\r\n                height: 325,\r\n                allowSearch: false,\r\n                searchTimeout: 500,\r\n                texts: {\r\n                    emptyValue: messageLocalization.format(\"dxDataGrid-headerFilterEmptyValue\"),\r\n                    ok: messageLocalization.format(\"dxDataGrid-headerFilterOK\"),\r\n                    cancel: messageLocalization.format(\"dxDataGrid-headerFilterCancel\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        headerFilter: HeaderFilterController\r\n    },\r\n    views: {\r\n        headerFilterView: HeaderFilterView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterRowExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewHeaderFilterExtender,\r\n            headerPanel: HeaderPanelHeaderFilterExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.header_filter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    headerFilterModule\r\n} from \"../grid_core/ui.grid_core.header_filter\";\r\ncore.registerModule(\"headerFilter\", headerFilterModule);\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/between.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar FILTER_BUILDER_RANGE_CLASS = \"dx-filterbuilder-range\";\r\nvar FILTER_BUILDER_RANGE_START_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-start\";\r\nvar FILTER_BUILDER_RANGE_END_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-end\";\r\nvar FILTER_BUILDER_RANGE_SEPARATOR_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-separator\";\r\nvar SEPARATOR = \"\\u2013\";\r\n\r\nfunction editorTemplate(conditionInfo, container) {\r\n    var $editorStart = $(\"<div>\").addClass(FILTER_BUILDER_RANGE_START_CLASS);\r\n    var $editorEnd = $(\"<div>\").addClass(FILTER_BUILDER_RANGE_END_CLASS);\r\n    var values = conditionInfo.value || [];\r\n    var getStartValue = function(values) {\r\n        return values && values.length > 0 ? values[0] : null\r\n    };\r\n    var getEndValue = function(values) {\r\n        return values && 2 === values.length ? values[1] : null\r\n    };\r\n    container.append($editorStart);\r\n    container.append($(\"<span>\").addClass(FILTER_BUILDER_RANGE_SEPARATOR_CLASS).text(SEPARATOR));\r\n    container.append($editorEnd);\r\n    container.addClass(FILTER_BUILDER_RANGE_CLASS);\r\n    this._editorFactory.createEditor.call(this, $editorStart, extend({}, conditionInfo.field, conditionInfo, {\r\n        value: getStartValue(values),\r\n        parentType: \"filterBuilder\",\r\n        setValue: function(value) {\r\n            values = [value, getEndValue(values)];\r\n            conditionInfo.setValue(values)\r\n        }\r\n    }));\r\n    this._editorFactory.createEditor.call(this, $editorEnd, extend({}, conditionInfo.field, conditionInfo, {\r\n        value: getEndValue(values),\r\n        parentType: \"filterBuilder\",\r\n        setValue: function(value) {\r\n            values = [getStartValue(values), value];\r\n            conditionInfo.setValue(values)\r\n        }\r\n    }))\r\n}\r\nexport function getConfig(caption, context) {\r\n    return {\r\n        name: \"between\",\r\n        caption: caption,\r\n        icon: \"range\",\r\n        valueSeparator: SEPARATOR,\r\n        dataTypes: [\"number\", \"date\", \"datetime\"],\r\n        editorTemplate: editorTemplate.bind(context),\r\n        notForLookup: true\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/ui.filter_operations_dictionary.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nvar OPERATION_ICONS = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notequal\",\r\n    \"<\": \"less\",\r\n    \"<=\": \"lessorequal\",\r\n    \">\": \"greater\",\r\n    \">=\": \"greaterorequal\",\r\n    notcontains: \"doesnotcontain\",\r\n    contains: \"contains\",\r\n    startswith: \"startswith\",\r\n    endswith: \"endswith\",\r\n    isblank: \"isblank\",\r\n    isnotblank: \"isnotblank\"\r\n};\r\nvar OPERATION_NAME = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notEqual\",\r\n    \"<\": \"lessThan\",\r\n    \"<=\": \"lessThanOrEqual\",\r\n    \">\": \"greaterThan\",\r\n    \">=\": \"greaterThanOrEqual\",\r\n    startswith: \"startsWith\",\r\n    contains: \"contains\",\r\n    notcontains: \"notContains\",\r\n    endswith: \"endsWith\",\r\n    isblank: \"isBlank\",\r\n    isnotblank: \"isNotBlank\",\r\n    between: \"between\"\r\n};\r\nexport default {\r\n    getIconByFilterOperation: function(filterOperation) {\r\n        return OPERATION_ICONS[filterOperation]\r\n    },\r\n    getNameByFilterOperation: function(filterOperation) {\r\n        return OPERATION_NAME[filterOperation]\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    errors as dataErrors\r\n} from \"../../data/errors\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport filterUtils from \"../shared/filtering\";\r\nimport formatHelper from \"../../format_helper\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    getConfig\r\n} from \"./between\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    DataSource\r\n} from \"../../data/data_source/data_source\";\r\nimport filterOperationsDictionary from \"./ui.filter_operations_dictionary\";\r\nvar DEFAULT_DATA_TYPE = \"string\";\r\nvar EMPTY_MENU_ICON = \"icon-none\";\r\nvar AND_GROUP_OPERATION = \"and\";\r\nvar EQUAL_OPERATION = \"=\";\r\nvar NOT_EQUAL_OPERATION = \"<>\";\r\nvar DATATYPE_OPERATIONS = {\r\n    number: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    string: [\"contains\", \"notcontains\", \"startswith\", \"endswith\", \"=\", \"<>\", \"isblank\", \"isnotblank\"],\r\n    date: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    datetime: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    boolean: [\"=\", \"<>\", \"isblank\", \"isnotblank\"],\r\n    object: [\"isblank\", \"isnotblank\"]\r\n};\r\nvar DEFAULT_FORMAT = {\r\n    date: \"shortDate\",\r\n    datetime: \"shortDateShortTime\"\r\n};\r\nvar LOOKUP_OPERATIONS = [\"=\", \"<>\", \"isblank\", \"isnotblank\"];\r\nvar AVAILABLE_FIELD_PROPERTIES = [\"caption\", \"customizeText\", \"dataField\", \"dataType\", \"editorTemplate\", \"falseText\", \"editorOptions\", \"filterOperations\", \"format\", \"lookup\", \"trueText\", \"calculateFilterExpression\", \"name\"];\r\nvar FILTER_BUILDER_CLASS = \"dx-filterbuilder\";\r\nvar FILTER_BUILDER_ITEM_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-text\";\r\nvar FILTER_BUILDER_ITEM_TEXT_PART_CLASS = FILTER_BUILDER_ITEM_TEXT_CLASS + \"-part\";\r\nvar FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS = FILTER_BUILDER_ITEM_TEXT_CLASS + \"-separator\";\r\nvar FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS = FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS + \"-empty\";\r\n\r\nfunction getFormattedValueText(field, value) {\r\n    var fieldFormat = field.format || DEFAULT_FORMAT[field.dataType];\r\n    return formatHelper.format(value, fieldFormat)\r\n}\r\n\r\nfunction isNegationGroup(group) {\r\n    return group && group.length > 1 && \"!\" === group[0] && !isCondition(group)\r\n}\r\nexport function getGroupCriteria(group) {\r\n    return isNegationGroup(group) ? group[1] : group\r\n}\r\n\r\nfunction setGroupCriteria(group, criteria) {\r\n    if (isNegationGroup(group)) {\r\n        group[1] = criteria\r\n    } else {\r\n        group = criteria\r\n    }\r\n    return group\r\n}\r\n\r\nfunction convertGroupToNewStructure(group, value) {\r\n    if (function(value) {\r\n            return -1 !== value.indexOf(\"!\")\r\n        }(value)) {\r\n        if (!isNegationGroup(group)) {\r\n            ! function(group) {\r\n                var criteria = group.slice(0);\r\n                group.length = 0;\r\n                group.push(\"!\", criteria)\r\n            }(group)\r\n        }\r\n    } else if (isNegationGroup(group)) {\r\n        ! function(group) {\r\n            var criteria = getGroupCriteria(group);\r\n            group.length = 0;\r\n            [].push.apply(group, criteria)\r\n        }(group)\r\n    }\r\n}\r\nexport function setGroupValue(group, value) {\r\n    convertGroupToNewStructure(group, value);\r\n    var criteria = getGroupCriteria(group);\r\n    var i;\r\n    value = function(value) {\r\n        return -1 === value.indexOf(\"!\") ? value : value.substring(1)\r\n    }(value);\r\n    ! function(criteria, value) {\r\n        for (i = 0; i < criteria.length; i++) {\r\n            if (!Array.isArray(criteria[i])) {\r\n                criteria[i] = value\r\n            }\r\n        }\r\n    }(criteria, value);\r\n    return group\r\n}\r\nexport function getGroupMenuItem(group, availableGroups) {\r\n    var groupValue = getGroupValue(group);\r\n    return availableGroups.filter((function(item) {\r\n        return item.value === groupValue\r\n    }))[0]\r\n}\r\n\r\nfunction getCriteriaOperation(criteria) {\r\n    if (isCondition(criteria)) {\r\n        return AND_GROUP_OPERATION\r\n    }\r\n    var value = \"\";\r\n    for (var i = 0; i < criteria.length; i++) {\r\n        var item = criteria[i];\r\n        if (!Array.isArray(item)) {\r\n            if (value && value !== item) {\r\n                throw new dataErrors.Error(\"E4019\")\r\n            }\r\n            if (\"!\" !== item) {\r\n                value = item\r\n            }\r\n        }\r\n    }\r\n    return value\r\n}\r\nexport function getGroupValue(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var value = getCriteriaOperation(criteria);\r\n    if (!value) {\r\n        value = AND_GROUP_OPERATION\r\n    }\r\n    if (criteria !== group) {\r\n        value = \"!\" + value\r\n    }\r\n    return value\r\n}\r\n\r\nfunction getDefaultFilterOperations(field) {\r\n    return field.lookup && LOOKUP_OPERATIONS || DATATYPE_OPERATIONS[field.dataType || DEFAULT_DATA_TYPE]\r\n}\r\n\r\nfunction containItems(entity) {\r\n    return Array.isArray(entity) && entity.length\r\n}\r\nexport function getFilterOperations(field) {\r\n    var result = containItems(field.filterOperations) ? field.filterOperations : getDefaultFilterOperations(field);\r\n    return extend([], result)\r\n}\r\nexport function getCaptionByOperation(operation, filterOperationDescriptions) {\r\n    var operationName = filterOperationsDictionary.getNameByFilterOperation(operation);\r\n    return filterOperationDescriptions && filterOperationDescriptions[operationName] ? filterOperationDescriptions[operationName] : operationName\r\n}\r\nexport function getOperationFromAvailable(operation, availableOperations) {\r\n    for (var i = 0; i < availableOperations.length; i++) {\r\n        if (availableOperations[i].value === operation) {\r\n            return availableOperations[i]\r\n        }\r\n    }\r\n    throw new errors.Error(\"E1048\", operation)\r\n}\r\nexport function getCustomOperation(customOperations, name) {\r\n    var filteredOperations = customOperations.filter((function(item) {\r\n        return item.name === name\r\n    }));\r\n    return filteredOperations.length ? filteredOperations[0] : null\r\n}\r\nexport function getAvailableOperations(field, filterOperationDescriptions, customOperations) {\r\n    var filterOperations = getFilterOperations(field);\r\n    var isLookupField = !!field.lookup;\r\n    customOperations.forEach((function(customOperation) {\r\n        if (!field.filterOperations && -1 === filterOperations.indexOf(customOperation.name)) {\r\n            var dataTypes = customOperation && customOperation.dataTypes;\r\n            var isOperationForbidden = isLookupField ? !!customOperation.notForLookup : false;\r\n            if (!isOperationForbidden && dataTypes && dataTypes.indexOf(field.dataType || DEFAULT_DATA_TYPE) >= 0) {\r\n                filterOperations.push(customOperation.name)\r\n            }\r\n        }\r\n    }));\r\n    return filterOperations.map((function(operation) {\r\n        var customOperation = getCustomOperation(customOperations, operation);\r\n        if (customOperation) {\r\n            return {\r\n                icon: customOperation.icon || EMPTY_MENU_ICON,\r\n                text: customOperation.caption || captionize(customOperation.name),\r\n                value: customOperation.name,\r\n                isCustom: true\r\n            }\r\n        } else {\r\n            return {\r\n                icon: filterOperationsDictionary.getIconByFilterOperation(operation) || EMPTY_MENU_ICON,\r\n                text: getCaptionByOperation(operation, filterOperationDescriptions),\r\n                value: operation\r\n            }\r\n        }\r\n    }))\r\n}\r\nexport function getDefaultOperation(field) {\r\n    return field.defaultFilterOperation || getFilterOperations(field)[0]\r\n}\r\nexport function createCondition(field, customOperations) {\r\n    var condition = [field.dataField, \"\", \"\"];\r\n    var filterOperation = getDefaultOperation(field);\r\n    updateConditionByOperation(condition, filterOperation, customOperations);\r\n    return condition\r\n}\r\nexport function removeItem(group, item) {\r\n    var criteria = getGroupCriteria(group);\r\n    var index = criteria.indexOf(item);\r\n    criteria.splice(index, 1);\r\n    if (1 !== criteria.length) {\r\n        criteria.splice(index, 1)\r\n    }\r\n    return group\r\n}\r\nexport function createEmptyGroup(value) {\r\n    var isNegation = isNegationGroupOperation(value);\r\n    var groupOperation = isNegation ? getGroupOperationFromNegationOperation(value) : value;\r\n    return isNegation ? [\"!\", [groupOperation]] : [groupOperation]\r\n}\r\nexport function isEmptyGroup(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    if (isCondition(criteria)) {\r\n        return false\r\n    }\r\n    var hasConditions = criteria.some((function(item) {\r\n        return isCondition(item)\r\n    }));\r\n    return !hasConditions\r\n}\r\nexport function addItem(item, group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var groupValue = getGroupValue(criteria);\r\n    1 === criteria.length ? criteria.unshift(item) : criteria.push(item, groupValue);\r\n    return group\r\n}\r\nexport function getField(dataField, fields) {\r\n    for (var i = 0; i < fields.length; i++) {\r\n        if (fields[i].name === dataField) {\r\n            return fields[i]\r\n        }\r\n        if (fields[i].dataField.toLowerCase() === dataField.toLowerCase()) {\r\n            return fields[i]\r\n        }\r\n    }\r\n    var extendedFields = getItems(fields, true).filter((function(item) {\r\n        return item.dataField.toLowerCase() === dataField.toLowerCase()\r\n    }));\r\n    if (extendedFields.length > 0) {\r\n        return extendedFields[0]\r\n    }\r\n    throw new errors.Error(\"E1047\", dataField)\r\n}\r\nexport function isGroup(criteria) {\r\n    if (!Array.isArray(criteria)) {\r\n        return false\r\n    }\r\n    return criteria.length < 2 || Array.isArray(criteria[0]) || Array.isArray(criteria[1])\r\n}\r\nexport function isCondition(criteria) {\r\n    if (!Array.isArray(criteria)) {\r\n        return false\r\n    }\r\n    return criteria.length > 1 && !Array.isArray(criteria[0]) && !Array.isArray(criteria[1])\r\n}\r\n\r\nfunction convertToInnerGroup(group, customOperations, defaultGroupOperation) {\r\n    defaultGroupOperation = defaultGroupOperation || AND_GROUP_OPERATION;\r\n    var groupOperation = getCriteriaOperation(group).toLowerCase() || defaultGroupOperation;\r\n    var innerGroup = [];\r\n    for (var i = 0; i < group.length; i++) {\r\n        if (isGroup(group[i])) {\r\n            innerGroup.push(convertToInnerStructure(group[i], customOperations, defaultGroupOperation));\r\n            innerGroup = appendGroupOperationToGroup(innerGroup, groupOperation)\r\n        } else if (isCondition(group[i])) {\r\n            innerGroup.push(convertToInnerCondition(group[i], customOperations));\r\n            innerGroup = appendGroupOperationToGroup(innerGroup, groupOperation)\r\n        }\r\n    }\r\n    if (0 === innerGroup.length) {\r\n        innerGroup = appendGroupOperationToGroup(innerGroup, groupOperation)\r\n    }\r\n    return innerGroup\r\n}\r\n\r\nfunction conditionHasCustomOperation(condition, customOperations) {\r\n    var customOperation = getCustomOperation(customOperations, condition[1]);\r\n    return customOperation && customOperation.name === condition[1]\r\n}\r\n\r\nfunction convertToInnerCondition(condition, customOperations) {\r\n    if (conditionHasCustomOperation(condition, customOperations)) {\r\n        return condition\r\n    }\r\n    if (condition.length < 3) {\r\n        condition[2] = condition[1];\r\n        condition[1] = EQUAL_OPERATION\r\n    }\r\n    return condition\r\n}\r\n\r\nfunction isNegationGroupOperation(operation) {\r\n    return -1 !== operation.indexOf(\"not\")\r\n}\r\n\r\nfunction getGroupOperationFromNegationOperation(operation) {\r\n    return operation.substring(3).toLowerCase()\r\n}\r\n\r\nfunction appendGroupOperationToCriteria(criteria, groupOperation) {\r\n    var isNegation = isNegationGroupOperation(groupOperation);\r\n    groupOperation = isNegation ? getGroupOperationFromNegationOperation(groupOperation) : groupOperation;\r\n    return isNegation ? [\"!\", criteria, groupOperation] : [criteria, groupOperation]\r\n}\r\n\r\nfunction appendGroupOperationToGroup(group, groupOperation) {\r\n    var isNegation = isNegationGroupOperation(groupOperation);\r\n    groupOperation = isNegation ? getGroupOperationFromNegationOperation(groupOperation) : groupOperation;\r\n    group.push(groupOperation);\r\n    var result = group;\r\n    if (isNegation) {\r\n        result = [\"!\", result]\r\n    }\r\n    return result\r\n}\r\nexport function convertToInnerStructure(value, customOperations, defaultGroupOperation) {\r\n    defaultGroupOperation = defaultGroupOperation || AND_GROUP_OPERATION;\r\n    if (!value) {\r\n        return createEmptyGroup(defaultGroupOperation)\r\n    }\r\n    value = extend(true, [], value);\r\n    if (isCondition(value)) {\r\n        return appendGroupOperationToCriteria(convertToInnerCondition(value, customOperations), defaultGroupOperation)\r\n    }\r\n    if (isNegationGroup(value)) {\r\n        return [\"!\", isCondition(value[1]) ? appendGroupOperationToCriteria(convertToInnerCondition(value[1], customOperations), defaultGroupOperation) : isNegationGroup(value[1]) ? appendGroupOperationToCriteria(convertToInnerStructure(value[1], customOperations), defaultGroupOperation) : convertToInnerGroup(value[1], customOperations, defaultGroupOperation)]\r\n    }\r\n    return convertToInnerGroup(value, customOperations, defaultGroupOperation)\r\n}\r\nexport function getNormalizedFields(fields) {\r\n    return fields.reduce((function(result, field) {\r\n        if (isDefined(field.dataField)) {\r\n            var normalizedField = {};\r\n            for (var key in field) {\r\n                if (field[key] && AVAILABLE_FIELD_PROPERTIES.indexOf(key) > -1) {\r\n                    normalizedField[key] = field[key]\r\n                }\r\n            }\r\n            normalizedField.defaultCalculateFilterExpression = filterUtils.defaultCalculateFilterExpression;\r\n            if (!isDefined(normalizedField.dataType)) {\r\n                normalizedField.dataType = DEFAULT_DATA_TYPE\r\n            }\r\n            if (!isDefined(normalizedField.trueText)) {\r\n                normalizedField.trueText = messageLocalization.format(\"dxDataGrid-trueText\")\r\n            }\r\n            if (!isDefined(normalizedField.falseText)) {\r\n                normalizedField.falseText = messageLocalization.format(\"dxDataGrid-falseText\")\r\n            }\r\n            result.push(normalizedField)\r\n        }\r\n        return result\r\n    }), [])\r\n}\r\n\r\nfunction getConditionFilterExpression(condition, fields, customOperations, target) {\r\n    var field = getField(condition[0], fields);\r\n    var filterExpression = convertToInnerCondition(condition, customOperations);\r\n    var customOperation = customOperations.length && getCustomOperation(customOperations, filterExpression[1]);\r\n    if (customOperation && customOperation.calculateFilterExpression) {\r\n        return customOperation.calculateFilterExpression.apply(customOperation, [filterExpression[2], field, fields])\r\n    } else if (field.createFilterExpression) {\r\n        return field.createFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n    } else if (field.calculateFilterExpression) {\r\n        return field.calculateFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n    } else {\r\n        return field.defaultCalculateFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n    }\r\n}\r\nexport function getFilterExpression(value, fields, customOperations, target) {\r\n    if (!isDefined(value)) {\r\n        return null\r\n    }\r\n    if (isNegationGroup(value)) {\r\n        var filterExpression = getFilterExpression(value[1], fields, customOperations, target);\r\n        return [\"!\", filterExpression]\r\n    }\r\n    var criteria = getGroupCriteria(value);\r\n    if (isCondition(criteria)) {\r\n        return getConditionFilterExpression(criteria, fields, customOperations, target) || null\r\n    } else {\r\n        var result = [];\r\n        var _filterExpression;\r\n        var groupValue = getGroupValue(criteria);\r\n        for (var i = 0; i < criteria.length; i++) {\r\n            if (isGroup(criteria[i])) {\r\n                _filterExpression = getFilterExpression(criteria[i], fields, customOperations, target);\r\n                if (_filterExpression) {\r\n                    i && result.push(groupValue);\r\n                    result.push(_filterExpression)\r\n                }\r\n            } else if (isCondition(criteria[i])) {\r\n                _filterExpression = getConditionFilterExpression(criteria[i], fields, customOperations, target);\r\n                if (_filterExpression) {\r\n                    result.length && result.push(groupValue);\r\n                    result.push(_filterExpression)\r\n                }\r\n            }\r\n        }\r\n        if (1 === result.length) {\r\n            result = result[0]\r\n        }\r\n        return result.length ? result : null\r\n    }\r\n}\r\nexport function getNormalizedFilter(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var i;\r\n    if (0 === criteria.length) {\r\n        return null\r\n    }\r\n    var itemsForRemove = [];\r\n    for (i = 0; i < criteria.length; i++) {\r\n        if (isGroup(criteria[i])) {\r\n            var normalizedGroupValue = getNormalizedFilter(criteria[i]);\r\n            if (normalizedGroupValue) {\r\n                criteria[i] = normalizedGroupValue\r\n            } else {\r\n                itemsForRemove.push(criteria[i])\r\n            }\r\n        } else if (isCondition(criteria[i])) {\r\n            if (!isValidCondition(criteria[i])) {\r\n                itemsForRemove.push(criteria[i])\r\n            }\r\n        }\r\n    }\r\n    for (i = 0; i < itemsForRemove.length; i++) {\r\n        removeItem(criteria, itemsForRemove[i])\r\n    }\r\n    if (1 === criteria.length) {\r\n        return null\r\n    }\r\n    criteria.splice(criteria.length - 1, 1);\r\n    if (1 === criteria.length) {\r\n        group = setGroupCriteria(group, criteria[0])\r\n    }\r\n    if (0 === group.length) {\r\n        return null\r\n    }\r\n    return group\r\n}\r\nexport function getCurrentLookupValueText(field, value, handler) {\r\n    if (\"\" === value) {\r\n        handler(\"\");\r\n        return\r\n    }\r\n    var lookup = field.lookup;\r\n    if (lookup.items) {\r\n        handler(lookup.calculateCellValue(value) || \"\")\r\n    } else {\r\n        var lookupDataSource = isFunction(lookup.dataSource) ? lookup.dataSource({}) : lookup.dataSource;\r\n        var dataSource = new DataSource(lookupDataSource);\r\n        dataSource.loadSingle(lookup.valueExpr, value).done((function(result) {\r\n            var valueText = \"\";\r\n            if (result) {\r\n                valueText = lookup.displayExpr ? compileGetter(lookup.displayExpr)(result) : result\r\n            }\r\n            if (field.customizeText) {\r\n                valueText = field.customizeText({\r\n                    value: value,\r\n                    valueText: valueText\r\n                })\r\n            }\r\n            handler(valueText)\r\n        })).fail((function() {\r\n            handler(\"\")\r\n        }))\r\n    }\r\n}\r\n\r\nfunction getPrimitiveValueText(field, value, customOperation, target, options) {\r\n    var valueText;\r\n    if (true === value) {\r\n        valueText = field.trueText || messageLocalization.format(\"dxDataGrid-trueText\")\r\n    } else if (false === value) {\r\n        valueText = field.falseText || messageLocalization.format(\"dxDataGrid-falseText\")\r\n    } else {\r\n        valueText = getFormattedValueText(field, value)\r\n    }\r\n    if (field.customizeText) {\r\n        valueText = field.customizeText.call(field, {\r\n            value: value,\r\n            valueText: valueText,\r\n            target: target\r\n        })\r\n    }\r\n    if (customOperation && customOperation.customizeText) {\r\n        valueText = customOperation.customizeText.call(customOperation, {\r\n            value: value,\r\n            valueText: valueText,\r\n            field: field,\r\n            target: target\r\n        }, options)\r\n    }\r\n    return valueText\r\n}\r\n\r\nfunction getArrayValueText(field, value, customOperation, target) {\r\n    var options = {\r\n        values: value\r\n    };\r\n    return value.map(v => getPrimitiveValueText(field, v, customOperation, target, options))\r\n}\r\n\r\nfunction checkDefaultValue(value) {\r\n    return \"\" === value || null === value\r\n}\r\nexport function getCurrentValueText(field, value, customOperation) {\r\n    var target = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : \"filterBuilder\";\r\n    if (checkDefaultValue(value)) {\r\n        return \"\"\r\n    }\r\n    if (Array.isArray(value)) {\r\n        var result = new Deferred;\r\n        when.apply(this, getArrayValueText(field, value, customOperation, target)).done((function() {\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }\r\n            var text = args.some(item => !checkDefaultValue(item)) ? args.map(item => !checkDefaultValue(item) ? item : \"?\") : \"\";\r\n            result.resolve(text)\r\n        }));\r\n        return result\r\n    } else {\r\n        return getPrimitiveValueText(field, value, customOperation, target)\r\n    }\r\n}\r\n\r\nfunction itemExists(plainItems, parentId) {\r\n    return plainItems.some((function(item) {\r\n        return item.dataField === parentId\r\n    }))\r\n}\r\n\r\nfunction pushItemAndCheckParent(originalItems, plainItems, item) {\r\n    var dataField = item.dataField;\r\n    if (hasParent(dataField)) {\r\n        item.parentId = getParentIdFromItemDataField(dataField);\r\n        if (!itemExists(plainItems, item.parentId) && !itemExists(originalItems, item.parentId)) {\r\n            pushItemAndCheckParent(originalItems, plainItems, {\r\n                id: item.parentId,\r\n                dataType: \"object\",\r\n                dataField: item.parentId,\r\n                caption: generateCaptionByDataField(item.parentId, true),\r\n                filterOperations: [\"isblank\", \"isnotblank\"]\r\n            })\r\n        }\r\n    }\r\n    plainItems.push(item)\r\n}\r\n\r\nfunction generateCaptionByDataField(dataField, allowHierarchicalFields) {\r\n    var caption = \"\";\r\n    if (allowHierarchicalFields) {\r\n        dataField = dataField.substring(dataField.lastIndexOf(\".\") + 1)\r\n    } else if (hasParent(dataField)) {\r\n        dataField.split(\".\").forEach((function(field, index, arr) {\r\n            caption += captionize(field);\r\n            if (index !== arr.length - 1) {\r\n                caption += \".\"\r\n            }\r\n        }));\r\n        return caption\r\n    }\r\n    return captionize(dataField)\r\n}\r\nexport function getItems(fields, allowHierarchicalFields) {\r\n    var items = [];\r\n    for (var i = 0; i < fields.length; i++) {\r\n        var item = extend(true, {\r\n            caption: generateCaptionByDataField(fields[i].dataField, allowHierarchicalFields)\r\n        }, fields[i]);\r\n        item.id = item.name || item.dataField;\r\n        if (allowHierarchicalFields) {\r\n            pushItemAndCheckParent(fields, items, item)\r\n        } else {\r\n            items.push(item)\r\n        }\r\n    }\r\n    return items\r\n}\r\n\r\nfunction hasParent(dataField) {\r\n    return -1 !== dataField.lastIndexOf(\".\")\r\n}\r\n\r\nfunction getParentIdFromItemDataField(dataField) {\r\n    return dataField.substring(0, dataField.lastIndexOf(\".\"))\r\n}\r\nexport function getCaptionWithParents(item, plainItems) {\r\n    if (hasParent(item.dataField)) {\r\n        var parentId = getParentIdFromItemDataField(item.dataField);\r\n        for (var i = 0; i < plainItems.length; i++) {\r\n            if (plainItems[i].dataField === parentId) {\r\n                return getCaptionWithParents(plainItems[i], plainItems) + \".\" + item.caption\r\n            }\r\n        }\r\n    }\r\n    return item.caption\r\n}\r\nexport function updateConditionByOperation(condition, operation, customOperations) {\r\n    var customOperation = getCustomOperation(customOperations, operation);\r\n    if (customOperation) {\r\n        if (false === customOperation.hasValue) {\r\n            condition[1] = operation;\r\n            condition.length = 2\r\n        } else {\r\n            condition[1] = operation;\r\n            condition[2] = \"\"\r\n        }\r\n        return condition\r\n    }\r\n    if (\"isblank\" === operation) {\r\n        condition[1] = EQUAL_OPERATION;\r\n        condition[2] = null\r\n    } else if (\"isnotblank\" === operation) {\r\n        condition[1] = NOT_EQUAL_OPERATION;\r\n        condition[2] = null\r\n    } else {\r\n        customOperation = getCustomOperation(customOperations, condition[1]);\r\n        if (customOperation || 2 === condition.length || null === condition[2]) {\r\n            condition[2] = \"\"\r\n        }\r\n        condition[1] = operation\r\n    }\r\n    return condition\r\n}\r\nexport function getOperationValue(condition) {\r\n    var caption;\r\n    if (null === condition[2]) {\r\n        if (condition[1] === EQUAL_OPERATION) {\r\n            caption = \"isblank\"\r\n        } else {\r\n            caption = \"isnotblank\"\r\n        }\r\n    } else {\r\n        caption = condition[1]\r\n    }\r\n    return caption\r\n}\r\nexport function isValidCondition(condition) {\r\n    return \"\" !== condition[2]\r\n}\r\nexport function getMergedOperations(customOperations, betweenCaption, context) {\r\n    var result = extend(true, [], customOperations);\r\n    var betweenIndex = -1;\r\n    result.some((function(customOperation, index) {\r\n        if (\"between\" === customOperation.name) {\r\n            betweenIndex = index;\r\n            return true\r\n        }\r\n    }));\r\n    if (-1 !== betweenIndex) {\r\n        result[betweenIndex] = extend(getConfig(betweenCaption, context), result[betweenIndex])\r\n    } else {\r\n        result.unshift(getConfig(betweenCaption, context))\r\n    }\r\n    return result\r\n}\r\n\r\nfunction isMatchedCondition(filter, addedFilterDataField) {\r\n    return filter[0] === addedFilterDataField\r\n}\r\nexport function removeFieldConditionsFromFilter(filter, dataField) {\r\n    if (!filter || 0 === filter.length) {\r\n        return null\r\n    }\r\n    if (isCondition(filter)) {\r\n        var hasMatchedCondition = isMatchedCondition(filter, dataField);\r\n        return !hasMatchedCondition ? filter : null\r\n    } else {\r\n        return syncConditionIntoGroup(filter, [dataField], false)\r\n    }\r\n}\r\n\r\nfunction syncConditionIntoGroup(filter, addedFilter, canPush) {\r\n    var result = [];\r\n    filter.forEach((function(item) {\r\n        if (isCondition(item)) {\r\n            if (isMatchedCondition(item, addedFilter[0])) {\r\n                if (canPush) {\r\n                    result.push(addedFilter);\r\n                    canPush = false\r\n                } else {\r\n                    result.splice(result.length - 1, 1)\r\n                }\r\n            } else {\r\n                result.push(item)\r\n            }\r\n        } else {\r\n            (result.length || isGroup(item)) && result.push(item)\r\n        }\r\n    }));\r\n    if (0 === result.length) {\r\n        return null\r\n    }\r\n    if (canPush) {\r\n        result.push(AND_GROUP_OPERATION);\r\n        result.push(addedFilter)\r\n    }\r\n    return 1 === result.length ? result[0] : result\r\n}\r\nexport function syncFilters(filter, addedFilter) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return addedFilter\r\n    }\r\n    if (isCondition(filter)) {\r\n        if (isMatchedCondition(filter, addedFilter[0])) {\r\n            return addedFilter\r\n        } else {\r\n            return [filter, AND_GROUP_OPERATION, addedFilter]\r\n        }\r\n    }\r\n    var groupValue = getGroupValue(filter);\r\n    if (groupValue !== AND_GROUP_OPERATION) {\r\n        return [addedFilter, \"and\", filter]\r\n    }\r\n    return syncConditionIntoGroup(filter, addedFilter, true)\r\n}\r\nexport function getMatchedConditions(filter, dataField) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return []\r\n    }\r\n    if (isCondition(filter)) {\r\n        if (isMatchedCondition(filter, dataField)) {\r\n            return [filter]\r\n        } else {\r\n            return []\r\n        }\r\n    }\r\n    var groupValue = getGroupValue(filter);\r\n    if (groupValue !== AND_GROUP_OPERATION) {\r\n        return []\r\n    }\r\n    var result = filter.filter((function(item) {\r\n        return isCondition(item) && isMatchedCondition(item, dataField)\r\n    }));\r\n    return result\r\n}\r\nexport function filterHasField(filter, dataField) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return false\r\n    }\r\n    if (isCondition(filter)) {\r\n        return filter[0] === dataField\r\n    }\r\n    return filter.some((function(item) {\r\n        return (isCondition(item) || isGroup(item)) && filterHasField(item, dataField)\r\n    }))\r\n}\r\nexport var renderValueText = function($container, value, customOperation) {\r\n    if (Array.isArray(value)) {\r\n        var lastItemIndex = value.length - 1;\r\n        $container.empty();\r\n        value.forEach((t, i) => {\r\n            $(\"<span>\").addClass(FILTER_BUILDER_ITEM_TEXT_PART_CLASS).text(t).appendTo($container);\r\n            if (i !== lastItemIndex) {\r\n                $(\"<span>\").addClass(FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS).text(customOperation && customOperation.valueSeparator ? customOperation.valueSeparator : \"|\").addClass(FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS).appendTo($container)\r\n            }\r\n        })\r\n    } else if (value) {\r\n        $container.text(value)\r\n    } else {\r\n        $container.text(messageLocalization.format(\"dxFilterBuilder-enterValueText\"))\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_custom_operations.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    DataSource\r\n} from \"../../data/data_source/data_source\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isGroup,\r\n    isCondition,\r\n    getFilterExpression,\r\n    renderValueText\r\n} from \"../filter_builder/utils\";\r\nimport errors from \"../widget/ui.errors\";\r\n\r\nfunction baseOperation(grid) {\r\n    var getFullText = function(itemText, parentText) {\r\n        return parentText ? parentText + \"/\" + itemText : itemText\r\n    };\r\n    var headerFilterController = grid && grid.getController(\"headerFilter\");\r\n    return {\r\n        dataTypes: [\"string\", \"date\", \"datetime\", \"number\", \"boolean\", \"object\"],\r\n        calculateFilterExpression: function(filterValue, field, fields) {\r\n            var result = [];\r\n            var lastIndex = filterValue.length - 1;\r\n            filterValue && filterValue.forEach((function(value, index) {\r\n                if (isCondition(value) || isGroup(value)) {\r\n                    var filterExpression = getFilterExpression(value, fields, [], \"headerFilter\");\r\n                    result.push(filterExpression)\r\n                } else {\r\n                    result.push(getFilterExpression([field.dataField, \"=\", value], fields, [], \"headerFilter\"))\r\n                }\r\n                index !== lastIndex && result.push(\"or\")\r\n            }));\r\n            if (1 === result.length) {\r\n                result = result[0]\r\n            }\r\n            return result\r\n        },\r\n        editorTemplate: function(conditionInfo, container) {\r\n            var div = $(\"<div>\").addClass(\"dx-filterbuilder-item-value-text\").appendTo(container);\r\n            var column = extend(true, {}, grid.columnOption(conditionInfo.field.dataField));\r\n            renderValueText(div, conditionInfo.text && conditionInfo.text.split(\"|\"));\r\n            column.filterType = \"include\";\r\n            column.filterValues = conditionInfo.value ? conditionInfo.value.slice() : [];\r\n            headerFilterController.showHeaderFilterMenuBase({\r\n                columnElement: div,\r\n                column: column,\r\n                apply: function() {\r\n                    value = this.filterValues, void conditionInfo.setValue(value);\r\n                    var value;\r\n                    headerFilterController.hideHeaderFilterMenu();\r\n                    conditionInfo.closeEditor()\r\n                },\r\n                onHidden: function() {\r\n                    conditionInfo.closeEditor()\r\n                },\r\n                isFilterBuilder: true\r\n            });\r\n            return container\r\n        },\r\n        customizeText: function(fieldInfo, options) {\r\n            options = options || {};\r\n            var value = fieldInfo.value;\r\n            var column = grid.columnOption(fieldInfo.field.dataField);\r\n            var headerFilter = column && column.headerFilter;\r\n            var lookup = column && column.lookup;\r\n            var values = options.values || [value];\r\n            if (headerFilter && headerFilter.dataSource || lookup && lookup.dataSource) {\r\n                var result = new Deferred;\r\n                var itemsDeferred = options.items || new Deferred;\r\n                if (!options.items) {\r\n                    column = extend({}, column, {\r\n                        filterType: \"include\",\r\n                        filterValues: values\r\n                    });\r\n                    var dataSourceOptions = headerFilterController.getDataSource(column);\r\n                    dataSourceOptions.paginate = false;\r\n                    var dataSource = new DataSource(dataSourceOptions);\r\n                    var key = dataSource.store().key();\r\n                    if (key) {\r\n                        var {\r\n                            values: _values\r\n                        } = options;\r\n                        if (_values && _values.length > 1) {\r\n                            var filter = _values.reduce((result, value) => {\r\n                                if (result.length) {\r\n                                    result.push(\"or\")\r\n                                }\r\n                                result.push([key, \"=\", value]);\r\n                                return result\r\n                            }, []);\r\n                            dataSource.filter(filter)\r\n                        } else {\r\n                            dataSource.filter([key, \"=\", fieldInfo.value])\r\n                        }\r\n                    } else if (fieldInfo.field.calculateDisplayValue) {\r\n                        errors.log(\"W1017\")\r\n                    }\r\n                    options.items = itemsDeferred;\r\n                    dataSource.load().done(itemsDeferred.resolve)\r\n                }\r\n                itemsDeferred.done(items => {\r\n                    var index = values.indexOf(fieldInfo.value);\r\n                    result.resolve(function getSelectedItemsTexts(items, parentText) {\r\n                        var result = [];\r\n                        items.forEach((function(item) {\r\n                            if (item.items) {\r\n                                var selectedItemsTexts = getSelectedItemsTexts(item.items, getFullText(item.text, parentText));\r\n                                result = result.concat(selectedItemsTexts)\r\n                            }\r\n                            item.selected && result.push(getFullText(item.text, parentText))\r\n                        }));\r\n                        return result\r\n                    }(items)[index])\r\n                });\r\n                return result\r\n            } else {\r\n                var text = headerFilterController.getHeaderItemText(value, column, 0, grid.option(\"headerFilter\"));\r\n                return text\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function anyOf(grid) {\r\n    return extend(baseOperation(grid), {\r\n        name: \"anyof\",\r\n        icon: \"selectall\",\r\n        caption: messageLocalization.format(\"dxFilterBuilder-filterOperationAnyOf\")\r\n    })\r\n}\r\nexport function noneOf(grid) {\r\n    var baseOp = baseOperation(grid);\r\n    return extend({}, baseOp, {\r\n        calculateFilterExpression: function(filterValue, field, fields) {\r\n            var baseFilter = baseOp.calculateFilterExpression(filterValue, field, fields);\r\n            if (!baseFilter || 0 === baseFilter.length) {\r\n                return null\r\n            }\r\n            return \"!\" === baseFilter[0] ? baseFilter : [\"!\", baseFilter]\r\n        },\r\n        name: \"noneof\",\r\n        icon: \"unselectall\",\r\n        caption: messageLocalization.format(\"dxFilterBuilder-filterOperationNoneOf\")\r\n    })\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_sync.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    getDefaultOperation,\r\n    getMatchedConditions,\r\n    syncFilters,\r\n    removeFieldConditionsFromFilter,\r\n    addItem,\r\n    getNormalizedFilter,\r\n    getFilterExpression,\r\n    filterHasField\r\n} from \"../filter_builder/utils\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport filterUtils from \"../shared/filtering\";\r\nimport {\r\n    anyOf,\r\n    noneOf\r\n} from \"./ui.grid_core.filter_custom_operations\";\r\nvar FILTER_ROW_OPERATIONS = [\"=\", \"<>\", \"<\", \"<=\", \">\", \">=\", \"notcontains\", \"contains\", \"startswith\", \"endswith\", \"between\"];\r\nvar FILTER_TYPES_INCLUDE = \"include\";\r\nvar FILTER_TYPES_EXCLUDE = \"exclude\";\r\n\r\nfunction getColumnIdentifier(column) {\r\n    return column.name || column.dataField\r\n}\r\n\r\nfunction checkForErrors(columns) {\r\n    columns.forEach(column => {\r\n        var identifier = getColumnIdentifier(column);\r\n        if (!isDefined(identifier) && column.allowFiltering) {\r\n            throw new errors.Error(\"E1049\", column.caption)\r\n        }\r\n    })\r\n}\r\nvar FilterSyncController = modules.Controller.inherit(function() {\r\n    var getEmptyFilterValues = function() {\r\n        return {\r\n            filterType: FILTER_TYPES_INCLUDE,\r\n            filterValues: void 0\r\n        }\r\n    };\r\n    var canSyncHeaderFilterWithFilterRow = function(column) {\r\n        var filterValues = column.filterValues || [];\r\n        return !filterUtils.getGroupInterval(column) && !(column.headerFilter && column.headerFilter.dataSource) || 1 === filterValues.length && null === filterValues[0]\r\n    };\r\n    var getConditionFromFilterRow = function(column) {\r\n        var value = column.filterValue;\r\n        if (isDefined(value)) {\r\n            var operation = column.selectedFilterOperation || column.defaultFilterOperation || getDefaultOperation(column);\r\n            var filter = [getColumnIdentifier(column), operation, column.filterValue];\r\n            return filter\r\n        } else {\r\n            return null\r\n        }\r\n    };\r\n    var getConditionFromHeaderFilter = function(column) {\r\n        var selectedOperation;\r\n        var value;\r\n        var filterValues = column.filterValues;\r\n        if (!filterValues) {\r\n            return null\r\n        }\r\n        if (1 === filterValues.length && canSyncHeaderFilterWithFilterRow(column) && !Array.isArray(filterValues[0])) {\r\n            column.filterType === FILTER_TYPES_EXCLUDE ? selectedOperation = \"<>\" : selectedOperation = \"=\";\r\n            value = filterValues[0]\r\n        } else {\r\n            column.filterType === FILTER_TYPES_EXCLUDE ? selectedOperation = \"noneof\" : selectedOperation = \"anyof\";\r\n            value = filterValues\r\n        }\r\n        return [getColumnIdentifier(column), selectedOperation, value]\r\n    };\r\n    var updateHeaderFilterCondition = function(columnsController, column, headerFilterCondition) {\r\n        var headerFilter = function(headerFilterCondition, column) {\r\n            if (!headerFilterCondition) {\r\n                return getEmptyFilterValues()\r\n            }\r\n            var filterType;\r\n            var selectedFilterOperation = headerFilterCondition[1];\r\n            var value = headerFilterCondition[2];\r\n            var hasArrayValue = Array.isArray(value);\r\n            if (!hasArrayValue) {\r\n                if (!canSyncHeaderFilterWithFilterRow(column)) {\r\n                    return getEmptyFilterValues()\r\n                }\r\n            }\r\n            switch (selectedFilterOperation) {\r\n                case \"anyof\":\r\n                case \"=\":\r\n                    filterType = FILTER_TYPES_INCLUDE;\r\n                    break;\r\n                case \"noneof\":\r\n                case \"<>\":\r\n                    filterType = FILTER_TYPES_EXCLUDE;\r\n                    break;\r\n                default:\r\n                    return getEmptyFilterValues()\r\n            }\r\n            return {\r\n                filterType: filterType,\r\n                filterValues: hasArrayValue ? value : [value]\r\n            }\r\n        }(headerFilterCondition, column);\r\n        columnsController.columnOption(getColumnIdentifier(column), headerFilter)\r\n    };\r\n    var updateFilterRowCondition = function(columnsController, column, condition) {\r\n        var filterRowOptions;\r\n        var selectedFilterOperation = null === condition || void 0 === condition ? void 0 : condition[1];\r\n        var filterValue = null === condition || void 0 === condition ? void 0 : condition[2];\r\n        var filterOperations = column.filterOperations || column.defaultFilterOperations;\r\n        if ((!filterOperations || filterOperations.indexOf(selectedFilterOperation) >= 0 || selectedFilterOperation === column.defaultFilterOperation) && FILTER_ROW_OPERATIONS.indexOf(selectedFilterOperation) >= 0 && null !== filterValue) {\r\n            if (selectedFilterOperation === column.defaultFilterOperation && !isDefined(column.selectedFilterOperation)) {\r\n                selectedFilterOperation = column.selectedFilterOperation\r\n            }\r\n            filterRowOptions = {\r\n                filterValue: filterValue,\r\n                selectedFilterOperation: selectedFilterOperation\r\n            }\r\n        } else {\r\n            filterRowOptions = {\r\n                filterValue: void 0,\r\n                selectedFilterOperation: void 0\r\n            }\r\n        }\r\n        columnsController.columnOption(getColumnIdentifier(column), filterRowOptions)\r\n    };\r\n    return {\r\n        syncFilterValue: function() {\r\n            var that = this;\r\n            var columnsController = that.getController(\"columns\");\r\n            var columns = columnsController.getFilteringColumns();\r\n            this._skipSyncColumnOptions = true;\r\n            columns.forEach((function(column) {\r\n                var filterConditions = getMatchedConditions(that.option(\"filterValue\"), getColumnIdentifier(column));\r\n                if (1 === filterConditions.length) {\r\n                    var filterCondition = filterConditions[0];\r\n                    updateHeaderFilterCondition(columnsController, column, filterCondition);\r\n                    updateFilterRowCondition(columnsController, column, filterCondition)\r\n                } else {\r\n                    isDefined(column.filterValues) && updateHeaderFilterCondition(columnsController, column);\r\n                    isDefined(column.filterValue) && updateFilterRowCondition(columnsController, column)\r\n                }\r\n            }));\r\n            this._skipSyncColumnOptions = false\r\n        },\r\n        _initSync: function() {\r\n            var columns = this.getController(\"columns\").getColumns();\r\n            var dataController = this.getController(\"data\");\r\n            var pageIndex = dataController.pageIndex();\r\n            checkForErrors(columns);\r\n            if (!this.option(\"filterValue\")) {\r\n                var filteringColumns = this.getController(\"columns\").getFilteringColumns();\r\n                var filterValue = this.getFilterValueFromColumns(filteringColumns);\r\n                this.option(\"filterValue\", filterValue)\r\n            }\r\n            this.syncFilterValue();\r\n            dataController.pageIndex(pageIndex)\r\n        },\r\n        init: function() {\r\n            var dataController = this.getController(\"data\");\r\n            if (dataController.isFilterSyncActive()) {\r\n                if (this.getController(\"columns\").isAllDataTypesDefined()) {\r\n                    this._initSync()\r\n                } else {\r\n                    dataController.dataSourceChanged.add(() => this._initSync())\r\n                }\r\n            }\r\n        },\r\n        _getSyncFilterRow: function(filterValue, column) {\r\n            var filter = getConditionFromFilterRow(column);\r\n            if (isDefined(filter)) {\r\n                return syncFilters(filterValue, filter)\r\n            } else {\r\n                return removeFieldConditionsFromFilter(filterValue, getColumnIdentifier(column))\r\n            }\r\n        },\r\n        _getSyncHeaderFilter: function(filterValue, column) {\r\n            var filter = getConditionFromHeaderFilter(column);\r\n            if (filter) {\r\n                return syncFilters(filterValue, filter)\r\n            } else {\r\n                return removeFieldConditionsFromFilter(filterValue, getColumnIdentifier(column))\r\n            }\r\n        },\r\n        getFilterValueFromColumns: function(columns) {\r\n            if (!this.getController(\"data\").isFilterSyncActive()) {\r\n                return null\r\n            }\r\n            var filterValue = [\"and\"];\r\n            columns && columns.forEach(column => {\r\n                var headerFilter = getConditionFromHeaderFilter(column);\r\n                var filterRow = getConditionFromFilterRow(column);\r\n                headerFilter && addItem(headerFilter, filterValue);\r\n                filterRow && addItem(filterRow, filterValue)\r\n            });\r\n            return getNormalizedFilter(filterValue)\r\n        },\r\n        syncFilterRow: function(column, value) {\r\n            this.option(\"filterValue\", this._getSyncFilterRow(this.option(\"filterValue\"), column))\r\n        },\r\n        syncHeaderFilter: function(column) {\r\n            this.option(\"filterValue\", this._getSyncHeaderFilter(this.option(\"filterValue\"), column))\r\n        },\r\n        getCustomFilterOperations: function() {\r\n            var filterBuilderCustomOperations = this.option(\"filterBuilder.customOperations\") || [];\r\n            return [anyOf(this.component), noneOf(this.component)].concat(filterBuilderCustomOperations)\r\n        },\r\n        publicMethods: function() {\r\n            return [\"getCustomFilterOperations\"]\r\n        }\r\n    }\r\n}());\r\nvar DataControllerFilterSyncExtender = {\r\n    isFilterSyncActive: function() {\r\n        var filterSyncEnabledValue = this.option(\"filterSyncEnabled\");\r\n        return \"auto\" === filterSyncEnabledValue ? this.option(\"filterPanel.visible\") : filterSyncEnabledValue\r\n    },\r\n    skipCalculateColumnFilters: function() {\r\n        return isDefined(this.option(\"filterValue\")) && this.isFilterSyncActive()\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (false === this.option(\"filterPanel.filterEnabled\")) {\r\n            return this.callBase()\r\n        }\r\n        var filters = [this.callBase()];\r\n        var columns = this.getController(\"columns\").getFilteringColumns();\r\n        var filterValue = this.option(\"filterValue\");\r\n        if (this.isFilterSyncActive()) {\r\n            var currentColumn = this.getController(\"headerFilter\").getCurrentColumn();\r\n            if (currentColumn && filterValue) {\r\n                filterValue = removeFieldConditionsFromFilter(filterValue, getColumnIdentifier(currentColumn))\r\n            }\r\n        }\r\n        var customOperations = this.getController(\"filterSync\").getCustomFilterOperations();\r\n        var calculatedFilterValue = getFilterExpression(filterValue, columns, customOperations, \"filterBuilder\");\r\n        if (calculatedFilterValue) {\r\n            filters.push(calculatedFilterValue)\r\n        }\r\n        return gridCoreUtils.combineFilters(filters)\r\n    },\r\n    _parseColumnPropertyName: function(fullName) {\r\n        var matched = fullName.match(/.*\\.(.*)/);\r\n        if (matched) {\r\n            return matched[1]\r\n        } else {\r\n            return null\r\n        }\r\n    },\r\n    clearFilter: function(filterName) {\r\n        this.component.beginUpdate();\r\n        if (arguments.length > 0) {\r\n            if (\"filterValue\" === filterName) {\r\n                this.option(\"filterValue\", null)\r\n            }\r\n            this.callBase(filterName)\r\n        } else {\r\n            this.option(\"filterValue\", null);\r\n            this.callBase()\r\n        }\r\n        this.component.endUpdate()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterValue\":\r\n                this._applyFilter();\r\n                this.isFilterSyncActive() && this.getController(\"filterSync\").syncFilterValue();\r\n                args.handled = true;\r\n                break;\r\n            case \"filterSyncEnabled\":\r\n                args.handled = true;\r\n                break;\r\n            case \"columns\":\r\n                if (this.isFilterSyncActive()) {\r\n                    var column = this.getController(\"columns\").getColumnByPath(args.fullName);\r\n                    var filterSyncController = this.getController(\"filterSync\");\r\n                    if (column && !filterSyncController._skipSyncColumnOptions) {\r\n                        var propertyName = this._parseColumnPropertyName(args.fullName);\r\n                        filterSyncController._skipSyncColumnOptions = true;\r\n                        if (\"filterType\" === propertyName) {\r\n                            if (FILTER_TYPES_EXCLUDE === args.value || FILTER_TYPES_EXCLUDE === args.previousValue) {\r\n                                filterSyncController.syncHeaderFilter(column)\r\n                            }\r\n                        } else if (\"filterValues\" === propertyName) {\r\n                            filterSyncController.syncHeaderFilter(column)\r\n                        } else if ([\"filterValue\", \"selectedFilterOperation\"].indexOf(propertyName) > -1) {\r\n                            filterSyncController.syncFilterRow(column, column.filterValue)\r\n                        }\r\n                        filterSyncController._skipSyncColumnOptions = false\r\n                    }\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n};\r\nvar ColumnHeadersViewFilterSyncExtender = {\r\n    _isHeaderFilterEmpty: function(column) {\r\n        if (this.getController(\"data\").isFilterSyncActive()) {\r\n            return !filterHasField(this.option(\"filterValue\"), getColumnIdentifier(column))\r\n        }\r\n        return this.callBase(column)\r\n    },\r\n    _needUpdateFilterIndicators: function() {\r\n        return !this.getController(\"data\").isFilterSyncActive()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"filterValue\" === args.name) {\r\n            this._updateHeaderFilterIndicators()\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\nexport var filterSyncModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterValue: null,\r\n            filterSyncEnabled: \"auto\"\r\n        }\r\n    },\r\n    controllers: {\r\n        filterSync: FilterSyncController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterSyncExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFilterSyncExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_sync.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterSyncModule\r\n} from \"../grid_core/ui.grid_core.filter_sync\";\r\ncore.registerModule(\"filterSync\", filterSyncModule);\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport Class from \"../../core/class\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport TreeView from \"../tree_view\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    getElementMaxHeightByWindow\r\n} from \"../overlay/utils\";\r\nimport EditorFactoryMixin from \"../shared/ui.editor_factory_mixin\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    renderValueText,\r\n    getFilterExpression as _getFilterExpression,\r\n    getNormalizedFilter,\r\n    getNormalizedFields,\r\n    getMergedOperations,\r\n    convertToInnerStructure,\r\n    getGroupCriteria,\r\n    isGroup,\r\n    isCondition,\r\n    removeItem,\r\n    createEmptyGroup,\r\n    addItem,\r\n    createCondition,\r\n    getGroupMenuItem,\r\n    setGroupValue,\r\n    getCustomOperation,\r\n    getAvailableOperations,\r\n    getOperationFromAvailable,\r\n    getOperationValue,\r\n    updateConditionByOperation,\r\n    getItems,\r\n    getField,\r\n    getCaptionWithParents,\r\n    getDefaultOperation,\r\n    getGroupValue,\r\n    getCurrentLookupValueText,\r\n    getCurrentValueText\r\n} from \"./utils\";\r\nvar FILTER_BUILDER_CLASS = \"dx-filterbuilder\";\r\nvar FILTER_BUILDER_GROUP_CLASS = FILTER_BUILDER_CLASS + \"-group\";\r\nvar FILTER_BUILDER_GROUP_ITEM_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-item\";\r\nvar FILTER_BUILDER_GROUP_CONTENT_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-content\";\r\nvar FILTER_BUILDER_GROUP_OPERATIONS_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-operations\";\r\nvar FILTER_BUILDER_GROUP_OPERATION_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-operation\";\r\nvar FILTER_BUILDER_ACTION_CLASS = FILTER_BUILDER_CLASS + \"-action\";\r\nvar FILTER_BUILDER_IMAGE_CLASS = FILTER_BUILDER_ACTION_CLASS + \"-icon\";\r\nvar FILTER_BUILDER_IMAGE_ADD_CLASS = \"dx-icon-plus\";\r\nvar FILTER_BUILDER_IMAGE_REMOVE_CLASS = \"dx-icon-remove\";\r\nvar FILTER_BUILDER_ITEM_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-text\";\r\nvar FILTER_BUILDER_ITEM_FIELD_CLASS = FILTER_BUILDER_CLASS + \"-item-field\";\r\nvar FILTER_BUILDER_ITEM_OPERATION_CLASS = FILTER_BUILDER_CLASS + \"-item-operation\";\r\nvar FILTER_BUILDER_ITEM_VALUE_CLASS = FILTER_BUILDER_CLASS + \"-item-value\";\r\nvar FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-item-value-text\";\r\nvar FILTER_BUILDER_OVERLAY_CLASS = FILTER_BUILDER_CLASS + \"-overlay\";\r\nvar FILTER_BUILDER_FILTER_OPERATIONS_CLASS = FILTER_BUILDER_CLASS + \"-operations\";\r\nvar FILTER_BUILDER_FIELDS_CLASS = FILTER_BUILDER_CLASS + \"-fields\";\r\nvar FILTER_BUILDER_ADD_CONDITION_CLASS = FILTER_BUILDER_CLASS + \"-add-condition\";\r\nvar ACTIVE_CLASS = \"dx-state-active\";\r\nvar FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS = FILTER_BUILDER_CLASS + \"-menu-custom-operation\";\r\nvar SOURCE = \"filterBuilder\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar TAB_KEY = \"tab\";\r\nvar ENTER_KEY = \"enter\";\r\nvar ESCAPE_KEY = \"escape\";\r\nvar ACTIONS = [{\r\n    name: \"onEditorPreparing\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"],\r\n        category: \"rendering\"\r\n    }\r\n}, {\r\n    name: \"onEditorPrepared\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"],\r\n        category: \"rendering\"\r\n    }\r\n}, {\r\n    name: \"onValueChanged\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"]\r\n    }\r\n}];\r\nvar OPERATORS = {\r\n    and: \"and\",\r\n    or: \"or\",\r\n    notAnd: \"!and\",\r\n    notOr: \"!or\"\r\n};\r\nvar EditorFactory = Class.inherit(EditorFactoryMixin);\r\nvar FilterBuilder = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onEditorPreparing: null,\r\n            onEditorPrepared: null,\r\n            onValueChanged: null,\r\n            fields: [],\r\n            groupOperations: [\"and\", \"or\", \"notAnd\", \"notOr\"],\r\n            maxGroupLevel: void 0,\r\n            value: null,\r\n            allowHierarchicalFields: false,\r\n            groupOperationDescriptions: {\r\n                and: messageLocalization.format(\"dxFilterBuilder-and\"),\r\n                or: messageLocalization.format(\"dxFilterBuilder-or\"),\r\n                notAnd: messageLocalization.format(\"dxFilterBuilder-notAnd\"),\r\n                notOr: messageLocalization.format(\"dxFilterBuilder-notOr\")\r\n            },\r\n            customOperations: [],\r\n            closePopupOnTargetScroll: true,\r\n            filterOperationDescriptions: {\r\n                between: messageLocalization.format(\"dxFilterBuilder-filterOperationBetween\"),\r\n                equal: messageLocalization.format(\"dxFilterBuilder-filterOperationEquals\"),\r\n                notEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationNotEquals\"),\r\n                lessThan: messageLocalization.format(\"dxFilterBuilder-filterOperationLess\"),\r\n                lessThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationLessOrEquals\"),\r\n                greaterThan: messageLocalization.format(\"dxFilterBuilder-filterOperationGreater\"),\r\n                greaterThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationGreaterOrEquals\"),\r\n                startsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationStartsWith\"),\r\n                contains: messageLocalization.format(\"dxFilterBuilder-filterOperationContains\"),\r\n                notContains: messageLocalization.format(\"dxFilterBuilder-filterOperationNotContains\"),\r\n                endsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationEndsWith\"),\r\n                isBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                isNotBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n            }\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"closePopupOnTargetScroll\":\r\n                break;\r\n            case \"onEditorPreparing\":\r\n            case \"onEditorPrepared\":\r\n            case \"onValueChanged\":\r\n                this._initActions();\r\n                break;\r\n            case \"customOperations\":\r\n                this._initCustomOperations();\r\n                this._invalidate();\r\n                break;\r\n            case \"fields\":\r\n            case \"maxGroupLevel\":\r\n            case \"groupOperations\":\r\n            case \"allowHierarchicalFields\":\r\n            case \"groupOperationDescriptions\":\r\n            case \"filterOperationDescriptions\":\r\n                this._invalidate();\r\n                break;\r\n            case \"value\":\r\n                if (args.value !== args.previousValue) {\r\n                    var disableInvalidateForValue = this._disableInvalidateForValue;\r\n                    if (!disableInvalidateForValue) {\r\n                        this._initModel();\r\n                        this._invalidate()\r\n                    }\r\n                    this._disableInvalidateForValue = false;\r\n                    this.executeAction(\"onValueChanged\", {\r\n                        value: args.value,\r\n                        previousValue: args.previousValue\r\n                    });\r\n                    this._disableInvalidateForValue = disableInvalidateForValue\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getFilterExpression: function() {\r\n        var fields = this._getNormalizedFields();\r\n        var value = extend(true, [], this._model);\r\n        return _getFilterExpression(getNormalizedFilter(value), fields, this._customOperations, SOURCE)\r\n    },\r\n    _getNormalizedFields: function() {\r\n        return getNormalizedFields(this.option(\"fields\"))\r\n    },\r\n    _updateFilter: function() {\r\n        this._disableInvalidateForValue = true;\r\n        var value = extend(true, [], this._model);\r\n        var normalizedValue = getNormalizedFilter(value);\r\n        var oldValue = getNormalizedFilter(this._getModel(this.option(\"value\")));\r\n        if (JSON.stringify(oldValue) !== JSON.stringify(normalizedValue)) {\r\n            this.option(\"value\", normalizedValue)\r\n        }\r\n        this._disableInvalidateForValue = false;\r\n        this._fireContentReadyAction()\r\n    },\r\n    _init: function() {\r\n        this._initCustomOperations();\r\n        this._initModel();\r\n        this._initEditorFactory();\r\n        this._initActions();\r\n        this.callBase()\r\n    },\r\n    _initEditorFactory: function() {\r\n        this._editorFactory = new EditorFactory\r\n    },\r\n    _initCustomOperations: function() {\r\n        this._customOperations = getMergedOperations(this.option(\"customOperations\"), this.option(\"filterOperationDescriptions.between\"), this)\r\n    },\r\n    _getDefaultGroupOperation: function() {\r\n        var _this$option$, _this$option;\r\n        return null !== (_this$option$ = null === (_this$option = this.option(\"groupOperations\")) || void 0 === _this$option ? void 0 : _this$option[0]) && void 0 !== _this$option$ ? _this$option$ : OPERATORS.and\r\n    },\r\n    _getModel: function(value) {\r\n        return convertToInnerStructure(value, this._customOperations, this._getDefaultGroupOperation())\r\n    },\r\n    _initModel: function() {\r\n        this._model = this._getModel(this.option(\"value\"))\r\n    },\r\n    _initActions: function() {\r\n        var that = this;\r\n        that._actions = {};\r\n        ACTIONS.forEach((function(action) {\r\n            var actionConfig = extend({}, action.config);\r\n            that._actions[action.name] = that._createActionByOption(action.name, actionConfig)\r\n        }))\r\n    },\r\n    executeAction: function(actionName, options) {\r\n        var action = this._actions[actionName];\r\n        return action && action(options)\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(FILTER_BUILDER_CLASS);\r\n        this.callBase();\r\n        this._createGroupElementByCriteria(this._model).appendTo(this.$element())\r\n    },\r\n    _createConditionElement: function(condition, parent) {\r\n        return $(\"<div>\").addClass(FILTER_BUILDER_GROUP_CLASS).append(this._createConditionItem(condition, parent))\r\n    },\r\n    _createGroupElementByCriteria: function(criteria, parent) {\r\n        var groupLevel = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\r\n        var $group = this._createGroupElement(criteria, parent, groupLevel);\r\n        var $groupContent = $group.find(\".\" + FILTER_BUILDER_GROUP_CONTENT_CLASS);\r\n        var groupCriteria = getGroupCriteria(criteria);\r\n        for (var i = 0; i < groupCriteria.length; i++) {\r\n            var innerCriteria = groupCriteria[i];\r\n            if (isGroup(innerCriteria)) {\r\n                this._createGroupElementByCriteria(innerCriteria, criteria, groupLevel + 1).appendTo($groupContent)\r\n            } else if (isCondition(innerCriteria)) {\r\n                this._createConditionElement(innerCriteria, criteria).appendTo($groupContent)\r\n            }\r\n        }\r\n        return $group\r\n    },\r\n    _createGroupElement: function(criteria, parent, groupLevel) {\r\n        var $groupItem = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_ITEM_CLASS);\r\n        var $groupContent = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_CONTENT_CLASS);\r\n        var $group = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_CLASS).append($groupItem).append($groupContent);\r\n        if (null != parent) {\r\n            this._createRemoveButton(() => {\r\n                removeItem(parent, criteria);\r\n                $group.remove();\r\n                this._updateFilter()\r\n            }).appendTo($groupItem)\r\n        }\r\n        this._createGroupOperationButton(criteria).appendTo($groupItem);\r\n        this._createAddButton(() => {\r\n            var newGroup = createEmptyGroup(this._getDefaultGroupOperation());\r\n            addItem(newGroup, criteria);\r\n            this._createGroupElement(newGroup, criteria, groupLevel + 1).appendTo($groupContent);\r\n            this._updateFilter()\r\n        }, () => {\r\n            var field = this.option(\"fields\")[0];\r\n            var newCondition = createCondition(field, this._customOperations);\r\n            addItem(newCondition, criteria);\r\n            this._createConditionElement(newCondition, criteria).appendTo($groupContent);\r\n            this._updateFilter()\r\n        }, groupLevel).appendTo($groupItem);\r\n        return $group\r\n    },\r\n    _createButton: function(caption) {\r\n        return $(\"<div>\").text(caption)\r\n    },\r\n    _createGroupOperationButton: function(criteria) {\r\n        var groupOperations = this._getGroupOperations(criteria);\r\n        var groupMenuItem = getGroupMenuItem(criteria, groupOperations);\r\n        var caption = groupMenuItem.text;\r\n        var $operationButton = groupOperations && groupOperations.length < 2 ? this._createButton(caption).addClass(DISABLED_STATE_CLASS) : this._createButtonWithMenu({\r\n            caption: caption,\r\n            menu: {\r\n                items: groupOperations,\r\n                displayExpr: \"text\",\r\n                keyExpr: \"value\",\r\n                onItemClick: e => {\r\n                    if (groupMenuItem !== e.itemData) {\r\n                        setGroupValue(criteria, e.itemData.value);\r\n                        $operationButton.text(e.itemData.text);\r\n                        groupMenuItem = e.itemData;\r\n                        this._updateFilter()\r\n                    }\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(groupMenuItem)\r\n                },\r\n                cssClass: FILTER_BUILDER_GROUP_OPERATIONS_CLASS\r\n            }\r\n        });\r\n        return $operationButton.addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_GROUP_OPERATION_CLASS).attr(\"tabindex\", 0)\r\n    },\r\n    _createButtonWithMenu: function(options) {\r\n        var that = this;\r\n        var removeMenu = function() {\r\n            that.$element().find(\".\" + ACTIVE_CLASS).removeClass(ACTIVE_CLASS);\r\n            that.$element().find(\".dx-overlay .dx-treeview\").remove();\r\n            that.$element().find(\".dx-overlay\").remove()\r\n        };\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var position = rtlEnabled ? \"right\" : \"left\";\r\n        var $button = this._createButton(options.caption);\r\n        extend(options.menu, {\r\n            focusStateEnabled: true,\r\n            selectionMode: \"single\",\r\n            onItemClick: (handler = options.menu.onItemClick, function(e) {\r\n                handler(e);\r\n                if (\"dxclick\" === e.event.type) {\r\n                    removeMenu()\r\n                }\r\n            }),\r\n            onHiding: function(e) {\r\n                $button.removeClass(ACTIVE_CLASS)\r\n            },\r\n            position: {\r\n                my: position + \" top\",\r\n                at: position + \" bottom\",\r\n                offset: \"0 1\",\r\n                of: $button,\r\n                collision: \"flip\"\r\n            },\r\n            animation: null,\r\n            onHidden: function() {\r\n                removeMenu()\r\n            },\r\n            cssClass: FILTER_BUILDER_OVERLAY_CLASS + \" \" + options.menu.cssClass,\r\n            rtlEnabled: rtlEnabled\r\n        });\r\n        var handler;\r\n        options.popup = {\r\n            onShown: function(info) {\r\n                var treeViewElement = $(info.component.content()).find(\".dx-treeview\");\r\n                var treeView = treeViewElement.dxTreeView(\"instance\");\r\n                eventsEngine.on(treeViewElement, \"keyup keydown\", (function(e) {\r\n                    var keyName = normalizeKeyName(e);\r\n                    if (\"keydown\" === e.type && keyName === TAB_KEY || \"keyup\" === e.type && (keyName === ESCAPE_KEY || keyName === ENTER_KEY)) {\r\n                        info.component.hide();\r\n                        eventsEngine.trigger(options.menu.position.of, \"focus\")\r\n                    }\r\n                }));\r\n                treeView.focus();\r\n                treeView.option(\"focusedElement\", null)\r\n            }\r\n        };\r\n        this._subscribeOnClickAndEnterKey($button, (function() {\r\n            removeMenu();\r\n            that._createPopupWithTreeView(options, that.$element());\r\n            $button.addClass(ACTIVE_CLASS)\r\n        }));\r\n        return $button\r\n    },\r\n    _hasValueButton: function(condition) {\r\n        var customOperation = getCustomOperation(this._customOperations, condition[1]);\r\n        return customOperation ? false !== customOperation.hasValue : null !== condition[2]\r\n    },\r\n    _createOperationButtonWithMenu: function(condition, field) {\r\n        var that = this;\r\n        var availableOperations = getAvailableOperations(field, this.option(\"filterOperationDescriptions\"), this._customOperations);\r\n        var currentOperation = getOperationFromAvailable(getOperationValue(condition), availableOperations);\r\n        var $operationButton = this._createButtonWithMenu({\r\n            caption: currentOperation.text,\r\n            menu: {\r\n                items: availableOperations,\r\n                displayExpr: \"text\",\r\n                onItemRendered: function(e) {\r\n                    e.itemData.isCustom && $(e.itemElement).addClass(FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS)\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(currentOperation)\r\n                },\r\n                onItemClick: e => {\r\n                    if (currentOperation !== e.itemData) {\r\n                        currentOperation = e.itemData;\r\n                        updateConditionByOperation(condition, currentOperation.value, that._customOperations);\r\n                        var $valueButton = $operationButton.siblings().filter(\".\" + FILTER_BUILDER_ITEM_VALUE_CLASS);\r\n                        if (that._hasValueButton(condition)) {\r\n                            if (0 !== $valueButton.length) {\r\n                                $valueButton.remove()\r\n                            }\r\n                            that._createValueButton(condition, field).appendTo($operationButton.parent())\r\n                        } else {\r\n                            $valueButton.remove()\r\n                        }\r\n                        $operationButton.html(currentOperation.text);\r\n                        this._updateFilter()\r\n                    }\r\n                },\r\n                cssClass: FILTER_BUILDER_FILTER_OPERATIONS_CLASS\r\n            }\r\n        }).addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_OPERATION_CLASS).attr(\"tabindex\", 0);\r\n        return $operationButton\r\n    },\r\n    _createOperationAndValueButtons: function(condition, field, $item) {\r\n        this._createOperationButtonWithMenu(condition, field).appendTo($item);\r\n        if (this._hasValueButton(condition)) {\r\n            this._createValueButton(condition, field).appendTo($item)\r\n        }\r\n    },\r\n    _createFieldButtonWithMenu: function(fields, condition, field) {\r\n        var that = this;\r\n        var allowHierarchicalFields = this.option(\"allowHierarchicalFields\");\r\n        var items = getItems(fields, allowHierarchicalFields);\r\n        var item = getField(field.name || field.dataField, items);\r\n        var getFullCaption = function(item, items) {\r\n            return allowHierarchicalFields ? getCaptionWithParents(item, items) : item.caption\r\n        };\r\n        var $fieldButton = this._createButtonWithMenu({\r\n            caption: getFullCaption(item, items),\r\n            menu: {\r\n                items: items,\r\n                dataStructure: \"plain\",\r\n                keyExpr: \"id\",\r\n                parentId: \"parentId\",\r\n                displayExpr: \"caption\",\r\n                onItemClick: e => {\r\n                    if (item !== e.itemData) {\r\n                        item = e.itemData;\r\n                        condition[0] = item.name || item.dataField;\r\n                        condition[2] = \"object\" === item.dataType ? null : \"\";\r\n                        updateConditionByOperation(condition, getDefaultOperation(item), that._customOperations);\r\n                        $fieldButton.siblings().filter(\".\" + FILTER_BUILDER_ITEM_TEXT_CLASS).remove();\r\n                        that._createOperationAndValueButtons(condition, item, $fieldButton.parent());\r\n                        var caption = getFullCaption(item, e.component.option(\"items\"));\r\n                        $fieldButton.html(caption);\r\n                        this._updateFilter()\r\n                    }\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(item)\r\n                },\r\n                cssClass: FILTER_BUILDER_FIELDS_CLASS\r\n            }\r\n        }).addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_FIELD_CLASS).attr(\"tabindex\", 0);\r\n        return $fieldButton\r\n    },\r\n    _createConditionItem: function(condition, parent) {\r\n        var $item = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_ITEM_CLASS);\r\n        var fields = this._getNormalizedFields();\r\n        var field = getField(condition[0], fields);\r\n        this._createRemoveButton(() => {\r\n            removeItem(parent, condition);\r\n            var isSingleChild = 1 === $item.parent().children().length;\r\n            if (isSingleChild) {\r\n                $item.parent().remove()\r\n            } else {\r\n                $item.remove()\r\n            }\r\n            this._updateFilter()\r\n        }).appendTo($item);\r\n        this._createFieldButtonWithMenu(fields, condition, field).appendTo($item);\r\n        this._createOperationAndValueButtons(condition, field, $item);\r\n        return $item\r\n    },\r\n    _getGroupOperations: function(criteria) {\r\n        var groupOperations = this.option(\"groupOperations\");\r\n        var groupOperationDescriptions = this.option(\"groupOperationDescriptions\");\r\n        if (!groupOperations || !groupOperations.length) {\r\n            groupOperations = [getGroupValue(criteria).replace(\"!\", \"not\")]\r\n        }\r\n        return groupOperations.map(operation => ({\r\n            text: groupOperationDescriptions[operation],\r\n            value: OPERATORS[operation]\r\n        }))\r\n    },\r\n    _createRemoveButton: function(handler) {\r\n        var $removeButton = $(\"<div>\").addClass(FILTER_BUILDER_IMAGE_CLASS).addClass(FILTER_BUILDER_IMAGE_REMOVE_CLASS).addClass(FILTER_BUILDER_ACTION_CLASS).attr(\"tabindex\", 0);\r\n        this._subscribeOnClickAndEnterKey($removeButton, handler);\r\n        return $removeButton\r\n    },\r\n    _createAddButton: function(addGroupHandler, addConditionHandler, groupLevel) {\r\n        var $button;\r\n        var maxGroupLevel = this.option(\"maxGroupLevel\");\r\n        if (isDefined(maxGroupLevel) && groupLevel >= maxGroupLevel) {\r\n            $button = this._createButton();\r\n            this._subscribeOnClickAndEnterKey($button, addConditionHandler)\r\n        } else {\r\n            $button = this._createButtonWithMenu({\r\n                menu: {\r\n                    items: [{\r\n                        caption: messageLocalization.format(\"dxFilterBuilder-addCondition\"),\r\n                        click: addConditionHandler\r\n                    }, {\r\n                        caption: messageLocalization.format(\"dxFilterBuilder-addGroup\"),\r\n                        click: addGroupHandler\r\n                    }],\r\n                    displayExpr: \"caption\",\r\n                    onItemClick: function(e) {\r\n                        e.itemData.click()\r\n                    },\r\n                    cssClass: FILTER_BUILDER_ADD_CONDITION_CLASS\r\n                }\r\n            })\r\n        }\r\n        return $button.addClass(FILTER_BUILDER_IMAGE_CLASS).addClass(FILTER_BUILDER_IMAGE_ADD_CLASS).addClass(FILTER_BUILDER_ACTION_CLASS).attr(\"tabindex\", 0)\r\n    },\r\n    _createValueText: function(item, field, $container) {\r\n        var that = this;\r\n        var $text = $(\"<div>\").html(\"&nbsp;\").addClass(FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS).attr(\"tabindex\", 0).appendTo($container);\r\n        var value = item[2];\r\n        var customOperation = getCustomOperation(that._customOperations, item[1]);\r\n        if (!customOperation && field.lookup) {\r\n            getCurrentLookupValueText(field, value, (function(result) {\r\n                renderValueText($text, result)\r\n            }))\r\n        } else {\r\n            when(getCurrentValueText(field, value, customOperation)).done(result => {\r\n                renderValueText($text, result, customOperation)\r\n            })\r\n        }\r\n        that._subscribeOnClickAndEnterKey($text, (function(e) {\r\n            if (\"keyup\" === e.type) {\r\n                e.stopPropagation()\r\n            }\r\n            that._createValueEditorWithEvents(item, field, $container)\r\n        }));\r\n        return $text\r\n    },\r\n    _updateConditionValue: function(item, value, callback) {\r\n        var areValuesDifferent = item[2] !== value;\r\n        if (areValuesDifferent) {\r\n            item[2] = value\r\n        }\r\n        callback();\r\n        this._updateFilter()\r\n    },\r\n    _addDocumentKeyUp: function($editor, handler) {\r\n        var isComposing = false;\r\n        var hasCompositionJustEnded = false;\r\n        var document = domAdapter.getDocument();\r\n        var documentKeyUpHandler = e => {\r\n            if (isComposing || hasCompositionJustEnded) {\r\n                hasCompositionJustEnded = false;\r\n                return\r\n            }\r\n            handler(e)\r\n        };\r\n        eventsEngine.on(document, \"keyup\", documentKeyUpHandler);\r\n        var input = $editor.find(\"input\");\r\n        eventsEngine.on(input, \"compositionstart\", () => {\r\n            isComposing = true\r\n        });\r\n        eventsEngine.on(input, \"compositionend\", () => {\r\n            isComposing = false;\r\n            hasCompositionJustEnded = true\r\n        });\r\n        eventsEngine.on(input, \"keydown\", event => {\r\n            if (229 !== event.which) {\r\n                hasCompositionJustEnded = false\r\n            }\r\n        });\r\n        this._documentKeyUpHandler = documentKeyUpHandler\r\n    },\r\n    _addDocumentClick: function($editor, closeEditorFunc) {\r\n        var document = domAdapter.getDocument();\r\n        var documentClickHandler = e => {\r\n            if (!this._isFocusOnEditorParts($editor, e.target)) {\r\n                eventsEngine.trigger($editor.find(\"input\"), \"change\");\r\n                closeEditorFunc()\r\n            }\r\n        };\r\n        eventsEngine.on(document, \"dxpointerdown\", documentClickHandler);\r\n        this._documentClickHandler = documentClickHandler\r\n    },\r\n    _isFocusOnEditorParts: function($editor, target) {\r\n        var activeElement = target || domAdapter.getActiveElement();\r\n        return $(activeElement).closest($editor.children()).length || $(activeElement).closest(\".dx-dropdowneditor-overlay\").length\r\n    },\r\n    _removeEvents: function() {\r\n        var document = domAdapter.getDocument();\r\n        isDefined(this._documentKeyUpHandler) && eventsEngine.off(document, \"keyup\", this._documentKeyUpHandler);\r\n        isDefined(this._documentClickHandler) && eventsEngine.off(document, \"dxpointerdown\", this._documentClickHandler)\r\n    },\r\n    _dispose: function() {\r\n        this._removeEvents();\r\n        this.callBase()\r\n    },\r\n    _createValueEditorWithEvents: function(item, field, $container) {\r\n        var value = item[2];\r\n        var createValueText = () => {\r\n            $container.empty();\r\n            this._removeEvents();\r\n            return this._createValueText(item, field, $container)\r\n        };\r\n        var closeEditor = () => {\r\n            this._updateConditionValue(item, value, (function() {\r\n                createValueText()\r\n            }))\r\n        };\r\n        var options = {\r\n            value: \"\" === value ? null : value,\r\n            filterOperation: getOperationValue(item),\r\n            setValue: function(data) {\r\n                value = null === data ? \"\" : data\r\n            },\r\n            closeEditor: closeEditor,\r\n            text: $container.text()\r\n        };\r\n        $container.empty();\r\n        var $editor = this._createValueEditor($container, field, options);\r\n        eventsEngine.trigger($editor.find(\"input\").not(\":hidden\").eq(0), \"focus\");\r\n        this._removeEvents();\r\n        this._addDocumentClick($editor, closeEditor);\r\n        this._addDocumentKeyUp($editor, e => {\r\n            var keyName = normalizeKeyName(e);\r\n            if (keyName === TAB_KEY) {\r\n                if (this._isFocusOnEditorParts($editor)) {\r\n                    return\r\n                }\r\n                this._updateConditionValue(item, value, (function() {\r\n                    createValueText();\r\n                    if (e.shiftKey) {\r\n                        eventsEngine.trigger($container.prev(), \"focus\")\r\n                    }\r\n                }))\r\n            }\r\n            if (keyName === ESCAPE_KEY) {\r\n                eventsEngine.trigger(createValueText(), \"focus\")\r\n            }\r\n            if (keyName === ENTER_KEY) {\r\n                this._updateConditionValue(item, value, (function() {\r\n                    eventsEngine.trigger(createValueText(), \"focus\")\r\n                }))\r\n            }\r\n        });\r\n        this._fireContentReadyAction()\r\n    },\r\n    _createValueButton: function(item, field) {\r\n        var $valueButton = $(\"<div>\").addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_VALUE_CLASS);\r\n        this._createValueText(item, field, $valueButton);\r\n        return $valueButton\r\n    },\r\n    _createValueEditor: function($container, field, options) {\r\n        var $editor = $(\"<div>\").attr(\"tabindex\", 0).appendTo($container);\r\n        var customOperation = getCustomOperation(this._customOperations, options.filterOperation);\r\n        var editorTemplate = customOperation && customOperation.editorTemplate ? customOperation.editorTemplate : field.editorTemplate;\r\n        if (editorTemplate) {\r\n            var template = this._getTemplate(editorTemplate);\r\n            template.render({\r\n                model: extend({\r\n                    field: field\r\n                }, options),\r\n                container: $editor\r\n            })\r\n        } else {\r\n            this._editorFactory.createEditor.call(this, $editor, extend({}, field, options, {\r\n                parentType: SOURCE\r\n            }))\r\n        }\r\n        return $editor\r\n    },\r\n    _createPopupWithTreeView: function(options, $container) {\r\n        var that = this;\r\n        var $popup = $(\"<div>\").addClass(options.menu.cssClass).appendTo($container);\r\n        this._createComponent($popup, Popup, {\r\n            wrapperAttr: {\r\n                class: options.menu.cssClass\r\n            },\r\n            onHiding: options.menu.onHiding,\r\n            onHidden: options.menu.onHidden,\r\n            rtlEnabled: options.menu.rtlEnabled,\r\n            position: options.menu.position,\r\n            animation: options.menu.animation,\r\n            contentTemplate: function(contentElement) {\r\n                var $menuContainer = $(\"<div>\").appendTo(contentElement);\r\n                that._createComponent($menuContainer, TreeView, options.menu);\r\n                this.repaint()\r\n            },\r\n            _ignoreFunctionValueDeprecation: true,\r\n            maxHeight: function() {\r\n                return getElementMaxHeightByWindow(options.menu.position.of)\r\n            },\r\n            visible: true,\r\n            focusStateEnabled: false,\r\n            hideOnParentScroll: this.option(\"closePopupOnTargetScroll\"),\r\n            closeOnOutsideClick: true,\r\n            onShown: options.popup.onShown,\r\n            shading: false,\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            showTitle: false\r\n        })\r\n    },\r\n    _subscribeOnClickAndEnterKey: function($button, handler) {\r\n        eventsEngine.on($button, \"dxclick\", handler);\r\n        eventsEngine.on($button, \"keyup\", (function(e) {\r\n            if (normalizeKeyName(e) === ENTER_KEY) {\r\n                handler(e)\r\n            }\r\n        }))\r\n    }\r\n});\r\nregisterComponent(\"dxFilterBuilder\", FilterBuilder);\r\nexport default FilterBuilder;\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport FilterBuilder from \"./filter_builder/filter_builder\";\r\nexport default FilterBuilder;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport FilterBuilder from \"./../filter_builder\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport ScrollView from \"./../scroll_view\";\r\nimport Popup from \"./../popup\";\r\nimport {\r\n    restoreFocus\r\n} from \"../shared/accessibility\";\r\nvar FilterBuilderView = modules.View.inherit({\r\n    _renderCore: function() {\r\n        this._updatePopupOptions()\r\n    },\r\n    _updatePopupOptions: function() {\r\n        if (this.option(\"filterBuilderPopup.visible\")) {\r\n            this._initPopup()\r\n        } else if (this._filterBuilderPopup) {\r\n            this._filterBuilderPopup.hide()\r\n        }\r\n    },\r\n    _disposePopup: function() {\r\n        if (this._filterBuilderPopup) {\r\n            this._filterBuilderPopup.dispose();\r\n            this._filterBuilderPopup = void 0\r\n        }\r\n        if (this._filterBuilder) {\r\n            this._filterBuilder.dispose();\r\n            this._filterBuilder = void 0\r\n        }\r\n    },\r\n    _initPopup: function() {\r\n        var that = this;\r\n        that._disposePopup();\r\n        that._filterBuilderPopup = that._createComponent(that.element(), Popup, extend({\r\n            title: messageLocalization.format(\"dxDataGrid-filterBuilderPopupTitle\"),\r\n            contentTemplate: function($contentElement) {\r\n                return that._getPopupContentTemplate($contentElement)\r\n            },\r\n            onOptionChanged: function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    that.option(\"filterBuilderPopup.visible\", args.value)\r\n                }\r\n            },\r\n            toolbarItems: that._getPopupToolbarItems()\r\n        }, that.option(\"filterBuilderPopup\"), {\r\n            onHidden: function(e) {\r\n                restoreFocus(that);\r\n                that._disposePopup()\r\n            }\r\n        }))\r\n    },\r\n    _getPopupContentTemplate: function(contentElement) {\r\n        var $contentElement = $(contentElement);\r\n        var $filterBuilderContainer = $(\"<div>\").appendTo($(contentElement));\r\n        this._filterBuilder = this._createComponent($filterBuilderContainer, FilterBuilder, extend({\r\n            value: this.option(\"filterValue\"),\r\n            fields: this.getController(\"columns\").getFilteringColumns()\r\n        }, this.option(\"filterBuilder\"), {\r\n            customOperations: this.getController(\"filterSync\").getCustomFilterOperations()\r\n        }));\r\n        this._createComponent($contentElement, ScrollView, {\r\n            direction: \"both\"\r\n        })\r\n    },\r\n    _getPopupToolbarItems: function() {\r\n        var that = this;\r\n        return [{\r\n            toolbar: \"bottom\",\r\n            location: \"after\",\r\n            widget: \"dxButton\",\r\n            options: {\r\n                text: messageLocalization.format(\"OK\"),\r\n                onClick: function(e) {\r\n                    var filter = that._filterBuilder.option(\"value\");\r\n                    that.option(\"filterValue\", filter);\r\n                    that._filterBuilderPopup.hide()\r\n                }\r\n            }\r\n        }, {\r\n            toolbar: \"bottom\",\r\n            location: \"after\",\r\n            widget: \"dxButton\",\r\n            options: {\r\n                text: messageLocalization.format(\"Cancel\"),\r\n                onClick: function(e) {\r\n                    that._filterBuilderPopup.hide()\r\n                }\r\n            }\r\n        }]\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterBuilder\":\r\n            case \"filterBuilderPopup\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport var filterBuilderModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterBuilder: {\r\n                groupOperationDescriptions: {\r\n                    and: messageLocalization.format(\"dxFilterBuilder-and\"),\r\n                    or: messageLocalization.format(\"dxFilterBuilder-or\"),\r\n                    notAnd: messageLocalization.format(\"dxFilterBuilder-notAnd\"),\r\n                    notOr: messageLocalization.format(\"dxFilterBuilder-notOr\")\r\n                },\r\n                filterOperationDescriptions: {\r\n                    between: messageLocalization.format(\"dxFilterBuilder-filterOperationBetween\"),\r\n                    equal: messageLocalization.format(\"dxFilterBuilder-filterOperationEquals\"),\r\n                    notEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationNotEquals\"),\r\n                    lessThan: messageLocalization.format(\"dxFilterBuilder-filterOperationLess\"),\r\n                    lessThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationLessOrEquals\"),\r\n                    greaterThan: messageLocalization.format(\"dxFilterBuilder-filterOperationGreater\"),\r\n                    greaterThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationGreaterOrEquals\"),\r\n                    startsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationStartsWith\"),\r\n                    contains: messageLocalization.format(\"dxFilterBuilder-filterOperationContains\"),\r\n                    notContains: messageLocalization.format(\"dxFilterBuilder-filterOperationNotContains\"),\r\n                    endsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationEndsWith\"),\r\n                    isBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                    isNotBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n                }\r\n            },\r\n            filterBuilderPopup: {}\r\n        }\r\n    },\r\n    views: {\r\n        filterBuilderView: FilterBuilderView\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterBuilderModule\r\n} from \"../grid_core/ui.grid_core.filter_builder\";\r\ncore.registerModule(\"filterBuilder\", filterBuilderModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridUtils from \"./ui.grid_core.utils\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport CheckBox from \"../check_box\";\r\nimport {\r\n    getCurrentLookupValueText,\r\n    getCustomOperation,\r\n    getCurrentValueText,\r\n    getField,\r\n    getCaptionByOperation,\r\n    getGroupValue,\r\n    isCondition,\r\n    isGroup\r\n} from \"../filter_builder/utils\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    registerKeyboardAction\r\n} from \"./ui.grid_core.accessibility\";\r\nvar FILTER_PANEL_CLASS = \"filter-panel\";\r\nvar FILTER_PANEL_TEXT_CLASS = FILTER_PANEL_CLASS + \"-text\";\r\nvar FILTER_PANEL_CHECKBOX_CLASS = FILTER_PANEL_CLASS + \"-checkbox\";\r\nvar FILTER_PANEL_CLEAR_FILTER_CLASS = FILTER_PANEL_CLASS + \"-clear-filter\";\r\nvar FILTER_PANEL_LEFT_CONTAINER = FILTER_PANEL_CLASS + \"-left\";\r\nvar FILTER_PANEL_TARGET = \"filterPanel\";\r\nvar FilterPanelView = modules.View.inherit({\r\n    isVisible: function() {\r\n        return this.option(\"filterPanel.visible\") && this.getController(\"data\").dataSource()\r\n    },\r\n    init: function() {\r\n        this.getController(\"data\").dataSourceChanged.add(() => this.render())\r\n    },\r\n    _renderCore: function() {\r\n        var $element = this.element();\r\n        $element.empty().addClass(this.addWidgetPrefix(FILTER_PANEL_CLASS));\r\n        var $leftContainer = $(\"<div>\").addClass(this.addWidgetPrefix(FILTER_PANEL_LEFT_CONTAINER)).appendTo($element);\r\n        if (this.option(\"filterValue\") || this._filterValueBuffer) {\r\n            $leftContainer.append(this._getCheckElement()).append(this._getFilterElement()).append(this._getTextElement());\r\n            $element.append(this._getRemoveButtonElement())\r\n        } else {\r\n            $leftContainer.append(this._getFilterElement()).append(this._getTextElement())\r\n        }\r\n    },\r\n    _getCheckElement: function() {\r\n        var that = this;\r\n        var $element = $(\"<div>\").addClass(this.addWidgetPrefix(FILTER_PANEL_CHECKBOX_CLASS));\r\n        that._createComponent($element, CheckBox, {\r\n            value: that.option(\"filterPanel.filterEnabled\"),\r\n            onValueChanged: function(e) {\r\n                that.option(\"filterPanel.filterEnabled\", e.value)\r\n            }\r\n        });\r\n        $element.attr(\"title\", this.option(\"filterPanel.texts.filterEnabledHint\"));\r\n        return $element\r\n    },\r\n    _getFilterElement: function() {\r\n        var that = this;\r\n        var $element = $(\"<div>\").addClass(\"dx-icon-filter\");\r\n        eventsEngine.on($element, \"click\", () => that._showFilterBuilder());\r\n        registerKeyboardAction(\"filterPanel\", that, $element, void 0, () => that._showFilterBuilder());\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _getTextElement: function() {\r\n        var that = this;\r\n        var $textElement = $(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_TEXT_CLASS));\r\n        var filterText;\r\n        var filterValue = that.option(\"filterValue\");\r\n        if (filterValue) {\r\n            when(that.getFilterText(filterValue, that.getController(\"filterSync\").getCustomFilterOperations())).done((function(filterText) {\r\n                var customizeText = that.option(\"filterPanel.customizeText\");\r\n                if (customizeText) {\r\n                    var customText = customizeText({\r\n                        component: that.component,\r\n                        filterValue: filterValue,\r\n                        text: filterText\r\n                    });\r\n                    if (\"string\" === typeof customText) {\r\n                        filterText = customText\r\n                    }\r\n                }\r\n                $textElement.text(filterText)\r\n            }))\r\n        } else {\r\n            filterText = that.option(\"filterPanel.texts.createFilter\");\r\n            $textElement.text(filterText)\r\n        }\r\n        eventsEngine.on($textElement, \"click\", () => that._showFilterBuilder());\r\n        registerKeyboardAction(\"filterPanel\", that, $textElement, void 0, () => that._showFilterBuilder());\r\n        that._addTabIndexToElement($textElement);\r\n        return $textElement\r\n    },\r\n    _showFilterBuilder: function() {\r\n        this.option(\"filterBuilderPopup.visible\", true)\r\n    },\r\n    _getRemoveButtonElement: function() {\r\n        var that = this;\r\n        var clearFilterValue = () => that.option(\"filterValue\", null);\r\n        var $element = $(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_CLEAR_FILTER_CLASS)).text(that.option(\"filterPanel.texts.clearFilter\"));\r\n        eventsEngine.on($element, \"click\", clearFilterValue);\r\n        registerKeyboardAction(\"filterPanel\", this, $element, void 0, clearFilterValue);\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _addTabIndexToElement: function($element) {\r\n        if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n            var tabindex = this.option(\"tabindex\") || 0;\r\n            $element.attr(\"tabindex\", tabindex)\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterValue\":\r\n                this._invalidate();\r\n                this.option(\"filterPanel.filterEnabled\", true);\r\n                args.handled = true;\r\n                break;\r\n            case \"filterPanel\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getConditionText: function(fieldText, operationText, valueText) {\r\n        var result = \"[\".concat(fieldText, \"] \").concat(operationText);\r\n        if (isDefined(valueText)) {\r\n            result += valueText\r\n        }\r\n        return result\r\n    },\r\n    _getValueMaskedText: function(value) {\r\n        return Array.isArray(value) ? \"('\".concat(value.join(\"', '\"), \"')\") : \" '\".concat(value, \"'\")\r\n    },\r\n    _getValueText: function(field, customOperation, value) {\r\n        var deferred = new Deferred;\r\n        var hasCustomOperation = customOperation && customOperation.customizeText;\r\n        if (isDefined(value) || hasCustomOperation) {\r\n            if (!hasCustomOperation && field.lookup) {\r\n                getCurrentLookupValueText(field, value, data => {\r\n                    deferred.resolve(this._getValueMaskedText(data))\r\n                })\r\n            } else {\r\n                var displayValue = Array.isArray(value) ? value : gridUtils.getDisplayValue(field, value);\r\n                when(getCurrentValueText(field, displayValue, customOperation, FILTER_PANEL_TARGET)).done(data => {\r\n                    deferred.resolve(this._getValueMaskedText(data))\r\n                })\r\n            }\r\n        } else {\r\n            deferred.resolve(\"\")\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    getConditionText: function(filterValue, options) {\r\n        var that = this;\r\n        var operation = filterValue[1];\r\n        var deferred = new Deferred;\r\n        var customOperation = getCustomOperation(options.customOperations, operation);\r\n        var operationText;\r\n        var field = getField(filterValue[0], options.columns);\r\n        var fieldText = field.caption || \"\";\r\n        var value = filterValue[2];\r\n        if (customOperation) {\r\n            operationText = customOperation.caption || captionize(customOperation.name)\r\n        } else if (null === value) {\r\n            operationText = getCaptionByOperation(\"=\" === operation ? \"isblank\" : \"isnotblank\", options.filterOperationDescriptions)\r\n        } else {\r\n            operationText = getCaptionByOperation(operation, options.filterOperationDescriptions)\r\n        }\r\n        this._getValueText(field, customOperation, value).done(valueText => {\r\n            deferred.resolve(that._getConditionText(fieldText, operationText, valueText))\r\n        });\r\n        return deferred\r\n    },\r\n    getGroupText: function(filterValue, options, isInnerGroup) {\r\n        var that = this;\r\n        var result = new Deferred;\r\n        var textParts = [];\r\n        var groupValue = getGroupValue(filterValue);\r\n        filterValue.forEach(item => {\r\n            if (isCondition(item)) {\r\n                textParts.push(that.getConditionText(item, options))\r\n            } else if (isGroup(item)) {\r\n                textParts.push(that.getGroupText(item, options, true))\r\n            }\r\n        });\r\n        when.apply(this, textParts).done((function() {\r\n            var text;\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }\r\n            if (\"!\" === groupValue[0]) {\r\n                var groupText = options.groupOperationDescriptions[\"not\" + groupValue.substring(1, 2).toUpperCase() + groupValue.substring(2)].split(\" \");\r\n                text = \"\".concat(groupText[0], \" \").concat(args[0])\r\n            } else {\r\n                text = args.join(\" \".concat(options.groupOperationDescriptions[groupValue], \" \"))\r\n            }\r\n            if (isInnerGroup) {\r\n                text = \"(\".concat(text, \")\")\r\n            }\r\n            result.resolve(text)\r\n        }));\r\n        return result\r\n    },\r\n    getFilterText: function(filterValue, customOperations) {\r\n        var options = {\r\n            customOperations: customOperations,\r\n            columns: this.getController(\"columns\").getFilteringColumns(),\r\n            filterOperationDescriptions: this.option(\"filterBuilder.filterOperationDescriptions\"),\r\n            groupOperationDescriptions: this.option(\"filterBuilder.groupOperationDescriptions\")\r\n        };\r\n        return isCondition(filterValue) ? this.getConditionText(filterValue, options) : this.getGroupText(filterValue, options)\r\n    }\r\n});\r\nexport var filterPanelModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterPanel: {\r\n                visible: false,\r\n                filterEnabled: true,\r\n                texts: {\r\n                    createFilter: messageLocalization.format(\"dxDataGrid-filterPanelCreateFilter\"),\r\n                    clearFilter: messageLocalization.format(\"dxDataGrid-filterPanelClearFilter\"),\r\n                    filterEnabledHint: messageLocalization.format(\"dxDataGrid-filterPanelFilterEnabledHint\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    views: {\r\n        filterPanelView: FilterPanelView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"filterPanel\":\r\n                            this._applyFilter();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterPanelModule\r\n} from \"../grid_core/ui.grid_core.filter_panel\";\r\ncore.registerModule(\"filterPanel\", filterPanelModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport dataQuery from \"../../data/query\";\r\nvar SEARCH_PANEL_CLASS = \"search-panel\";\r\nvar SEARCH_TEXT_CLASS = \"search-text\";\r\nvar HEADER_PANEL_CLASS = \"header-panel\";\r\nvar FILTERING_TIMEOUT = 700;\r\n\r\nfunction allowSearch(column) {\r\n    return isDefined(column.allowSearch) ? column.allowSearch : column.allowFiltering\r\n}\r\n\r\nfunction parseValue(column, text) {\r\n    var lookup = column.lookup;\r\n    if (!column.parseValue) {\r\n        return text\r\n    }\r\n    if (lookup) {\r\n        return column.parseValue.call(lookup, text)\r\n    }\r\n    return column.parseValue(text)\r\n}\r\nexport var searchModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            searchPanel: {\r\n                visible: false,\r\n                width: 160,\r\n                placeholder: messageLocalization.format(\"dxDataGrid-searchPanelPlaceholder\"),\r\n                highlightSearchText: true,\r\n                highlightCaseSensitive: false,\r\n                text: \"\",\r\n                searchVisibleColumnsOnly: false\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                publicMethods: function() {\r\n                    return this.callBase().concat([\"searchByText\"])\r\n                },\r\n                _calculateAdditionalFilter: function() {\r\n                    var filter = this.callBase();\r\n                    var searchFilter = function(that, text) {\r\n                        var i;\r\n                        var column;\r\n                        var columns = that._columnsController.getColumns();\r\n                        var searchVisibleColumnsOnly = that.option(\"searchPanel.searchVisibleColumnsOnly\");\r\n                        var lookup;\r\n                        var filters = [];\r\n                        if (!text) {\r\n                            return null\r\n                        }\r\n\r\n                        function onQueryDone(items) {\r\n                            var valueGetter = compileGetter(lookup.valueExpr);\r\n                            for (var _i = 0; _i < items.length; _i++) {\r\n                                var value = valueGetter(items[_i]);\r\n                                filters.push(column.createFilterExpression(value, null, \"search\"))\r\n                            }\r\n                        }\r\n                        for (i = 0; i < columns.length; i++) {\r\n                            column = columns[i];\r\n                            if (searchVisibleColumnsOnly && !column.visible) {\r\n                                continue\r\n                            }\r\n                            if (allowSearch(column) && column.calculateFilterExpression) {\r\n                                lookup = column.lookup;\r\n                                var filterValue = parseValue(column, text);\r\n                                if (lookup && lookup.items) {\r\n                                    dataQuery(lookup.items).filter(column.createFilterExpression.call({\r\n                                        dataField: lookup.displayExpr,\r\n                                        dataType: lookup.dataType,\r\n                                        calculateFilterExpression: column.calculateFilterExpression\r\n                                    }, filterValue, null, \"search\")).enumerate().done(onQueryDone)\r\n                                } else if (void 0 !== filterValue) {\r\n                                    filters.push(column.createFilterExpression(filterValue, null, \"search\"))\r\n                                }\r\n                            }\r\n                        }\r\n                        if (0 === filters.length) {\r\n                            return [\"!\"]\r\n                        }\r\n                        return gridCoreUtils.combineFilters(filters, \"or\")\r\n                    }(this, this.option(\"searchPanel.text\"));\r\n                    return gridCoreUtils.combineFilters([filter, searchFilter])\r\n                },\r\n                searchByText: function(text) {\r\n                    this.option(\"searchPanel.text\", text)\r\n                },\r\n                optionChanged: function(args) {\r\n                    switch (args.fullName) {\r\n                        case \"searchPanel.text\":\r\n                        case \"searchPanel\":\r\n                            this._applyFilter();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: function() {\r\n                var getSearchPanelOptions = function(that) {\r\n                    return that.option(\"searchPanel\")\r\n                };\r\n                return {\r\n                    _getToolbarItems: function() {\r\n                        var items = this.callBase();\r\n                        return this._prepareSearchItem(items)\r\n                    },\r\n                    _prepareSearchItem: function(items) {\r\n                        var that = this;\r\n                        var dataController = that.getController(\"data\");\r\n                        var searchPanelOptions = getSearchPanelOptions(that);\r\n                        if (searchPanelOptions && searchPanelOptions.visible) {\r\n                            var toolbarItem = {\r\n                                template: function(data, index, container) {\r\n                                    var $search = $(\"<div>\").addClass(that.addWidgetPrefix(SEARCH_PANEL_CLASS)).appendTo(container);\r\n                                    that.getController(\"editorFactory\").createEditor($search, {\r\n                                        width: searchPanelOptions.width,\r\n                                        placeholder: searchPanelOptions.placeholder,\r\n                                        parentType: \"searchPanel\",\r\n                                        value: that.option(\"searchPanel.text\"),\r\n                                        updateValueTimeout: FILTERING_TIMEOUT,\r\n                                        setValue: function(value) {\r\n                                            dataController.searchByText(value)\r\n                                        },\r\n                                        editorOptions: {\r\n                                            inputAttr: {\r\n                                                \"aria-label\": messageLocalization.format(\"\".concat(that.component.NAME, \"-ariaSearchInGrid\"))\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                    that.resize()\r\n                                },\r\n                                name: \"searchPanel\",\r\n                                location: \"after\",\r\n                                locateInMenu: \"never\",\r\n                                sortIndex: 40\r\n                            };\r\n                            items.push(toolbarItem)\r\n                        }\r\n                        return items\r\n                    },\r\n                    getSearchTextEditor: function() {\r\n                        var that = this;\r\n                        var $element = that.element();\r\n                        var $searchPanel = $element.find(\".\" + that.addWidgetPrefix(SEARCH_PANEL_CLASS)).filter((function() {\r\n                            return $(this).closest(\".\" + that.addWidgetPrefix(HEADER_PANEL_CLASS)).is($element)\r\n                        }));\r\n                        if ($searchPanel.length) {\r\n                            return $searchPanel.dxTextBox(\"instance\")\r\n                        }\r\n                        return null\r\n                    },\r\n                    isVisible: function() {\r\n                        var searchPanelOptions = getSearchPanelOptions(this);\r\n                        return this.callBase() || searchPanelOptions && searchPanelOptions.visible\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        if (\"searchPanel\" === args.name) {\r\n                            if (\"searchPanel.text\" === args.fullName) {\r\n                                var editor = this.getSearchTextEditor();\r\n                                if (editor) {\r\n                                    editor.option(\"value\", args.value)\r\n                                }\r\n                            } else {\r\n                                this._invalidate()\r\n                            }\r\n                            args.handled = true\r\n                        } else {\r\n                            this.callBase(args)\r\n                        }\r\n                    }\r\n                }\r\n            }(),\r\n            rowsView: {\r\n                init: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._searchParams = []\r\n                },\r\n                _getFormattedSearchText: function(column, searchText) {\r\n                    var value = parseValue(column, searchText);\r\n                    var formatOptions = gridCoreUtils.getFormatOptionsByColumn(column, \"search\");\r\n                    return gridCoreUtils.formatValue(value, formatOptions)\r\n                },\r\n                _getStringNormalizer: function() {\r\n                    var isCaseSensitive = this.option(\"searchPanel.highlightCaseSensitive\");\r\n                    return function(str) {\r\n                        return isCaseSensitive ? str : str.toLowerCase()\r\n                    }\r\n                },\r\n                _findHighlightingTextNodes: function(column, cellElement, searchText) {\r\n                    var _$items;\r\n                    var $parent = cellElement.parent();\r\n                    var $items;\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var normalizedSearchText = stringNormalizer(searchText);\r\n                    var resultTextNodes = [];\r\n                    if (!$parent.length) {\r\n                        $parent = $(\"<div>\").append(cellElement)\r\n                    } else if (column) {\r\n                        if (column.groupIndex >= 0 && !column.showWhenGrouped) {\r\n                            $items = cellElement\r\n                        } else {\r\n                            var columnIndex = this._columnsController.getVisibleIndex(column.index);\r\n                            $items = $parent.children(\"td\").eq(columnIndex).find(\"*\")\r\n                        }\r\n                    }\r\n                    $items = null !== (_$items = $items) && void 0 !== _$items && _$items.length ? $items : $parent.find(\"*\");\r\n                    $items.each((function(_, element) {\r\n                        var $contents = $(element).contents();\r\n                        for (var i = 0; i < $contents.length; i++) {\r\n                            var node = $contents.get(i);\r\n                            if (3 === node.nodeType) {\r\n                                var normalizedText = stringNormalizer(node.textContent || node.nodeValue);\r\n                                if (normalizedText.indexOf(normalizedSearchText) > -1) {\r\n                                    resultTextNodes.push(node)\r\n                                }\r\n                            }\r\n                        }\r\n                    }));\r\n                    return resultTextNodes\r\n                },\r\n                _highlightSearchTextCore: function($textNode, searchText) {\r\n                    var $searchTextSpan = $(\"<span>\").addClass(this.addWidgetPrefix(SEARCH_TEXT_CLASS));\r\n                    var text = $textNode.text();\r\n                    var firstContentElement = $textNode[0];\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var index = stringNormalizer(text).indexOf(stringNormalizer(searchText));\r\n                    if (index >= 0) {\r\n                        if (firstContentElement.textContent) {\r\n                            firstContentElement.textContent = text.substr(0, index)\r\n                        } else {\r\n                            firstContentElement.nodeValue = text.substr(0, index)\r\n                        }\r\n                        $textNode.after($searchTextSpan.text(text.substr(index, searchText.length)));\r\n                        $textNode = $(domAdapter.createTextNode(text.substr(index + searchText.length))).insertAfter($searchTextSpan);\r\n                        return this._highlightSearchTextCore($textNode, searchText)\r\n                    }\r\n                },\r\n                _highlightSearchText: function(cellElement, isEquals, column) {\r\n                    var that = this;\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var searchText = that.option(\"searchPanel.text\");\r\n                    if (isEquals && column) {\r\n                        searchText = searchText && that._getFormattedSearchText(column, searchText)\r\n                    }\r\n                    if (searchText && that.option(\"searchPanel.highlightSearchText\")) {\r\n                        var textNodes = that._findHighlightingTextNodes(column, cellElement, searchText);\r\n                        textNodes.forEach(textNode => {\r\n                            if (isEquals) {\r\n                                if (stringNormalizer($(textNode).text()) === stringNormalizer(searchText)) {\r\n                                    $(textNode).replaceWith($(\"<span>\").addClass(that.addWidgetPrefix(SEARCH_TEXT_CLASS)).text($(textNode).text()))\r\n                                }\r\n                            } else {\r\n                                that._highlightSearchTextCore($(textNode), searchText)\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                _renderCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option().rowTemplate || this.option(\"dataRowTemplate\")) {\r\n                        if (this.option(\"templatesRenderAsynchronously\")) {\r\n                            clearTimeout(this._highlightTimer);\r\n                            this._highlightTimer = setTimeout(function() {\r\n                                this._highlightSearchText(this.getTableElement())\r\n                            }.bind(this))\r\n                        } else {\r\n                            this._highlightSearchText(this.getTableElement())\r\n                        }\r\n                    }\r\n                },\r\n                _updateCell: function($cell, parameters) {\r\n                    var column = parameters.column;\r\n                    var dataType = column.lookup && column.lookup.dataType || column.dataType;\r\n                    var isEquals = \"string\" !== dataType;\r\n                    if (allowSearch(column) && !parameters.isOnForm) {\r\n                        if (this.option(\"templatesRenderAsynchronously\")) {\r\n                            if (!this._searchParams.length) {\r\n                                clearTimeout(this._highlightTimer);\r\n                                this._highlightTimer = setTimeout(function() {\r\n                                    this._searchParams.forEach(function(params) {\r\n                                        this._highlightSearchText.apply(this, params)\r\n                                    }.bind(this));\r\n                                    this._searchParams = []\r\n                                }.bind(this))\r\n                            }\r\n                            this._searchParams.push([$cell, isEquals, column])\r\n                        } else {\r\n                            this._highlightSearchText($cell, isEquals, column)\r\n                        }\r\n                    }\r\n                    this.callBase($cell, parameters)\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._highlightTimer);\r\n                    this.callBase()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    searchModule\r\n} from \"../grid_core/ui.grid_core.search\";\r\ngridCore.registerModule(\"search\", searchModule);\r\n","/**\r\n * DevExtreme (esm/renovation/component_wrapper/grid_pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Component from \"./common/component\";\r\nexport class GridPagerWrapper extends Component {\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"pageIndex\":\r\n                var pageIndexChanged = this.option(\"pageIndexChanged\");\r\n                if (pageIndexChanged) {\r\n                    pageIndexChanged(args.value)\r\n                }\r\n                break;\r\n            case \"pageSize\":\r\n                var pageSizeChanged = this.option(\"pageSizeChanged\");\r\n                if (pageSizeChanged) {\r\n                    pageSizeChanged(args.value)\r\n                }\r\n        }\r\n        super._optionChanged(args)\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/utils/type_conversion.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport function toNumber(attribute) {\r\n    return attribute ? Number(attribute.replace(\"px\", \"\")) : 0\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/utils/get_element_width.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport getElementComputedStyle from \"../../../utils/get_computed_style\";\r\nimport {\r\n    toNumber\r\n} from \"../../../utils/type_conversion\";\r\nexport function getElementStyle(name, element) {\r\n    var _getElementComputedSt;\r\n    var computedStyle = null !== (_getElementComputedSt = getElementComputedStyle(element)) && void 0 !== _getElementComputedSt ? _getElementComputedSt : {};\r\n    return toNumber(computedStyle[name])\r\n}\r\nexport function getElementWidth(element) {\r\n    return getElementStyle(\"width\", element)\r\n}\r\nexport function getElementMinWidth(element) {\r\n    return getElementStyle(\"minWidth\", element)\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/resizable_container.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"contentTemplate\", \"pagerProps\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport resizeCallbacks from \"../../../core/utils/resize_callbacks\";\r\nimport {\r\n    getElementWidth,\r\n    getElementStyle\r\n} from \"./utils/get_element_width\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        contentAttributes: contentAttributes,\r\n        infoTextRef: infoTextRef,\r\n        infoTextVisible: infoTextVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode,\r\n        pageSizesRef: pageSizesRef,\r\n        pagesRef: pagesRef,\r\n        parentRef: parentRef,\r\n        props: {\r\n            contentTemplate: Content\r\n        }\r\n    } = _ref;\r\n    return Content(_extends({\r\n        rootElementRef: parentRef,\r\n        pageSizesRef: pageSizesRef,\r\n        infoTextRef: infoTextRef,\r\n        pagesRef: pagesRef,\r\n        infoTextVisible: infoTextVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode\r\n    }, contentAttributes))\r\n};\r\nexport function calculateAdaptivityProps(_ref2) {\r\n    var {\r\n        info: infoWidth,\r\n        pageSizes: pageSizesWidth,\r\n        pages: pagesWidth,\r\n        parent: parentWidth\r\n    } = _ref2;\r\n    var minimalWidth = pageSizesWidth + pagesWidth + infoWidth;\r\n    var infoTextVisible = parentWidth - minimalWidth > 0;\r\n    var isLargeDisplayMode = parentWidth - (pageSizesWidth + pagesWidth) > 0;\r\n    return {\r\n        infoTextVisible: infoTextVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode\r\n    }\r\n}\r\n\r\nfunction getElementsWidth(_ref3) {\r\n    var {\r\n        info: info,\r\n        pageSizes: pageSizes,\r\n        pages: pages,\r\n        parent: parent\r\n    } = _ref3;\r\n    var parentWidth = getElementWidth(parent);\r\n    var pageSizesWidth = getElementWidth(pageSizes);\r\n    var infoWidth = getElementWidth(info);\r\n    var pagesHtmlWidth = getElementWidth(pages);\r\n    return {\r\n        parent: parentWidth,\r\n        pageSizes: pageSizesWidth,\r\n        info: infoWidth + getElementStyle(\"marginLeft\", info) + getElementStyle(\"marginRight\", info),\r\n        pages: pagesHtmlWidth\r\n    }\r\n}\r\nexport var ResizableContainerProps = {};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nvar getTemplate = TemplateProp => TemplateProp && (TemplateProp.defaultProps ? props => normalizeProps(createComponentVNode(2, TemplateProp, _extends({}, props))) : TemplateProp);\r\nexport class ResizableContainer extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.parentRef = infernoCreateRef();\r\n        this.pageSizesRef = infernoCreateRef();\r\n        this.infoTextRef = infernoCreateRef();\r\n        this.pagesRef = infernoCreateRef();\r\n        this.state = {\r\n            infoTextVisible: true,\r\n            isLargeDisplayMode: true\r\n        };\r\n        this.subscribeToResize = this.subscribeToResize.bind(this);\r\n        this.effectUpdateChildProps = this.effectUpdateChildProps.bind(this);\r\n        this.updateAdaptivityProps = this.updateAdaptivityProps.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.subscribeToResize, [this.state.infoTextVisible, this.state.isLargeDisplayMode]), new InfernoEffect(this.effectUpdateChildProps, [this.props, this.state.infoTextVisible, this.state.isLargeDisplayMode, this.props.pagerProps, this.props.contentTemplate])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$, _this$_effects$2;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.state.infoTextVisible, this.state.isLargeDisplayMode]);\r\n        null === (_this$_effects$2 = this._effects[1]) || void 0 === _this$_effects$2 ? void 0 : _this$_effects$2.update([this.props, this.state.infoTextVisible, this.state.isLargeDisplayMode, this.props.pagerProps, this.props.contentTemplate])\r\n    }\r\n    subscribeToResize() {\r\n        var callback = () => {\r\n            this.parentWidth > 0 && this.updateAdaptivityProps()\r\n        };\r\n        resizeCallbacks.add(callback);\r\n        return () => {\r\n            resizeCallbacks.remove(callback)\r\n        }\r\n    }\r\n    effectUpdateChildProps() {\r\n        if (this.parentWidth > 0) {\r\n            this.updateAdaptivityProps()\r\n        }\r\n    }\r\n    get contentAttributes() {\r\n        var {\r\n            className: className,\r\n            displayMode: displayMode,\r\n            gridCompatibility: gridCompatibility,\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            infoText: infoText,\r\n            lightModeEnabled: lightModeEnabled,\r\n            maxPagesCount: maxPagesCount,\r\n            onKeyDown: onKeyDown,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes,\r\n            pagesCountText: pagesCountText,\r\n            pagesNavigatorVisible: pagesNavigatorVisible,\r\n            rtlEnabled: rtlEnabled,\r\n            showInfo: showInfo,\r\n            showNavigationButtons: showNavigationButtons,\r\n            showPageSizes: showPageSizes,\r\n            totalCount: totalCount,\r\n            visible: visible\r\n        } = this.props.pagerProps;\r\n        return _extends({}, this.restAttributes, {\r\n            pageSize: pageSize,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pageSizeChange: pageSizeChange,\r\n            gridCompatibility: gridCompatibility,\r\n            className: className,\r\n            showInfo: showInfo,\r\n            infoText: infoText,\r\n            lightModeEnabled: lightModeEnabled,\r\n            displayMode: displayMode,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pagesCountText: pagesCountText,\r\n            visible: visible,\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            pagesNavigatorVisible: pagesNavigatorVisible,\r\n            showPageSizes: showPageSizes,\r\n            pageSizes: pageSizes,\r\n            rtlEnabled: rtlEnabled,\r\n            showNavigationButtons: showNavigationButtons,\r\n            totalCount: totalCount,\r\n            onKeyDown: onKeyDown\r\n        })\r\n    }\r\n    get parentWidth() {\r\n        return this.parentRef.current ? getElementWidth(this.parentRef.current) : 0\r\n    }\r\n    updateAdaptivityProps() {\r\n        var currentElementsWidth = getElementsWidth({\r\n            parent: this.parentRef.current,\r\n            pageSizes: this.pageSizesRef.current,\r\n            info: this.infoTextRef.current,\r\n            pages: this.pagesRef.current\r\n        });\r\n        if (isDefined(this.actualAdaptivityProps) && (this.actualAdaptivityProps.infoTextVisible !== this.state.infoTextVisible || this.actualAdaptivityProps.isLargeDisplayMode !== this.state.isLargeDisplayMode)) {\r\n            return\r\n        }\r\n        var isEmpty = !isDefined(this.elementsWidth);\r\n        if (isEmpty) {\r\n            this.elementsWidth = {}\r\n        }\r\n        if (isEmpty || this.state.isLargeDisplayMode) {\r\n            this.elementsWidth.pageSizes = currentElementsWidth.pageSizes;\r\n            this.elementsWidth.pages = currentElementsWidth.pages\r\n        }\r\n        if (isEmpty || this.state.infoTextVisible) {\r\n            this.elementsWidth.info = currentElementsWidth.info\r\n        }\r\n        this.actualAdaptivityProps = calculateAdaptivityProps(_extends({\r\n            parent: currentElementsWidth.parent\r\n        }, this.elementsWidth));\r\n        this.setState(__state_argument => ({\r\n            infoTextVisible: this.actualAdaptivityProps.infoTextVisible\r\n        }));\r\n        this.setState(__state_argument => ({\r\n            isLargeDisplayMode: this.actualAdaptivityProps.isLargeDisplayMode\r\n        }))\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                contentTemplate: getTemplate(props.contentTemplate)\r\n            }),\r\n            infoTextVisible: this.state.infoTextVisible,\r\n            isLargeDisplayMode: this.state.isLargeDisplayMode,\r\n            parentRef: this.parentRef,\r\n            pageSizesRef: this.pageSizesRef,\r\n            infoTextRef: this.infoTextRef,\r\n            pagesRef: this.pagesRef,\r\n            contentAttributes: this.contentAttributes,\r\n            parentWidth: this.parentWidth,\r\n            updateAdaptivityProps: this.updateAdaptivityProps,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nResizableContainer.defaultProps = ResizableContainerProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/base_pager_props.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var BasePagerProps = {\r\n    gridCompatibility: true,\r\n    showInfo: false,\r\n    displayMode: \"adaptive\",\r\n    maxPagesCount: 10,\r\n    pageCount: 10,\r\n    visible: true,\r\n    hasKnownLastPage: true,\r\n    pagesNavigatorVisible: \"auto\",\r\n    showPageSizes: true,\r\n    get pageSizes() {\r\n        return [5, 10]\r\n    },\r\n    showNavigationButtons: false,\r\n    totalCount: 0\r\n};\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/pager_props.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    BasePagerProps\r\n} from \"./base_pager_props\";\r\nexport var PagerProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BasePagerProps), Object.getOwnPropertyDescriptors({\r\n    defaultPageSize: 5,\r\n    pageSizeChange: () => {},\r\n    defaultPageIndex: 1,\r\n    pageIndexChange: () => {}\r\n})));\r\nexport var InternalPagerProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BasePagerProps), Object.getOwnPropertyDescriptors({\r\n    pageSize: 5,\r\n    pageIndex: 1\r\n})));\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/info.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"infoText\", \"pageCount\", \"pageIndex\", \"rootElementRef\", \"totalCount\"];\r\nimport {\r\n    createVNode\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    format\r\n} from \"../../../core/utils/string\";\r\nimport messageLocalization from \"../../../localization/message\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"./common/pager_props\";\r\nexport var PAGER_INFO_CLASS = \"dx-info\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: {\r\n            rootElementRef: rootElementRef\r\n        },\r\n        text: text\r\n    } = _ref;\r\n    return createVNode(1, \"div\", PAGER_INFO_CLASS, text, 0, null, null, rootElementRef)\r\n};\r\nexport var InfoTextProps = {};\r\nvar InfoTextPropsType = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    },\r\n    get totalCount() {\r\n        return InternalPagerProps.totalCount\r\n    }\r\n};\r\nexport class InfoText extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n    get infoText() {\r\n        var _this$props$infoText;\r\n        return (null !== (_this$props$infoText = this.props.infoText) && void 0 !== _this$props$infoText ? _this$props$infoText : \"\") || messageLocalization.getFormatter(\"dxPager-infoText\")()\r\n    }\r\n    get text() {\r\n        var {\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            totalCount: totalCount\r\n        } = this.props;\r\n        return format(this.infoText, (pageIndex + 1).toString(), pageCount.toString(), totalCount.toString())\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            infoText: this.infoText,\r\n            text: this.text,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nInfoText.defaultProps = InfoTextPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/keyboard_action_context.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    createContext\r\n} from \"@devextreme/runtime/inferno\";\r\nexport var KeyboardActionContext = createContext(void 0);\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/light_button.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"children\", \"className\", \"label\", \"onClick\"];\r\nimport {\r\n    createVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    subscribeToClickEvent\r\n} from \"../../../utils/subscribe_to_event\";\r\nimport {\r\n    KeyboardActionContext\r\n} from \"./keyboard_action_context\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: {\r\n            children: children,\r\n            className: className,\r\n            label: label\r\n        },\r\n        widgetRef: widgetRef\r\n    } = _ref;\r\n    return createVNode(1, \"div\", className, children, 0, {\r\n        tabIndex: 0,\r\n        role: \"button\",\r\n        \"aria-label\": label\r\n    }, null, widgetRef)\r\n};\r\nexport var LightButtonProps = {\r\n    className: \"\",\r\n    label: \"\"\r\n};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class LightButton extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.widgetRef = infernoCreateRef();\r\n        this.keyboardEffect = this.keyboardEffect.bind(this);\r\n        this.subscribeToClick = this.subscribeToClick.bind(this)\r\n    }\r\n    get keyboardContext() {\r\n        if (\"KeyboardActionContext\" in this.context) {\r\n            return this.context.KeyboardActionContext\r\n        }\r\n        return KeyboardActionContext\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.keyboardEffect, [this.keyboardContext, this.props.onClick]), new InfernoEffect(this.subscribeToClick, [this.props.onClick])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$, _this$_effects$2;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.keyboardContext, this.props.onClick]);\r\n        null === (_this$_effects$2 = this._effects[1]) || void 0 === _this$_effects$2 ? void 0 : _this$_effects$2.update([this.props.onClick])\r\n    }\r\n    keyboardEffect() {\r\n        return this.keyboardContext.registerKeyboardAction(this.widgetRef.current, this.props.onClick)\r\n    }\r\n    subscribeToClick() {\r\n        return subscribeToClickEvent(this.widgetRef.current, this.props.onClick)\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            widgetRef: this.widgetRef,\r\n            keyboardContext: this.keyboardContext,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nLightButton.defaultProps = LightButtonProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/consts.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var PAGER_CLASS = \"dx-pager\";\r\nexport var LIGHT_MODE_CLASS = \"dx-light-mode\";\r\nexport var PAGER_PAGES_CLASS = \"dx-pages\";\r\nexport var PAGER_PAGE_INDEXES_CLASS = \"dx-page-indexes\";\r\nexport var PAGER_PAGE_CLASS = \"dx-page\";\r\nexport var PAGER_SELECTION_CLASS = \"dx-selection\";\r\nexport var PAGER_PAGE_SIZE_CLASS = \"dx-page-size\";\r\nexport var PAGER_PAGE_SIZES_CLASS = \"dx-page-sizes\";\r\nexport var PAGER_SELECTED_PAGE_SIZE_CLASS = \"\".concat(PAGER_PAGE_SIZE_CLASS, \" \").concat(PAGER_SELECTION_CLASS);\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/page.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"className\", \"index\", \"onClick\", \"selected\"];\r\nimport {\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    LightButton\r\n} from \"../common/light_button\";\r\nimport {\r\n    PAGER_PAGE_CLASS,\r\n    PAGER_SELECTION_CLASS\r\n} from \"../common/consts\";\r\nimport {\r\n    combineClasses\r\n} from \"../../../utils/combine_classes\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        className: className,\r\n        label: label,\r\n        props: {\r\n            onClick: onClick\r\n        },\r\n        value: value\r\n    } = _ref;\r\n    return createComponentVNode(2, LightButton, {\r\n        className: className,\r\n        label: label,\r\n        onClick: onClick,\r\n        children: value\r\n    })\r\n};\r\nexport var PageProps = {\r\n    index: 0,\r\n    selected: false,\r\n    className: PAGER_PAGE_CLASS\r\n};\r\nexport class Page extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n    get label() {\r\n        return \"Page \".concat(this.value)\r\n    }\r\n    get value() {\r\n        return this.props.index + 1\r\n    }\r\n    get className() {\r\n        var {\r\n            selected: selected\r\n        } = this.props;\r\n        return combineClasses({\r\n            [\"\".concat(this.props.className)]: !!this.props.className,\r\n            [PAGER_SELECTION_CLASS]: !!selected\r\n        })\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            label: this.label,\r\n            value: this.value,\r\n            className: this.className,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPage.defaultProps = PageProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/large.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageIndexes\"],\r\n    _excluded2 = [\"maxPagesCount\", \"pageCount\", \"pageIndex\", \"pageIndexChange\"];\r\nimport {\r\n    createVNode,\r\n    createFragment,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    Fragment\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    Page\r\n} from \"./page\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport {\r\n    ConfigContext\r\n} from \"../../../common/config_context\";\r\nvar PAGER_PAGE_SEPARATOR_CLASS = \"dx-separator\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pages: pages\r\n    } = _ref;\r\n    var PagesMarkup = pages.map(_ref2 => {\r\n        var {\r\n            key: key,\r\n            pageProps: pageProps\r\n        } = _ref2;\r\n        return pageProps ? createComponentVNode(2, Page, {\r\n            index: pageProps.index,\r\n            selected: pageProps.selected,\r\n            onClick: pageProps.onClick\r\n        }, key) : createVNode(1, \"div\", PAGER_PAGE_SEPARATOR_CLASS, \". . .\", 16, null, key)\r\n    });\r\n    return createFragment(PagesMarkup, 0)\r\n};\r\nvar PAGES_LIMITER = 4;\r\n\r\nfunction getDelimiterType(startIndex, slidingWindowSize, pageCount) {\r\n    if (1 === startIndex) {\r\n        return \"high\"\r\n    }\r\n    if (startIndex + slidingWindowSize === pageCount - 1) {\r\n        return \"low\"\r\n    }\r\n    return \"both\"\r\n}\r\n\r\nfunction createPageIndexesBySlidingWindowIndexes(slidingWindowIndexes, pageCount, delimiter) {\r\n    var pageIndexes = [];\r\n    var indexesForReuse = [];\r\n    switch (delimiter) {\r\n        case \"none\":\r\n            pageIndexes = [...slidingWindowIndexes];\r\n            break;\r\n        case \"both\":\r\n            pageIndexes = [0, \"low\", ...slidingWindowIndexes, \"high\", pageCount - 1];\r\n            indexesForReuse = slidingWindowIndexes.slice(1, -1);\r\n            break;\r\n        case \"high\":\r\n            pageIndexes = [0, ...slidingWindowIndexes, \"high\", pageCount - 1];\r\n            indexesForReuse = slidingWindowIndexes.slice(0, -1);\r\n            break;\r\n        case \"low\":\r\n            pageIndexes = [0, \"low\", ...slidingWindowIndexes, pageCount - 1];\r\n            indexesForReuse = slidingWindowIndexes.slice(1)\r\n    }\r\n    return {\r\n        slidingWindowIndexes: slidingWindowIndexes,\r\n        indexesForReuse: indexesForReuse,\r\n        pageIndexes: pageIndexes\r\n    }\r\n}\r\n\r\nfunction createPageIndexes(startIndex, slidingWindowSize, pageCount, delimiter) {\r\n    var slidingWindowIndexes = [];\r\n    for (var i = 0; i < slidingWindowSize; i += 1) {\r\n        slidingWindowIndexes.push(i + startIndex)\r\n    }\r\n    return createPageIndexesBySlidingWindowIndexes(slidingWindowIndexes, pageCount, delimiter)\r\n}\r\nvar PagesLargePropsType = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get maxPagesCount() {\r\n        return InternalPagerProps.maxPagesCount\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    }\r\n};\r\nexport class PagesLarge extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.canReuseSlidingWindow = this.canReuseSlidingWindow.bind(this);\r\n        this.generatePageIndexes = this.generatePageIndexes.bind(this);\r\n        this.isSlidingWindowMode = this.isSlidingWindowMode.bind(this);\r\n        this.onPageClick = this.onPageClick.bind(this)\r\n    }\r\n    get config() {\r\n        if (\"ConfigContext\" in this.context) {\r\n            return this.context.ConfigContext\r\n        }\r\n        return ConfigContext\r\n    }\r\n    get slidingWindowState() {\r\n        var slidingWindowState = this.slidingWindowStateHolder;\r\n        if (!slidingWindowState) {\r\n            return {\r\n                indexesForReuse: [],\r\n                slidingWindowIndexes: []\r\n            }\r\n        }\r\n        return slidingWindowState\r\n    }\r\n    canReuseSlidingWindow(currentPageCount, pageIndex) {\r\n        var {\r\n            indexesForReuse: indexesForReuse\r\n        } = this.slidingWindowState;\r\n        var currentPageNotExistInIndexes = !indexesForReuse.includes(currentPageCount);\r\n        var pageIndexExistInIndexes = indexesForReuse.includes(pageIndex);\r\n        return currentPageNotExistInIndexes && pageIndexExistInIndexes\r\n    }\r\n    generatePageIndexes() {\r\n        var {\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex\r\n        } = this.props;\r\n        var startIndex = 0;\r\n        var {\r\n            slidingWindowIndexes: slidingWindowIndexes\r\n        } = this.slidingWindowState;\r\n        if (pageIndex === slidingWindowIndexes[0]) {\r\n            startIndex = pageIndex - 1\r\n        } else if (pageIndex === slidingWindowIndexes[slidingWindowIndexes.length - 1]) {\r\n            startIndex = pageIndex + 2 - PAGES_LIMITER\r\n        } else if (pageIndex < PAGES_LIMITER) {\r\n            startIndex = 1\r\n        } else if (pageIndex >= pageCount - PAGES_LIMITER) {\r\n            startIndex = pageCount - PAGES_LIMITER - 1\r\n        } else {\r\n            startIndex = pageIndex - 1\r\n        }\r\n        var slidingWindowSize = PAGES_LIMITER;\r\n        var delimiter = getDelimiterType(startIndex, slidingWindowSize, pageCount);\r\n        var _createPageIndexes = createPageIndexes(startIndex, slidingWindowSize, pageCount, delimiter),\r\n            {\r\n                pageIndexes: pageIndexes\r\n            } = _createPageIndexes,\r\n            slidingWindowState = _objectWithoutPropertiesLoose(_createPageIndexes, _excluded);\r\n        this.slidingWindowStateHolder = slidingWindowState;\r\n        return pageIndexes\r\n    }\r\n    isSlidingWindowMode() {\r\n        var {\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount\r\n        } = this.props;\r\n        return pageCount <= PAGES_LIMITER || pageCount <= maxPagesCount\r\n    }\r\n    onPageClick(pageIndex) {\r\n        this.props.pageIndexChange(pageIndex)\r\n    }\r\n    get pageIndexes() {\r\n        var {\r\n            pageCount: pageCount\r\n        } = this.props;\r\n        if (this.isSlidingWindowMode()) {\r\n            return createPageIndexes(0, pageCount, pageCount, \"none\").pageIndexes\r\n        }\r\n        if (this.canReuseSlidingWindow(pageCount, this.props.pageIndex)) {\r\n            var {\r\n                slidingWindowIndexes: slidingWindowIndexes\r\n            } = this.slidingWindowState;\r\n            var delimiter = getDelimiterType(slidingWindowIndexes[0], PAGES_LIMITER, pageCount);\r\n            return createPageIndexesBySlidingWindowIndexes(slidingWindowIndexes, pageCount, delimiter).pageIndexes\r\n        }\r\n        return this.generatePageIndexes()\r\n    }\r\n    get pages() {\r\n        var _this$config;\r\n        var {\r\n            pageIndex: pageIndex\r\n        } = this.props;\r\n        var createPage = index => {\r\n            var pagerProps = \"low\" === index || \"high\" === index ? null : {\r\n                index: index,\r\n                onClick: () => this.onPageClick(index),\r\n                selected: pageIndex === index\r\n            };\r\n            return {\r\n                key: index.toString(),\r\n                pageProps: pagerProps\r\n            }\r\n        };\r\n        var rtlPageIndexes = null !== (_this$config = this.config) && void 0 !== _this$config && _this$config.rtlEnabled ? [...this.pageIndexes].reverse() : this.pageIndexes;\r\n        return rtlPageIndexes.map(index => createPage(index))\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded2);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            config: this.config,\r\n            pageIndexes: this.pageIndexes,\r\n            pages: this.pages,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPagesLarge.defaultProps = PagesLargePropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/editors/number_box.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"accessKey\", \"activeStateEnabled\", \"className\", \"defaultValue\", \"disabled\", \"focusStateEnabled\", \"height\", \"hint\", \"hoverStateEnabled\", \"invalidValueMessage\", \"max\", \"min\", \"mode\", \"onClick\", \"onKeyDown\", \"rtlEnabled\", \"showSpinButtons\", \"step\", \"tabIndex\", \"useLargeSpinButtons\", \"value\", \"valueChange\", \"visible\", \"width\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport LegacyNumberBox from \"../../../ui/number_box\";\r\nimport {\r\n    DomComponentWrapper\r\n} from \"../common/dom_component_wrapper\";\r\nimport {\r\n    BaseWidgetProps\r\n} from \"../common/base_props\";\r\nvar DEFAULT_VALUE = 0;\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: props,\r\n        restAttributes: restAttributes\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, DomComponentWrapper, _extends({\r\n        componentType: LegacyNumberBox,\r\n        componentProps: props,\r\n        templateNames: []\r\n    }, restAttributes)))\r\n};\r\nexport var NumberBoxProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BaseWidgetProps), Object.getOwnPropertyDescriptors({\r\n    focusStateEnabled: true,\r\n    hoverStateEnabled: true,\r\n    defaultValue: DEFAULT_VALUE,\r\n    isReactComponentWrapper: true\r\n})));\r\nexport class NumberBox extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: void 0 !== this.props.value ? this.props.value : this.props.defaultValue\r\n        }\r\n    }\r\n    get restAttributes() {\r\n        var _this$props$value = _extends({}, this.props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restProps = _objectWithoutPropertiesLoose(_this$props$value, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nNumberBox.defaultProps = NumberBoxProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/utils/calculate_values_fitted_width.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var oneDigitWidth = 10;\r\nexport function calculateValuesFittedWidth(minWidth, values) {\r\n    return minWidth + oneDigitWidth * Math.max(...values).toString().length\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/small.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pagesCountText\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    Page\r\n} from \"./page\";\r\nimport {\r\n    PAGER_INFO_CLASS\r\n} from \"../info\";\r\nimport {\r\n    NumberBox\r\n} from \"../../editors/number_box\";\r\nimport messageLocalization from \"../../../../localization/message\";\r\nimport {\r\n    calculateValuesFittedWidth\r\n} from \"../utils/calculate_values_fitted_width\";\r\nimport {\r\n    getElementMinWidth\r\n} from \"../utils/get_element_width\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nvar PAGER_INFO_TEXT_CLASS = \"\".concat(PAGER_INFO_CLASS, \"  dx-info-text\");\r\nvar PAGER_PAGE_INDEX_CLASS = \"dx-page-index\";\r\nvar LIGHT_PAGES_CLASS = \"dx-light-pages\";\r\nvar PAGER_PAGES_COUNT_CLASS = \"dx-pages-count\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pageIndexRef: pageIndexRef,\r\n        pagesCountText: pagesCountText,\r\n        props: {\r\n            pageCount: pageCount\r\n        },\r\n        selectLastPageIndex: selectLastPageIndex,\r\n        value: value,\r\n        valueChange: valueChange,\r\n        width: width\r\n    } = _ref;\r\n    return createVNode(1, \"div\", LIGHT_PAGES_CLASS, [createComponentVNode(2, NumberBox, {\r\n        className: PAGER_PAGE_INDEX_CLASS,\r\n        min: 1,\r\n        max: pageCount,\r\n        width: width,\r\n        value: value,\r\n        valueChange: valueChange\r\n    }), createVNode(1, \"span\", PAGER_INFO_TEXT_CLASS, pagesCountText, 0), createComponentVNode(2, Page, {\r\n        className: PAGER_PAGES_COUNT_CLASS,\r\n        selected: false,\r\n        index: pageCount - 1,\r\n        onClick: selectLastPageIndex\r\n    })], 4, null, null, pageIndexRef)\r\n};\r\nvar PagerSmallProps = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    }\r\n};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class PagesSmall extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.pageIndexRef = infernoCreateRef();\r\n        this.state = {\r\n            minWidth: 10\r\n        };\r\n        this.updateWidth = this.updateWidth.bind(this);\r\n        this.selectLastPageIndex = this.selectLastPageIndex.bind(this);\r\n        this.valueChange = this.valueChange.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.updateWidth, [this.state.minWidth])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.state.minWidth])\r\n    }\r\n    updateWidth() {\r\n        var _this$pageIndexRef$cu;\r\n        var el = null === (_this$pageIndexRef$cu = this.pageIndexRef.current) || void 0 === _this$pageIndexRef$cu ? void 0 : _this$pageIndexRef$cu.querySelector(\".\".concat(PAGER_PAGE_INDEX_CLASS));\r\n        this.setState(__state_argument => ({\r\n            minWidth: el && getElementMinWidth(el) || __state_argument.minWidth\r\n        }))\r\n    }\r\n    get value() {\r\n        return this.props.pageIndex + 1\r\n    }\r\n    get width() {\r\n        var {\r\n            pageCount: pageCount\r\n        } = this.props;\r\n        return calculateValuesFittedWidth(this.state.minWidth, [pageCount])\r\n    }\r\n    get pagesCountText() {\r\n        var _this$props$pagesCoun;\r\n        return (null !== (_this$props$pagesCoun = this.props.pagesCountText) && void 0 !== _this$props$pagesCoun ? _this$props$pagesCoun : \"\") || messageLocalization.getFormatter(\"dxPager-pagesCountText\")()\r\n    }\r\n    selectLastPageIndex() {\r\n        this.props.pageIndexChange(this.props.pageCount - 1)\r\n    }\r\n    valueChange(value) {\r\n        this.props.pageIndexChange(value - 1)\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            pageIndexRef: this.pageIndexRef,\r\n            value: this.value,\r\n            width: this.width,\r\n            pagesCountText: this.pagesCountText,\r\n            selectLastPageIndex: this.selectLastPageIndex,\r\n            valueChange: this.valueChange,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPagesSmall.defaultProps = PagerSmallProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/page_index_selector.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"hasKnownLastPage\", \"isLargeDisplayMode\", \"maxPagesCount\", \"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pagesCountText\", \"showNavigationButtons\", \"totalCount\"];\r\nimport {\r\n    createFragment,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    Fragment\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    LightButton\r\n} from \"../common/light_button\";\r\nimport {\r\n    PagesLarge\r\n} from \"./large\";\r\nimport {\r\n    PagesSmall\r\n} from \"./small\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport {\r\n    ConfigContext\r\n} from \"../../../common/config_context\";\r\nvar PAGER_NAVIGATE_BUTTON = \"dx-navigate-button\";\r\nvar PAGER_PREV_BUTTON_CLASS = \"dx-prev-button\";\r\nvar PAGER_NEXT_BUTTON_CLASS = \"dx-next-button\";\r\nexport var PAGER_BUTTON_DISABLE_CLASS = \"dx-button-disable\";\r\nvar nextButtonClassName = \"\".concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_NEXT_BUTTON_CLASS);\r\nvar prevButtonClassName = \"\".concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_PREV_BUTTON_CLASS);\r\nvar nextButtonDisabledClassName = \"\".concat(PAGER_BUTTON_DISABLE_CLASS, \" \").concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_NEXT_BUTTON_CLASS);\r\nvar prevButtonDisabledClassName = \"\".concat(PAGER_BUTTON_DISABLE_CLASS, \" \").concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_PREV_BUTTON_CLASS);\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        navigateToNextPage: navigateToNextPage,\r\n        navigateToPrevPage: navigateToPrevPage,\r\n        nextClassName: nextClassName,\r\n        pageIndexChange: pageIndexChange,\r\n        prevClassName: prevClassName,\r\n        props: {\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pagesCountText: pagesCountText\r\n        },\r\n        renderNextButton: renderNextButton,\r\n        renderPrevButton: renderPrevButton\r\n    } = _ref;\r\n    return createFragment([renderPrevButton && createComponentVNode(2, LightButton, {\r\n        className: prevClassName,\r\n        label: \"Previous page\",\r\n        onClick: navigateToPrevPage\r\n    }), isLargeDisplayMode && createComponentVNode(2, PagesLarge, {\r\n        maxPagesCount: maxPagesCount,\r\n        pageCount: pageCount,\r\n        pageIndex: pageIndex,\r\n        pageIndexChange: pageIndexChange\r\n    }), !isLargeDisplayMode && createComponentVNode(2, PagesSmall, {\r\n        pageCount: pageCount,\r\n        pageIndex: pageIndex,\r\n        pageIndexChange: pageIndexChange,\r\n        pagesCountText: pagesCountText\r\n    }), renderNextButton && createComponentVNode(2, LightButton, {\r\n        className: nextClassName,\r\n        label: \"Next page\",\r\n        onClick: navigateToNextPage\r\n    })], 0)\r\n};\r\n\r\nfunction getIncrement(direction) {\r\n    return \"next\" === direction ? 1 : -1\r\n}\r\nexport var PageIndexSelectorProps = {\r\n    isLargeDisplayMode: true\r\n};\r\nvar PageIndexSelectorPropsType = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get maxPagesCount() {\r\n        return InternalPagerProps.maxPagesCount\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    },\r\n    get hasKnownLastPage() {\r\n        return InternalPagerProps.hasKnownLastPage\r\n    },\r\n    get showNavigationButtons() {\r\n        return InternalPagerProps.showNavigationButtons\r\n    },\r\n    get totalCount() {\r\n        return InternalPagerProps.totalCount\r\n    },\r\n    get isLargeDisplayMode() {\r\n        return PageIndexSelectorProps.isLargeDisplayMode\r\n    }\r\n};\r\nexport class PageIndexSelector extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.pageIndexChange = this.pageIndexChange.bind(this);\r\n        this.navigateToNextPage = this.navigateToNextPage.bind(this);\r\n        this.navigateToPrevPage = this.navigateToPrevPage.bind(this);\r\n        this.getNextDirection = this.getNextDirection.bind(this);\r\n        this.getPrevDirection = this.getPrevDirection.bind(this);\r\n        this.canNavigateToPage = this.canNavigateToPage.bind(this);\r\n        this.getNextPageIndex = this.getNextPageIndex.bind(this);\r\n        this.canNavigateTo = this.canNavigateTo.bind(this);\r\n        this.navigateToPage = this.navigateToPage.bind(this)\r\n    }\r\n    get config() {\r\n        if (\"ConfigContext\" in this.context) {\r\n            return this.context.ConfigContext\r\n        }\r\n        return ConfigContext\r\n    }\r\n    pageIndexChange(pageIndex) {\r\n        if (this.canNavigateToPage(pageIndex)) {\r\n            this.props.pageIndexChange(pageIndex)\r\n        }\r\n    }\r\n    navigateToNextPage() {\r\n        this.navigateToPage(this.getNextDirection())\r\n    }\r\n    navigateToPrevPage() {\r\n        this.navigateToPage(this.getPrevDirection())\r\n    }\r\n    getNextDirection() {\r\n        var _this$config;\r\n        return !(null !== (_this$config = this.config) && void 0 !== _this$config && _this$config.rtlEnabled) ? \"next\" : \"prev\"\r\n    }\r\n    getPrevDirection() {\r\n        var _this$config2;\r\n        return !(null !== (_this$config2 = this.config) && void 0 !== _this$config2 && _this$config2.rtlEnabled) ? \"prev\" : \"next\"\r\n    }\r\n    canNavigateToPage(pageIndex) {\r\n        if (!this.props.hasKnownLastPage) {\r\n            return pageIndex >= 0\r\n        }\r\n        return pageIndex >= 0 && pageIndex <= this.props.pageCount - 1\r\n    }\r\n    getNextPageIndex(direction) {\r\n        return this.props.pageIndex + getIncrement(direction)\r\n    }\r\n    canNavigateTo(direction) {\r\n        return this.canNavigateToPage(this.getNextPageIndex(direction))\r\n    }\r\n    navigateToPage(direction) {\r\n        this.pageIndexChange(this.getNextPageIndex(direction))\r\n    }\r\n    get renderPrevButton() {\r\n        var {\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            showNavigationButtons: showNavigationButtons\r\n        } = this.props;\r\n        return !isLargeDisplayMode || showNavigationButtons\r\n    }\r\n    get renderNextButton() {\r\n        return this.renderPrevButton || !this.props.hasKnownLastPage\r\n    }\r\n    get nextClassName() {\r\n        var direction = this.getNextDirection();\r\n        var canNavigate = this.canNavigateTo(direction);\r\n        return canNavigate ? nextButtonClassName : nextButtonDisabledClassName\r\n    }\r\n    get prevClassName() {\r\n        var direction = this.getPrevDirection();\r\n        var canNavigate = this.canNavigateTo(direction);\r\n        return canNavigate ? prevButtonClassName : prevButtonDisabledClassName\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            config: this.config,\r\n            pageIndexChange: this.pageIndexChange,\r\n            navigateToNextPage: this.navigateToNextPage,\r\n            navigateToPrevPage: this.navigateToPrevPage,\r\n            renderPrevButton: this.renderPrevButton,\r\n            renderNextButton: this.renderNextButton,\r\n            nextClassName: this.nextClassName,\r\n            prevClassName: this.prevClassName,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageIndexSelector.defaultProps = PageIndexSelectorPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/editors/drop_down_editors/select_box.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"accessKey\", \"activeStateEnabled\", \"className\", \"dataSource\", \"defaultValue\", \"disabled\", \"displayExpr\", \"focusStateEnabled\", \"height\", \"hint\", \"hoverStateEnabled\", \"onClick\", \"onKeyDown\", \"rtlEnabled\", \"tabIndex\", \"value\", \"valueChange\", \"valueExpr\", \"visible\", \"width\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport LegacySelectBox from \"../../../../ui/select_box\";\r\nimport {\r\n    DomComponentWrapper\r\n} from \"../../common/dom_component_wrapper\";\r\nimport {\r\n    BaseWidgetProps\r\n} from \"../../common/base_props\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: props,\r\n        restAttributes: restAttributes\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, DomComponentWrapper, _extends({\r\n        componentType: LegacySelectBox,\r\n        componentProps: props,\r\n        templateNames: [\"dropDownButtonTemplate\", \"groupTemplate\", \"itemTemplate\"]\r\n    }, restAttributes)))\r\n};\r\nexport var SelectBoxProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BaseWidgetProps), Object.getOwnPropertyDescriptors({\r\n    focusStateEnabled: true,\r\n    hoverStateEnabled: true,\r\n    defaultValue: null,\r\n    isReactComponentWrapper: true\r\n})));\r\nexport class SelectBox extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: void 0 !== this.props.value ? this.props.value : this.props.defaultValue\r\n        }\r\n    }\r\n    get restAttributes() {\r\n        var _this$props$value = _extends({}, this.props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restProps = _objectWithoutPropertiesLoose(_this$props$value, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nSelectBox.defaultProps = SelectBoxProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/page_size/small.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageSize\", \"pageSizeChange\", \"pageSizes\", \"parentRef\"];\r\nimport {\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    SelectBox\r\n} from \"../../editors/drop_down_editors/select_box\";\r\nimport {\r\n    calculateValuesFittedWidth\r\n} from \"../utils/calculate_values_fitted_width\";\r\nimport {\r\n    getElementMinWidth\r\n} from \"../utils/get_element_width\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: {\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes\r\n        },\r\n        width: width\r\n    } = _ref;\r\n    return createComponentVNode(2, SelectBox, {\r\n        displayExpr: \"text\",\r\n        valueExpr: \"value\",\r\n        dataSource: pageSizes,\r\n        value: pageSize,\r\n        valueChange: pageSizeChange,\r\n        width: width\r\n    })\r\n};\r\nexport var PageSizeSmallProps = {};\r\nvar PageSizeSmallPropsType = {\r\n    get pageSize() {\r\n        return InternalPagerProps.pageSize\r\n    }\r\n};\r\nexport class PageSizeSmall extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            minWidth: 10\r\n        };\r\n        this.updateWidth = this.updateWidth.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.updateWidth, [this.props, this.state.minWidth, this.props.pageSize, this.props.pageSizeChange, this.props.pageSizes])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.props, this.state.minWidth, this.props.pageSize, this.props.pageSizeChange, this.props.pageSizes])\r\n    }\r\n    updateWidth() {\r\n        this.setState(__state_argument => ({\r\n            minWidth: getElementMinWidth(this.props.parentRef.current) || __state_argument.minWidth\r\n        }))\r\n    }\r\n    get width() {\r\n        return calculateValuesFittedWidth(this.state.minWidth, this.props.pageSizes.map(p => p.value))\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            width: this.width,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageSizeSmall.defaultProps = PageSizeSmallPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/page_size/large.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageSize\", \"pageSizeChange\", \"pageSizes\"];\r\nimport {\r\n    createFragment,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    Fragment\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    LightButton\r\n} from \"../common/light_button\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport {\r\n    PAGER_SELECTED_PAGE_SIZE_CLASS,\r\n    PAGER_PAGE_SIZE_CLASS\r\n} from \"../common/consts\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pageSizesText: pageSizesText\r\n    } = _ref;\r\n    return createFragment(pageSizesText.map(_ref2 => {\r\n        var {\r\n            className: className,\r\n            click: click,\r\n            label: label,\r\n            text: text\r\n        } = _ref2;\r\n        return createComponentVNode(2, LightButton, {\r\n            className: className,\r\n            label: label,\r\n            onClick: click,\r\n            children: text\r\n        }, text)\r\n    }), 0)\r\n};\r\nexport var PageSizeLargeProps = {};\r\nvar PageSizeLargePropsType = {\r\n    get pageSize() {\r\n        return InternalPagerProps.pageSize\r\n    }\r\n};\r\nexport class PageSizeLarge extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.__getterCache = {};\r\n        this.onPageSizeChange = this.onPageSizeChange.bind(this)\r\n    }\r\n    get pageSizesText() {\r\n        if (void 0 !== this.__getterCache.pageSizesText) {\r\n            return this.__getterCache.pageSizesText\r\n        }\r\n        return this.__getterCache.pageSizesText = (() => {\r\n            var {\r\n                pageSize: pageSize,\r\n                pageSizes: pageSizes\r\n            } = this.props;\r\n            return pageSizes.map(_ref3 => {\r\n                var {\r\n                    text: text,\r\n                    value: processedPageSize\r\n                } = _ref3;\r\n                var selected = processedPageSize === pageSize;\r\n                var className = selected ? PAGER_SELECTED_PAGE_SIZE_CLASS : PAGER_PAGE_SIZE_CLASS;\r\n                return {\r\n                    className: className,\r\n                    click: this.onPageSizeChange(processedPageSize),\r\n                    label: \"Display \".concat(processedPageSize, \" items on page\"),\r\n                    text: text\r\n                }\r\n            })\r\n        })()\r\n    }\r\n    onPageSizeChange(processedPageSize) {\r\n        return () => {\r\n            this.props.pageSizeChange(processedPageSize);\r\n            return this.props.pageSize\r\n        }\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        if (this.props.pageSize !== nextProps.pageSize || this.props.pageSizes !== nextProps.pageSizes || this.props.pageSizeChange !== nextProps.pageSizeChange) {\r\n            this.__getterCache.pageSizesText = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            pageSizesText: this.pageSizesText,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageSizeLarge.defaultProps = PageSizeLargePropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/page_size/selector.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"isLargeDisplayMode\", \"pageSize\", \"pageSizeChange\", \"pageSizes\", \"rootElementRef\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    PageSizeSmall\r\n} from \"./small\";\r\nimport {\r\n    PageSizeLarge\r\n} from \"./large\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport messageLocalization from \"../../../../localization/message\";\r\nimport {\r\n    PAGER_PAGE_SIZES_CLASS\r\n} from \"../common/consts\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        htmlRef: htmlRef,\r\n        normalizedPageSizes: normalizedPageSizes,\r\n        props: {\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange\r\n        }\r\n    } = _ref;\r\n    return createVNode(1, \"div\", PAGER_PAGE_SIZES_CLASS, [isLargeDisplayMode && createComponentVNode(2, PageSizeLarge, {\r\n        pageSizes: normalizedPageSizes,\r\n        pageSize: pageSize,\r\n        pageSizeChange: pageSizeChange\r\n    }), !isLargeDisplayMode && createComponentVNode(2, PageSizeSmall, {\r\n        parentRef: htmlRef,\r\n        pageSizes: normalizedPageSizes,\r\n        pageSize: pageSize,\r\n        pageSizeChange: pageSizeChange\r\n    })], 0, null, null, htmlRef)\r\n};\r\n\r\nfunction getAllText() {\r\n    return messageLocalization.getFormatter(\"dxPager-pageSizesAllText\")()\r\n}\r\nvar PageSizeSelectorProps = {\r\n    isLargeDisplayMode: true\r\n};\r\nvar PageSizeSelectorPropsType = {\r\n    get pageSize() {\r\n        return InternalPagerProps.pageSize\r\n    },\r\n    get pageSizes() {\r\n        return InternalPagerProps.pageSizes\r\n    },\r\n    get isLargeDisplayMode() {\r\n        return PageSizeSelectorProps.isLargeDisplayMode\r\n    }\r\n};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class PageSizeSelector extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.htmlRef = infernoCreateRef();\r\n        this.__getterCache = {};\r\n        this.setRootElementRef = this.setRootElementRef.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.setRootElementRef, [])]\r\n    }\r\n    setRootElementRef() {\r\n        var {\r\n            rootElementRef: rootElementRef\r\n        } = this.props;\r\n        if (rootElementRef) {\r\n            rootElementRef.current = this.htmlRef.current\r\n        }\r\n    }\r\n    get normalizedPageSizes() {\r\n        if (void 0 !== this.__getterCache.normalizedPageSizes) {\r\n            return this.__getterCache.normalizedPageSizes\r\n        }\r\n        return this.__getterCache.normalizedPageSizes = (() => {\r\n            var {\r\n                pageSizes: pageSizes\r\n            } = this.props;\r\n            return pageSizes.map(p => \"all\" === p || 0 === p ? {\r\n                text: getAllText(),\r\n                value: 0\r\n            } : {\r\n                text: String(p),\r\n                value: p\r\n            })\r\n        })()\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate();\r\n        if (this.props.pageSizes !== nextProps.pageSizes) {\r\n            this.__getterCache.normalizedPageSizes = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            htmlRef: this.htmlRef,\r\n            normalizedPageSizes: this.normalizedPageSizes,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageSizeSelector.defaultProps = PageSizeSelectorPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/content.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"className\", \"displayMode\", \"gridCompatibility\", \"hasKnownLastPage\", \"infoText\", \"infoTextRef\", \"infoTextVisible\", \"isLargeDisplayMode\", \"lightModeEnabled\", \"maxPagesCount\", \"onKeyDown\", \"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pageSize\", \"pageSizeChange\", \"pageSizes\", \"pageSizesRef\", \"pagesCountText\", \"pagesNavigatorVisible\", \"pagesRef\", \"rootElementRef\", \"rtlEnabled\", \"showInfo\", \"showNavigationButtons\", \"showPageSizes\", \"totalCount\", \"visible\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent,\r\n    normalizeStyles\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    InfoText\r\n} from \"./info\";\r\nimport {\r\n    PageIndexSelector\r\n} from \"./pages/page_index_selector\";\r\nimport {\r\n    PageSizeSelector\r\n} from \"./page_size/selector\";\r\nimport {\r\n    PAGER_PAGES_CLASS,\r\n    PAGER_PAGE_INDEXES_CLASS,\r\n    LIGHT_MODE_CLASS,\r\n    PAGER_CLASS\r\n} from \"./common/consts\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"./common/pager_props\";\r\nimport {\r\n    combineClasses\r\n} from \"../../utils/combine_classes\";\r\nimport {\r\n    Widget\r\n} from \"../common/widget\";\r\nimport {\r\n    registerKeyboardAction as _registerKeyboardAction\r\n} from \"../../../ui/shared/accessibility\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        classes: classes,\r\n        infoVisible: infoVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode,\r\n        pageIndexSelectorVisible: pageIndexSelectorVisible,\r\n        pagesContainerVisibility: pagesContainerVisibility,\r\n        pagesContainerVisible: pagesContainerVisible,\r\n        props: {\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            infoText: infoText,\r\n            infoTextRef: infoTextRef,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes,\r\n            pageSizesRef: pageSizesRef,\r\n            pagesCountText: pagesCountText,\r\n            pagesRef: pagesRef,\r\n            rtlEnabled: rtlEnabled,\r\n            showNavigationButtons: showNavigationButtons,\r\n            showPageSizes: showPageSizes,\r\n            totalCount: totalCount,\r\n            visible: visible\r\n        },\r\n        restAttributes: restAttributes,\r\n        widgetRootElementRef: widgetRootElementRef\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, Widget, _extends({\r\n        rootElementRef: widgetRootElementRef,\r\n        rtlEnabled: rtlEnabled,\r\n        classes: classes,\r\n        visible: visible\r\n    }, restAttributes, {\r\n        children: [showPageSizes && createComponentVNode(2, PageSizeSelector, {\r\n            rootElementRef: pageSizesRef,\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes\r\n        }), pagesContainerVisible && createVNode(1, \"div\", PAGER_PAGES_CLASS, [infoVisible && createComponentVNode(2, InfoText, {\r\n            rootElementRef: infoTextRef,\r\n            infoText: infoText,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            totalCount: totalCount\r\n        }), pageIndexSelectorVisible && createVNode(1, \"div\", PAGER_PAGE_INDEXES_CLASS, createComponentVNode(2, PageIndexSelector, {\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pagesCountText: pagesCountText,\r\n            showNavigationButtons: showNavigationButtons,\r\n            totalCount: totalCount\r\n        }), 2, null, null, pagesRef)], 0, {\r\n            style: normalizeStyles({\r\n                visibility: pagesContainerVisibility\r\n            })\r\n        })]\r\n    })))\r\n};\r\nexport var PagerContentProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(InternalPagerProps), Object.getOwnPropertyDescriptors({\r\n    infoTextVisible: true,\r\n    isLargeDisplayMode: true\r\n})));\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class PagerContent extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.widgetRootElementRef = infernoCreateRef();\r\n        this.__getterCache = {};\r\n        this.setRootElementRef = this.setRootElementRef.bind(this);\r\n        this.createFakeInstance = this.createFakeInstance.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.setRootElementRef, [])]\r\n    }\r\n    getChildContext() {\r\n        return _extends({}, this.context, {\r\n            KeyboardActionContext: this.keyboardAction\r\n        })\r\n    }\r\n    setRootElementRef() {\r\n        var {\r\n            rootElementRef: rootElementRef\r\n        } = this.props;\r\n        if (rootElementRef) {\r\n            rootElementRef.current = this.widgetRootElementRef.current\r\n        }\r\n    }\r\n    createFakeInstance() {\r\n        return {\r\n            option: () => false,\r\n            element: () => this.widgetRootElementRef.current,\r\n            _createActionByOption: () => e => {\r\n                var _this$props$onKeyDown, _this$props;\r\n                null === (_this$props$onKeyDown = (_this$props = this.props).onKeyDown) || void 0 === _this$props$onKeyDown ? void 0 : _this$props$onKeyDown.call(_this$props, e)\r\n            }\r\n        }\r\n    }\r\n    get keyboardAction() {\r\n        if (void 0 !== this.__getterCache.keyboardAction) {\r\n            return this.__getterCache.keyboardAction\r\n        }\r\n        return this.__getterCache.keyboardAction = (() => ({\r\n            registerKeyboardAction: (element, action) => {\r\n                var fakePagerInstance = this.createFakeInstance();\r\n                return _registerKeyboardAction(\"pager\", fakePagerInstance, element, void 0, action)\r\n            }\r\n        }))()\r\n    }\r\n    get infoVisible() {\r\n        var {\r\n            infoTextVisible: infoTextVisible,\r\n            showInfo: showInfo\r\n        } = this.props;\r\n        return showInfo && infoTextVisible && this.isLargeDisplayMode\r\n    }\r\n    get pageIndexSelectorVisible() {\r\n        return 0 !== this.props.pageSize\r\n    }\r\n    get normalizedDisplayMode() {\r\n        var {\r\n            displayMode: displayMode,\r\n            lightModeEnabled: lightModeEnabled\r\n        } = this.props;\r\n        if (\"adaptive\" === displayMode && void 0 !== lightModeEnabled) {\r\n            return lightModeEnabled ? \"compact\" : \"full\"\r\n        }\r\n        return displayMode\r\n    }\r\n    get pagesContainerVisible() {\r\n        return !!this.props.pagesNavigatorVisible && this.props.pageCount > 0\r\n    }\r\n    get pagesContainerVisibility() {\r\n        if (\"auto\" === this.props.pagesNavigatorVisible && 1 === this.props.pageCount && this.props.hasKnownLastPage) {\r\n            return \"hidden\"\r\n        }\r\n        return\r\n    }\r\n    get isLargeDisplayMode() {\r\n        var displayMode = this.normalizedDisplayMode;\r\n        var result = false;\r\n        if (\"adaptive\" === displayMode) {\r\n            result = this.props.isLargeDisplayMode\r\n        } else {\r\n            result = \"full\" === displayMode\r\n        }\r\n        return result\r\n    }\r\n    get classes() {\r\n        var classesMap = {\r\n            [\"\".concat(this.props.className)]: !!this.props.className,\r\n            [PAGER_CLASS]: true,\r\n            [LIGHT_MODE_CLASS]: !this.isLargeDisplayMode\r\n        };\r\n        return combineClasses(classesMap)\r\n    }\r\n    get restAttributes() {\r\n        var _this$props2 = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props2, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate();\r\n        if (this.props.onKeyDown !== nextProps.onKeyDown) {\r\n            this.__getterCache.keyboardAction = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            widgetRootElementRef: this.widgetRootElementRef,\r\n            keyboardAction: this.keyboardAction,\r\n            infoVisible: this.infoVisible,\r\n            pageIndexSelectorVisible: this.pageIndexSelectorVisible,\r\n            pagesContainerVisible: this.pagesContainerVisible,\r\n            pagesContainerVisibility: this.pagesContainerVisibility,\r\n            isLargeDisplayMode: this.isLargeDisplayMode,\r\n            classes: this.classes,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPagerContent.defaultProps = PagerContentProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"className\", \"defaultPageIndex\", \"defaultPageSize\", \"displayMode\", \"gridCompatibility\", \"hasKnownLastPage\", \"infoText\", \"lightModeEnabled\", \"maxPagesCount\", \"onKeyDown\", \"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pageSize\", \"pageSizeChange\", \"pageSizes\", \"pagesCountText\", \"pagesNavigatorVisible\", \"rtlEnabled\", \"showInfo\", \"showNavigationButtons\", \"showPageSizes\", \"totalCount\", \"visible\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    InfernoWrapperComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    ResizableContainer\r\n} from \"./resizable_container\";\r\nimport {\r\n    PagerProps\r\n} from \"./common/pager_props\";\r\nimport {\r\n    PagerContent\r\n} from \"./content\";\r\nimport {\r\n    combineClasses\r\n} from \"../../utils/combine_classes\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pagerProps: pagerProps,\r\n        restAttributes: restAttributes\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, ResizableContainer, _extends({\r\n        contentTemplate: PagerContent,\r\n        pagerProps: pagerProps\r\n    }, restAttributes)))\r\n};\r\nimport {\r\n    createReRenderEffect\r\n} from \"@devextreme/runtime/inferno\";\r\nexport class Pager extends InfernoWrapperComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.__getterCache = {};\r\n        this.state = {\r\n            pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.props.defaultPageSize,\r\n            pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.props.defaultPageIndex\r\n        };\r\n        this.pageIndexChange = this.pageIndexChange.bind(this);\r\n        this.pageSizeChange = this.pageSizeChange.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [createReRenderEffect()]\r\n    }\r\n    pageIndexChange(newPageIndex) {\r\n        if (this.props.gridCompatibility) {\r\n            var __newValue;\r\n            this.setState(__state_argument => {\r\n                __newValue = newPageIndex + 1;\r\n                return {\r\n                    pageIndex: __newValue\r\n                }\r\n            });\r\n            this.props.pageIndexChange(__newValue)\r\n        } else {\r\n            var _newValue;\r\n            this.setState(__state_argument => {\r\n                _newValue = newPageIndex;\r\n                return {\r\n                    pageIndex: _newValue\r\n                }\r\n            });\r\n            this.props.pageIndexChange(_newValue)\r\n        }\r\n    }\r\n    get pageIndex() {\r\n        if (this.props.gridCompatibility) {\r\n            return (void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex) - 1\r\n        }\r\n        return void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n    }\r\n    pageSizeChange(newPageSize) {\r\n        var __newValue;\r\n        this.setState(__state_argument => {\r\n            __newValue = newPageSize;\r\n            return {\r\n                pageSize: __newValue\r\n            }\r\n        });\r\n        this.props.pageSizeChange(__newValue)\r\n    }\r\n    get className() {\r\n        if (this.props.gridCompatibility) {\r\n            return combineClasses({\r\n                \"dx-datagrid-pager\": true,\r\n                [\"\".concat(this.props.className)]: !!this.props.className\r\n            })\r\n        }\r\n        return this.props.className\r\n    }\r\n    get pagerProps() {\r\n        if (void 0 !== this.__getterCache.pagerProps) {\r\n            return this.__getterCache.pagerProps\r\n        }\r\n        return this.__getterCache.pagerProps = (() => _extends({}, _extends({}, this.props, {\r\n            pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.state.pageSize,\r\n            pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n        }), {\r\n            className: this.className,\r\n            pageIndex: this.pageIndex,\r\n            pageIndexChange: pageIndex => this.pageIndexChange(pageIndex),\r\n            pageSizeChange: pageSize => this.pageSizeChange(pageSize)\r\n        }))()\r\n    }\r\n    get restAttributes() {\r\n        var _this$props$pageSize$ = _extends({}, this.props, {\r\n                pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.state.pageSize,\r\n                pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n            }),\r\n            restProps = _objectWithoutPropertiesLoose(_this$props$pageSize$, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate();\r\n        if (this.props !== nextProps || this.props.gridCompatibility !== nextProps.gridCompatibility || this.props.className !== nextProps.className || this.state.pageIndex !== nextState.pageIndex || this.props.pageIndex !== nextProps.pageIndex || this.props.pageIndexChange !== nextProps.pageIndexChange || this.props.pageSizeChange !== nextProps.pageSizeChange) {\r\n            this.__getterCache.pagerProps = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.state.pageSize,\r\n                pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n            }),\r\n            pageIndexChange: this.pageIndexChange,\r\n            pageIndex: this.pageIndex,\r\n            pageSizeChange: this.pageSizeChange,\r\n            className: this.className,\r\n            pagerProps: this.pagerProps,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPager.defaultProps = PagerProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pager.j.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../../../core/component_registrator\";\r\nimport {\r\n    GridPagerWrapper\r\n} from \"../../component_wrapper/grid_pager\";\r\nimport {\r\n    Pager as PagerComponent\r\n} from \"./pager\";\r\nexport default class Pager extends GridPagerWrapper {\r\n    getProps() {\r\n        var props = super.getProps();\r\n        props.onKeyDown = this._wrapKeyDownHandler(props.onKeyDown);\r\n        return props\r\n    }\r\n    get _propsInfo() {\r\n        return {\r\n            twoWay: [\r\n                [\"pageSize\", \"defaultPageSize\", \"pageSizeChange\"],\r\n                [\"pageIndex\", \"defaultPageIndex\", \"pageIndexChange\"]\r\n            ],\r\n            allowNull: [],\r\n            elements: [],\r\n            templates: [],\r\n            props: [\"defaultPageSize\", \"pageSizeChange\", \"defaultPageIndex\", \"pageIndexChange\", \"gridCompatibility\", \"className\", \"showInfo\", \"infoText\", \"lightModeEnabled\", \"displayMode\", \"maxPagesCount\", \"pageCount\", \"pagesCountText\", \"visible\", \"hasKnownLastPage\", \"pagesNavigatorVisible\", \"showPageSizes\", \"pageSizes\", \"rtlEnabled\", \"showNavigationButtons\", \"totalCount\", \"onKeyDown\", \"pageSize\", \"pageIndex\"]\r\n        }\r\n    }\r\n    get _viewComponent() {\r\n        return PagerComponent\r\n    }\r\n}\r\nregisterComponent(\"dxPager\", Pager);\r\n","/**\r\n * DevExtreme (esm/ui/pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Widget from \"../renovation/ui/pager/pager.j\";\r\nexport default Widget;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport Pager from \"../pager\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nvar PAGER_CLASS = \"pager\";\r\nvar MAX_PAGES_COUNT = 10;\r\nvar getPageIndex = function(dataController) {\r\n    return 1 + (parseInt(dataController.pageIndex()) || 0)\r\n};\r\nvar PagerView = modules.View.inherit({\r\n    init: function() {\r\n        var dataController = this.getController(\"data\");\r\n        dataController.changed.add(e => {\r\n            if (e && e.repaintChangesOnly) {\r\n                var pager = this._pager;\r\n                if (pager) {\r\n                    pager.option({\r\n                        pageIndex: getPageIndex(dataController),\r\n                        pageSize: dataController.pageSize(),\r\n                        pageCount: dataController.pageCount(),\r\n                        totalCount: dataController.totalCount(),\r\n                        hasKnownLastPage: dataController.hasKnownLastPage()\r\n                    })\r\n                } else {\r\n                    this.render()\r\n                }\r\n            } else if (!e || \"update\" !== e.changeType && \"updateSelection\" !== e.changeType && \"updateFocusedRow\" !== e.changeType) {\r\n                this._pager = null;\r\n                this.render()\r\n            }\r\n        })\r\n    },\r\n    _renderCore: function() {\r\n        var $element = this.element().addClass(this.addWidgetPrefix(PAGER_CLASS));\r\n        var pagerOptions = this.option(\"pager\") || {};\r\n        var dataController = this.getController(\"data\");\r\n        var keyboardController = this.getController(\"keyboardNavigation\");\r\n        var options = {\r\n            maxPagesCount: MAX_PAGES_COUNT,\r\n            pageIndex: getPageIndex(dataController),\r\n            pageCount: dataController.pageCount(),\r\n            pageSize: dataController.pageSize(),\r\n            showPageSizes: pagerOptions.showPageSizeSelector,\r\n            showInfo: pagerOptions.showInfo,\r\n            displayMode: pagerOptions.displayMode,\r\n            pagesNavigatorVisible: pagerOptions.visible,\r\n            showNavigationButtons: pagerOptions.showNavigationButtons,\r\n            pageSizes: this.getPageSizes(),\r\n            totalCount: dataController.totalCount(),\r\n            hasKnownLastPage: dataController.hasKnownLastPage(),\r\n            pageIndexChanged: function(pageIndex) {\r\n                if (dataController.pageIndex() !== pageIndex - 1) {\r\n                    setTimeout((function() {\r\n                        dataController.pageIndex(pageIndex - 1)\r\n                    }))\r\n                }\r\n            },\r\n            pageSizeChanged: function(pageSize) {\r\n                setTimeout((function() {\r\n                    dataController.pageSize(pageSize)\r\n                }))\r\n            },\r\n            onKeyDown: e => keyboardController && keyboardController.executeAction(\"onKeyDown\", e),\r\n            useLegacyKeyboardNavigation: this.option(\"useLegacyKeyboardNavigation\"),\r\n            useKeyboard: this.option(\"keyboardNavigation.enabled\")\r\n        };\r\n        if (isDefined(pagerOptions.infoText)) {\r\n            options.infoText = pagerOptions.infoText\r\n        }\r\n        if (this._pager) {\r\n            this._pager.repaint();\r\n            return\r\n        }\r\n        if (hasWindow()) {\r\n            this._pager = this._createComponent($element, Pager, options)\r\n        } else {\r\n            $element.addClass(\"dx-pager\").html('<div class=\"dx-pages\"><div class=\"dx-page\"></div></div>')\r\n        }\r\n    },\r\n    getPager: function() {\r\n        return this._pager\r\n    },\r\n    getPageSizes: function() {\r\n        var dataController = this.getController(\"data\");\r\n        var pagerOptions = this.option(\"pager\");\r\n        var allowedPageSizes = pagerOptions && pagerOptions.allowedPageSizes;\r\n        var pageSize = dataController.pageSize();\r\n        if (!isDefined(this._pageSizes) || -1 === inArray(pageSize, this._pageSizes)) {\r\n            this._pageSizes = [];\r\n            if (pagerOptions) {\r\n                if (Array.isArray(allowedPageSizes)) {\r\n                    this._pageSizes = allowedPageSizes\r\n                } else if (allowedPageSizes && pageSize > 1) {\r\n                    this._pageSizes = [Math.floor(pageSize / 2), pageSize, 2 * pageSize]\r\n                }\r\n            }\r\n        }\r\n        return this._pageSizes\r\n    },\r\n    isVisible: function() {\r\n        var dataController = this.getController(\"data\");\r\n        var pagerOptions = this.option(\"pager\");\r\n        var pagerVisible = pagerOptions && pagerOptions.visible;\r\n        var scrolling = this.option(\"scrolling\");\r\n        if (\"auto\" === pagerVisible) {\r\n            if (scrolling && (\"virtual\" === scrolling.mode || \"infinite\" === scrolling.mode)) {\r\n                pagerVisible = false\r\n            } else {\r\n                pagerVisible = dataController.pageCount() > 1 || dataController.isLoaded() && !dataController.hasKnownLastPage()\r\n            }\r\n        }\r\n        return pagerVisible\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    optionChanged: function(args) {\r\n        var name = args.name;\r\n        var isPager = \"pager\" === name;\r\n        var isPaging = \"paging\" === name;\r\n        var isDataSource = \"dataSource\" === name;\r\n        var isScrolling = \"scrolling\" === name;\r\n        var dataController = this.getController(\"data\");\r\n        if (isPager || isPaging || isScrolling || isDataSource) {\r\n            args.handled = true;\r\n            if (dataController.skipProcessingPagingChange(args.fullName)) {\r\n                return\r\n            }\r\n            if (isPager || isPaging) {\r\n                this._pageSizes = null\r\n            }\r\n            if (!isDataSource) {\r\n                this._pager = null;\r\n                this._invalidate();\r\n                if (hasWindow() && isPager && this.component) {\r\n                    this.component.resize()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._pager = null\r\n    }\r\n});\r\nexport var pagerModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            pager: {\r\n                visible: \"auto\",\r\n                showPageSizeSelector: false,\r\n                allowedPageSizes: \"auto\"\r\n            }\r\n        }\r\n    },\r\n    views: {\r\n        pagerView: PagerView\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    pagerModule\r\n} from \"../grid_core/ui.grid_core.pager\";\r\ngridCore.registerModule(\"pager\", pagerModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.columns_resizing_reordering.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setHeight as _setHeight,\r\n    getHeight,\r\n    setWidth,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport {\r\n    isDefined,\r\n    isString,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    addNamespace,\r\n    eventData as getEventData,\r\n    isTouchEvent\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    start as dragEventStart,\r\n    move as dragEventMove,\r\n    end as dragEventEnd\r\n} from \"../../events/drag\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport fx from \"../../animation/fx\";\r\nimport swatchContainer from \"../widget/swatch_container\";\r\nvar COLUMNS_SEPARATOR_CLASS = \"columns-separator\";\r\nvar COLUMNS_SEPARATOR_TRANSPARENT = \"columns-separator-transparent\";\r\nvar DRAGGING_HEADER_CLASS = \"drag-header\";\r\nvar CELL_CONTENT_CLASS = \"text-content\";\r\nvar HEADERS_DRAG_ACTION_CLASS = \"drag-action\";\r\nvar TRACKER_CLASS = \"tracker\";\r\nvar HEADERS_DROP_HIGHLIGHT_CLASS = \"drop-highlight\";\r\nvar BLOCK_SEPARATOR_CLASS = \"dx-block-separator\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar WIDGET_CLASS = \"dx-widget\";\r\nvar DRAGGING_COMMAND_CELL_CLASS = \"dx-drag-command-cell\";\r\nvar MODULE_NAMESPACE = \"dxDataGridResizingReordering\";\r\nvar COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH = 10;\r\nvar DRAGGING_DELTA = 5;\r\nvar COLUMN_OPACITY = .5;\r\nvar allowResizing = function(that) {\r\n    return that.option(\"allowColumnResizing\") || that.getController(\"columns\").isColumnOptionUsed(\"allowResizing\")\r\n};\r\nvar allowReordering = function(that) {\r\n    return that.option(\"allowColumnReordering\") || that.getController(\"columns\").isColumnOptionUsed(\"allowReordering\")\r\n};\r\nvar TrackerView = modules.View.inherit({\r\n    _renderCore: function() {\r\n        this.callBase();\r\n        this.element().addClass(this.addWidgetPrefix(TRACKER_CLASS));\r\n        this.hide()\r\n    },\r\n    _unsubscribeFromCallback: function() {\r\n        if (this._positionChanged) {\r\n            this._tablePositionController.positionChanged.remove(this._positionChanged)\r\n        }\r\n    },\r\n    _subscribeToCallback: function() {\r\n        var that = this;\r\n        that._positionChanged = function(position) {\r\n            var $element = that.element();\r\n            if ($element && $element.hasClass(that.addWidgetPrefix(TRACKER_CLASS))) {\r\n                $element.css({\r\n                    top: position.top\r\n                });\r\n                _setHeight($element, position.height)\r\n            }\r\n        };\r\n        this._tablePositionController.positionChanged.add(that._positionChanged)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            this._unsubscribeFromCallback();\r\n            if (args.value) {\r\n                this._subscribeToCallback();\r\n                this._invalidate()\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this._tablePositionController = this.getController(\"tablePosition\");\r\n        this._subscribeToCallback()\r\n    },\r\n    isVisible: function() {\r\n        return allowResizing(this)\r\n    },\r\n    show: function() {\r\n        this.element().show()\r\n    },\r\n    hide: function() {\r\n        this.element() && this.element().hide()\r\n    },\r\n    setHeight: function(value) {\r\n        _setHeight(this.element(), value)\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribeFromCallback();\r\n        this.callBase()\r\n    }\r\n});\r\nvar SeparatorView = modules.View.inherit({\r\n    _renderSeparator: function() {},\r\n    _renderCore: function(options) {\r\n        this.callBase(options);\r\n        this._isShown = true;\r\n        this._renderSeparator();\r\n        this.hide()\r\n    },\r\n    show: function() {\r\n        this._isShown = true\r\n    },\r\n    hide: function() {\r\n        this._isShown = false\r\n    },\r\n    height: function(value) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            if (isDefined(value)) {\r\n                _setHeight($element, value)\r\n            } else {\r\n                return getHeight($element)\r\n            }\r\n        }\r\n    },\r\n    width: function(value) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            if (isDefined(value)) {\r\n                setWidth($element, value)\r\n            } else {\r\n                return getWidth($element)\r\n            }\r\n        }\r\n    }\r\n});\r\nvar ColumnsSeparatorView = SeparatorView.inherit({\r\n    _renderSeparator: function() {\r\n        this.callBase();\r\n        var $element = this.element();\r\n        $element.addClass(this.addWidgetPrefix(COLUMNS_SEPARATOR_CLASS))\r\n    },\r\n    _subscribeToCallback: function() {\r\n        var that = this;\r\n        var $element;\r\n        that._positionChanged = function(position) {\r\n            $element = that.element();\r\n            if ($element) {\r\n                $element.css({\r\n                    top: position.top\r\n                });\r\n                _setHeight($element, position.height)\r\n            }\r\n        };\r\n        that._tablePositionController.positionChanged.add(that._positionChanged)\r\n    },\r\n    _unsubscribeFromCallback: function() {\r\n        this._positionChanged && this._tablePositionController.positionChanged.remove(this._positionChanged)\r\n    },\r\n    _init: function() {\r\n        this._isTransparent = allowResizing(this);\r\n        if (this.isVisible()) {\r\n            this._subscribeToCallback()\r\n        }\r\n    },\r\n    isVisible: function() {\r\n        return this.option(\"showColumnHeaders\") && (allowReordering(this) || allowResizing(this))\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            if (args.value) {\r\n                this._init();\r\n                this._invalidate();\r\n                this.hide(true)\r\n            } else {\r\n                this._unsubscribeFromCallback();\r\n                this._isTransparent = allowResizing(this);\r\n                this.hide(true)\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this._tablePositionController = this.getController(\"tablePosition\");\r\n        this._init()\r\n    },\r\n    show: function() {\r\n        var $element = this.element();\r\n        if ($element && !this._isShown) {\r\n            if (this._isTransparent) {\r\n                $element.removeClass(this.addWidgetPrefix(COLUMNS_SEPARATOR_TRANSPARENT))\r\n            } else {\r\n                $element.show()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    hide: function(force) {\r\n        var $element = this.element();\r\n        var columnsSeparatorTransparent = this.addWidgetPrefix(COLUMNS_SEPARATOR_TRANSPARENT);\r\n        if ($element && (this._isShown || force)) {\r\n            if (this._isTransparent) {\r\n                $element.addClass(columnsSeparatorTransparent);\r\n                $element.css(\"left\", \"\");\r\n                $element.show()\r\n            } else {\r\n                if ($element.hasClass(columnsSeparatorTransparent)) {\r\n                    $element.removeClass(columnsSeparatorTransparent)\r\n                }\r\n                $element.hide()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    moveByX: function(outerX) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            $element.css(\"left\", null === outerX ? 0 : outerX - this._parentElement().offset().left)\r\n        }\r\n    },\r\n    changeCursor: function(cursorName) {\r\n        cursorName = isDefined(cursorName) ? cursorName : \"\";\r\n        var $element = this.element();\r\n        if ($element) {\r\n            $element.css(\"cursor\", cursorName)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribeFromCallback();\r\n        this.callBase()\r\n    }\r\n});\r\nvar BlockSeparatorView = SeparatorView.inherit({\r\n    init: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        this.getController(\"data\").loadingChanged.add((function(isLoading) {\r\n            if (!isLoading) {\r\n                that.hide()\r\n            }\r\n        }))\r\n    },\r\n    _renderSeparator: function() {\r\n        this.callBase();\r\n        this.element().addClass(BLOCK_SEPARATOR_CLASS).html(\"&nbsp;\")\r\n    },\r\n    hide: function() {\r\n        var $parent = this._parentElement();\r\n        var $element = this.element();\r\n        if ($element && this._isShown) {\r\n            $element.css(\"display\", \"none\")\r\n        }\r\n        if ($parent && !$parent.children(\".\" + BLOCK_SEPARATOR_CLASS).length) {\r\n            $parent.prepend(this.element())\r\n        }\r\n        this.callBase()\r\n    },\r\n    isVisible: function() {\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        var columnChooserOptions = this.option(\"columnChooser\");\r\n        return groupPanelOptions && groupPanelOptions.visible || columnChooserOptions && columnChooserOptions.enabled\r\n    },\r\n    show: function(targetLocation) {\r\n        var $element = this.element();\r\n        var startAnimate = function(toOptions) {\r\n            fx.stop($element, true);\r\n            fx.animate($element, {\r\n                type: \"slide\",\r\n                from: {\r\n                    width: 0,\r\n                    display: toOptions.display\r\n                },\r\n                to: toOptions,\r\n                duration: 300,\r\n                easing: \"swing\"\r\n            })\r\n        };\r\n        if ($element && !this._isShown) {\r\n            switch (targetLocation) {\r\n                case \"group\":\r\n                    startAnimate({\r\n                        width: \"50px\",\r\n                        display: \"inline-block\"\r\n                    });\r\n                    break;\r\n                case \"columnChooser\":\r\n                    startAnimate({\r\n                        width: \"100%\",\r\n                        display: \"block\"\r\n                    });\r\n                    break;\r\n                default:\r\n                    $element.css(\"display\", \"\")\r\n            }\r\n        }\r\n        this.callBase()\r\n    }\r\n});\r\nvar DraggingHeaderView = modules.View.inherit({\r\n    _isDragging: false,\r\n    isDragging: function() {\r\n        return this._isDragging\r\n    },\r\n    _getDraggingPanelByPos: function(pos) {\r\n        var result;\r\n        each(this._dragOptions.draggingPanels, (function(index, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var boundingRect = draggingPanel.getBoundingRect();\r\n                if (boundingRect && (void 0 === boundingRect.bottom || pos.y < boundingRect.bottom) && (void 0 === boundingRect.top || pos.y > boundingRect.top) && (void 0 === boundingRect.left || pos.x > boundingRect.left) && (void 0 === boundingRect.right || pos.x < boundingRect.right)) {\r\n                    result = draggingPanel;\r\n                    return false\r\n                }\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    _renderCore: function() {\r\n        this.element().addClass(this.addWidgetPrefix(DRAGGING_HEADER_CLASS) + \" \" + this.addWidgetPrefix(CELL_CONTENT_CLASS) + \" \" + WIDGET_CLASS).hide()\r\n    },\r\n    _resetTargetColumnOptions: function() {\r\n        var params = this._dropOptions;\r\n        params.targetColumnIndex = -1;\r\n        delete params.targetColumnElement;\r\n        delete params.isLast;\r\n        delete params.posX;\r\n        delete params.posY\r\n    },\r\n    _getVisibleIndexObject: function(rowIndex, visibleIndex) {\r\n        if (isDefined(rowIndex)) {\r\n            return {\r\n                columnIndex: visibleIndex,\r\n                rowIndex: rowIndex\r\n            }\r\n        }\r\n        return visibleIndex\r\n    },\r\n    dispose: function() {\r\n        var element = this.element();\r\n        this._dragOptions = null;\r\n        element && element.parent().find(\".\" + this.addWidgetPrefix(DRAGGING_HEADER_CLASS)).remove()\r\n    },\r\n    isVisible: function() {\r\n        var columnsController = this.getController(\"columns\");\r\n        var commonColumnSettings = columnsController.getCommonSettings();\r\n        return this.option(\"showColumnHeaders\") && (allowReordering(this) || commonColumnSettings.allowGrouping || commonColumnSettings.allowHiding)\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        this._controller = this.getController(\"draggingHeader\");\r\n        this._columnsResizerViewController = this.getController(\"columnsResizer\");\r\n        this.getController(\"data\").loadingChanged.add((function(isLoading) {\r\n            var element = that.element();\r\n            if (!isLoading && element) {\r\n                element.hide()\r\n            }\r\n        }))\r\n    },\r\n    dragHeader: function(options) {\r\n        var columnElement = options.columnElement;\r\n        var isCommandColumn = !!options.sourceColumn.type;\r\n        this._isDragging = true;\r\n        this._dragOptions = options;\r\n        this._dropOptions = {\r\n            sourceIndex: options.index,\r\n            sourceColumnIndex: this._getVisibleIndexObject(options.rowIndex, options.columnIndex),\r\n            sourceColumnElement: options.columnElement,\r\n            sourceLocation: options.sourceLocation\r\n        };\r\n        var document = domAdapter.getDocument();\r\n        this._onSelectStart = document.onselectstart;\r\n        document.onselectstart = function() {\r\n            return false\r\n        };\r\n        this._controller.drag(this._dropOptions);\r\n        this.element().css({\r\n            textAlign: columnElement && columnElement.css(\"textAlign\"),\r\n            height: columnElement && (isCommandColumn && columnElement.get(0).clientHeight || getHeight(columnElement)),\r\n            width: columnElement && (isCommandColumn && columnElement.get(0).clientWidth || getWidth(columnElement)),\r\n            whiteSpace: columnElement && columnElement.css(\"whiteSpace\")\r\n        }).addClass(this.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS)).toggleClass(DRAGGING_COMMAND_CELL_CLASS, isCommandColumn).text(isCommandColumn ? \"\" : options.sourceColumn.caption);\r\n        this.element().appendTo(swatchContainer.getSwatchContainer(columnElement))\r\n    },\r\n    moveHeader: function(args) {\r\n        var e = args.event;\r\n        var that = e.data.that;\r\n        var eventData = getEventData(e);\r\n        var isResizing = that._columnsResizerViewController ? that._columnsResizerViewController.isResizing() : false;\r\n        var dragOptions = that._dragOptions;\r\n        if (that._isDragging && !isResizing) {\r\n            var $element = that.element();\r\n            var moveDeltaX = Math.abs(eventData.x - dragOptions.columnElement.offset().left - dragOptions.deltaX);\r\n            var moveDeltaY = Math.abs(eventData.y - dragOptions.columnElement.offset().top - dragOptions.deltaY);\r\n            if ($element.is(\":visible\") || moveDeltaX > DRAGGING_DELTA || moveDeltaY > DRAGGING_DELTA) {\r\n                $element.show();\r\n                var newLeft = eventData.x - dragOptions.deltaX;\r\n                var newTop = eventData.y - dragOptions.deltaY;\r\n                $element.css({\r\n                    left: newLeft,\r\n                    top: newTop\r\n                });\r\n                that.dockHeader(eventData)\r\n            }\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    dockHeader: function(eventData) {\r\n        var targetDraggingPanel = this._getDraggingPanelByPos(eventData);\r\n        var controller = this._controller;\r\n        var params = this._dropOptions;\r\n        var dragOptions = this._dragOptions;\r\n        if (targetDraggingPanel) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            var isVerticalOrientation = \"columnChooser\" === targetDraggingPanel.getName();\r\n            var axisName = isVerticalOrientation ? \"y\" : \"x\";\r\n            var targetLocation = targetDraggingPanel.getName();\r\n            var rowIndex = \"headers\" === targetLocation ? dragOptions.rowIndex : void 0;\r\n            var sourceColumn = dragOptions.sourceColumn;\r\n            var columnElements = targetDraggingPanel.getColumnElements(rowIndex, null === sourceColumn || void 0 === sourceColumn ? void 0 : sourceColumn.ownerBand) || [];\r\n            var pointsByTarget = dragOptions.pointsByTarget = dragOptions.pointsByTarget || {};\r\n            var pointsByColumns = \"columnChooser\" === targetLocation ? [] : pointsByTarget[targetLocation] || controller._generatePointsByColumns(extend({}, dragOptions, {\r\n                targetDraggingPanel: targetDraggingPanel,\r\n                columns: targetDraggingPanel.getColumns(rowIndex),\r\n                columnElements: columnElements,\r\n                isVerticalOrientation: isVerticalOrientation,\r\n                startColumnIndex: \"headers\" === targetLocation && $(columnElements[0]).index()\r\n            }));\r\n            pointsByTarget[targetLocation] = pointsByColumns;\r\n            params.targetLocation = targetLocation;\r\n            if (pointsByColumns.length > 0) {\r\n                for (var i = 0; i < pointsByColumns.length; i++) {\r\n                    var centerPosition = pointsByColumns[i + 1] && (pointsByColumns[i][axisName] + pointsByColumns[i + 1][axisName]) / 2;\r\n                    if (void 0 === centerPosition || (rtlEnabled && \"x\" === axisName ? eventData[axisName] > centerPosition : eventData[axisName] < centerPosition)) {\r\n                        params.targetColumnIndex = this._getVisibleIndexObject(rowIndex, pointsByColumns[i].columnIndex);\r\n                        if (columnElements[i]) {\r\n                            params.targetColumnElement = columnElements.eq(i);\r\n                            params.isLast = false\r\n                        } else {\r\n                            params.targetColumnElement = columnElements.last();\r\n                            params.isLast = true\r\n                        }\r\n                        params.posX = pointsByColumns[i].x;\r\n                        params.posY = pointsByColumns[i].y;\r\n                        controller.dock(params);\r\n                        break\r\n                    }\r\n                }\r\n            } else {\r\n                this._resetTargetColumnOptions();\r\n                controller.dock(params)\r\n            }\r\n        }\r\n    },\r\n    dropHeader: function(args) {\r\n        var e = args.event;\r\n        var that = e.data.that;\r\n        var controller = that._controller;\r\n        that.element().hide();\r\n        if (controller && that._isDragging) {\r\n            controller.drop(that._dropOptions)\r\n        }\r\n        that.element().appendTo(that._parentElement());\r\n        that._dragOptions = null;\r\n        that._dropOptions = null;\r\n        that._isDragging = false;\r\n        domAdapter.getDocument().onselectstart = that._onSelectStart || null\r\n    }\r\n});\r\nvar isNextColumnResizingMode = function(that) {\r\n    return \"widget\" !== that.option(\"columnResizingMode\")\r\n};\r\nvar ColumnsResizerViewController = modules.ViewController.inherit({\r\n    _isHeadersRowArea: function(posY) {\r\n        if (this._columnHeadersView) {\r\n            var element = this._columnHeadersView.element();\r\n            if (element) {\r\n                var offsetTop = element.offset().top;\r\n                var headersRowHeight = this._columnHeadersView.getHeadersRowHeight();\r\n                return posY >= offsetTop && posY <= offsetTop + headersRowHeight\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _isRtlParentStyle: function() {\r\n        var _this$_$parentContain;\r\n        return this.option(\"rtlEnabled\") && \"rtl\" === (null === (_this$_$parentContain = this._$parentContainer) || void 0 === _this$_$parentContain ? void 0 : _this$_$parentContain.parent().css(\"direction\"))\r\n    },\r\n    _pointCreated: function(point, cellsLength, columns) {\r\n        var isNextColumnMode = isNextColumnResizingMode(this);\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n        var firstPointColumnIndex = !isNextColumnMode && rtlEnabled && !isRtlParentStyle ? 0 : 1;\r\n        if (point.index >= firstPointColumnIndex && point.index < cellsLength + (!isNextColumnMode && (!rtlEnabled || isRtlParentStyle) ? 1 : 0)) {\r\n            point.columnIndex -= firstPointColumnIndex;\r\n            var currentColumn = columns[point.columnIndex] || {};\r\n            var nextColumn = columns[point.columnIndex + 1] || {};\r\n            return !(isNextColumnMode ? currentColumn.allowResizing && nextColumn.allowResizing : currentColumn.allowResizing)\r\n        }\r\n        return true\r\n    },\r\n    _getTargetPoint: function(pointsByColumns, currentX, deltaX) {\r\n        if (pointsByColumns) {\r\n            for (var i = 0; i < pointsByColumns.length; i++) {\r\n                if (pointsByColumns[i].x === pointsByColumns[0].x && pointsByColumns[i + 1] && pointsByColumns[i].x === pointsByColumns[i + 1].x) {\r\n                    continue\r\n                }\r\n                if (pointsByColumns[i].x - deltaX <= currentX && currentX <= pointsByColumns[i].x + deltaX) {\r\n                    return pointsByColumns[i]\r\n                }\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _moveSeparator: function(args) {\r\n        var _that$_draggingHeader;\r\n        var e = args.event;\r\n        var that = e.data;\r\n        var columnsSeparatorWidth = that._columnsSeparatorView.width();\r\n        var isNextColumnMode = isNextColumnResizingMode(that);\r\n        var deltaX = columnsSeparatorWidth / 2;\r\n        var parentOffset = that._$parentContainer.offset();\r\n        var parentOffsetLeft = parentOffset.left;\r\n        var eventData = getEventData(e);\r\n        var rtlEnabled = that.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n        var isDragging = null === (_that$_draggingHeader = that._draggingHeaderView) || void 0 === _that$_draggingHeader ? void 0 : _that$_draggingHeader.isDragging();\r\n        if (that._isResizing && that._resizingInfo) {\r\n            if ((parentOffsetLeft <= eventData.x || !isNextColumnMode && isRtlParentStyle) && (!isNextColumnMode || eventData.x <= parentOffsetLeft + getWidth(that._$parentContainer))) {\r\n                if (that._updateColumnsWidthIfNeeded(eventData.x)) {\r\n                    var $cell = that._columnHeadersView.getColumnElements().eq(that._resizingInfo.currentColumnIndex);\r\n                    var cell = $cell[0];\r\n                    if (cell) {\r\n                        var outerWidth = cell.getBoundingClientRect().width;\r\n                        that._columnsSeparatorView.moveByX($cell.offset().left + ((isNextColumnMode || isRtlParentStyle) && rtlEnabled ? 0 : outerWidth));\r\n                        that._tablePositionController.update(that._targetPoint.y);\r\n                        e.preventDefault()\r\n                    }\r\n                }\r\n            }\r\n        } else if (!isDragging) {\r\n            if (that._isHeadersRowArea(eventData.y)) {\r\n                if (that._previousParentOffset) {\r\n                    if (that._previousParentOffset.left !== parentOffset.left || that._previousParentOffset.top !== parentOffset.top) {\r\n                        that.pointsByColumns(null)\r\n                    }\r\n                }\r\n                that._targetPoint = that._getTargetPoint(that.pointsByColumns(), eventData.x, columnsSeparatorWidth);\r\n                that._previousParentOffset = parentOffset;\r\n                that._isReadyResizing = false;\r\n                if (that._targetPoint) {\r\n                    that._columnsSeparatorView.changeCursor(\"col-resize\");\r\n                    that._columnsSeparatorView.moveByX(that._targetPoint.x - deltaX);\r\n                    that._tablePositionController.update(that._targetPoint.y);\r\n                    that._isReadyResizing = true;\r\n                    e.preventDefault()\r\n                } else {\r\n                    that._columnsSeparatorView.changeCursor();\r\n                    that._columnsSeparatorView.moveByX(null)\r\n                }\r\n            } else {\r\n                that.pointsByColumns(null);\r\n                that._isReadyResizing = false;\r\n                that._columnsSeparatorView.changeCursor();\r\n                that._columnsSeparatorView.moveByX(null)\r\n            }\r\n        }\r\n    },\r\n    _endResizing: function(args) {\r\n        var e = args.event;\r\n        var that = e.data;\r\n        if (that._isResizing) {\r\n            that.pointsByColumns(null);\r\n            that._resizingInfo = null;\r\n            that._columnsSeparatorView.hide();\r\n            that._columnsSeparatorView.changeCursor();\r\n            that._trackerView.hide();\r\n            that._isReadyResizing = false;\r\n            that._isResizing = false\r\n        }\r\n    },\r\n    _getNextColumnIndex: function(currentColumnIndex) {\r\n        return currentColumnIndex + 1\r\n    },\r\n    _setupResizingInfo: function(posX) {\r\n        var currentColumnIndex = this._targetPoint.columnIndex;\r\n        var nextColumnIndex = this._getNextColumnIndex(currentColumnIndex);\r\n        var currentHeader = this._columnHeadersView.getHeaderElement(currentColumnIndex);\r\n        var nextHeader = this._columnHeadersView.getHeaderElement(nextColumnIndex);\r\n        this._resizingInfo = {\r\n            startPosX: posX,\r\n            currentColumnIndex: currentColumnIndex,\r\n            currentColumnWidth: currentHeader && currentHeader.length > 0 ? getBoundingRect(currentHeader[0]).width : 0,\r\n            nextColumnIndex: nextColumnIndex,\r\n            nextColumnWidth: nextHeader && nextHeader.length > 0 ? getBoundingRect(nextHeader[0]).width : 0\r\n        }\r\n    },\r\n    _startResizing: function(args) {\r\n        var e = args.event;\r\n        var that = e.data;\r\n        var eventData = getEventData(e);\r\n        if (isTouchEvent(e)) {\r\n            if (that._isHeadersRowArea(eventData.y)) {\r\n                that._targetPoint = that._getTargetPoint(that.pointsByColumns(), eventData.x, COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH);\r\n                if (that._targetPoint) {\r\n                    that._columnsSeparatorView.moveByX(that._targetPoint.x - that._columnsSeparatorView.width() / 2);\r\n                    that._isReadyResizing = true\r\n                }\r\n            } else {\r\n                that._isReadyResizing = false\r\n            }\r\n        }\r\n        if (that._isReadyResizing) {\r\n            that._setupResizingInfo(eventData.x);\r\n            that._isResizing = true;\r\n            that._tablePositionController.update(that._targetPoint.y);\r\n            that._columnsSeparatorView.show();\r\n            that._trackerView.show();\r\n            var scrollable = that.component.getScrollable();\r\n            if (scrollable && that._isRtlParentStyle()) {\r\n                that._scrollRight = getWidth(scrollable.$content()) - getWidth(scrollable.container()) - scrollable.scrollLeft()\r\n            }\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n        if (this.isResizing()) {\r\n            this.getController(\"editorFactory\").loseFocus()\r\n        }\r\n    },\r\n    _generatePointsByColumns: function() {\r\n        var that = this;\r\n        var columns = that._columnsController ? that._columnsController.getVisibleColumns() : [];\r\n        var cells = that._columnHeadersView.getColumnElements();\r\n        var pointsByColumns = [];\r\n        if (cells && cells.length > 0) {\r\n            pointsByColumns = gridCoreUtils.getPointsByColumns(cells, (function(point) {\r\n                return that._pointCreated(point, cells.length, columns)\r\n            }))\r\n        }\r\n        that._pointsByColumns = pointsByColumns\r\n    },\r\n    _unsubscribeFromEvents: function() {\r\n        this._moveSeparatorHandler && eventsEngine.off(domAdapter.getDocument(), addNamespace(pointerEvents.move, MODULE_NAMESPACE), this._moveSeparatorHandler);\r\n        this._startResizingHandler && eventsEngine.off(this._$parentContainer, addNamespace(pointerEvents.down, MODULE_NAMESPACE), this._startResizingHandler);\r\n        if (this._endResizingHandler) {\r\n            eventsEngine.off(this._columnsSeparatorView.element(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this._endResizingHandler);\r\n            eventsEngine.off(domAdapter.getDocument(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this._endResizingHandler)\r\n        }\r\n    },\r\n    _subscribeToEvents: function() {\r\n        this._moveSeparatorHandler = this.createAction(this._moveSeparator);\r\n        this._startResizingHandler = this.createAction(this._startResizing);\r\n        this._endResizingHandler = this.createAction(this._endResizing);\r\n        eventsEngine.on(domAdapter.getDocument(), addNamespace(pointerEvents.move, MODULE_NAMESPACE), this, this._moveSeparatorHandler);\r\n        eventsEngine.on(this._$parentContainer, addNamespace(pointerEvents.down, MODULE_NAMESPACE), this, this._startResizingHandler);\r\n        eventsEngine.on(this._columnsSeparatorView.element(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this, this._endResizingHandler);\r\n        eventsEngine.on(domAdapter.getDocument(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this, this._endResizingHandler)\r\n    },\r\n    _updateColumnsWidthIfNeeded: function(posX) {\r\n        var deltaX;\r\n        var needUpdate = false;\r\n        var nextCellWidth;\r\n        var resizingInfo = this._resizingInfo;\r\n        var columnsController = this._columnsController;\r\n        var visibleColumns = columnsController.getVisibleColumns();\r\n        var columnsSeparatorWidth = this._columnsSeparatorView.width();\r\n        var contentWidth = this._rowsView.contentWidth();\r\n        var isNextColumnMode = isNextColumnResizingMode(this);\r\n        var adaptColumnWidthByRatio = isNextColumnMode && this.option(\"adaptColumnWidthByRatio\") && !this.option(\"columnAutoWidth\");\r\n        var minWidth;\r\n        var nextColumn;\r\n        var cellWidth;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n\r\n        function isPercentWidth(width) {\r\n            return isString(width) && \"%\" === width.slice(-1)\r\n        }\r\n\r\n        function setColumnWidth(column, columnWidth, contentWidth, adaptColumnWidthByRatio) {\r\n            if (column) {\r\n                var oldColumnWidth = column.width;\r\n                if (oldColumnWidth) {\r\n                    adaptColumnWidthByRatio = isPercentWidth(oldColumnWidth)\r\n                }\r\n                if (adaptColumnWidthByRatio) {\r\n                    columnsController.columnOption(column.index, \"visibleWidth\", columnWidth);\r\n                    columnsController.columnOption(column.index, \"width\", (columnWidth / contentWidth * 100).toFixed(3) + \"%\")\r\n                } else {\r\n                    columnsController.columnOption(column.index, \"visibleWidth\", null);\r\n                    columnsController.columnOption(column.index, \"width\", columnWidth)\r\n                }\r\n            }\r\n        }\r\n        deltaX = posX - resizingInfo.startPosX;\r\n        if ((isNextColumnMode || isRtlParentStyle) && rtlEnabled) {\r\n            deltaX = -deltaX\r\n        }\r\n        cellWidth = resizingInfo.currentColumnWidth + deltaX;\r\n        var column = visibleColumns[resizingInfo.currentColumnIndex];\r\n        minWidth = column && column.minWidth || columnsSeparatorWidth;\r\n        needUpdate = cellWidth >= minWidth;\r\n        if (isNextColumnMode) {\r\n            nextCellWidth = resizingInfo.nextColumnWidth - deltaX;\r\n            nextColumn = visibleColumns[resizingInfo.nextColumnIndex];\r\n            minWidth = nextColumn && nextColumn.minWidth || columnsSeparatorWidth;\r\n            needUpdate = needUpdate && nextCellWidth >= minWidth\r\n        }\r\n        if (needUpdate) {\r\n            columnsController.beginUpdate();\r\n            cellWidth = Math.floor(cellWidth);\r\n            contentWidth = function(contentWidth, visibleColumns) {\r\n                var allColumnsHaveWidth = visibleColumns.every(column => column.width);\r\n                if (allColumnsHaveWidth) {\r\n                    var totalPercent = visibleColumns.reduce((sum, column) => {\r\n                        if (isPercentWidth(column.width)) {\r\n                            sum += parseFloat(column.width)\r\n                        }\r\n                        return sum\r\n                    }, 0);\r\n                    if (totalPercent > 100) {\r\n                        contentWidth = contentWidth / totalPercent * 100\r\n                    }\r\n                }\r\n                return contentWidth\r\n            }(contentWidth, visibleColumns);\r\n            setColumnWidth(column, cellWidth, contentWidth, adaptColumnWidthByRatio);\r\n            if (isNextColumnMode) {\r\n                nextCellWidth = Math.floor(nextCellWidth);\r\n                setColumnWidth(nextColumn, nextCellWidth, contentWidth, adaptColumnWidthByRatio)\r\n            } else {\r\n                var columnWidths = this._columnHeadersView.getColumnWidths();\r\n                columnWidths[resizingInfo.currentColumnIndex] = cellWidth;\r\n                var hasScroll = columnWidths.reduce((totalWidth, width) => totalWidth + width, 0) > this._rowsView.contentWidth();\r\n                if (!hasScroll) {\r\n                    var lastColumnIndex = gridCoreUtils.getLastResizableColumnIndex(visibleColumns);\r\n                    if (lastColumnIndex >= 0) {\r\n                        columnsController.columnOption(visibleColumns[lastColumnIndex].index, \"visibleWidth\", \"auto\")\r\n                    }\r\n                }\r\n                for (var i = 0; i < columnWidths.length; i++) {\r\n                    if (visibleColumns[i] && visibleColumns[i] !== column && void 0 === visibleColumns[i].width) {\r\n                        columnsController.columnOption(visibleColumns[i].index, \"width\", columnWidths[i])\r\n                    }\r\n                }\r\n            }\r\n            columnsController.endUpdate();\r\n            if (!isNextColumnMode) {\r\n                this.component.updateDimensions();\r\n                var scrollable = this.component.getScrollable();\r\n                if (scrollable && isRtlParentStyle) {\r\n                    var left = getWidth(scrollable.$content()) - getWidth(scrollable.container()) - this._scrollRight;\r\n                    scrollable.scrollTo({\r\n                        left: left\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        return needUpdate\r\n    },\r\n    _subscribeToCallback: function(callback, handler) {\r\n        callback.add(handler);\r\n        this._subscribesToCallbacks.push({\r\n            callback: callback,\r\n            handler: handler\r\n        })\r\n    },\r\n    _unsubscribeFromCallbacks: function() {\r\n        for (var i = 0; i < this._subscribesToCallbacks.length; i++) {\r\n            var subscribe = this._subscribesToCallbacks[i];\r\n            subscribe.callback.remove(subscribe.handler)\r\n        }\r\n        this._subscribesToCallbacks = []\r\n    },\r\n    _unsubscribes: function() {\r\n        this._unsubscribeFromEvents();\r\n        this._unsubscribeFromCallbacks()\r\n    },\r\n    _init: function() {\r\n        var that = this;\r\n        var generatePointsByColumnsHandler = function() {\r\n            if (!that._isResizing) {\r\n                that.pointsByColumns(null)\r\n            }\r\n        };\r\n        var generatePointsByColumnsScrollHandler = function(offset) {\r\n            if (that._scrollLeft !== offset.left) {\r\n                that._scrollLeft = offset.left;\r\n                that.pointsByColumns(null)\r\n            }\r\n        };\r\n        that._columnsSeparatorView = that.getView(\"columnsSeparatorView\");\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._trackerView = that.getView(\"trackerView\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._tablePositionController = that.getController(\"tablePosition\");\r\n        that._$parentContainer = that.component.$element();\r\n        that._draggingHeaderView = that.component.getView(\"draggingHeaderView\");\r\n        that._subscribeToCallback(that._columnHeadersView.renderCompleted, generatePointsByColumnsHandler);\r\n        that._subscribeToCallback(that._columnHeadersView.resizeCompleted, generatePointsByColumnsHandler);\r\n        that._subscribeToCallback(that._columnsSeparatorView.renderCompleted, (function() {\r\n            that._unsubscribeFromEvents();\r\n            that._subscribeToEvents()\r\n        }));\r\n        that._subscribeToCallback(that._rowsView.renderCompleted, (function() {\r\n            that._rowsView.scrollChanged.remove(generatePointsByColumnsScrollHandler);\r\n            that._rowsView.scrollChanged.add(generatePointsByColumnsScrollHandler)\r\n        }));\r\n        var previousScrollbarVisibility = 0 !== that._rowsView.getScrollbarWidth();\r\n        var previousTableHeight = 0;\r\n        that._subscribeToCallback(that.getController(\"tablePosition\").positionChanged, (function(e) {\r\n            if (that._isResizing && !that._rowsView.isResizing) {\r\n                var scrollbarVisibility = 0 !== that._rowsView.getScrollbarWidth();\r\n                if (previousScrollbarVisibility !== scrollbarVisibility || previousTableHeight && previousTableHeight !== e.height) {\r\n                    previousScrollbarVisibility = scrollbarVisibility;\r\n                    previousTableHeight = e.height;\r\n                    that.component.updateDimensions()\r\n                } else {\r\n                    that._rowsView.updateFreeSpaceRowHeight()\r\n                }\r\n            }\r\n            previousTableHeight = e.height\r\n        }))\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            if (args.value) {\r\n                this._init();\r\n                this._subscribeToEvents()\r\n            } else {\r\n                this._unsubscribes()\r\n            }\r\n        }\r\n    },\r\n    isResizing: function() {\r\n        return this._isResizing\r\n    },\r\n    init: function() {\r\n        this._subscribesToCallbacks = [];\r\n        if (allowResizing(this)) {\r\n            this._init()\r\n        }\r\n    },\r\n    pointsByColumns: function(value) {\r\n        if (void 0 !== value) {\r\n            this._pointsByColumns = value\r\n        } else {\r\n            if (!this._pointsByColumns) {\r\n                this._generatePointsByColumns()\r\n            }\r\n            return this._pointsByColumns\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribes();\r\n        this.callBase()\r\n    }\r\n});\r\nvar TablePositionViewController = modules.ViewController.inherit({\r\n    update: function(top) {\r\n        var params = {};\r\n        var $element = this._columnHeadersView.element();\r\n        var offset = $element && $element.offset();\r\n        var offsetTop = offset && offset.top || 0;\r\n        var diffOffsetTop = isDefined(top) ? Math.abs(top - offsetTop) : 0;\r\n        var columnsHeadersHeight = this._columnHeadersView ? this._columnHeadersView.getHeight() : 0;\r\n        var scrollBarWidth = this._rowsView.getScrollbarWidth(true);\r\n        var rowsHeight = this._rowsView ? this._rowsView.height() - scrollBarWidth : 0;\r\n        var columnsResizerController = this.component.getController(\"columnsResizer\");\r\n        var draggingHeaderView = this.component.getView(\"draggingHeaderView\");\r\n        params.height = columnsHeadersHeight;\r\n        var isDraggingOrResizing = false !== columnsResizerController.isResizing() || draggingHeaderView.isDragging();\r\n        if (isDraggingOrResizing) {\r\n            params.height += rowsHeight - diffOffsetTop\r\n        }\r\n        if (null !== top && $element && $element.length) {\r\n            params.top = $element[0].offsetTop + diffOffsetTop\r\n        }\r\n        this.positionChanged.fire(params)\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        that._columnHeadersView = this.getView(\"columnHeadersView\");\r\n        that._rowsView = this.getView(\"rowsView\");\r\n        that._pagerView = this.getView(\"pagerView\");\r\n        that._rowsView.resizeCompleted.add((function() {\r\n            if (that.option(\"allowColumnResizing\")) {\r\n                var targetPoint = that.getController(\"columnsResizer\")._targetPoint;\r\n                that.update(targetPoint ? targetPoint.y : null)\r\n            }\r\n        }))\r\n    },\r\n    ctor: function(component) {\r\n        this.callBase(component);\r\n        this.positionChanged = Callbacks()\r\n    }\r\n});\r\nvar DraggingHeaderViewController = modules.ViewController.inherit({\r\n    _generatePointsByColumns: function(options) {\r\n        var that = this;\r\n        return gridCoreUtils.getPointsByColumns(options.columnElements, (function(point) {\r\n            return that._pointCreated(point, options.columns, options.targetDraggingPanel.getName(), options.sourceColumn)\r\n        }), options.isVerticalOrientation, options.startColumnIndex)\r\n    },\r\n    _pointCreated: function(point, columns, location, sourceColumn) {\r\n        var targetColumn = columns[point.columnIndex];\r\n        var prevColumn = columns[point.columnIndex - 1];\r\n        switch (location) {\r\n            case \"columnChooser\":\r\n                return true;\r\n            case \"headers\":\r\n                return sourceColumn && !sourceColumn.allowReordering || (!targetColumn || !targetColumn.allowReordering) && (!prevColumn || !prevColumn.allowReordering);\r\n            default:\r\n                return 0 === columns.length\r\n        }\r\n    },\r\n    _subscribeToEvents: function(draggingHeader, draggingPanels) {\r\n        var that = this;\r\n        each(draggingPanels, (function(_, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var columns;\r\n                var rowCount = draggingPanel.getRowCount ? draggingPanel.getRowCount() : 1;\r\n                var nameDraggingPanel = draggingPanel.getName();\r\n                var subscribeToEvents = function(index, columnElement) {\r\n                    if (!columnElement) {\r\n                        return\r\n                    }\r\n                    var $columnElement = $(columnElement);\r\n                    var column = columns[index];\r\n                    if (draggingPanel.allowDragging(column, nameDraggingPanel, draggingPanels)) {\r\n                        $columnElement.addClass(that.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS));\r\n                        eventsEngine.on($columnElement, addNamespace(dragEventStart, MODULE_NAMESPACE), that.createAction((function(args) {\r\n                            var e = args.event;\r\n                            var eventData = getEventData(e);\r\n                            draggingHeader.dragHeader({\r\n                                deltaX: eventData.x - $(e.currentTarget).offset().left,\r\n                                deltaY: eventData.y - $(e.currentTarget).offset().top,\r\n                                sourceColumn: column,\r\n                                index: column.index,\r\n                                columnIndex: index,\r\n                                columnElement: $columnElement,\r\n                                sourceLocation: nameDraggingPanel,\r\n                                draggingPanels: draggingPanels,\r\n                                rowIndex: that._columnsController.getRowIndex(column.index, true)\r\n                            })\r\n                        })));\r\n                        eventsEngine.on($columnElement, addNamespace(dragEventMove, MODULE_NAMESPACE), {\r\n                            that: draggingHeader\r\n                        }, that.createAction(draggingHeader.moveHeader));\r\n                        eventsEngine.on($columnElement, addNamespace(dragEventEnd, MODULE_NAMESPACE), {\r\n                            that: draggingHeader\r\n                        }, that.createAction(draggingHeader.dropHeader))\r\n                    }\r\n                };\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    var columnElements = draggingPanel.getColumnElements(i) || [];\r\n                    if (columnElements.length) {\r\n                        columns = draggingPanel.getColumns(i) || [];\r\n                        each(columnElements, subscribeToEvents)\r\n                    }\r\n                }\r\n            }\r\n        }))\r\n    },\r\n    _unsubscribeFromEvents: function(draggingHeader, draggingPanels) {\r\n        var that = this;\r\n        each(draggingPanels, (function(_, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var columnElements = draggingPanel.getColumnElements() || [];\r\n                each(columnElements, (function(index, columnElement) {\r\n                    var $columnElement = $(columnElement);\r\n                    eventsEngine.off($columnElement, addNamespace(dragEventStart, MODULE_NAMESPACE));\r\n                    eventsEngine.off($columnElement, addNamespace(dragEventMove, MODULE_NAMESPACE));\r\n                    eventsEngine.off($columnElement, addNamespace(dragEventEnd, MODULE_NAMESPACE));\r\n                    $columnElement.removeClass(that.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS))\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _getSeparator: function(targetLocation) {\r\n        return \"headers\" === targetLocation ? this._columnsSeparatorView : this._blockSeparatorView\r\n    },\r\n    hideSeparators: function(type) {\r\n        var blockSeparator = this._blockSeparatorView;\r\n        var columnsSeparator = this._columnsSeparatorView;\r\n        this._animationColumnIndex = null;\r\n        blockSeparator && blockSeparator.hide();\r\n        \"block\" !== type && columnsSeparator && columnsSeparator.hide()\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._columnsSeparatorView = that.getView(\"columnsSeparatorView\");\r\n        that._draggingHeaderView = that.getView(\"draggingHeaderView\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._blockSeparatorView = that.getView(\"blockSeparatorView\");\r\n        that._headerPanelView = that.getView(\"headerPanel\");\r\n        that._columnChooserView = that.getView(\"columnChooserView\");\r\n        var subscribeToEvents = function() {\r\n            if (that._draggingHeaderView) {\r\n                var draggingPanels = [that._columnChooserView, that._columnHeadersView, that._headerPanelView];\r\n                that._unsubscribeFromEvents(that._draggingHeaderView, draggingPanels);\r\n                that._subscribeToEvents(that._draggingHeaderView, draggingPanels)\r\n            }\r\n        };\r\n        that._columnHeadersView.renderCompleted.add(subscribeToEvents);\r\n        that._headerPanelView && that._headerPanelView.renderCompleted.add(subscribeToEvents);\r\n        that._columnChooserView && that._columnChooserView.renderCompleted.add(subscribeToEvents)\r\n    },\r\n    allowDrop: function(parameters) {\r\n        return this._columnsController.allowMoveColumn(parameters.sourceColumnIndex, parameters.targetColumnIndex, parameters.sourceLocation, parameters.targetLocation)\r\n    },\r\n    drag: function(parameters) {\r\n        var sourceIndex = parameters.sourceIndex;\r\n        var sourceLocation = parameters.sourceLocation;\r\n        var sourceColumnElement = parameters.sourceColumnElement;\r\n        var headersView = this._columnHeadersView;\r\n        var rowsView = this._rowsView;\r\n        if (sourceColumnElement) {\r\n            sourceColumnElement.css({\r\n                opacity: COLUMN_OPACITY\r\n            });\r\n            if (\"headers\" === sourceLocation) {\r\n                headersView && headersView.setRowsOpacity(sourceIndex, COLUMN_OPACITY);\r\n                rowsView && rowsView.setRowsOpacity(sourceIndex, COLUMN_OPACITY)\r\n            }\r\n        }\r\n    },\r\n    dock: function(parameters) {\r\n        var that = this;\r\n        var targetColumnIndex = isObject(parameters.targetColumnIndex) ? parameters.targetColumnIndex.columnIndex : parameters.targetColumnIndex;\r\n        var sourceLocation = parameters.sourceLocation;\r\n        var targetLocation = parameters.targetLocation;\r\n        var separator = that._getSeparator(targetLocation);\r\n        var hasTargetVisibleIndex = targetColumnIndex >= 0;\r\n        that._columnHeadersView.element().find(\".\" + HEADER_ROW_CLASS).toggleClass(that.addWidgetPrefix(HEADERS_DROP_HIGHLIGHT_CLASS), \"headers\" !== sourceLocation && \"headers\" === targetLocation && !hasTargetVisibleIndex);\r\n        if (separator) {\r\n            if (that.allowDrop(parameters) && hasTargetVisibleIndex) {\r\n                if (\"group\" === targetLocation || \"columnChooser\" === targetLocation) {\r\n                    ! function() {\r\n                        if (that._animationColumnIndex !== targetColumnIndex) {\r\n                            that.hideSeparators();\r\n                            separator.element()[parameters.isLast ? \"insertAfter\" : \"insertBefore\"](parameters.targetColumnElement);\r\n                            that._animationColumnIndex = targetColumnIndex;\r\n                            separator.show(targetLocation)\r\n                        }\r\n                    }()\r\n                } else {\r\n                    that.hideSeparators(\"block\");\r\n                    that.getController(\"tablePosition\").update(parameters.posY);\r\n                    separator.moveByX(parameters.posX - separator.width());\r\n                    separator.show()\r\n                }\r\n            } else {\r\n                that.hideSeparators()\r\n            }\r\n        }\r\n    },\r\n    drop: function(parameters) {\r\n        var sourceColumnElement = parameters.sourceColumnElement;\r\n        if (sourceColumnElement) {\r\n            sourceColumnElement.css({\r\n                opacity: \"\"\r\n            });\r\n            this._columnHeadersView.setRowsOpacity(parameters.sourceIndex, \"\");\r\n            this._rowsView.setRowsOpacity(parameters.sourceIndex, \"\");\r\n            this._columnHeadersView.element().find(\".\" + HEADER_ROW_CLASS).removeClass(this.addWidgetPrefix(HEADERS_DROP_HIGHLIGHT_CLASS))\r\n        }\r\n        if (this.allowDrop(parameters)) {\r\n            var separator = this._getSeparator(parameters.targetLocation);\r\n            if (separator) {\r\n                separator.hide()\r\n            }\r\n            this._columnsController.moveColumn(parameters.sourceColumnIndex, parameters.targetColumnIndex, parameters.sourceLocation, parameters.targetLocation)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        if (this._draggingHeaderView) {\r\n            this._unsubscribeFromEvents(this._draggingHeaderView, [this._columnChooserView, this._columnHeadersView, this._headerPanelView])\r\n        }\r\n    }\r\n});\r\nexport var columnsResizingReorderingModule = {\r\n    views: {\r\n        columnsSeparatorView: ColumnsSeparatorView,\r\n        blockSeparatorView: BlockSeparatorView,\r\n        draggingHeaderView: DraggingHeaderView,\r\n        trackerView: TrackerView\r\n    },\r\n    controllers: {\r\n        draggingHeader: DraggingHeaderViewController,\r\n        tablePosition: TablePositionViewController,\r\n        columnsResizer: ColumnsResizerViewController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _needUpdateRowHeight: function(itemCount) {\r\n                    var wordWrapEnabled = this.option(\"wordWrapEnabled\");\r\n                    var columnsResizerController = this.getController(\"columnsResizer\");\r\n                    var isResizing = columnsResizerController.isResizing();\r\n                    return this.callBase.apply(this, arguments) || itemCount > 0 && wordWrapEnabled && isResizing\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            editorFactory: {\r\n                renderFocusOverlay: function() {\r\n                    if (this.getController(\"columnsResizer\").isResizing()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.columns_resizing_reordering.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnsResizingReorderingModule\r\n} from \"../grid_core/ui.grid_core.columns_resizing_reordering\";\r\nexport var DraggingHeaderView = columnsResizingReorderingModule.views.draggingHeaderView;\r\nexport var DraggingHeaderViewController = columnsResizingReorderingModule.controllers.draggingHeader;\r\nexport var ColumnsSeparatorView = columnsResizingReorderingModule.views.columnsSeparatorView;\r\nexport var TablePositionViewController = columnsResizingReorderingModule.controllers.tablePosition;\r\nexport var ColumnsResizerViewController = columnsResizingReorderingModule.controllers.columnsResizer;\r\nexport var TrackerView = columnsResizingReorderingModule.views.trackerView;\r\ngridCore.registerModule(\"columnsResizingReordering\", columnsResizingReorderingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.keyboard_navigation.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight,\r\n    getHeight,\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport core from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    focused\r\n} from \"../widget/selectors\";\r\nimport {\r\n    addNamespace,\r\n    createEvent,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport * as accessibility from \"../shared/accessibility\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    keyboard\r\n} from \"../../events/short\";\r\nimport devices from \"../../core/devices\";\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar EDIT_FORM_CLASS = \"edit-form\";\r\nvar GROUP_FOOTER_CLASS = \"group-footer\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar EDIT_FORM_ITEM_CLASS = \"edit-form-item\";\r\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar FREESPACE_ROW_CLASS = \"dx-freespace-row\";\r\nvar VIRTUAL_ROW_CLASS = \"dx-virtual-row\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar DROPDOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar COMMAND_EXPAND_CLASS = \"dx-command-expand\";\r\nvar COMMAND_SELECT_CLASS = \"dx-command-select\";\r\nvar COMMAND_EDIT_CLASS = \"dx-command-edit\";\r\nvar COMMAND_CELL_SELECTOR = \"[class^=dx-command]\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar DATEBOX_WIDGET_NAME = \"dxDateBox\";\r\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\r\nvar WIDGET_CLASS = \"dx-widget\";\r\nvar REVERT_BUTTON_CLASS = \"dx-revert-button\";\r\nvar FAST_EDITING_DELETE_KEY = \"delete\";\r\nvar INTERACTIVE_ELEMENTS_SELECTOR = \"input:not([type='hidden']), textarea, a, select, button, [tabindex], .dx-checkbox\";\r\nvar NON_FOCUSABLE_ELEMENTS_SELECTOR = \"\".concat(INTERACTIVE_ELEMENTS_SELECTOR, \", .dx-dropdowneditor-icon\");\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_CELL = \"cell\";\r\nvar FOCUS_TYPE_ROW = \"row\";\r\nvar FOCUS_TYPE_CELL = \"cell\";\r\nvar COLUMN_HEADERS_VIEW = \"columnHeadersView\";\r\nvar FUNCTIONAL_KEYS = [\"shift\", \"control\", \"alt\"];\r\n\r\nfunction isGroupRow($row) {\r\n    return $row && $row.hasClass(GROUP_ROW_CLASS)\r\n}\r\n\r\nfunction isDetailRow($row) {\r\n    return $row && $row.hasClass(MASTER_DETAIL_ROW_CLASS)\r\n}\r\n\r\nfunction isDataRow($row) {\r\n    return $row && !isGroupRow($row) && !isDetailRow($row)\r\n}\r\n\r\nfunction isNotFocusedRow($row) {\r\n    return !$row || $row.hasClass(FREESPACE_ROW_CLASS) || $row.hasClass(VIRTUAL_ROW_CLASS)\r\n}\r\n\r\nfunction isCellElement($element) {\r\n    return $element.length && \"TD\" === $element[0].tagName\r\n}\r\n\r\nfunction isEditorCell(that, $cell) {\r\n    return !that._isRowEditMode() && $cell && !$cell.hasClass(COMMAND_SELECT_CLASS) && $cell.hasClass(EDITOR_CELL_CLASS)\r\n}\r\n\r\nfunction isElementDefined($element) {\r\n    return isDefined($element) && $element.length > 0\r\n}\r\n\r\nfunction isMobile() {\r\n    return \"desktop\" !== devices.current().deviceType\r\n}\r\n\r\nfunction isCellInHeaderRow($cell) {\r\n    return !!$cell.parent(\".\".concat(HEADER_ROW_CLASS)).length\r\n}\r\n\r\nfunction isFixedColumnIndexOffsetRequired(that, column) {\r\n    var rtlEnabled = that.option(\"rtlEnabled\");\r\n    var result = false;\r\n    if (rtlEnabled) {\r\n        result = !(\"right\" === column.fixedPosition || isDefined(column.command) && !isDefined(column.fixedPosition))\r\n    } else {\r\n        result = !(!isDefined(column.fixedPosition) || \"left\" === column.fixedPosition)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction shouldPreventScroll(that) {\r\n    var keyboardController = that.getController(\"keyboardNavigation\");\r\n    return keyboardController._isVirtualScrolling() ? that.option(\"focusedRowIndex\") === keyboardController.getRowIndex() : false\r\n}\r\nvar KeyboardNavigationController = core.ViewController.inherit({\r\n    init: function() {\r\n        this._dataController = this.getController(\"data\");\r\n        this._selectionController = this.getController(\"selection\");\r\n        this._editingController = this.getController(\"editing\");\r\n        this._headerPanel = this.getView(\"headerPanel\");\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._editorFactory = this.getController(\"editorFactory\");\r\n        if (this.isKeyboardEnabled()) {\r\n            accessibility.subscribeVisibilityChange();\r\n            this._updateFocusTimeout = null;\r\n            this._fastEditingStarted = false;\r\n            this._focusedCellPosition = {};\r\n            this._canceledCellPosition = null;\r\n            this._editorFactory.focused.add($element => {\r\n                this.setupFocusedView();\r\n                if (this._isNeedScroll) {\r\n                    if ($element.is(\":visible\") && this._focusedView && this._focusedView.getScrollable) {\r\n                        this._focusedView._scrollToElement($element);\r\n                        this._isNeedScroll = false\r\n                    }\r\n                }\r\n            });\r\n            this._initViewHandlers();\r\n            this._initDocumentHandlers();\r\n            this.createAction(\"onKeyDown\")\r\n        }\r\n    },\r\n    _initViewHandlers: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var rowsViewFocusHandler = event => {\r\n            var $element = $(event.target);\r\n            var isRelatedTargetInRowsView = $(event.relatedTarget).closest(rowsView.element()).length;\r\n            var isCommandButton = $element.hasClass(\"dx-link\");\r\n            if (isCommandButton && !isRelatedTargetInRowsView && this._isEventInCurrentGrid(event)) {\r\n                var $focusedCell = this._getFocusedCell();\r\n                $focusedCell = !isElementDefined($focusedCell) ? rowsView.getCellElements(0).filter(\"[tabindex]\").eq(0) : $focusedCell;\r\n                if (!$element.closest($focusedCell).length) {\r\n                    event.preventDefault();\r\n                    eventsEngine.trigger($focusedCell, \"focus\")\r\n                }\r\n            }\r\n        };\r\n        rowsView.renderCompleted.add(e => {\r\n            var $rowsView = rowsView.element();\r\n            var isFullUpdate = !e || \"refresh\" === e.changeType;\r\n            var isFocusedViewCorrect = this._focusedView && this._focusedView.name === rowsView.name;\r\n            var needUpdateFocus = false;\r\n            var isAppend = e && (\"append\" === e.changeType || \"prepend\" === e.changeType);\r\n            var $focusedElement = $(\":focus\");\r\n            var isFocusedElementCorrect = !$focusedElement.length || $focusedElement.closest($rowsView).length;\r\n            eventsEngine.off($rowsView, \"focusin\", rowsViewFocusHandler);\r\n            eventsEngine.on($rowsView, \"focusin\", rowsViewFocusHandler);\r\n            this._initPointerEventHandler();\r\n            this._initKeyDownHandler();\r\n            this._setRowsViewAttributes();\r\n            if (isFocusedViewCorrect && isFocusedElementCorrect) {\r\n                needUpdateFocus = this._isNeedFocus ? !isAppend : this._isHiddenFocus && isFullUpdate;\r\n                needUpdateFocus && this._updateFocus(true)\r\n            }\r\n        })\r\n    },\r\n    _initDocumentHandlers: function() {\r\n        var document = domAdapter.getDocument();\r\n        this._documentClickHandler = this.createAction(e => {\r\n            var $target = $(e.event.target);\r\n            var isCurrentRowsViewClick = this._isEventInCurrentGrid(e.event) && $target.closest(\".\".concat(this.addWidgetPrefix(ROWS_VIEW_CLASS))).length;\r\n            var isEditorOverlay = $target.closest(\".\".concat(DROPDOWN_EDITOR_OVERLAY_CLASS)).length;\r\n            var columnsResizerController = this.getController(\"columnsResizer\");\r\n            var isColumnResizing = !!columnsResizerController && columnsResizerController.isResizing();\r\n            if (!isCurrentRowsViewClick && !isEditorOverlay && !isColumnResizing) {\r\n                var targetInsideFocusedView = this._focusedView ? $target.parents().filter(this._focusedView.element()).length > 0 : false;\r\n                !targetInsideFocusedView && this._resetFocusedCell(true);\r\n                this._resetFocusedView()\r\n            }\r\n        });\r\n        eventsEngine.on(document, addNamespace(pointerEvents.down, \"dxDataGridKeyboardNavigation\"), this._documentClickHandler)\r\n    },\r\n    _setRowsViewAttributes: function() {\r\n        var $rowsView = this._getRowsViewElement();\r\n        var isGridEmpty = !this._dataController.getVisibleRows().length;\r\n        if (isGridEmpty) {\r\n            this._applyTabIndexToElement($rowsView)\r\n        }\r\n    },\r\n    _initPointerEventHandler: function() {\r\n        var pointerEventName = !isMobile() ? pointerEvents.down : clickEventName;\r\n        var clickSelector = \".\".concat(ROW_CLASS, \" > td, .\").concat(ROW_CLASS);\r\n        var $rowsView = this._getRowsViewElement();\r\n        if (!isDefined(this._pointerEventAction)) {\r\n            this._pointerEventAction = this.createAction(this._pointerEventHandler)\r\n        }\r\n        eventsEngine.off($rowsView, addNamespace(pointerEventName, \"dxDataGridKeyboardNavigation\"), this._pointerEventAction);\r\n        eventsEngine.on($rowsView, addNamespace(pointerEventName, \"dxDataGridKeyboardNavigation\"), clickSelector, this._pointerEventAction)\r\n    },\r\n    _initKeyDownHandler: function() {\r\n        var $rowsView = this._getRowsViewElement();\r\n        keyboard.off(this._keyDownListener);\r\n        this._keyDownListener = keyboard.on($rowsView, null, e => this._keyDownHandler(e))\r\n    },\r\n    dispose: function() {\r\n        this.callBase();\r\n        this._resetFocusedView();\r\n        keyboard.off(this._keyDownListener);\r\n        eventsEngine.off(domAdapter.getDocument(), addNamespace(pointerEvents.down, \"dxDataGridKeyboardNavigation\"), this._documentClickHandler);\r\n        clearTimeout(this._updateFocusTimeout);\r\n        accessibility.unsubscribeVisibilityChange()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"keyboardNavigation\":\r\n            case \"useLegacyKeyboardNavigation\":\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    isRowFocusType: function() {\r\n        return this.focusType === FOCUS_TYPE_ROW\r\n    },\r\n    isCellFocusType: function() {\r\n        return this.focusType === FOCUS_TYPE_CELL\r\n    },\r\n    setRowFocusType: function() {\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            this.focusType = FOCUS_TYPE_ROW\r\n        }\r\n    },\r\n    setCellFocusType: function() {\r\n        this.focusType = FOCUS_TYPE_CELL\r\n    },\r\n    _keyDownHandler: function(e) {\r\n        var needStopPropagation = true;\r\n        var isHandled = this._processOnKeyDown(e);\r\n        var isEditing = this._editingController.isEditing();\r\n        var originalEvent = e.originalEvent;\r\n        if (originalEvent.isDefaultPrevented()) {\r\n            return\r\n        }\r\n        this._isNeedFocus = true;\r\n        this._isNeedScroll = true;\r\n        FUNCTIONAL_KEYS.indexOf(e.keyName) < 0 && this._updateFocusedCellPositionByTarget(originalEvent.target);\r\n        if (!isHandled) {\r\n            switch (e.keyName) {\r\n                case \"leftArrow\":\r\n                case \"rightArrow\":\r\n                    this._leftRightKeysHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"upArrow\":\r\n                case \"downArrow\":\r\n                    if (e.ctrl) {\r\n                        accessibility.selectView(\"rowsView\", this, originalEvent)\r\n                    } else {\r\n                        this._upDownKeysHandler(e, isEditing)\r\n                    }\r\n                    isHandled = true;\r\n                    break;\r\n                case \"pageUp\":\r\n                case \"pageDown\":\r\n                    this._pageUpDownKeyHandler(e);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"space\":\r\n                    isHandled = this._spaceKeyHandler(e, isEditing);\r\n                    break;\r\n                case \"A\":\r\n                    if (isCommandKeyPressed(e.originalEvent)) {\r\n                        this._ctrlAKeyHandler(e, isEditing);\r\n                        isHandled = true\r\n                    } else {\r\n                        isHandled = this._beginFastEditing(e.originalEvent)\r\n                    }\r\n                    break;\r\n                case \"tab\":\r\n                    this._tabKeyHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"enter\":\r\n                    this._enterKeyHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"escape\":\r\n                    this._escapeKeyHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"F\":\r\n                    if (isCommandKeyPressed(e.originalEvent)) {\r\n                        this._ctrlFKeyHandler(e);\r\n                        isHandled = true\r\n                    } else {\r\n                        isHandled = this._beginFastEditing(e.originalEvent)\r\n                    }\r\n                    break;\r\n                case \"F2\":\r\n                    this._f2KeyHandler();\r\n                    isHandled = true;\r\n                    break;\r\n                case \"del\":\r\n                case \"backspace\":\r\n                    if (this._isFastEditingAllowed() && !this._isFastEditingStarted()) {\r\n                        isHandled = this._beginFastEditing(originalEvent, true)\r\n                    }\r\n            }\r\n            if (!isHandled && !this._beginFastEditing(originalEvent)) {\r\n                this._isNeedFocus = false;\r\n                this._isNeedScroll = false;\r\n                needStopPropagation = false\r\n            }\r\n            if (needStopPropagation) {\r\n                originalEvent.stopPropagation()\r\n            }\r\n        }\r\n    },\r\n    _processOnKeyDown: function(eventArgs) {\r\n        var originalEvent = eventArgs.originalEvent;\r\n        var args = {\r\n            handled: false,\r\n            event: originalEvent\r\n        };\r\n        this.executeAction(\"onKeyDown\", args);\r\n        eventArgs.ctrl = originalEvent.ctrlKey;\r\n        eventArgs.alt = originalEvent.altKey;\r\n        eventArgs.shift = originalEvent.shiftKey;\r\n        return !!args.handled\r\n    },\r\n    _closeEditCell: function() {\r\n        setTimeout(() => {\r\n            this._editingController.closeEditCell()\r\n        })\r\n    },\r\n    _leftRightKeysHandler: function(eventArgs, isEditing) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $event = eventArgs.originalEvent;\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        var directionCode = this._getDirectionCodeByKey(eventArgs.keyName);\r\n        var isEditingNavigationMode = this._isFastEditingStarted();\r\n        var allowNavigate = (!isEditing || isEditingNavigationMode) && isDataRow($row);\r\n        if (allowNavigate) {\r\n            this.setCellFocusType();\r\n            isEditingNavigationMode && this._closeEditCell();\r\n            if (this._isVirtualColumnRender()) {\r\n                this._processVirtualHorizontalPosition(directionCode)\r\n            }\r\n            var $cell = this._getNextCell(directionCode);\r\n            if (isElementDefined($cell)) {\r\n                this._arrowKeysHandlerFocusCell($event, $cell, directionCode)\r\n            }\r\n            $event && $event.preventDefault()\r\n        }\r\n    },\r\n    _upDownKeysHandler: function(eventArgs, isEditing) {\r\n        var _this$_editingControl;\r\n        var rowIndex = this._focusedCellPosition.rowIndex;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(visibleRowIndex);\r\n        var $event = eventArgs.originalEvent;\r\n        var isUpArrow = \"upArrow\" === eventArgs.keyName;\r\n        var dataSource = this._dataController.dataSource();\r\n        var isRowEditingInCurrentRow = null === (_this$_editingControl = this._editingController) || void 0 === _this$_editingControl ? void 0 : _this$_editingControl.isEditRow(visibleRowIndex);\r\n        var isEditingNavigationMode = this._isFastEditingStarted();\r\n        var allowNavigate = (!isRowEditingInCurrentRow || !isEditing || isEditingNavigationMode) && $row && !isDetailRow($row);\r\n        if (allowNavigate) {\r\n            isEditingNavigationMode && this._closeEditCell();\r\n            if (!this._navigateNextCell($event, eventArgs.keyName)) {\r\n                if (this._isVirtualRowRender() && isUpArrow && dataSource && !dataSource.isLoading()) {\r\n                    var rowHeight = getOuterHeight($row);\r\n                    rowIndex = this._focusedCellPosition.rowIndex - 1;\r\n                    this._scrollBy(0, -rowHeight, rowIndex, $event)\r\n                }\r\n            }\r\n            $event && $event.preventDefault()\r\n        }\r\n    },\r\n    _pageUpDownKeyHandler: function(eventArgs) {\r\n        var pageIndex = this._dataController.pageIndex();\r\n        var pageCount = this._dataController.pageCount();\r\n        var pagingEnabled = this.option(\"paging.enabled\");\r\n        var isPageUp = \"pageUp\" === eventArgs.keyName;\r\n        var pageStep = isPageUp ? -1 : 1;\r\n        var scrollable = this.getView(\"rowsView\").getScrollable();\r\n        if (pagingEnabled && !this._isVirtualScrolling()) {\r\n            if ((isPageUp ? pageIndex > 0 : pageIndex < pageCount - 1) && !this._isVirtualScrolling()) {\r\n                this._dataController.pageIndex(pageIndex + pageStep);\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        } else if (scrollable && getHeight(scrollable.container()) < getHeight(scrollable.$content())) {\r\n            this._scrollBy(0, getHeight(scrollable.container()) * pageStep);\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _spaceKeyHandler: function(eventArgs, isEditing) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $target = $(eventArgs.originalEvent && eventArgs.originalEvent.target);\r\n        if (this.option(\"selection\") && \"none\" !== this.option(\"selection\").mode && !isEditing) {\r\n            var isFocusedRowElement = \"row\" === this._getElementType($target) && this.isRowFocusType() && isDataRow($target);\r\n            var isFocusedSelectionCell = $target.hasClass(COMMAND_SELECT_CLASS);\r\n            if (isFocusedSelectionCell && \"onClick\" === this.option(\"selection.showCheckBoxesMode\")) {\r\n                this._selectionController.startSelectionWithCheckboxes()\r\n            }\r\n            if (isFocusedRowElement || $target.parent().hasClass(DATA_ROW_CLASS) || $target.hasClass(this.addWidgetPrefix(ROWS_VIEW_CLASS))) {\r\n                this._selectionController.changeItemSelection(rowIndex, {\r\n                    shift: eventArgs.shift,\r\n                    control: eventArgs.ctrl\r\n                });\r\n                eventArgs.originalEvent.preventDefault();\r\n                return true\r\n            }\r\n            return false\r\n        } else {\r\n            return this._beginFastEditing(eventArgs.originalEvent)\r\n        }\r\n    },\r\n    _ctrlAKeyHandler: function(eventArgs, isEditing) {\r\n        if (!isEditing && !eventArgs.alt && \"multiple\" === this.option(\"selection.mode\") && this.option(\"selection.allowSelectAll\")) {\r\n            this._selectionController.selectAll();\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _tabKeyHandler: function(eventArgs, isEditing) {\r\n        var editingOptions = this.option(\"editing\");\r\n        var direction = eventArgs.shift ? \"previous\" : \"next\";\r\n        var isCellPositionDefined = isDefined(this._focusedCellPosition) && !isEmptyObject(this._focusedCellPosition);\r\n        var isOriginalHandlerRequired = !isCellPositionDefined || !eventArgs.shift && this._isLastValidCell(this._focusedCellPosition) || eventArgs.shift && this._isFirstValidCell(this._focusedCellPosition);\r\n        var eventTarget = eventArgs.originalEvent.target;\r\n        var focusedViewElement = this._focusedView && this._focusedView.element();\r\n        if (this._handleTabKeyOnMasterDetailCell(eventTarget, direction)) {\r\n            return\r\n        }\r\n        $(focusedViewElement).addClass(FOCUS_STATE_CLASS);\r\n        if (editingOptions && eventTarget && !isOriginalHandlerRequired) {\r\n            if ($(eventTarget).hasClass(this.addWidgetPrefix(ROWS_VIEW_CLASS))) {\r\n                this._resetFocusedCell()\r\n            }\r\n            if (this._isVirtualColumnRender()) {\r\n                this._processVirtualHorizontalPosition(direction)\r\n            }\r\n            if (isEditing) {\r\n                if (!this._editingCellTabHandler(eventArgs, direction)) {\r\n                    return\r\n                }\r\n            } else if (this._targetCellTabHandler(eventArgs, direction)) {\r\n                isOriginalHandlerRequired = true\r\n            }\r\n        }\r\n        if (isOriginalHandlerRequired) {\r\n            this._editorFactory.loseFocus();\r\n            if (this._editingController.isEditing() && !this._isRowEditMode()) {\r\n                this._resetFocusedCell(true);\r\n                this._resetFocusedView();\r\n                this._closeEditCell()\r\n            }\r\n        } else {\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _getMaxHorizontalOffset: function() {\r\n        var scrollable = this.component.getScrollable();\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var offset = scrollable ? scrollable.scrollWidth() - getWidth(rowsView.element()) : 0;\r\n        return offset\r\n    },\r\n    _isColumnRendered: function(columnIndex) {\r\n        var allVisibleColumns = this._columnsController.getVisibleColumns(null, true);\r\n        var renderedVisibleColumns = this._columnsController.getVisibleColumns();\r\n        var column = allVisibleColumns[columnIndex];\r\n        var result = false;\r\n        if (column) {\r\n            result = renderedVisibleColumns.indexOf(column) >= 0\r\n        }\r\n        return result\r\n    },\r\n    _isFixedColumn: function(columnIndex) {\r\n        var allVisibleColumns = this._columnsController.getVisibleColumns(null, true);\r\n        var column = allVisibleColumns[columnIndex];\r\n        return !!column && !!column.fixed\r\n    },\r\n    _isColumnVirtual: function(columnIndex) {\r\n        var localColumnIndex = columnIndex - this._columnsController.getColumnIndexOffset();\r\n        var visibleColumns = this._columnsController.getVisibleColumns();\r\n        var column = visibleColumns[localColumnIndex];\r\n        return !!column && \"virtual\" === column.command\r\n    },\r\n    _processVirtualHorizontalPosition: function(direction) {\r\n        var scrollable = this.component.getScrollable();\r\n        var columnIndex = this.getColumnIndex();\r\n        var nextColumnIndex;\r\n        var horizontalScrollPosition = 0;\r\n        var needToScroll = false;\r\n        switch (direction) {\r\n            case \"next\":\r\n            case \"nextInRow\":\r\n                var columnsCount = this._getVisibleColumnCount();\r\n                nextColumnIndex = columnIndex + 1;\r\n                horizontalScrollPosition = this.option(\"rtlEnabled\") ? this._getMaxHorizontalOffset() : 0;\r\n                if (\"next\" === direction) {\r\n                    needToScroll = columnsCount === nextColumnIndex || this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                } else {\r\n                    needToScroll = columnsCount > nextColumnIndex && this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                }\r\n                break;\r\n            case \"previous\":\r\n            case \"previousInRow\":\r\n                nextColumnIndex = columnIndex - 1;\r\n                horizontalScrollPosition = this.option(\"rtlEnabled\") ? 0 : this._getMaxHorizontalOffset();\r\n                if (\"previous\" === direction) {\r\n                    var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n                    var leftEdgePosition = nextColumnIndex < 0 && 0 === columnIndexOffset;\r\n                    needToScroll = leftEdgePosition || this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                } else {\r\n                    needToScroll = nextColumnIndex >= 0 && this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                }\r\n        }\r\n        if (needToScroll) {\r\n            scrollable.scrollTo({\r\n                left: horizontalScrollPosition\r\n            })\r\n        } else if (isDefined(nextColumnIndex) && isDefined(direction) && this._isColumnVirtual(nextColumnIndex)) {\r\n            horizontalScrollPosition = this._getHorizontalScrollPositionOffset(direction);\r\n            0 !== horizontalScrollPosition && scrollable.scrollBy({\r\n                left: horizontalScrollPosition,\r\n                top: 0\r\n            })\r\n        }\r\n    },\r\n    _getHorizontalScrollPositionOffset: function(direction) {\r\n        var positionOffset = 0;\r\n        var $currentCell = this._getCell(this._focusedCellPosition);\r\n        var currentCellWidth = $currentCell && getOuterWidth($currentCell);\r\n        if (currentCellWidth > 0) {\r\n            var rtlMultiplier = this.option(\"rtlEnabled\") ? -1 : 1;\r\n            positionOffset = \"nextInRow\" === direction || \"next\" === direction ? currentCellWidth * rtlMultiplier : currentCellWidth * rtlMultiplier * -1\r\n        }\r\n        return positionOffset\r\n    },\r\n    _editingCellTabHandler: function(eventArgs, direction) {\r\n        var eventTarget = eventArgs.originalEvent.target;\r\n        var $cell = this._getCellElementFromTarget(eventTarget);\r\n        var isEditingAllowed;\r\n        var $event = eventArgs.originalEvent;\r\n        var elementType = this._getElementType(eventTarget);\r\n        if ($cell.is(COMMAND_CELL_SELECTOR)) {\r\n            return !this._targetCellTabHandler(eventArgs, direction)\r\n        }\r\n        this._updateFocusedCellPosition($cell);\r\n        var nextCellInfo = this._getNextCellByTabKey($event, direction, elementType);\r\n        $cell = nextCellInfo.$cell;\r\n        if (!$cell || this._handleTabKeyOnMasterDetailCell($cell, direction)) {\r\n            return false\r\n        }\r\n        var columnsController = this._columnsController;\r\n        var cellIndex = this.getView(\"rowsView\").getCellIndex($cell);\r\n        var columnIndex = cellIndex + columnsController.getColumnIndexOffset();\r\n        var column = columnsController.getVisibleColumns(null, true)[columnIndex];\r\n        var $row = $cell.parent();\r\n        var rowIndex = this._getRowIndex($row);\r\n        var row = this._dataController.items()[rowIndex];\r\n        var editingController = this._editingController;\r\n        if (column && column.allowEditing) {\r\n            var _isDataRow = !row || \"data\" === row.rowType;\r\n            isEditingAllowed = editingController.allowUpdating({\r\n                row: row\r\n            }) ? _isDataRow : row && row.isNewRow\r\n        }\r\n        if (!isEditingAllowed) {\r\n            this._closeEditCell()\r\n        }\r\n        if (this._focusCell($cell, !nextCellInfo.isHighlighted)) {\r\n            if (!this._isRowEditMode() && isEditingAllowed) {\r\n                this._editFocusedCell()\r\n            } else {\r\n                this._focusInteractiveElement($cell, eventArgs.shift)\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _targetCellTabHandler: function(eventArgs, direction) {\r\n        var $event = eventArgs.originalEvent;\r\n        var eventTarget = $event.target;\r\n        var $cell = this._getCellElementFromTarget(eventTarget);\r\n        var $lastInteractiveElement = this._getInteractiveElement($cell, !eventArgs.shift);\r\n        var isOriginalHandlerRequired = false;\r\n        var elementType;\r\n        if (!isEditorCell(this, $cell) && $lastInteractiveElement.length && eventTarget !== $lastInteractiveElement.get(0)) {\r\n            isOriginalHandlerRequired = true\r\n        } else {\r\n            if (void 0 === this._focusedCellPosition.rowIndex && $(eventTarget).hasClass(ROW_CLASS)) {\r\n                this._updateFocusedCellPosition($cell)\r\n            }\r\n            elementType = this._getElementType(eventTarget);\r\n            if (this.isRowFocusType()) {\r\n                this.setCellFocusType();\r\n                if (\"row\" === elementType && isDataRow($(eventTarget))) {\r\n                    eventTarget = this.getFirstValidCellInRow($(eventTarget));\r\n                    elementType = this._getElementType(eventTarget)\r\n                }\r\n            }\r\n            var nextCellInfo = this._getNextCellByTabKey($event, direction, elementType);\r\n            $cell = nextCellInfo.$cell;\r\n            if (!$cell) {\r\n                return false\r\n            }\r\n            $cell = this._checkNewLineTransition($event, $cell);\r\n            if (!$cell) {\r\n                return false\r\n            }\r\n            this._focusCell($cell, !nextCellInfo.isHighlighted);\r\n            if (!isEditorCell(this, $cell)) {\r\n                this._focusInteractiveElement($cell, eventArgs.shift)\r\n            }\r\n        }\r\n        return isOriginalHandlerRequired\r\n    },\r\n    _getNextCellByTabKey: function($event, direction, elementType) {\r\n        var $cell = this._getNextCell(direction, elementType);\r\n        var args = $cell && this._fireFocusedCellChanging($event, $cell, true);\r\n        if (!args || args.cancel) {\r\n            return {}\r\n        }\r\n        if (args.$newCellElement) {\r\n            $cell = args.$newCellElement\r\n        }\r\n        return {\r\n            $cell: $cell,\r\n            isHighlighted: args.isHighlighted\r\n        }\r\n    },\r\n    _checkNewLineTransition: function($event, $cell) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = $cell.parent();\r\n        if (rowIndex !== this._getRowIndex($row)) {\r\n            var cellPosition = this._getCellPosition($cell);\r\n            var args = this._fireFocusedRowChanging($event, $row);\r\n            if (args.cancel) {\r\n                return\r\n            }\r\n            if (args.rowIndexChanged) {\r\n                this.setFocusedColumnIndex(cellPosition.columnIndex);\r\n                $cell = this._getFocusedCell()\r\n            }\r\n        }\r\n        return $cell\r\n    },\r\n    _enterKeyHandler: function(eventArgs, isEditing) {\r\n        var $cell = this._getFocusedCell();\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        if (this.option(\"grouping.allowCollapsing\") && isGroupRow($row) || this.option(\"masterDetail.enabled\") && $cell && $cell.hasClass(COMMAND_EXPAND_CLASS)) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            var item = this._dataController.items()[rowIndex];\r\n            if (void 0 !== key && item && item.data && !item.data.isContinuation) {\r\n                this._dataController.changeRowExpand(key)\r\n            }\r\n        } else {\r\n            this._processEnterKeyForDataCell(eventArgs, isEditing)\r\n        }\r\n    },\r\n    _processEnterKeyForDataCell: function(eventArgs, isEditing) {\r\n        var direction = this._getEnterKeyDirection(eventArgs);\r\n        var allowEditingOnEnterKey = this._allowEditingOnEnterKey();\r\n        if (isEditing || !allowEditingOnEnterKey && direction) {\r\n            this._handleEnterKeyEditingCell(eventArgs.originalEvent);\r\n            if (\"next\" === direction || \"previous\" === direction) {\r\n                this._targetCellTabHandler(eventArgs, direction)\r\n            } else if (\"upArrow\" === direction || \"downArrow\" === direction) {\r\n                this._navigateNextCell(eventArgs.originalEvent, direction)\r\n            }\r\n        } else if (allowEditingOnEnterKey) {\r\n            this._startEditing(eventArgs)\r\n        }\r\n    },\r\n    _getEnterKeyDirection: function(eventArgs) {\r\n        var enterKeyDirection = this.option(\"keyboardNavigation.enterKeyDirection\");\r\n        var isShift = eventArgs.shift;\r\n        if (\"column\" === enterKeyDirection) {\r\n            return isShift ? \"upArrow\" : \"downArrow\"\r\n        }\r\n        if (\"row\" === enterKeyDirection) {\r\n            return isShift ? \"previous\" : \"next\"\r\n        }\r\n    },\r\n    _handleEnterKeyEditingCell: function(event) {\r\n        var target = event.target;\r\n        var $cell = this._getCellElementFromTarget(target);\r\n        var isRowEditMode = this._isRowEditMode();\r\n        this._updateFocusedCellPosition($cell);\r\n        if (isRowEditMode) {\r\n            this._focusEditFormCell($cell);\r\n            setTimeout(this._editingController.saveEditData.bind(this._editingController))\r\n        } else {\r\n            eventsEngine.trigger($(target), \"change\");\r\n            this._closeEditCell();\r\n            event.preventDefault()\r\n        }\r\n    },\r\n    _escapeKeyHandler: function(eventArgs, isEditing) {\r\n        var $cell = this._getCellElementFromTarget(eventArgs.originalEvent.target);\r\n        if (isEditing) {\r\n            this._updateFocusedCellPosition($cell);\r\n            if (!this._isRowEditMode()) {\r\n                if (\"cell\" === this._editingController.getEditMode()) {\r\n                    this._editingController.cancelEditData()\r\n                } else {\r\n                    this._closeEditCell()\r\n                }\r\n            } else {\r\n                this._focusEditFormCell($cell);\r\n                this._editingController.cancelEditData();\r\n                if (0 === this._dataController.items().length) {\r\n                    this._resetFocusedCell();\r\n                    this._editorFactory.loseFocus()\r\n                }\r\n            }\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _ctrlFKeyHandler: function(eventArgs) {\r\n        if (this.option(\"searchPanel.visible\")) {\r\n            var searchTextEditor = this._headerPanel.getSearchTextEditor();\r\n            if (searchTextEditor) {\r\n                searchTextEditor.focus();\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        }\r\n    },\r\n    _f2KeyHandler: function() {\r\n        var isEditing = this._editingController.isEditing();\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        if (!isEditing && isDataRow($row)) {\r\n            this._startEditing()\r\n        }\r\n    },\r\n    _navigateNextCell: function($event, keyCode) {\r\n        var $cell = this._getNextCell(keyCode);\r\n        var directionCode = this._getDirectionCodeByKey(keyCode);\r\n        var isCellValid = $cell && this._isCellValid($cell);\r\n        var result = isCellValid ? this._arrowKeysHandlerFocusCell($event, $cell, directionCode) : false;\r\n        return result\r\n    },\r\n    _arrowKeysHandlerFocusCell: function($event, $nextCell, direction) {\r\n        var isVerticalDirection = \"prevRow\" === direction || \"nextRow\" === direction;\r\n        var args = this._fireFocusChangingEvents($event, $nextCell, isVerticalDirection, true);\r\n        $nextCell = args.$newCellElement;\r\n        if (!args.cancel && this._isCellValid($nextCell)) {\r\n            this._focus($nextCell, !args.isHighlighted);\r\n            return true\r\n        }\r\n        return false\r\n    },\r\n    _beginFastEditing: function(originalEvent, isDeleting) {\r\n        if (!this._isFastEditingAllowed() || originalEvent.altKey || originalEvent.ctrlKey || this._editingController.isEditing()) {\r\n            return false\r\n        }\r\n        if (isDeleting) {\r\n            this._startEditing(originalEvent, FAST_EDITING_DELETE_KEY)\r\n        } else {\r\n            var key = originalEvent.key;\r\n            var keyCode = originalEvent.keyCode || originalEvent.which;\r\n            var fastEditingKey = key || keyCode && String.fromCharCode(keyCode);\r\n            if (fastEditingKey && (1 === fastEditingKey.length || fastEditingKey === FAST_EDITING_DELETE_KEY)) {\r\n                this._startEditing(originalEvent, fastEditingKey)\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _pointerEventHandler: function(e) {\r\n        var event = e.event || e;\r\n        var $target = $(event.currentTarget);\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var focusedViewElement = rowsView && rowsView.element();\r\n        var $parent = $target.parent();\r\n        var isInteractiveElement = $(event.target).is(INTERACTIVE_ELEMENTS_SELECTOR);\r\n        var isRevertButton = !!$(event.target).closest(\".\".concat(REVERT_BUTTON_CLASS)).length;\r\n        var isExpandCommandCell = $target.hasClass(COMMAND_EXPAND_CLASS);\r\n        if (!this._isEventInCurrentGrid(event)) {\r\n            return\r\n        }\r\n        if (!isRevertButton && (this._isCellValid($target, !isInteractiveElement) || isExpandCommandCell)) {\r\n            $target = this._isInsideEditForm($target) ? $(event.target) : $target;\r\n            this._focusView();\r\n            $(focusedViewElement).removeClass(FOCUS_STATE_CLASS);\r\n            if ($parent.hasClass(FREESPACE_ROW_CLASS)) {\r\n                this._updateFocusedCellPosition($target);\r\n                this._applyTabIndexToElement(this._focusedView.element());\r\n                this._focusedView.focus()\r\n            } else if (!this._isMasterDetailCell($target)) {\r\n                this._clickTargetCellHandler(event, $target)\r\n            } else {\r\n                this._updateFocusedCellPosition($target)\r\n            }\r\n        } else if ($target.is(\"td\")) {\r\n            this._resetFocusedCell()\r\n        }\r\n    },\r\n    _clickTargetCellHandler: function(event, $cell) {\r\n        var columnIndex = this.getView(\"rowsView\").getCellIndex($cell);\r\n        var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n        var isCellEditMode = this._isCellEditMode();\r\n        this.setCellFocusType();\r\n        var args = this._fireFocusChangingEvents(event, $cell, true);\r\n        $cell = args.$newCellElement;\r\n        if (!args.cancel) {\r\n            if (args.resetFocusedRow) {\r\n                this.getController(\"focus\")._resetFocusedRow();\r\n                return\r\n            }\r\n            if (args.rowIndexChanged) {\r\n                $cell = this._getFocusedCell()\r\n            }\r\n            if (!args.isHighlighted && !isCellEditMode) {\r\n                this.setRowFocusType()\r\n            }\r\n            this._updateFocusedCellPosition($cell);\r\n            if (this._allowRowUpdating() && isCellEditMode && column && column.allowEditing) {\r\n                this._isNeedFocus = false;\r\n                this._isHiddenFocus = false\r\n            } else {\r\n                var $target = event && $(event.target).closest(NON_FOCUSABLE_ELEMENTS_SELECTOR + \", td\");\r\n                var skipFocusEvent = $target && $target.not($cell).is(NON_FOCUSABLE_ELEMENTS_SELECTOR);\r\n                var isEditor = !!column && !column.command && $cell.hasClass(EDITOR_CELL_CLASS);\r\n                var isDisabled = !isEditor && (!args.isHighlighted || skipFocusEvent);\r\n                this._focus($cell, isDisabled, skipFocusEvent)\r\n            }\r\n        } else {\r\n            this.setRowFocusType();\r\n            this.setFocusedRowIndex(args.prevRowIndex);\r\n            $cell = this._getFocusedCell();\r\n            if (this._editingController.isEditing() && isCellEditMode) {\r\n                this._closeEditCell()\r\n            }\r\n        }\r\n    },\r\n    _allowRowUpdating: function() {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var row = this._dataController.items()[rowIndex];\r\n        return this._editingController.allowUpdating({\r\n            row: row\r\n        }, \"click\")\r\n    },\r\n    focus: function(element) {\r\n        var activeElementSelector;\r\n        var focusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n        var isHighlighted = isCellElement($(element));\r\n        if (!element) {\r\n            activeElementSelector = \".dx-datagrid-rowsview .dx-row[tabindex]\";\r\n            if (!focusedRowEnabled) {\r\n                activeElementSelector += \", .dx-datagrid-rowsview .dx-row > td[tabindex]\"\r\n            }\r\n            element = this.component.$element().find(activeElementSelector).first()\r\n        }\r\n        element && this._focusElement($(element), isHighlighted)\r\n    },\r\n    getFocusedView: function() {\r\n        return this._focusedView\r\n    },\r\n    setupFocusedView: function() {\r\n        if (this.isKeyboardEnabled() && !isDefined(this._focusedView)) {\r\n            this._focusView()\r\n        }\r\n    },\r\n    _focusElement: function($element, isHighlighted) {\r\n        var rowsViewElement = $(this._getRowsViewElement());\r\n        var $focusedView = $element.closest(rowsViewElement);\r\n        var isRowFocusType = this.isRowFocusType();\r\n        var args = {};\r\n        if (!$focusedView.length || isCellElement($element) && !this._isCellValid($element)) {\r\n            return\r\n        }\r\n        this._focusView();\r\n        this._isNeedFocus = true;\r\n        this._isNeedScroll = true;\r\n        if (isCellElement($element) || isGroupRow($element)) {\r\n            this.setCellFocusType();\r\n            args = this._fireFocusChangingEvents(null, $element, false, isHighlighted);\r\n            $element = args.$newCellElement;\r\n            if (isRowFocusType && !args.isHighlighted) {\r\n                this.setRowFocusType()\r\n            }\r\n        }\r\n        if (!args.cancel) {\r\n            this._focus($element, !args.isHighlighted);\r\n            this._focusInteractiveElement($element)\r\n        }\r\n    },\r\n    _getFocusedViewByElement: function($element) {\r\n        var view = this.getFocusedView();\r\n        var $view = view && $(view.element());\r\n        return $element && 0 !== $element.closest($view).length\r\n    },\r\n    _focusView: function() {\r\n        this._focusedView = this.getView(\"rowsView\")\r\n    },\r\n    _resetFocusedView: function() {\r\n        this.setRowFocusType();\r\n        this._focusedView = null\r\n    },\r\n    _focusInteractiveElement: function($cell, isLast) {\r\n        if (!$cell) {\r\n            return\r\n        }\r\n        var $focusedElement = this._getInteractiveElement($cell, isLast);\r\n        gridCoreUtils.focusAndSelectElement(this, $focusedElement)\r\n    },\r\n    _focus: function($cell, disableFocus, skipFocusEvent) {\r\n        var $row = $cell && !$cell.hasClass(ROW_CLASS) ? $cell.closest(\".\".concat(ROW_CLASS)) : $cell;\r\n        if ($row && isNotFocusedRow($row)) {\r\n            return\r\n        }\r\n        var focusedView = this._focusedView;\r\n        var $focusViewElement = focusedView && focusedView.element();\r\n        var $focusElement;\r\n        this._isHiddenFocus = disableFocus;\r\n        var isRowFocus = isGroupRow($row) || this.isRowFocusType();\r\n        if (isRowFocus) {\r\n            $focusElement = $row;\r\n            if (focusedView) {\r\n                this.setFocusedRowIndex(this._getRowIndex($row))\r\n            }\r\n        } else if (isCellElement($cell)) {\r\n            $focusElement = $cell;\r\n            this._updateFocusedCellPosition($cell)\r\n        }\r\n        if ($focusElement) {\r\n            if ($focusViewElement) {\r\n                $focusViewElement.find(\".dx-row[tabindex], .dx-row > td[tabindex]\").not($focusElement).removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabindex\")\r\n            }\r\n            eventsEngine.one($focusElement, \"blur\", e => {\r\n                if (e.relatedTarget) {\r\n                    $focusElement.removeClass(CELL_FOCUS_DISABLED_CLASS)\r\n                }\r\n            });\r\n            if (!skipFocusEvent) {\r\n                this._applyTabIndexToElement($focusElement);\r\n                eventsEngine.trigger($focusElement, \"focus\")\r\n            }\r\n            if (disableFocus) {\r\n                $focusElement.addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                if (isRowFocus) {\r\n                    $cell.addClass(CELL_FOCUS_DISABLED_CLASS)\r\n                }\r\n            } else {\r\n                this._editorFactory.focus($focusElement)\r\n            }\r\n        }\r\n    },\r\n    _updateFocus: function(isRenderView) {\r\n        this._updateFocusTimeout = setTimeout(() => {\r\n            var editingController = this._editingController;\r\n            var isCellEditMode = editingController.getEditMode() === EDIT_MODE_CELL;\r\n            var isBatchEditMode = editingController.getEditMode() === EDIT_MODE_BATCH;\r\n            if (isCellEditMode && editingController.hasChanges() || isBatchEditMode && editingController.isNewRowInEditMode()) {\r\n                editingController._focusEditingCell();\r\n                return\r\n            }\r\n            var $cell = this._getFocusedCell();\r\n            var isEditing = editingController.isEditing();\r\n            if ($cell && !(this._isMasterDetailCell($cell) && !this._isRowEditMode())) {\r\n                if (this._hasSkipRow($cell.parent())) {\r\n                    var direction = this._focusedCellPosition && this._focusedCellPosition.rowIndex > 0 ? \"upArrow\" : \"downArrow\";\r\n                    $cell = this._getNextCell(direction)\r\n                }\r\n                if (isElementDefined($cell)) {\r\n                    if (isRenderView && !isEditing && this._checkCellOverlapped($cell)) {\r\n                        return\r\n                    }\r\n                    if ($cell.is(\"td\") || $cell.hasClass(this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS))) {\r\n                        var isCommandCell = $cell.is(COMMAND_CELL_SELECTOR);\r\n                        var $focusedElementInsideCell = $cell.find(\":focus\");\r\n                        var isFocusedElementDefined = isElementDefined($focusedElementInsideCell);\r\n                        if ((isRenderView || !isCommandCell) && this._editorFactory.focus()) {\r\n                            if (isCommandCell && isFocusedElementDefined) {\r\n                                gridCoreUtils.focusAndSelectElement(this, $focusedElementInsideCell);\r\n                                return\r\n                            }!isFocusedElementDefined && this._focus($cell)\r\n                        } else if (!isFocusedElementDefined && (this._isNeedFocus || this._isHiddenFocus)) {\r\n                            this._focus($cell, this._isHiddenFocus)\r\n                        }\r\n                        if (isEditing) {\r\n                            this._focusInteractiveElement.bind(this)($cell)\r\n                        }\r\n                    } else {\r\n                        eventsEngine.trigger($cell, \"focus\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _checkCellOverlapped: function($cell) {\r\n        var cellOffset = $cell.offset();\r\n        var hasScrollable = this.component.getScrollable && this.component.getScrollable();\r\n        var isOverlapped = false;\r\n        if (hasScrollable) {\r\n            if (cellOffset.left < 0) {\r\n                isOverlapped = getWidth($cell) + cellOffset.left <= 0\r\n            } else if (cellOffset.top < 0) {\r\n                isOverlapped = getHeight($cell) + cellOffset.top <= 0\r\n            }\r\n        }\r\n        return isOverlapped\r\n    },\r\n    _getFocusedCell: function() {\r\n        return $(this._getCell(this._focusedCellPosition))\r\n    },\r\n    _updateFocusedCellPositionByTarget: function(target) {\r\n        var _this$_focusedCellPos;\r\n        var elementType = this._getElementType(target);\r\n        if (\"row\" === elementType && isDefined(null === (_this$_focusedCellPos = this._focusedCellPosition) || void 0 === _this$_focusedCellPos ? void 0 : _this$_focusedCellPos.columnIndex)) {\r\n            var $row = $(target);\r\n            this._focusedView && isGroupRow($row) && this.setFocusedRowIndex(this._getRowIndex($row))\r\n        } else {\r\n            this._updateFocusedCellPosition(this._getCellElementFromTarget(target))\r\n        }\r\n    },\r\n    _updateFocusedCellPosition: function($cell, direction) {\r\n        var position = this._getCellPosition($cell, direction);\r\n        if (position) {\r\n            if (!$cell.length || position.rowIndex >= 0 && position.columnIndex >= 0) {\r\n                this.setFocusedCellPosition(position.rowIndex, position.columnIndex)\r\n            }\r\n        }\r\n        return position\r\n    },\r\n    _getFocusedColumnIndexOffset: function(columnIndex) {\r\n        var offset = 0;\r\n        var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n        if (column && column.fixed) {\r\n            offset = this._getFixedColumnIndexOffset(column)\r\n        } else if (columnIndex >= 0) {\r\n            offset = this._columnsController.getColumnIndexOffset()\r\n        }\r\n        return offset\r\n    },\r\n    _getFixedColumnIndexOffset: function(column) {\r\n        var offset = isFixedColumnIndexOffsetRequired(this, column) ? this._getVisibleColumnCount() - this._columnsController.getVisibleColumns().length : 0;\r\n        return offset\r\n    },\r\n    _getCellPosition: function($cell, direction) {\r\n        var columnIndex;\r\n        var $row = isElementDefined($cell) && $cell.closest(\"tr\");\r\n        var rowsView = this.getView(\"rowsView\");\r\n        if (isElementDefined($row)) {\r\n            var rowIndex = this._getRowIndex($row);\r\n            columnIndex = rowsView.getCellIndex($cell, rowIndex);\r\n            columnIndex += this._getFocusedColumnIndexOffset(columnIndex);\r\n            if (direction) {\r\n                columnIndex = \"previous\" === direction ? columnIndex - 1 : columnIndex + 1;\r\n                columnIndex = this._applyColumnIndexBoundaries(columnIndex)\r\n            }\r\n            return {\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            }\r\n        }\r\n    },\r\n    _focusCell: function($cell, isDisabled) {\r\n        if (this._isCellValid($cell)) {\r\n            this._focus($cell, isDisabled);\r\n            return true\r\n        }\r\n    },\r\n    _focusEditFormCell: function($cell) {\r\n        if ($cell.hasClass(MASTER_DETAIL_CELL_CLASS)) {\r\n            this._editorFactory.focus($cell, true)\r\n        }\r\n    },\r\n    _resetFocusedCell: function(preventScroll) {\r\n        var _this$_focusedView;\r\n        var $cell = this._getFocusedCell();\r\n        isElementDefined($cell) && $cell.removeAttr(\"tabindex\");\r\n        this._isNeedFocus = false;\r\n        this._isNeedScroll = false;\r\n        this._focusedCellPosition = {};\r\n        clearTimeout(this._updateFocusTimeout);\r\n        null === (_this$_focusedView = this._focusedView) || void 0 === _this$_focusedView ? void 0 : _this$_focusedView.renderFocusState({\r\n            preventScroll: preventScroll\r\n        })\r\n    },\r\n    restoreFocusableElement: function(rowIndex, $event) {\r\n        var args;\r\n        var $rowElement;\r\n        var isUpArrow = isDefined(rowIndex);\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var $rowsViewElement = rowsView.element();\r\n        var columnIndex = this._focusedCellPosition.columnIndex;\r\n        var rowIndexOffset = this._dataController.getRowIndexOffset();\r\n        rowIndex = isUpArrow ? rowIndex : rowsView.getTopVisibleItemIndex() + rowIndexOffset;\r\n        if (!isUpArrow) {\r\n            this._editorFactory.loseFocus();\r\n            this._applyTabIndexToElement($rowsViewElement);\r\n            eventsEngine.trigger($rowsViewElement, \"focus\")\r\n        } else {\r\n            $rowElement = rowsView.getRow(rowIndex - rowIndexOffset);\r\n            args = this._fireFocusedRowChanging($event, $rowElement);\r\n            if (!args.cancel && args.rowIndexChanged) {\r\n                rowIndex = args.newRowIndex\r\n            }\r\n        }\r\n        if (!isUpArrow || !args.cancel) {\r\n            this.setFocusedCellPosition(rowIndex, columnIndex)\r\n        }\r\n        isUpArrow && this._updateFocus()\r\n    },\r\n    _getNewPositionByCode: function(cellPosition, elementType, code) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var rowIndex = cellPosition.rowIndex;\r\n        var visibleColumnsCount;\r\n        if (void 0 === cellPosition.rowIndex && \"next\" === code) {\r\n            return {\r\n                columnIndex: 0,\r\n                rowIndex: 0\r\n            }\r\n        }\r\n        switch (code) {\r\n            case \"nextInRow\":\r\n            case \"next\":\r\n                visibleColumnsCount = this._getVisibleColumnCount();\r\n                if (columnIndex < visibleColumnsCount - 1 && \"row\" !== elementType && this._hasValidCellAfterPosition({\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })) {\r\n                    columnIndex++\r\n                } else if (!this._isLastRow(rowIndex) && \"next\" === code) {\r\n                    columnIndex = 0;\r\n                    rowIndex++\r\n                }\r\n                break;\r\n            case \"previousInRow\":\r\n            case \"previous\":\r\n                if (columnIndex > 0 && \"row\" !== elementType && this._hasValidCellBeforePosition({\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })) {\r\n                    columnIndex--\r\n                } else if (rowIndex > 0 && \"previous\" === code) {\r\n                    rowIndex--;\r\n                    visibleColumnsCount = this._getVisibleColumnCount();\r\n                    columnIndex = visibleColumnsCount - 1\r\n                }\r\n                break;\r\n            case \"upArrow\":\r\n                rowIndex = rowIndex > 0 ? rowIndex - 1 : rowIndex;\r\n                break;\r\n            case \"downArrow\":\r\n                rowIndex = !this._isLastRow(rowIndex) ? rowIndex + 1 : rowIndex\r\n        }\r\n        return {\r\n            columnIndex: columnIndex,\r\n            rowIndex: rowIndex\r\n        }\r\n    },\r\n    setFocusedCellPosition: function(rowIndex, columnIndex) {\r\n        this.setFocusedRowIndex(rowIndex);\r\n        this.setFocusedColumnIndex(columnIndex)\r\n    },\r\n    setFocusedRowIndex: function(rowIndex) {\r\n        if (!this._focusedCellPosition) {\r\n            this._focusedCellPosition = {}\r\n        }\r\n        this._focusedCellPosition.rowIndex = rowIndex\r\n    },\r\n    setFocusedColumnIndex: function(columnIndex) {\r\n        if (!this._focusedCellPosition) {\r\n            this._focusedCellPosition = {}\r\n        }\r\n        this._focusedCellPosition.columnIndex = columnIndex\r\n    },\r\n    getRowIndex: function() {\r\n        return this._focusedCellPosition ? this._focusedCellPosition.rowIndex : -1\r\n    },\r\n    getColumnIndex: function() {\r\n        return this._focusedCellPosition ? this._focusedCellPosition.columnIndex : -1\r\n    },\r\n    getVisibleRowIndex: function() {\r\n        var rowIndex = this._focusedCellPosition && this._focusedCellPosition.rowIndex;\r\n        if (!isDefined(rowIndex) || rowIndex < 0) {\r\n            return -1\r\n        }\r\n        return rowIndex - this._dataController.getRowIndexOffset()\r\n    },\r\n    getVisibleColumnIndex: function() {\r\n        var columnIndex = this._focusedCellPosition && this._focusedCellPosition.columnIndex;\r\n        if (!isDefined(columnIndex)) {\r\n            return -1\r\n        }\r\n        return columnIndex - this._columnsController.getColumnIndexOffset()\r\n    },\r\n    _applyColumnIndexBoundaries: function(columnIndex) {\r\n        var visibleColumnsCount = this._getVisibleColumnCount();\r\n        if (columnIndex < 0) {\r\n            columnIndex = 0\r\n        } else if (columnIndex >= visibleColumnsCount) {\r\n            columnIndex = visibleColumnsCount - 1\r\n        }\r\n        return columnIndex\r\n    },\r\n    _isCellByPositionValid: function(cellPosition) {\r\n        var $cell = $(this._getCell(cellPosition));\r\n        return this._isCellValid($cell)\r\n    },\r\n    _isLastRow: function(rowIndex) {\r\n        var dataController = this._dataController;\r\n        if (this._isVirtualRowRender()) {\r\n            return rowIndex >= dataController.getMaxRowIndex()\r\n        }\r\n        return rowIndex === dataController.items().length - 1\r\n    },\r\n    _isFirstValidCell: function(cellPosition) {\r\n        var isFirstValidCell = false;\r\n        if (0 === cellPosition.rowIndex && cellPosition.columnIndex >= 0) {\r\n            isFirstValidCell = isFirstValidCell || !this._hasValidCellBeforePosition(cellPosition)\r\n        }\r\n        return isFirstValidCell\r\n    },\r\n    _hasValidCellBeforePosition: function(cellPosition) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var hasValidCells = false;\r\n        while (columnIndex > 0 && !hasValidCells) {\r\n            var checkingPosition = {\r\n                columnIndex: --columnIndex,\r\n                rowIndex: cellPosition.rowIndex\r\n            };\r\n            hasValidCells = this._isCellByPositionValid(checkingPosition)\r\n        }\r\n        return hasValidCells\r\n    },\r\n    _hasValidCellAfterPosition: function(cellPosition) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var hasValidCells = false;\r\n        var visibleColumnCount = this._getVisibleColumnCount();\r\n        while (columnIndex < visibleColumnCount - 1 && !hasValidCells) {\r\n            var checkingPosition = {\r\n                columnIndex: ++columnIndex,\r\n                rowIndex: cellPosition.rowIndex\r\n            };\r\n            hasValidCells = this._isCellByPositionValid(checkingPosition)\r\n        }\r\n        return hasValidCells\r\n    },\r\n    _isLastValidCell: function(cellPosition) {\r\n        var nextColumnIndex = cellPosition.columnIndex >= 0 ? cellPosition.columnIndex + 1 : 0;\r\n        var rowIndex = cellPosition.rowIndex;\r\n        var checkingPosition = {\r\n            columnIndex: nextColumnIndex,\r\n            rowIndex: rowIndex\r\n        };\r\n        var visibleRows = this._dataController.getVisibleRows();\r\n        var row = visibleRows && visibleRows[rowIndex];\r\n        var isLastRow = this._isLastRow(rowIndex);\r\n        if (!isLastRow) {\r\n            return false\r\n        }\r\n        if (row && \"group\" === row.rowType && cellPosition.columnIndex > 0) {\r\n            return true\r\n        }\r\n        if (cellPosition.columnIndex === this._getVisibleColumnCount() - 1) {\r\n            return true\r\n        }\r\n        if (this._isCellByPositionValid(checkingPosition)) {\r\n            return false\r\n        }\r\n        return this._isLastValidCell(checkingPosition)\r\n    },\r\n    _isCellValid: function($cell, isClick) {\r\n        if (isElementDefined($cell)) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            var $row = $cell.parent();\r\n            var columnsController = this._columnsController;\r\n            var columnIndex = rowsView.getCellIndex($cell) + columnsController.getColumnIndexOffset();\r\n            var column = columnsController.getVisibleColumns(null, true)[columnIndex];\r\n            var visibleColumnCount = this._getVisibleColumnCount();\r\n            var editingController = this._editingController;\r\n            var isMasterDetailRow = isDetailRow($row);\r\n            var isShowWhenGrouped = column && column.showWhenGrouped;\r\n            var isDataCell = column && !$cell.hasClass(COMMAND_EXPAND_CLASS) && isDataRow($row);\r\n            if (this._isMasterDetailCell($cell)) {\r\n                return true\r\n            }\r\n            if (visibleColumnCount > columnIndex && (!isMasterDetailRow && column && (!isDefined(column.groupIndex) || isShowWhenGrouped && isDataCell) || parseInt($cell.attr(\"colspan\")) > 1)) {\r\n                var rowItems = this._dataController.items();\r\n                var visibleRowIndex = rowsView.getRowIndex($row);\r\n                var row = rowItems[visibleRowIndex];\r\n                var isCellEditing = editingController && this._isCellEditMode() && editingController.isEditing();\r\n                var isRowEditingInCurrentRow = editingController && editingController.isEditRow(visibleRowIndex);\r\n                var isEditing = isRowEditingInCurrentRow || isCellEditing;\r\n                if (column.command) {\r\n                    if (this._isLegacyNavigation()) {\r\n                        return !isEditing && \"expand\" === column.command\r\n                    }\r\n                    if (isCellEditing) {\r\n                        return false\r\n                    }\r\n                    if (isRowEditingInCurrentRow) {\r\n                        return \"select\" !== column.command\r\n                    }\r\n                    return !isEditing\r\n                }\r\n                if (isCellEditing && row && \"data\" !== row.rowType) {\r\n                    return false\r\n                }\r\n                return !isEditing || column.allowEditing || isClick\r\n            }\r\n        }\r\n    },\r\n    getFirstValidCellInRow: function($row, columnIndex) {\r\n        var $cells = $row.find(\"> td\");\r\n        var $cell;\r\n        var $result;\r\n        columnIndex = columnIndex || 0;\r\n        for (var i = columnIndex; i < $cells.length; ++i) {\r\n            $cell = $cells.eq(i);\r\n            if (this._isCellValid($cell)) {\r\n                $result = $cell;\r\n                break\r\n            }\r\n        }\r\n        return $result\r\n    },\r\n    _getNextCell: function(keyCode, elementType, cellPosition) {\r\n        var focusedCellPosition = cellPosition || this._focusedCellPosition;\r\n        var isRowFocusType = this.isRowFocusType();\r\n        var includeCommandCells = isRowFocusType || inArray(keyCode, [\"next\", \"previous\"]) > -1;\r\n        var $cell;\r\n        var $row;\r\n        if (this._focusedView && focusedCellPosition) {\r\n            var newFocusedCellPosition = this._getNewPositionByCode(focusedCellPosition, elementType, keyCode);\r\n            $cell = $(this._getCell(newFocusedCellPosition));\r\n            var isLastCellOnDirection = \"previous\" === keyCode ? this._isFirstValidCell(newFocusedCellPosition) : this._isLastValidCell(newFocusedCellPosition);\r\n            if (isElementDefined($cell) && !this._isCellValid($cell) && this._isCellInRow(newFocusedCellPosition, includeCommandCells) && !isLastCellOnDirection) {\r\n                if (isRowFocusType) {\r\n                    $cell = this.getFirstValidCellInRow($cell.parent(), newFocusedCellPosition.columnIndex)\r\n                } else {\r\n                    $cell = this._getNextCell(keyCode, \"cell\", newFocusedCellPosition)\r\n                }\r\n            }\r\n            $row = isElementDefined($cell) && $cell.parent();\r\n            if (this._hasSkipRow($row)) {\r\n                var rowIndex = this._getRowIndex($row);\r\n                if (!this._isLastRow(rowIndex)) {\r\n                    $cell = this._getNextCell(keyCode, \"row\", {\r\n                        columnIndex: focusedCellPosition.columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })\r\n                } else {\r\n                    return null\r\n                }\r\n            }\r\n            return isElementDefined($cell) ? $cell : null\r\n        }\r\n        return null\r\n    },\r\n    _startEditing: function(eventArgs, fastEditingKey) {\r\n        var focusedCellPosition = this._focusedCellPosition;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var visibleColumnIndex = this.getVisibleColumnIndex();\r\n        var row = this._dataController.items()[visibleRowIndex];\r\n        var column = this._columnsController.getVisibleColumns()[visibleColumnIndex];\r\n        if (this._isAllowEditing(row, column)) {\r\n            if (this._isRowEditMode()) {\r\n                this._editingController.editRow(visibleRowIndex)\r\n            } else if (focusedCellPosition) {\r\n                this._startEditCell(eventArgs, fastEditingKey)\r\n            }\r\n        }\r\n    },\r\n    _isAllowEditing: function(row, column) {\r\n        return this._editingController.allowUpdating({\r\n            row: row\r\n        }) && column && column.allowEditing\r\n    },\r\n    _editFocusedCell: function() {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var colIndex = this.getVisibleColumnIndex();\r\n        return this._editingController.editCell(rowIndex, colIndex)\r\n    },\r\n    _startEditCell: function(eventArgs, fastEditingKey) {\r\n        this._fastEditingStarted = isDefined(fastEditingKey);\r\n        var editResult = this._editFocusedCell();\r\n        if (this._isFastEditingStarted()) {\r\n            if (true === editResult) {\r\n                this._editingCellHandler(eventArgs, fastEditingKey)\r\n            } else if (editResult && editResult.done) {\r\n                var editorValue = fastEditingKey !== FAST_EDITING_DELETE_KEY ? fastEditingKey : \"\";\r\n                editResult.done(() => this._editingCellHandler(eventArgs, editorValue))\r\n            }\r\n        }\r\n    },\r\n    _editingCellHandler: function(eventArgs, editorValue) {\r\n        var _$input$get$select, _$input$get;\r\n        var $input = this._getFocusedCell().find(INTERACTIVE_ELEMENTS_SELECTOR).eq(0);\r\n        var keyDownEvent = createEvent(eventArgs, {\r\n            type: \"keydown\",\r\n            target: $input.get(0)\r\n        });\r\n        var keyPressEvent = createEvent(eventArgs, {\r\n            type: \"keypress\",\r\n            target: $input.get(0)\r\n        });\r\n        var inputEvent = createEvent(eventArgs, {\r\n            type: \"input\",\r\n            target: $input.get(0)\r\n        });\r\n        null === (_$input$get$select = (_$input$get = $input.get(0)).select) || void 0 === _$input$get$select ? void 0 : _$input$get$select.call(_$input$get);\r\n        eventsEngine.trigger($input, keyDownEvent);\r\n        if (!keyDownEvent.isDefaultPrevented()) {\r\n            eventsEngine.trigger($input, keyPressEvent);\r\n            if (!keyPressEvent.isDefaultPrevented()) {\r\n                var timeout = browser.mozilla ? 25 : 0;\r\n                setTimeout(() => {\r\n                    $input.val(editorValue);\r\n                    var $widgetContainer = $input.closest(\".\".concat(WIDGET_CLASS));\r\n                    eventsEngine.off($widgetContainer, \"focusout\");\r\n                    eventsEngine.one($widgetContainer, \"focusout\", (function() {\r\n                        eventsEngine.trigger($input, \"change\")\r\n                    }));\r\n                    eventsEngine.trigger($input, inputEvent)\r\n                }, timeout)\r\n            }\r\n        }\r\n    },\r\n    _fireFocusChangingEvents: function($event, $cell, fireRowEvent, isHighlighted) {\r\n        var args = {};\r\n        var cellPosition = this._getCellPosition($cell) || {};\r\n        if (this.isCellFocusType()) {\r\n            args = this._fireFocusedCellChanging($event, $cell, isHighlighted);\r\n            if (!args.cancel) {\r\n                cellPosition.columnIndex = args.newColumnIndex;\r\n                cellPosition.rowIndex = args.newRowIndex;\r\n                isHighlighted = args.isHighlighted;\r\n                $cell = $(this._getCell(cellPosition))\r\n            }\r\n        }\r\n        if (!args.cancel && fireRowEvent && $cell) {\r\n            args = this._fireFocusedRowChanging($event, $cell.parent());\r\n            if (!args.cancel) {\r\n                cellPosition.rowIndex = args.newRowIndex;\r\n                args.isHighlighted = isHighlighted\r\n            }\r\n        }\r\n        args.$newCellElement = $(this._getCell(cellPosition));\r\n        if (!args.$newCellElement.length) {\r\n            args.$newCellElement = $cell\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedCellChanging: function($event, $cellElement, isHighlighted) {\r\n        var prevCellIndex = this.option(\"focusedColumnIndex\");\r\n        var prevRowIndex = this.option(\"focusedRowIndex\");\r\n        var cellPosition = this._getCellPosition($cellElement);\r\n        var columnIndex = cellPosition ? cellPosition.columnIndex : -1;\r\n        var rowIndex = cellPosition ? cellPosition.rowIndex : -1;\r\n        var args = {\r\n            cellElement: $cellElement,\r\n            prevColumnIndex: prevCellIndex,\r\n            prevRowIndex: prevRowIndex,\r\n            newColumnIndex: columnIndex,\r\n            newRowIndex: rowIndex,\r\n            rows: this._dataController.getVisibleRows(),\r\n            columns: this._columnsController.getVisibleColumns(),\r\n            event: $event,\r\n            isHighlighted: isHighlighted || false,\r\n            cancel: false\r\n        };\r\n        this._canceledCellPosition = null;\r\n        this.executeAction(\"onFocusedCellChanging\", args);\r\n        if (args.newColumnIndex !== columnIndex || args.newRowIndex !== rowIndex) {\r\n            args.$newCellElement = $(this._getCell({\r\n                columnIndex: args.newColumnIndex,\r\n                rowIndex: args.newRowIndex\r\n            }))\r\n        }\r\n        if (args.cancel) {\r\n            this._canceledCellPosition = {\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            }\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedCellChanged: function($cellElement, prevCellIndex, prevRowIndex) {\r\n        var dataController = this._dataController;\r\n        var columnIndex = this.getView(\"rowsView\").getCellIndex($cellElement);\r\n        var rowIndex = this._getRowIndex($cellElement && $cellElement.parent());\r\n        var localRowIndex = Math.min(rowIndex - dataController.getRowIndexOffset(), dataController.items().length - 1);\r\n        var isEditingCell = this._editingController.isEditCell(localRowIndex, columnIndex);\r\n        var row = dataController.items()[localRowIndex];\r\n        if (!isEditingCell && (prevCellIndex !== columnIndex || prevRowIndex !== rowIndex)) {\r\n            this.executeAction(\"onFocusedCellChanged\", {\r\n                cellElement: $cellElement,\r\n                columnIndex: columnIndex,\r\n                rowIndex: rowIndex,\r\n                row: row,\r\n                column: this._columnsController.getVisibleColumns()[columnIndex]\r\n            })\r\n        }\r\n    },\r\n    _fireFocusedRowChanging: function(eventArgs, $newFocusedRow) {\r\n        var newRowIndex = this._getRowIndex($newFocusedRow);\r\n        var dataController = this._dataController;\r\n        var prevFocusedRowIndex = this.option(\"focusedRowIndex\");\r\n        var loadingOperationTypes = dataController.loadingOperationTypes();\r\n        var args = {\r\n            rowElement: $newFocusedRow,\r\n            prevRowIndex: prevFocusedRowIndex,\r\n            newRowIndex: newRowIndex,\r\n            event: eventArgs,\r\n            rows: dataController.getVisibleRows(),\r\n            cancel: false\r\n        };\r\n        if (!dataController || dataController.isLoading() && (loadingOperationTypes.reload || loadingOperationTypes.paging)) {\r\n            args.cancel = true;\r\n            return args\r\n        }\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            this.executeAction(\"onFocusedRowChanging\", args);\r\n            if (!args.cancel && args.newRowIndex !== newRowIndex) {\r\n                args.resetFocusedRow = args.newRowIndex < 0;\r\n                if (!args.resetFocusedRow) {\r\n                    this.setFocusedRowIndex(args.newRowIndex)\r\n                }\r\n                args.rowIndexChanged = true\r\n            }\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedRowChanged: function($rowElement) {\r\n        var row;\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        var focusController = this.getController(\"focus\");\r\n        var focusedRowIndex = null === focusController || void 0 === focusController ? void 0 : focusController.getFocusedRowIndexByKey(focusedRowKey);\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            if (focusedRowIndex >= 0) {\r\n                var dataController = this._dataController;\r\n                row = focusedRowIndex >= 0 && dataController.getVisibleRows()[focusedRowIndex - dataController.getRowIndexOffset()]\r\n            }\r\n            this.executeAction(\"onFocusedRowChanged\", {\r\n                rowElement: $rowElement,\r\n                rowIndex: focusedRowIndex,\r\n                row: row\r\n            })\r\n        }\r\n    },\r\n    _isEventInCurrentGrid: function(event) {\r\n        return gridCoreUtils.isElementInCurrentGrid(this, $(event.target))\r\n    },\r\n    _isRowEditMode: function() {\r\n        var editMode = this._editingController.getEditMode();\r\n        return editMode === EDIT_MODE_ROW || editMode === EDIT_MODE_FORM\r\n    },\r\n    _isCellEditMode: function() {\r\n        var editMode = this._editingController.getEditMode();\r\n        return editMode === EDIT_MODE_CELL || editMode === EDIT_MODE_BATCH\r\n    },\r\n    _isFastEditingAllowed: function() {\r\n        return this._isCellEditMode() && this.option(\"keyboardNavigation.editOnKeyPress\")\r\n    },\r\n    _getInteractiveElement: function($cell, isLast) {\r\n        var $focusedElement = $cell.find(INTERACTIVE_ELEMENTS_SELECTOR).filter(\":visible\");\r\n        return isLast ? $focusedElement.last() : $focusedElement.first()\r\n    },\r\n    _applyTabIndexToElement: function($element) {\r\n        var tabIndex = this.option(\"tabIndex\") || 0;\r\n        $element.attr(\"tabindex\", isDefined(tabIndex) ? tabIndex : 0)\r\n    },\r\n    _getCell: function(cellPosition) {\r\n        if (this._focusedView && cellPosition) {\r\n            var rowIndexOffset = this._dataController.getRowIndexOffset();\r\n            var column = this._columnsController.getVisibleColumns(null, true)[cellPosition.columnIndex];\r\n            var columnIndexOffset = column && column.fixed ? this._getFixedColumnIndexOffset(column) : this._columnsController.getColumnIndexOffset();\r\n            var rowIndex = cellPosition.rowIndex >= 0 ? cellPosition.rowIndex - rowIndexOffset : -1;\r\n            var columnIndex = cellPosition.columnIndex >= 0 ? cellPosition.columnIndex - columnIndexOffset : -1;\r\n            return this._focusedView.getCell({\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            })\r\n        }\r\n    },\r\n    _getRowIndex: function($row) {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var rowIndex = rowsView.getRowIndex($row);\r\n        if (rowIndex >= 0) {\r\n            rowIndex += this._dataController.getRowIndexOffset()\r\n        }\r\n        return rowIndex\r\n    },\r\n    _hasSkipRow: function($row) {\r\n        var row = $row && $row.get(0);\r\n        return row && (\"none\" === row.style.display || $row.hasClass(this.addWidgetPrefix(GROUP_FOOTER_CLASS)) || isDetailRow($row) && !$row.hasClass(this.addWidgetPrefix(EDIT_FORM_CLASS)))\r\n    },\r\n    _allowEditingOnEnterKey: function() {\r\n        return \"startEdit\" === this.option(\"keyboardNavigation.enterKeyAction\")\r\n    },\r\n    _isLegacyNavigation: function() {\r\n        return this.option(\"useLegacyKeyboardNavigation\")\r\n    },\r\n    _getDirectionCodeByKey: function(key) {\r\n        var directionCode;\r\n        switch (key) {\r\n            case \"upArrow\":\r\n                directionCode = \"prevRow\";\r\n                break;\r\n            case \"downArrow\":\r\n                directionCode = \"nextRow\";\r\n                break;\r\n            case \"leftArrow\":\r\n                directionCode = this.option(\"rtlEnabled\") ? \"nextInRow\" : \"previousInRow\";\r\n                break;\r\n            case \"rightArrow\":\r\n                directionCode = this.option(\"rtlEnabled\") ? \"previousInRow\" : \"nextInRow\"\r\n        }\r\n        return directionCode\r\n    },\r\n    _isVirtualScrolling: function() {\r\n        var scrollingMode = this.option(\"scrolling.mode\");\r\n        return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n    },\r\n    _isVirtualRowRender: function() {\r\n        return this._isVirtualScrolling() || gridCoreUtils.isVirtualRowRendering(this)\r\n    },\r\n    _isVirtualColumnRender: function() {\r\n        return \"virtual\" === this.option(\"scrolling.columnRenderingMode\")\r\n    },\r\n    _scrollBy: function(left, top, rowIndex, $event) {\r\n        var that = this;\r\n        var scrollable = this.getView(\"rowsView\").getScrollable();\r\n        if (that._focusedCellPosition) {\r\n            scrollable.on(\"scroll\", (function scrollHandler() {\r\n                scrollable.off(\"scroll\", scrollHandler);\r\n                setTimeout(that.restoreFocusableElement.bind(that, rowIndex, $event))\r\n            }))\r\n        }\r\n        return scrollable.scrollBy({\r\n            left: left,\r\n            top: top\r\n        })\r\n    },\r\n    _isInsideEditForm: function(element) {\r\n        return $(element).closest(\".\" + this.addWidgetPrefix(EDIT_FORM_CLASS)).length > 0\r\n    },\r\n    _isMasterDetailCell: function(element) {\r\n        var $masterDetailCell = $(element).closest(\".\" + MASTER_DETAIL_CELL_CLASS);\r\n        var $masterDetailGrid = $masterDetailCell.closest(\".\" + this.getWidgetContainerClass()).parent();\r\n        return $masterDetailCell.length && $masterDetailGrid.is(this.component.$element())\r\n    },\r\n    _processNextCellInMasterDetail: function($nextCell) {\r\n        if (!this._isInsideEditForm($nextCell) && $nextCell) {\r\n            this._applyTabIndexToElement($nextCell)\r\n        }\r\n    },\r\n    _handleTabKeyOnMasterDetailCell: function(target, direction) {\r\n        if (this._isMasterDetailCell(target)) {\r\n            this._updateFocusedCellPosition($(target), direction);\r\n            var $nextCell = this._getNextCell(direction, \"row\");\r\n            this._processNextCellInMasterDetail($nextCell);\r\n            return true\r\n        }\r\n        return false\r\n    },\r\n    _getElementType: function(target) {\r\n        return $(target).is(\"tr\") ? \"row\" : \"cell\"\r\n    },\r\n    _isFastEditingStarted: function() {\r\n        return this._isFastEditingAllowed() && this._fastEditingStarted\r\n    },\r\n    _getVisibleColumnCount: function() {\r\n        return this._columnsController.getVisibleColumns(null, true).length\r\n    },\r\n    _isCellInRow: function(cellPosition, includeCommandCells) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var visibleColumnsCount = this._getVisibleColumnCount();\r\n        return includeCommandCells ? columnIndex >= 0 && columnIndex <= visibleColumnsCount - 1 : columnIndex > 0 && columnIndex < visibleColumnsCount - 1\r\n    },\r\n    _getCellElementFromTarget: function(target) {\r\n        var elementType = this._getElementType(target);\r\n        var $targetElement = $(target);\r\n        var $cell;\r\n        if (\"cell\" === elementType) {\r\n            $cell = $targetElement.closest(\".\".concat(ROW_CLASS, \" > td\"))\r\n        } else {\r\n            $cell = $targetElement.children().not(\".\" + COMMAND_EXPAND_CLASS).first()\r\n        }\r\n        return $cell\r\n    },\r\n    _getRowsViewElement: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        return rowsView && rowsView.element()\r\n    },\r\n    isKeyboardEnabled: function() {\r\n        return this.option(\"keyboardNavigation.enabled\")\r\n    },\r\n    _processCanceledEditCellPosition: function(rowIndex, columnIndex) {\r\n        if (this._canceledCellPosition) {\r\n            var isCanceled = this._canceledCellPosition.rowIndex === rowIndex && this._canceledCellPosition.columnIndex === columnIndex;\r\n            this._canceledCellPosition = null;\r\n            return isCanceled\r\n        }\r\n    },\r\n    updateFocusedRowIndex: function() {\r\n        var dataController = this._dataController;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var visibleItems = dataController.items();\r\n        var lastVisibleIndex = visibleItems.length ? visibleItems.length - 1 : -1;\r\n        var rowIndexOffset = dataController.getRowIndexOffset();\r\n        lastVisibleIndex >= 0 && visibleRowIndex > lastVisibleIndex && this.setFocusedRowIndex(lastVisibleIndex + rowIndexOffset)\r\n    }\r\n});\r\nexport var keyboardNavigationModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            useLegacyKeyboardNavigation: false,\r\n            keyboardNavigation: {\r\n                enabled: true,\r\n                enterKeyAction: \"startEdit\",\r\n                enterKeyDirection: \"none\",\r\n                editOnKeyPress: false\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        keyboardNavigation: KeyboardNavigationController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _rowClick: function(e) {\r\n                    var editRowIndex = this.getController(\"editing\").getEditRowIndex();\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    if (editRowIndex === e.rowIndex) {\r\n                        keyboardController.setCellFocusType()\r\n                    }\r\n                    var needTriggerPointerEventHandler = isMobile() && this.option(\"focusedRowEnabled\");\r\n                    if (needTriggerPointerEventHandler) {\r\n                        this._triggerPointerDownEventHandler(e)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _triggerPointerDownEventHandler: function(e) {\r\n                    var originalEvent = e.event.originalEvent;\r\n                    if (originalEvent) {\r\n                        var keyboardController = this.getController(\"keyboardNavigation\");\r\n                        var $cell = $(originalEvent.target);\r\n                        var columnIndex = this.getCellIndex($cell);\r\n                        var column = this.getController(\"columns\").getVisibleColumns()[columnIndex];\r\n                        var row = this.getController(\"data\").items()[e.rowIndex];\r\n                        if (keyboardController._isAllowEditing(row, column)) {\r\n                            var eventArgs = createEvent(originalEvent, {\r\n                                currentTarget: originalEvent.target\r\n                            });\r\n                            keyboardController._pointerEventHandler(eventArgs)\r\n                        }\r\n                    }\r\n                },\r\n                renderFocusState: function(params) {\r\n                    var {\r\n                        preventScroll: preventScroll,\r\n                        pageSizeChanged: pageSizeChanged\r\n                    } = null !== params && void 0 !== params ? params : {};\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var $rowsViewElement = this.element();\r\n                    if ($rowsViewElement && !focused($rowsViewElement)) {\r\n                        $rowsViewElement.attr(\"tabindex\", null)\r\n                    }\r\n                    pageSizeChanged && keyboardController.updateFocusedRowIndex();\r\n                    var rowIndex = keyboardController.getVisibleRowIndex();\r\n                    if (!isDefined(rowIndex) || rowIndex < 0) {\r\n                        rowIndex = 0\r\n                    }\r\n                    var cellElements = this.getCellElements(rowIndex);\r\n                    if (keyboardController.isKeyboardEnabled() && cellElements.length) {\r\n                        this.updateFocusElementTabIndex(cellElements, preventScroll)\r\n                    }\r\n                },\r\n                updateFocusElementTabIndex: function(cellElements) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var $row = cellElements.eq(0).parent();\r\n                    if (isGroupRow($row)) {\r\n                        keyboardController._applyTabIndexToElement($row)\r\n                    } else {\r\n                        var columnIndex = keyboardController.getColumnIndex();\r\n                        if (!isDefined(columnIndex) || columnIndex < 0) {\r\n                            columnIndex = 0\r\n                        }\r\n                        this._updateFocusedCellTabIndex(cellElements, columnIndex)\r\n                    }\r\n                },\r\n                _updateFocusedCellTabIndex: function(cellElements, columnIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var cellElementsLength = cellElements ? cellElements.length : -1;\r\n                    var updateCellTabIndex = function($cell) {\r\n                        var isMasterDetailCell = keyboardController._isMasterDetailCell($cell);\r\n                        var isValidCell = keyboardController._isCellValid($cell);\r\n                        if (!isMasterDetailCell && isValidCell && isCellElement($cell)) {\r\n                            keyboardController._applyTabIndexToElement($cell);\r\n                            keyboardController.setCellFocusType();\r\n                            return true\r\n                        }\r\n                    };\r\n                    var $cell = cellElements.filter(\"[aria-colindex='\".concat(columnIndex + 1, \"']\"));\r\n                    if ($cell.length) {\r\n                        updateCellTabIndex($cell)\r\n                    } else {\r\n                        if (cellElementsLength <= columnIndex) {\r\n                            columnIndex = cellElementsLength - 1\r\n                        }\r\n                        for (var i = columnIndex; i < cellElementsLength; ++i) {\r\n                            if (updateCellTabIndex($(cellElements[i]))) {\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                renderDelayedTemplates: function(change) {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._renderFocusByChange(change)\r\n                },\r\n                _renderFocusByChange(change) {\r\n                    var {\r\n                        operationTypes: operationTypes,\r\n                        repaintChangesOnly: repaintChangesOnly\r\n                    } = null !== change && void 0 !== change ? change : {};\r\n                    var {\r\n                        fullReload: fullReload,\r\n                        pageSize: pageSize\r\n                    } = null !== operationTypes && void 0 !== operationTypes ? operationTypes : {};\r\n                    if (!change || !repaintChangesOnly || fullReload || pageSize) {\r\n                        var preventScroll = shouldPreventScroll(this);\r\n                        this.renderFocusState({\r\n                            preventScroll: preventScroll,\r\n                            pageSizeChanged: pageSize\r\n                        })\r\n                    }\r\n                },\r\n                _renderCore: function(change) {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._renderFocusByChange(change)\r\n                },\r\n                _editCellPrepared: function($cell) {\r\n                    var editorInstance = this._getEditorInstance($cell);\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var isEditingNavigationMode = keyboardController && keyboardController._isFastEditingStarted();\r\n                    if (editorInstance && isEditingNavigationMode) {\r\n                        this._handleEditingNavigationMode(editorInstance)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _handleEditingNavigationMode: function(editorInstance) {\r\n                    [\"downArrow\", \"upArrow\"].forEach((function(keyName) {\r\n                        var originalKeyHandler = editorInstance._supportedKeys()[keyName];\r\n                        editorInstance.registerKeyHandler(keyName, e => {\r\n                            var isDropDownOpened = \"true\" === editorInstance._input().attr(\"aria-expanded\");\r\n                            if (isDropDownOpened) {\r\n                                return originalKeyHandler && originalKeyHandler.call(editorInstance, e)\r\n                            }\r\n                        })\r\n                    }));\r\n                    editorInstance.registerKeyHandler(\"leftArrow\", noop);\r\n                    editorInstance.registerKeyHandler(\"rightArrow\", noop);\r\n                    var isDateBoxWithMask = editorInstance.NAME === DATEBOX_WIDGET_NAME && editorInstance.option(\"useMaskBehavior\");\r\n                    if (isDateBoxWithMask) {\r\n                        editorInstance.registerKeyHandler(\"enter\", noop)\r\n                    }\r\n                },\r\n                _getEditorInstance: function($cell) {\r\n                    var $editor = $cell.find(\".dx-texteditor\").eq(0);\r\n                    return gridCoreUtils.getWidgetInstance($editor)\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            editing: {\r\n                editCell: function(rowIndex, columnIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    if (keyboardController._processCanceledEditCellPosition(rowIndex, columnIndex)) {\r\n                        return false\r\n                    }\r\n                    var isCellEditing = this.callBase(rowIndex, columnIndex);\r\n                    if (isCellEditing) {\r\n                        keyboardController.setupFocusedView()\r\n                    }\r\n                    return isCellEditing\r\n                },\r\n                editRow: function(rowIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var visibleColumnIndex = keyboardController.getVisibleColumnIndex();\r\n                    var column = this._columnsController.getVisibleColumns()[visibleColumnIndex];\r\n                    if (column && column.type || this.option(\"editing.mode\") === EDIT_MODE_FORM) {\r\n                        keyboardController._resetFocusedCell()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                addRow: function(parentKey) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    keyboardController.setupFocusedView();\r\n                    keyboardController.setCellFocusType();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                getFocusedCellInRow: function(rowIndex) {\r\n                    var keyboardNavigationController = this.getController(\"keyboardNavigation\");\r\n                    var $cell = this.callBase(rowIndex);\r\n                    if (keyboardNavigationController.isKeyboardEnabled() && keyboardNavigationController._focusedCellPosition.rowIndex === rowIndex) {\r\n                        var $focusedCell = keyboardNavigationController._getFocusedCell();\r\n                        if (isElementDefined($focusedCell) && !$focusedCell.hasClass(COMMAND_EDIT_CLASS)) {\r\n                            $cell = $focusedCell\r\n                        }\r\n                    }\r\n                    return $cell\r\n                },\r\n                _processCanceledEditingCell: function() {\r\n                    this.closeEditCell().done(() => {\r\n                        var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                        keyboardNavigation._updateFocus()\r\n                    })\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._keyboardNavigationController = this.getController(\"keyboardNavigation\")\r\n                },\r\n                closeEditCell: function() {\r\n                    var keyboardNavigation = this._keyboardNavigationController;\r\n                    keyboardNavigation._fastEditingStarted = false;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    keyboardNavigation._updateFocus();\r\n                    return result\r\n                },\r\n                _delayedInputFocus: function() {\r\n                    this._keyboardNavigationController._isNeedScroll = true;\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _isEditingStart: function() {\r\n                    var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                    var cancel = this.callBase.apply(this, arguments);\r\n                    if (cancel && !keyboardNavigation._isNeedFocus) {\r\n                        var $cell = keyboardNavigation._getFocusedCell();\r\n                        keyboardNavigation._focus($cell, true)\r\n                    }\r\n                    return cancel\r\n                }\r\n            },\r\n            data: {\r\n                _correctRowIndices: function(getRowIndexCorrection) {\r\n                    var that = this;\r\n                    var keyboardNavigationController = that.getController(\"keyboardNavigation\");\r\n                    var editorFactory = that.getController(\"editorFactory\");\r\n                    var focusedCellPosition = keyboardNavigationController._focusedCellPosition;\r\n                    that.callBase.apply(that, arguments);\r\n                    if (focusedCellPosition && focusedCellPosition.rowIndex >= 0) {\r\n                        var focusedRowIndexCorrection = getRowIndexCorrection(focusedCellPosition.rowIndex);\r\n                        if (focusedRowIndexCorrection) {\r\n                            focusedCellPosition.rowIndex += focusedRowIndexCorrection;\r\n                            editorFactory.refocus()\r\n                        }\r\n                    }\r\n                },\r\n                getMaxRowIndex: function() {\r\n                    var result = this.items().length - 1;\r\n                    var virtualItemsCount = this.virtualItemsCount();\r\n                    if (virtualItemsCount) {\r\n                        var rowIndexOffset = this.getRowIndexOffset();\r\n                        result += rowIndexOffset + virtualItemsCount.end\r\n                    }\r\n                    return result\r\n                }\r\n            },\r\n            adaptiveColumns: {\r\n                _showHiddenCellsInView: function(_ref) {\r\n                    var {\r\n                        viewName: viewName,\r\n                        $cells: $cells,\r\n                        isCommandColumn: isCommandColumn\r\n                    } = _ref;\r\n                    this.callBase.apply(this, arguments);\r\n                    viewName === COLUMN_HEADERS_VIEW && !isCommandColumn && $cells.each((_, cellElement) => {\r\n                        var $cell = $(cellElement);\r\n                        isCellInHeaderRow($cell) && $cell.attr(\"tabindex\", 0)\r\n                    })\r\n                },\r\n                _hideVisibleCellInView: function(_ref2) {\r\n                    var {\r\n                        viewName: viewName,\r\n                        $cell: $cell,\r\n                        isCommandColumn: isCommandColumn\r\n                    } = _ref2;\r\n                    this.callBase.apply(this, arguments);\r\n                    if (viewName === COLUMN_HEADERS_VIEW && !isCommandColumn && isCellInHeaderRow($cell)) {\r\n                        $cell.removeAttr(\"tabindex\")\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/aggregate_calculator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    errors\r\n} from \"../../data/errors\";\r\nimport {\r\n    aggregators\r\n} from \"../../data/utils\";\r\n\r\nfunction depthFirstSearch(i, depth, root, callback) {\r\n    var j = 0;\r\n    if (i < depth) {\r\n        for (; j < root.items.length; j++) {\r\n            depthFirstSearch(i + 1, depth, root.items[j], callback)\r\n        }\r\n    }\r\n    if (i === depth) {\r\n        callback(root)\r\n    }\r\n}\r\n\r\nfunction map(array, callback) {\r\n    var i;\r\n    if (\"map\" in array) {\r\n        return array.map(callback)\r\n    }\r\n    var result = new Array(array.length);\r\n    for (i in array) {\r\n        result[i] = callback(array[i], i)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction isEmpty(x) {\r\n    return x !== x || \"\" === x || null === x || void 0 === x\r\n}\r\n\r\nfunction isCount(aggregator) {\r\n    return aggregator === aggregators.count\r\n}\r\n\r\nfunction normalizeAggregate(aggregate) {\r\n    var selector = compileGetter(aggregate.selector);\r\n    var skipEmptyValues = \"skipEmptyValues\" in aggregate ? aggregate.skipEmptyValues : true;\r\n    var aggregator = aggregate.aggregator;\r\n    if (\"string\" === typeof aggregator) {\r\n        aggregator = aggregators[aggregator];\r\n        if (!aggregator) {\r\n            throw errors.Error(\"E4001\", aggregate.aggregator)\r\n        }\r\n    }\r\n    return {\r\n        selector: selector,\r\n        aggregator: aggregator,\r\n        skipEmptyValues: skipEmptyValues\r\n    }\r\n}\r\nexport default Class.inherit({\r\n    ctor: function(options) {\r\n        this._data = options.data;\r\n        this._groupLevel = options.groupLevel || 0;\r\n        this._totalAggregates = map(options.totalAggregates || [], normalizeAggregate);\r\n        this._groupAggregates = map(options.groupAggregates || [], normalizeAggregate);\r\n        this._totals = []\r\n    },\r\n    calculate: function() {\r\n        if (this._totalAggregates.length) {\r\n            this._calculateTotals(0, {\r\n                items: this._data\r\n            })\r\n        }\r\n        if (this._groupAggregates.length && this._groupLevel > 0) {\r\n            this._calculateGroups({\r\n                items: this._data\r\n            })\r\n        }\r\n    },\r\n    totalAggregates: function() {\r\n        return this._totals\r\n    },\r\n    _aggregate: function(aggregates, data, container) {\r\n        var length = data.items ? data.items.length : 0;\r\n        for (var i = 0; i < aggregates.length; i++) {\r\n            if (isCount(aggregates[i].aggregator)) {\r\n                container[i] = (container[i] || 0) + length;\r\n                continue\r\n            }\r\n            for (var j = 0; j < length; j++) {\r\n                this._accumulate(i, aggregates[i], container, data.items[j])\r\n            }\r\n        }\r\n    },\r\n    _calculateTotals: function(level, data) {\r\n        if (0 === level) {\r\n            this._totals = this._seed(this._totalAggregates)\r\n        }\r\n        if (level === this._groupLevel) {\r\n            this._aggregate(this._totalAggregates, data, this._totals)\r\n        } else {\r\n            for (var i = 0; i < data.items.length; i++) {\r\n                this._calculateTotals(level + 1, data.items[i])\r\n            }\r\n        }\r\n        if (0 === level) {\r\n            this._totals = this._finalize(this._totalAggregates, this._totals)\r\n        }\r\n    },\r\n    _calculateGroups: function(root) {\r\n        var maxLevel = this._groupLevel;\r\n        var currentLevel = maxLevel + 1;\r\n        var seedFn = this._seed.bind(this, this._groupAggregates);\r\n        var stepFn = this._aggregate.bind(this, this._groupAggregates);\r\n        var finalizeFn = this._finalize.bind(this, this._groupAggregates);\r\n\r\n        function aggregator(node) {\r\n            node.aggregates = seedFn(currentLevel - 1);\r\n            if (currentLevel === maxLevel) {\r\n                stepFn(node, node.aggregates)\r\n            } else {\r\n                depthFirstSearch(currentLevel, maxLevel, node, (function(innerNode) {\r\n                    stepFn(innerNode, node.aggregates)\r\n                }))\r\n            }\r\n            node.aggregates = finalizeFn(node.aggregates)\r\n        }\r\n        while (--currentLevel > 0) {\r\n            depthFirstSearch(0, currentLevel, root, aggregator)\r\n        }\r\n    },\r\n    _seed: function(aggregates, groupIndex) {\r\n        return map(aggregates, (function(aggregate) {\r\n            var aggregator = aggregate.aggregator;\r\n            var seed = \"seed\" in aggregator ? isFunction(aggregator.seed) ? aggregator.seed(groupIndex) : aggregator.seed : NaN;\r\n            return seed\r\n        }))\r\n    },\r\n    _accumulate: function(aggregateIndex, aggregate, results, item) {\r\n        var value = aggregate.selector(item);\r\n        var aggregator = aggregate.aggregator;\r\n        var skipEmptyValues = aggregate.skipEmptyValues;\r\n        if (skipEmptyValues && isEmpty(value)) {\r\n            return\r\n        }\r\n        if (results[aggregateIndex] !== results[aggregateIndex]) {\r\n            results[aggregateIndex] = value\r\n        } else {\r\n            results[aggregateIndex] = aggregator.step(results[aggregateIndex], value)\r\n        }\r\n    },\r\n    _finalize: function(aggregates, results) {\r\n        return map(aggregates, (function(aggregate, index) {\r\n            var fin = aggregate.aggregator.finalize;\r\n            return fin ? fin(results[index]) : results[index]\r\n        }))\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.keyboard_navigation.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    keyboardNavigationModule\r\n} from \"../grid_core/ui.grid_core.keyboard_navigation\";\r\ngridCore.registerModule(\"keyboardNavigation\", keyboardNavigationModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.summary.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject,\r\n    isString,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport dataSourceAdapter from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    ColumnsView\r\n} from \"../grid_core/ui.grid_core.columns_view\";\r\nimport AggregateCalculator from \"./aggregate_calculator\";\r\nimport dataQuery from \"../../data/query\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nimport {\r\n    normalizeSortingInfo\r\n} from \"../../data/utils\";\r\nvar DATAGRID_TOTAL_FOOTER_CLASS = \"dx-datagrid-total-footer\";\r\nvar DATAGRID_SUMMARY_ITEM_CLASS = \"dx-datagrid-summary-item\";\r\nvar DATAGRID_TEXT_CONTENT_CLASS = \"dx-datagrid-text-content\";\r\nvar DATAGRID_GROUP_FOOTER_CLASS = \"dx-datagrid-group-footer\";\r\nvar DATAGRID_GROUP_TEXT_CONTENT_CLASS = \"dx-datagrid-group-text-content\";\r\nvar DATAGRID_NOWRAP_CLASS = \"dx-datagrid-nowrap\";\r\nvar DATAGRID_FOOTER_ROW_CLASS = \"dx-footer-row\";\r\nvar DATAGRID_GROUP_FOOTER_ROW_TYPE = \"groupFooter\";\r\nvar DATAGRID_TOTAL_FOOTER_ROW_TYPE = \"totalFooter\";\r\nexport var renderSummaryCell = function(cell, options) {\r\n    var $cell = $(cell);\r\n    var column = options.column;\r\n    var summaryItems = options.summaryItems;\r\n    var $summaryItems = [];\r\n    if (!column.command && summaryItems) {\r\n        for (var i = 0; i < summaryItems.length; i++) {\r\n            var summaryItem = summaryItems[i];\r\n            $summaryItems.push($(\"<div>\").css(\"textAlign\", summaryItem.alignment || column.alignment).addClass(DATAGRID_SUMMARY_ITEM_CLASS).addClass(DATAGRID_TEXT_CONTENT_CLASS).addClass(summaryItem.cssClass).toggleClass(DATAGRID_GROUP_TEXT_CONTENT_CLASS, \"group\" === options.rowType).text(gridCore.getSummaryText(summaryItem, options.summaryTexts)))\r\n        }\r\n        $cell.append($summaryItems)\r\n    }\r\n};\r\nvar getSummaryCellOptions = function(that, options) {\r\n    var summaryTexts = that.option(\"summary.texts\") || {};\r\n    return {\r\n        totalItem: options.row,\r\n        summaryItems: options.row.summaryCells[options.columnIndex],\r\n        summaryTexts: summaryTexts\r\n    }\r\n};\r\nvar getGroupAggregates = function(data) {\r\n    return data.summary || data.aggregates || []\r\n};\r\nvar recalculateWhileEditing = function(that) {\r\n    return that.option(\"summary.recalculateWhileEditing\")\r\n};\r\nexport var FooterView = ColumnsView.inherit({\r\n    _getRows: function() {\r\n        return this._dataController.footerItems()\r\n    },\r\n    _getCellOptions: function(options) {\r\n        return extend(this.callBase(options), getSummaryCellOptions(this, options))\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        renderSummaryCell($cell, options);\r\n        this.callBase($cell, options)\r\n    },\r\n    _renderCore: function(change) {\r\n        var needUpdateScrollLeft = false;\r\n        var totalItem = this._dataController.footerItems()[0];\r\n        if (!change || !change.columnIndices) {\r\n            this.element().empty().addClass(DATAGRID_TOTAL_FOOTER_CLASS).toggleClass(DATAGRID_NOWRAP_CLASS, !this.option(\"wordWrapEnabled\"));\r\n            needUpdateScrollLeft = true\r\n        }\r\n        if (totalItem && totalItem.summaryCells && totalItem.summaryCells.length) {\r\n            this._updateContent(this._renderTable({\r\n                change: change\r\n            }), change);\r\n            needUpdateScrollLeft && this._updateScrollLeftPosition()\r\n        }\r\n    },\r\n    _updateContent: function($newTable, change) {\r\n        if (change && \"update\" === change.changeType && change.columnIndices) {\r\n            var $row = this.getTableElement().find(\".dx-row\");\r\n            var $newRow = $newTable.find(\".dx-row\");\r\n            this._updateCells($row, $newRow, change.columnIndices[0])\r\n        } else {\r\n            return this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _rowClick: function(e) {\r\n        var item = this._dataController.footerItems()[e.rowIndex] || {};\r\n        this.executeAction(\"onRowClick\", extend({}, e, item))\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (e.changeTypes.grouping) {\r\n            return\r\n        }\r\n        if (optionNames.width || optionNames.visibleWidth) {\r\n            this.callBase(e)\r\n        }\r\n    },\r\n    _handleDataChanged: function(e) {\r\n        var changeType = e.changeType;\r\n        if (\"update\" === e.changeType && e.repaintChangesOnly) {\r\n            if (!e.totalColumnIndices) {\r\n                this.render()\r\n            } else if (e.totalColumnIndices.length) {\r\n                this.render(null, {\r\n                    changeType: \"update\",\r\n                    columnIndices: [e.totalColumnIndices]\r\n                })\r\n            }\r\n        } else if (\"refresh\" === changeType || \"append\" === changeType || \"prepend\" === changeType) {\r\n            this.render()\r\n        }\r\n    },\r\n    _createRow: function(row) {\r\n        var $row = this.callBase.apply(this, arguments);\r\n        if (row.rowType === DATAGRID_TOTAL_FOOTER_ROW_TYPE) {\r\n            $row.addClass(DATAGRID_FOOTER_ROW_CLASS)\r\n        }\r\n        return $row\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    isVisible: function() {\r\n        return !!this._dataController.footerItems().length\r\n    }\r\n});\r\nvar SummaryDataSourceAdapterExtender = {\r\n    init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._totalAggregates = [];\r\n        this._summaryGetter = noop\r\n    },\r\n    summaryGetter: function(_summaryGetter) {\r\n        if (!arguments.length) {\r\n            return this._summaryGetter\r\n        }\r\n        if (isFunction(_summaryGetter)) {\r\n            this._summaryGetter = _summaryGetter\r\n        }\r\n    },\r\n    summary: function(_summary) {\r\n        if (!arguments.length) {\r\n            return this._summaryGetter()\r\n        }\r\n        this._summaryGetter = function() {\r\n            return _summary\r\n        }\r\n    },\r\n    totalAggregates: function() {\r\n        return this._totalAggregates\r\n    },\r\n    isLastLevelGroupItemsPagingLocal: function() {\r\n        var summary = this.summary();\r\n        var sortByGroupsInfo = summary && summary.sortByGroups();\r\n        return sortByGroupsInfo && sortByGroupsInfo.length\r\n    },\r\n    sortLastLevelGroupItems: function(items, groups, paths) {\r\n        var groupedItems = storeHelper.multiLevelGroup(dataQuery(items), groups).toArray();\r\n        var result = [];\r\n        paths.forEach((function(path) {\r\n            ! function forEachGroup(groups, groupCount, callback, path) {\r\n                path = path || [];\r\n                for (var i = 0; i < groups.length; i++) {\r\n                    path.push(groups[i].key);\r\n                    if (1 === groupCount) {\r\n                        callback(path, groups[i].items)\r\n                    } else {\r\n                        forEachGroup(groups[i].items, groupCount - 1, callback, path)\r\n                    }\r\n                    path.pop()\r\n                }\r\n            }(groupedItems, groups.length, (function(itemsPath, items) {\r\n                if (path.toString() === itemsPath.toString()) {\r\n                    result = result.concat(items)\r\n                }\r\n            }))\r\n        }));\r\n        return result\r\n    }\r\n};\r\nvar SummaryDataSourceAdapterClientExtender = function() {\r\n    var calculateAggregates = function(that, summary, data, groupLevel) {\r\n        var calculator;\r\n        if (recalculateWhileEditing(that)) {\r\n            var editingController = that.getController(\"editing\");\r\n            if (editingController) {\r\n                var insertedData = editingController.getInsertedData();\r\n                if (insertedData.length) {\r\n                    data = function applyAddedData(data, insertedData, groupLevel) {\r\n                        if (groupLevel) {\r\n                            return applyAddedData(data, insertedData.map(item => ({\r\n                                items: [item]\r\n                            }), groupLevel - 1))\r\n                        }\r\n                        return data.concat(insertedData)\r\n                    }(data, insertedData, groupLevel)\r\n                }\r\n                var removedData = editingController.getRemovedData();\r\n                if (removedData.length) {\r\n                    data = function applyRemovedData(data, removedData, groupLevel) {\r\n                        if (groupLevel) {\r\n                            return data.map(data => {\r\n                                var updatedData = {};\r\n                                var updatedItems = applyRemovedData(data.items || [], removedData, groupLevel - 1);\r\n                                Object.defineProperty(updatedData, \"aggregates\", {\r\n                                    get: () => data.aggregates,\r\n                                    set: value => {\r\n                                        data.aggregates = value\r\n                                    }\r\n                                });\r\n                                return extend(updatedData, data, {\r\n                                    items: updatedItems\r\n                                })\r\n                            })\r\n                        }\r\n                        return data.filter(data => removedData.indexOf(data) < 0)\r\n                    }(data, removedData, groupLevel)\r\n                }\r\n            }\r\n        }\r\n        if (summary) {\r\n            calculator = new AggregateCalculator({\r\n                totalAggregates: summary.totalAggregates,\r\n                groupAggregates: summary.groupAggregates,\r\n                data: data,\r\n                groupLevel: groupLevel\r\n            });\r\n            calculator.calculate()\r\n        }\r\n        return calculator ? calculator.totalAggregates() : []\r\n    };\r\n    var sortGroupsBySummary = function(data, group, summary) {\r\n        var sortByGroups = summary && summary.sortByGroups && summary.sortByGroups();\r\n        if (sortByGroups && sortByGroups.length) {\r\n            return function sortGroupsBySummaryCore(items, groups, sortByGroups) {\r\n                if (!items || !groups.length) {\r\n                    return items\r\n                }\r\n                var group = groups[0];\r\n                var sorts = sortByGroups[0];\r\n                var query;\r\n                if (group && sorts && sorts.length) {\r\n                    query = dataQuery(items);\r\n                    each(sorts, (function(index) {\r\n                        if (0 === index) {\r\n                            query = query.sortBy(this.selector, this.desc)\r\n                        } else {\r\n                            query = query.thenBy(this.selector, this.desc)\r\n                        }\r\n                    }));\r\n                    query.enumerate().done((function(sortedItems) {\r\n                        items = sortedItems\r\n                    }))\r\n                }\r\n                groups = groups.slice(1);\r\n                sortByGroups = sortByGroups.slice(1);\r\n                if (groups.length && sortByGroups.length) {\r\n                    each(items, (function() {\r\n                        this.items = sortGroupsBySummaryCore(this.items, groups, sortByGroups)\r\n                    }))\r\n                }\r\n                return items\r\n            }(data, group, sortByGroups)\r\n        }\r\n        return data\r\n    };\r\n    return {\r\n        _customizeRemoteOperations: function(options) {\r\n            var summary = this.summary();\r\n            if (summary) {\r\n                if (options.remoteOperations.summary) {\r\n                    if (!options.isCustomLoading || options.storeLoadOptions.isLoadingAll) {\r\n                        if (options.storeLoadOptions.group) {\r\n                            if (options.remoteOperations.grouping) {\r\n                                options.storeLoadOptions.groupSummary = summary.groupAggregates\r\n                            } else if (summary.groupAggregates.length) {\r\n                                options.remoteOperations.paging = false\r\n                            }\r\n                        }\r\n                        options.storeLoadOptions.totalSummary = summary.totalAggregates\r\n                    }\r\n                } else if (summary.totalAggregates.length || summary.groupAggregates.length && options.storeLoadOptions.group) {\r\n                    options.remoteOperations.paging = false\r\n                }\r\n            }\r\n            this.callBase.apply(this, arguments);\r\n            var cachedExtra = options.cachedData.extra;\r\n            if (cachedExtra && cachedExtra.summary && !options.isCustomLoading) {\r\n                options.storeLoadOptions.totalSummary = void 0\r\n            }\r\n        },\r\n        _handleDataLoadedCore: function(options) {\r\n            var groups = normalizeSortingInfo(options.storeLoadOptions.group || options.loadOptions.group || []);\r\n            var remoteOperations = options.remoteOperations || {};\r\n            var summary = this.summaryGetter()(remoteOperations);\r\n            if (!options.isCustomLoading || options.storeLoadOptions.isLoadingAll) {\r\n                if (remoteOperations.summary) {\r\n                    if (!remoteOperations.paging && groups.length && summary) {\r\n                        if (!remoteOperations.grouping) {\r\n                            calculateAggregates(this, {\r\n                                groupAggregates: summary.groupAggregates\r\n                            }, options.data, groups.length)\r\n                        }\r\n                        options.data = sortGroupsBySummary(options.data, groups, summary)\r\n                    }\r\n                } else if (!remoteOperations.paging && summary) {\r\n                    var _options$cachedData, _options$cachedData$e;\r\n                    var operationTypes = options.operationTypes || {};\r\n                    var hasOperations = Object.keys(operationTypes).some(type => operationTypes[type]);\r\n                    if (!hasOperations || !(null !== (_options$cachedData = options.cachedData) && void 0 !== _options$cachedData && null !== (_options$cachedData$e = _options$cachedData.extra) && void 0 !== _options$cachedData$e && _options$cachedData$e.summary) || groups.length && summary.groupAggregates.length) {\r\n                        var totalAggregates = calculateAggregates(this, summary, options.data, groups.length);\r\n                        options.extra = isPlainObject(options.extra) ? options.extra : {};\r\n                        options.extra.summary = totalAggregates;\r\n                        if (options.cachedData) {\r\n                            options.cachedData.extra = options.extra\r\n                        }\r\n                    }\r\n                    options.data = sortGroupsBySummary(options.data, groups, summary)\r\n                }\r\n            }\r\n            if (!options.isCustomLoading) {\r\n                this._totalAggregates = options.extra && options.extra.summary || this._totalAggregates\r\n            }\r\n            this.callBase(options)\r\n        }\r\n    }\r\n}();\r\ndataSourceAdapter.extend(SummaryDataSourceAdapterExtender);\r\ndataSourceAdapter.extend(SummaryDataSourceAdapterClientExtender);\r\ngridCore.registerModule(\"summary\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            summary: {\r\n                groupItems: void 0,\r\n                totalItems: void 0,\r\n                calculateCustomSummary: void 0,\r\n                skipEmptyValues: true,\r\n                recalculateWhileEditing: false,\r\n                texts: {\r\n                    sum: messageLocalization.format(\"dxDataGrid-summarySum\"),\r\n                    sumOtherColumn: messageLocalization.format(\"dxDataGrid-summarySumOtherColumn\"),\r\n                    min: messageLocalization.format(\"dxDataGrid-summaryMin\"),\r\n                    minOtherColumn: messageLocalization.format(\"dxDataGrid-summaryMinOtherColumn\"),\r\n                    max: messageLocalization.format(\"dxDataGrid-summaryMax\"),\r\n                    maxOtherColumn: messageLocalization.format(\"dxDataGrid-summaryMaxOtherColumn\"),\r\n                    avg: messageLocalization.format(\"dxDataGrid-summaryAvg\"),\r\n                    avgOtherColumn: messageLocalization.format(\"dxDataGrid-summaryAvgOtherColumn\"),\r\n                    count: messageLocalization.format(\"dxDataGrid-summaryCount\")\r\n                }\r\n            },\r\n            sortByGroupSummaryInfo: void 0\r\n        }\r\n    },\r\n    views: {\r\n        footerView: FooterView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                _isDataColumn: function(column) {\r\n                    return column && (!isDefined(column.groupIndex) || column.showWhenGrouped)\r\n                },\r\n                _isGroupFooterVisible: function() {\r\n                    var groupItems = this.option(\"summary.groupItems\") || [];\r\n                    for (var i = 0; i < groupItems.length; i++) {\r\n                        var groupItem = groupItems[i];\r\n                        var column = this._columnsController.columnOption(groupItem.showInColumn || groupItem.column);\r\n                        if (groupItem.showInGroupFooter && this._isDataColumn(column)) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                _processGroupItems: function(items, groupCount, options) {\r\n                    var data = options && options.data;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    if (options) {\r\n                        if (void 0 === options.isGroupFooterVisible) {\r\n                            options.isGroupFooterVisible = this._isGroupFooterVisible()\r\n                        }\r\n                        if (data && data.items && options.isGroupFooterVisible && (options.collectContinuationItems || !data.isContinuationOnNextPage)) {\r\n                            result.push({\r\n                                rowType: DATAGRID_GROUP_FOOTER_ROW_TYPE,\r\n                                key: options.path.slice(),\r\n                                data: data,\r\n                                groupIndex: options.path.length - 1,\r\n                                values: []\r\n                            })\r\n                        }\r\n                    }\r\n                    return result\r\n                },\r\n                _processGroupItem: function(groupItem, options) {\r\n                    var that = this;\r\n                    if (!options.summaryGroupItems) {\r\n                        options.summaryGroupItems = that.option(\"summary.groupItems\") || []\r\n                    }\r\n                    if (\"group\" === groupItem.rowType) {\r\n                        var groupColumnIndex = -1;\r\n                        var afterGroupColumnIndex = -1;\r\n                        each(options.visibleColumns, (function(visibleIndex) {\r\n                            var prevColumn = options.visibleColumns[visibleIndex - 1];\r\n                            if (groupItem.groupIndex === this.groupIndex) {\r\n                                groupColumnIndex = this.index\r\n                            }\r\n                            if (visibleIndex > 0 && \"expand\" === prevColumn.command && \"expand\" !== this.command) {\r\n                                afterGroupColumnIndex = this.index\r\n                            }\r\n                        }));\r\n                        groupItem.summaryCells = this._calculateSummaryCells(options.summaryGroupItems, getGroupAggregates(groupItem.data), options.visibleColumns, (function(summaryItem, column) {\r\n                            if (summaryItem.showInGroupFooter) {\r\n                                return -1\r\n                            }\r\n                            if (summaryItem.alignByColumn && column && !isDefined(column.groupIndex) && column.index !== afterGroupColumnIndex) {\r\n                                return column.index\r\n                            } else {\r\n                                return groupColumnIndex\r\n                            }\r\n                        }), true)\r\n                    }\r\n                    if (groupItem.rowType === DATAGRID_GROUP_FOOTER_ROW_TYPE) {\r\n                        groupItem.summaryCells = this._calculateSummaryCells(options.summaryGroupItems, getGroupAggregates(groupItem.data), options.visibleColumns, (function(summaryItem, column) {\r\n                            return summaryItem.showInGroupFooter && that._isDataColumn(column) ? column.index : -1\r\n                        }))\r\n                    }\r\n                    return groupItem\r\n                },\r\n                _calculateSummaryCells: function(summaryItems, aggregates, visibleColumns, calculateTargetColumnIndex, isGroupRow) {\r\n                    var that = this;\r\n                    var summaryCells = [];\r\n                    var summaryCellsByColumns = {};\r\n                    each(summaryItems, (function(summaryIndex, summaryItem) {\r\n                        var column = that._columnsController.columnOption(summaryItem.column);\r\n                        var showInColumn = summaryItem.showInColumn && that._columnsController.columnOption(summaryItem.showInColumn) || column;\r\n                        var columnIndex = calculateTargetColumnIndex(summaryItem, showInColumn);\r\n                        if (columnIndex >= 0) {\r\n                            if (!summaryCellsByColumns[columnIndex]) {\r\n                                summaryCellsByColumns[columnIndex] = []\r\n                            }\r\n                            var aggregate = aggregates[summaryIndex];\r\n                            if (aggregate === aggregate) {\r\n                                var valueFormat;\r\n                                if (isDefined(summaryItem.valueFormat)) {\r\n                                    valueFormat = summaryItem.valueFormat\r\n                                } else if (\"count\" !== summaryItem.summaryType) {\r\n                                    valueFormat = gridCore.getFormatByDataType(column && column.dataType)\r\n                                }\r\n                                summaryCellsByColumns[columnIndex].push(extend({}, summaryItem, {\r\n                                    value: isString(aggregate) && column && column.deserializeValue ? column.deserializeValue(aggregate) : aggregate,\r\n                                    valueFormat: valueFormat,\r\n                                    columnCaption: column && column.index !== columnIndex ? column.caption : void 0\r\n                                }))\r\n                            }\r\n                        }\r\n                    }));\r\n                    if (!isEmptyObject(summaryCellsByColumns)) {\r\n                        visibleColumns.forEach((column, visibleIndex) => {\r\n                            var prevColumn = visibleColumns[visibleIndex - 1];\r\n                            var columnIndex = isGroupRow && (\"expand\" === (null === prevColumn || void 0 === prevColumn ? void 0 : prevColumn.command) || \"expand\" === column.command) ? null === prevColumn || void 0 === prevColumn ? void 0 : prevColumn.index : column.index;\r\n                            summaryCells.push(summaryCellsByColumns[columnIndex] || [])\r\n                        })\r\n                    }\r\n                    return summaryCells\r\n                },\r\n                _getSummaryCells: function(summaryTotalItems, totalAggregates) {\r\n                    var that = this;\r\n                    var columnsController = that._columnsController;\r\n                    return that._calculateSummaryCells(summaryTotalItems, totalAggregates, columnsController.getVisibleColumns(), (function(summaryItem, column) {\r\n                        return that._isDataColumn(column) ? column.index : -1\r\n                    }))\r\n                },\r\n                _updateItemsCore: function(change) {\r\n                    var summaryCells;\r\n                    var dataSource = this._dataSource;\r\n                    var footerItems = this._footerItems;\r\n                    var oldSummaryCells = footerItems && footerItems[0] && footerItems[0].summaryCells;\r\n                    var summaryTotalItems = this.option(\"summary.totalItems\");\r\n                    this._footerItems = [];\r\n                    if (dataSource && summaryTotalItems && summaryTotalItems.length) {\r\n                        var totalAggregates = dataSource.totalAggregates();\r\n                        summaryCells = this._getSummaryCells(summaryTotalItems, totalAggregates);\r\n                        if (change && change.repaintChangesOnly && oldSummaryCells) {\r\n                            change.totalColumnIndices = summaryCells.map((function(summaryCell, index) {\r\n                                if (JSON.stringify(summaryCell) !== JSON.stringify(oldSummaryCells[index])) {\r\n                                    return index\r\n                                }\r\n                                return -1\r\n                            })).filter(index => index >= 0)\r\n                        }\r\n                        if (summaryCells.length) {\r\n                            this._footerItems.push({\r\n                                rowType: DATAGRID_TOTAL_FOOTER_ROW_TYPE,\r\n                                summaryCells: summaryCells\r\n                            })\r\n                        }\r\n                    }\r\n                    this.callBase(change)\r\n                },\r\n                _prepareUnsavedDataSelector: function(selector) {\r\n                    if (recalculateWhileEditing(this)) {\r\n                        var editingController = this.getController(\"editing\");\r\n                        if (editingController) {\r\n                            return function(data) {\r\n                                data = editingController.getUpdatedData(data);\r\n                                return selector(data)\r\n                            }\r\n                        }\r\n                    }\r\n                    return selector\r\n                },\r\n                _prepareAggregateSelector: function(selector, aggregator) {\r\n                    selector = this._prepareUnsavedDataSelector(selector);\r\n                    if (\"avg\" === aggregator || \"sum\" === aggregator) {\r\n                        return function(data) {\r\n                            var value = selector(data);\r\n                            return isDefined(value) ? Number(value) : value\r\n                        }\r\n                    }\r\n                    return selector\r\n                },\r\n                _getAggregates: function(summaryItems, remoteOperations) {\r\n                    var that = this;\r\n                    var columnsController = that.getController(\"columns\");\r\n                    var calculateCustomSummary = that.option(\"summary.calculateCustomSummary\");\r\n                    var commonSkipEmptyValues = that.option(\"summary.skipEmptyValues\");\r\n                    return map(summaryItems || [], (function(summaryItem) {\r\n                        var column = columnsController.columnOption(summaryItem.column);\r\n                        var calculateCellValue = column && column.calculateCellValue ? column.calculateCellValue.bind(column) : compileGetter(column ? column.dataField : summaryItem.column);\r\n                        var aggregator = summaryItem.summaryType || \"count\";\r\n                        var selector = summaryItem.column;\r\n                        var skipEmptyValues = isDefined(summaryItem.skipEmptyValues) ? summaryItem.skipEmptyValues : commonSkipEmptyValues;\r\n                        if (remoteOperations) {\r\n                            return {\r\n                                selector: summaryItem.column,\r\n                                summaryType: aggregator\r\n                            }\r\n                        } else {\r\n                            selector = that._prepareAggregateSelector(calculateCellValue, aggregator);\r\n                            if (\"custom\" === aggregator) {\r\n                                if (!calculateCustomSummary) {\r\n                                    errors.log(\"E1026\");\r\n                                    calculateCustomSummary = function() {}\r\n                                }\r\n                                var options = {\r\n                                    component: that.component,\r\n                                    name: summaryItem.name\r\n                                };\r\n                                calculateCustomSummary(options);\r\n                                options.summaryProcess = \"calculate\";\r\n                                aggregator = {\r\n                                    seed: function(groupIndex) {\r\n                                        options.summaryProcess = \"start\";\r\n                                        options.totalValue = void 0;\r\n                                        options.groupIndex = groupIndex;\r\n                                        delete options.value;\r\n                                        calculateCustomSummary(options);\r\n                                        return options.totalValue\r\n                                    },\r\n                                    step: function(totalValue, value) {\r\n                                        options.summaryProcess = \"calculate\";\r\n                                        options.totalValue = totalValue;\r\n                                        options.value = value;\r\n                                        calculateCustomSummary(options);\r\n                                        return options.totalValue\r\n                                    },\r\n                                    finalize: function(totalValue) {\r\n                                        options.summaryProcess = \"finalize\";\r\n                                        options.totalValue = totalValue;\r\n                                        delete options.value;\r\n                                        calculateCustomSummary(options);\r\n                                        return options.totalValue\r\n                                    }\r\n                                }\r\n                            }\r\n                            return {\r\n                                selector: selector,\r\n                                aggregator: aggregator,\r\n                                skipEmptyValues: skipEmptyValues\r\n                            }\r\n                        }\r\n                    }))\r\n                },\r\n                _addSortInfo: function(sortByGroups, groupColumn, selector, sortOrder) {\r\n                    if (groupColumn) {\r\n                        var groupIndex = groupColumn.groupIndex;\r\n                        sortOrder = sortOrder || groupColumn.sortOrder;\r\n                        if (isDefined(groupIndex)) {\r\n                            sortByGroups[groupIndex] = sortByGroups[groupIndex] || [];\r\n                            sortByGroups[groupIndex].push({\r\n                                selector: selector,\r\n                                desc: \"desc\" === sortOrder\r\n                            })\r\n                        }\r\n                    }\r\n                },\r\n                _findSummaryItem: function(summaryItems, name) {\r\n                    var summaryItemIndex = -1;\r\n                    if (isDefined(name)) {\r\n                        each(summaryItems || [], (function(index) {\r\n                            if (this.name === name || index === name || this.summaryType === name || this.column === name || (summaryItem = this, summaryType = summaryItem.summaryType, column = summaryItem.column, summaryType && column && summaryType + \"_\" + column) === name) {\r\n                                summaryItemIndex = index;\r\n                                return false\r\n                            }\r\n                            var summaryItem, summaryType, column\r\n                        }))\r\n                    }\r\n                    return summaryItemIndex\r\n                },\r\n                _getSummarySortByGroups: function(sortByGroupSummaryInfo, groupSummaryItems) {\r\n                    var that = this;\r\n                    var columnsController = that._columnsController;\r\n                    var groupColumns = columnsController.getGroupColumns();\r\n                    var sortByGroups = [];\r\n                    if (!groupSummaryItems || !groupSummaryItems.length) {\r\n                        return\r\n                    }\r\n                    each(sortByGroupSummaryInfo || [], (function() {\r\n                        var sortOrder = this.sortOrder;\r\n                        var groupColumn = this.groupColumn;\r\n                        var summaryItemIndex = that._findSummaryItem(groupSummaryItems, this.summaryItem);\r\n                        if (summaryItemIndex < 0) {\r\n                            return\r\n                        }\r\n                        var selector = function(data) {\r\n                            return getGroupAggregates(data)[summaryItemIndex]\r\n                        };\r\n                        if (isDefined(groupColumn)) {\r\n                            groupColumn = columnsController.columnOption(groupColumn);\r\n                            that._addSortInfo(sortByGroups, groupColumn, selector, sortOrder)\r\n                        } else {\r\n                            each(groupColumns, (function(groupIndex, groupColumn) {\r\n                                that._addSortInfo(sortByGroups, groupColumn, selector, sortOrder)\r\n                            }))\r\n                        }\r\n                    }));\r\n                    return sortByGroups\r\n                },\r\n                _createDataSourceAdapterCore: function(dataSource, remoteOperations) {\r\n                    var that = this;\r\n                    var dataSourceAdapter = this.callBase(dataSource, remoteOperations);\r\n                    dataSourceAdapter.summaryGetter((function(currentRemoteOperations) {\r\n                        return that._getSummaryOptions(currentRemoteOperations || remoteOperations)\r\n                    }));\r\n                    return dataSourceAdapter\r\n                },\r\n                _getSummaryOptions: function(remoteOperations) {\r\n                    var that = this;\r\n                    var groupSummaryItems = that.option(\"summary.groupItems\");\r\n                    var totalSummaryItems = that.option(\"summary.totalItems\");\r\n                    var sortByGroupSummaryInfo = that.option(\"sortByGroupSummaryInfo\");\r\n                    var groupAggregates = that._getAggregates(groupSummaryItems, remoteOperations && remoteOperations.grouping && remoteOperations.summary);\r\n                    var totalAggregates = that._getAggregates(totalSummaryItems, remoteOperations && remoteOperations.summary);\r\n                    if (groupAggregates.length || totalAggregates.length) {\r\n                        return {\r\n                            groupAggregates: groupAggregates,\r\n                            totalAggregates: totalAggregates,\r\n                            sortByGroups: function() {\r\n                                return that._getSummarySortByGroups(sortByGroupSummaryInfo, groupSummaryItems)\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    var methods = this.callBase();\r\n                    methods.push(\"getTotalSummaryValue\");\r\n                    return methods\r\n                },\r\n                getTotalSummaryValue: function(summaryItemName) {\r\n                    var summaryItemIndex = this._findSummaryItem(this.option(\"summary.totalItems\"), summaryItemName);\r\n                    var aggregates = this._dataSource.totalAggregates();\r\n                    if (aggregates.length && summaryItemIndex > -1) {\r\n                        return aggregates[summaryItemIndex]\r\n                    }\r\n                },\r\n                optionChanged: function(args) {\r\n                    if (\"summary\" === args.name || \"sortByGroupSummaryInfo\" === args.name) {\r\n                        args.name = \"dataSource\"\r\n                    }\r\n                    this.callBase(args)\r\n                },\r\n                init: function() {\r\n                    this._footerItems = [];\r\n                    this.callBase()\r\n                },\r\n                footerItems: function() {\r\n                    return this._footerItems\r\n                }\r\n            },\r\n            editing: {\r\n                _refreshSummary: function() {\r\n                    if (recalculateWhileEditing(this) && !this.isSaving()) {\r\n                        this._dataController.refresh({\r\n                            load: true,\r\n                            changesOnly: true\r\n                        })\r\n                    }\r\n                },\r\n                _addChange: function(params) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    if (params.type) {\r\n                        this._refreshSummary()\r\n                    }\r\n                    return result\r\n                },\r\n                _removeChange: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    this._refreshSummary();\r\n                    return result\r\n                },\r\n                cancelEditData: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    this._refreshSummary();\r\n                    return result\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    row && $row.addClass(row.rowType === DATAGRID_GROUP_FOOTER_ROW_TYPE ? DATAGRID_GROUP_FOOTER_CLASS : \"\");\r\n                    return $row\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (\"group\" === options.row.rowType && options.row.summaryCells && options.row.summaryCells.length) {\r\n                        this._renderGroupSummaryCells($row, options)\r\n                    }\r\n                },\r\n                _hasAlignByColumnSummaryItems: function(columnIndex, options) {\r\n                    return !isDefined(options.columns[columnIndex].groupIndex) && options.row.summaryCells[columnIndex].length\r\n                },\r\n                _getAlignByColumnCellCount: function(groupCellColSpan, options) {\r\n                    var alignByColumnCellCount = 0;\r\n                    for (var i = 1; i < groupCellColSpan; i++) {\r\n                        var columnIndex = options.row.summaryCells.length - i;\r\n                        alignByColumnCellCount = this._hasAlignByColumnSummaryItems(columnIndex, options) ? i : alignByColumnCellCount\r\n                    }\r\n                    return alignByColumnCellCount\r\n                },\r\n                _renderGroupSummaryCells: function($row, options) {\r\n                    var $groupCell = $row.children().last();\r\n                    var groupCellColSpan = Number($groupCell.attr(\"colSpan\")) || 1;\r\n                    var alignByColumnCellCount = this._getAlignByColumnCellCount(groupCellColSpan, options);\r\n                    this._renderGroupSummaryCellsCore($groupCell, options, groupCellColSpan, alignByColumnCellCount)\r\n                },\r\n                _renderGroupSummaryCellsCore: function($groupCell, options, groupCellColSpan, alignByColumnCellCount) {\r\n                    if (alignByColumnCellCount > 0) {\r\n                        $groupCell.attr(\"colSpan\", groupCellColSpan - alignByColumnCellCount);\r\n                        for (var i = 0; i < alignByColumnCellCount; i++) {\r\n                            var columnIndex = options.columns.length - alignByColumnCellCount + i;\r\n                            this._renderCell($groupCell.parent(), extend({\r\n                                column: options.columns[columnIndex],\r\n                                columnIndex: this._getSummaryCellIndex(columnIndex, options.columns)\r\n                            }, options))\r\n                        }\r\n                    }\r\n                },\r\n                _getSummaryCellIndex: function(columnIndex) {\r\n                    return columnIndex\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    if (!options.column.command && !isDefined(options.column.groupIndex) && options.summaryItems && options.summaryItems.length) {\r\n                        return renderSummaryCell\r\n                    } else {\r\n                        return this.callBase(options)\r\n                    }\r\n                },\r\n                _getCellOptions: function(options) {\r\n                    var parameters = this.callBase(options);\r\n                    if (options.row.summaryCells) {\r\n                        return extend(parameters, getSummaryCellOptions(this, options))\r\n                    } else {\r\n                        return parameters\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_fixing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as wheelEventName\r\n} from \"../../events/core/wheel\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport gridCoreUtils from \"../grid_core/ui.grid_core.utils\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar FIRST_CELL_CLASS = \"dx-first-cell\";\r\nvar LAST_CELL_CLASS = \"dx-last-cell\";\r\nvar HOVER_STATE_CLASS = \"dx-state-hover\";\r\nvar FIXED_COL_CLASS = \"dx-col-fixed\";\r\nvar FIXED_COLUMNS_CLASS = \"dx-fixed-columns\";\r\nvar POINTER_EVENTS_NONE_CLASS = \"dx-pointer-events-none\";\r\nvar COMMAND_TRANSPARENT = \"transparent\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar getTransparentColumnIndex = function(fixedColumns) {\r\n    var transparentColumnIndex = -1;\r\n    each(fixedColumns, (function(index, column) {\r\n        if (column.command === COMMAND_TRANSPARENT) {\r\n            transparentColumnIndex = index;\r\n            return false\r\n        }\r\n    }));\r\n    return transparentColumnIndex\r\n};\r\nvar normalizeColumnWidths = function(fixedColumns, widths, fixedWidths) {\r\n    var fixedColumnIndex = 0;\r\n    if (fixedColumns && widths && fixedWidths) {\r\n        for (var i = 0; i < fixedColumns.length; i++) {\r\n            if (fixedColumns[i].command === COMMAND_TRANSPARENT) {\r\n                fixedColumnIndex += fixedColumns[i].colspan\r\n            } else {\r\n                if (widths[fixedColumnIndex] < fixedWidths[i]) {\r\n                    widths[fixedColumnIndex] = fixedWidths[i]\r\n                }\r\n                fixedColumnIndex++\r\n            }\r\n        }\r\n    }\r\n    return widths\r\n};\r\nvar baseFixedColumns = {\r\n    init: function() {\r\n        this.callBase();\r\n        this._isFixedTableRendering = false;\r\n        this._isFixedColumns = false\r\n    },\r\n    _createCol: function(column) {\r\n        return this.callBase(column).toggleClass(FIXED_COL_CLASS, !!(this._isFixedTableRendering && (column.fixed || column.command && column.command !== COMMAND_TRANSPARENT)))\r\n    },\r\n    _correctColumnIndicesForFixedColumns: function(fixedColumns, change) {\r\n        var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n        var transparentColspan = fixedColumns[transparentColumnIndex].colspan;\r\n        var columnIndices = change && change.columnIndices;\r\n        if (columnIndices) {\r\n            change.columnIndices = columnIndices.map((function(columnIndices) {\r\n                if (columnIndices) {\r\n                    return columnIndices.map((function(columnIndex) {\r\n                        if (columnIndex < transparentColumnIndex) {\r\n                            return columnIndex\r\n                        } else if (columnIndex >= transparentColumnIndex + transparentColspan) {\r\n                            return columnIndex - transparentColspan + 1\r\n                        }\r\n                        return -1\r\n                    })).filter((function(columnIndex) {\r\n                        return columnIndex >= 0\r\n                    }))\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    _partialUpdateFixedTable(fixedColumns) {\r\n        var fixedTableElement = this._fixedTableElement;\r\n        var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n        var transparentColumn = fixedColumns[transparentColumnIndex];\r\n        var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n        var $rows = this._getRowElementsCore(fixedTableElement);\r\n        var $colgroup = fixedTableElement.children(\"colgroup\");\r\n        $colgroup.replaceWith(this._createColGroup(fixedColumns));\r\n        for (var i = 0; i < $rows.length; i++) {\r\n            var cellElements = $rows[i].childNodes;\r\n            var colIndex = columnIndexOffset + 1;\r\n            for (var j = 0; j < cellElements.length; j++) {\r\n                cellElements[j].setAttribute(\"aria-colindex\", colIndex);\r\n                if (j === transparentColumnIndex) {\r\n                    cellElements[j].setAttribute(\"colspan\", transparentColumn.colspan);\r\n                    colIndex += transparentColumn.colspan\r\n                } else {\r\n                    colIndex++\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _renderTable: function(options) {\r\n        var $fixedTable;\r\n        var fixedColumns = this.getFixedColumns();\r\n        this._isFixedColumns = !!fixedColumns.length;\r\n        var $table = this.callBase(options);\r\n        if (this._isFixedColumns) {\r\n            var change = null === options || void 0 === options ? void 0 : options.change;\r\n            this._isFixedTableRendering = true;\r\n            if (null !== change && void 0 !== change && change.virtualColumnsScrolling && true !== this.option(\"scrolling.legacyMode\")) {\r\n                this._partialUpdateFixedTable(fixedColumns)\r\n            } else {\r\n                var columnIndices = null === change || void 0 === change ? void 0 : change.columnIndices;\r\n                this._correctColumnIndicesForFixedColumns(fixedColumns, change);\r\n                $fixedTable = this._createTable(fixedColumns);\r\n                this._renderRows($fixedTable, extend({}, options, {\r\n                    columns: fixedColumns\r\n                }));\r\n                this._updateContent($fixedTable, change);\r\n                if (columnIndices) {\r\n                    change.columnIndices = columnIndices\r\n                }\r\n            }\r\n            this._isFixedTableRendering = false\r\n        } else {\r\n            this._fixedTableElement && this._fixedTableElement.parent().remove();\r\n            this._fixedTableElement = null\r\n        }\r\n        return $table\r\n    },\r\n    _renderRow: function($table, options) {\r\n        var fixedCorrection;\r\n        var cells = options.row.cells;\r\n        this.callBase.apply(this, arguments);\r\n        if (this._isFixedTableRendering && cells && cells.length) {\r\n            fixedCorrection = 0;\r\n            var fixedCells = options.row.cells || [];\r\n            cells = cells.slice();\r\n            options.row.cells = cells;\r\n            for (var i = 0; i < fixedCells.length; i++) {\r\n                if (fixedCells[i].column && fixedCells[i].column.command === COMMAND_TRANSPARENT) {\r\n                    fixedCorrection = (fixedCells[i].column.colspan || 1) - 1;\r\n                    continue\r\n                }\r\n                cells[i + fixedCorrection] = fixedCells[i]\r\n            }\r\n        }\r\n    },\r\n    _createCell: function(options) {\r\n        var that = this;\r\n        var column = options.column;\r\n        var columnCommand = column && column.command;\r\n        var rowType = options.rowType;\r\n        var $cell = that.callBase.apply(that, arguments);\r\n        var fixedColumns;\r\n        var prevFixedColumn;\r\n        var transparentColumnIndex;\r\n        if (that._isFixedTableRendering || \"filter\" === rowType) {\r\n            fixedColumns = that.getFixedColumns();\r\n            transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n            prevFixedColumn = fixedColumns[transparentColumnIndex - 1]\r\n        }\r\n        if (that._isFixedTableRendering) {\r\n            if (columnCommand === COMMAND_TRANSPARENT) {\r\n                $cell.addClass(POINTER_EVENTS_NONE_CLASS).toggleClass(FIRST_CELL_CLASS, 0 === transparentColumnIndex || prevFixedColumn && \"expand\" === prevFixedColumn.command).toggleClass(LAST_CELL_CLASS, fixedColumns.length && transparentColumnIndex === fixedColumns.length - 1);\r\n                if (\"freeSpace\" !== rowType) {\r\n                    gridCoreUtils.setEmptyText($cell)\r\n                }\r\n            }\r\n        } else if (\"filter\" === rowType) {\r\n            $cell.toggleClass(FIRST_CELL_CLASS, options.columnIndex === transparentColumnIndex)\r\n        }\r\n        var isRowAltStyle = that.option(\"rowAlternationEnabled\") && options.isAltRow;\r\n        if (browser.mozilla && options.column.fixed && \"group\" !== options.rowType && !isRowAltStyle) {\r\n            $cell.addClass(FIXED_COL_CLASS)\r\n        }\r\n        return $cell\r\n    },\r\n    _wrapTableInScrollContainer: function() {\r\n        var $scrollContainer = this.callBase.apply(this, arguments);\r\n        if (this._isFixedTableRendering) {\r\n            $scrollContainer.addClass(this.addWidgetPrefix(CONTENT_FIXED_CLASS))\r\n        }\r\n        return $scrollContainer\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var isEmptyCell;\r\n        var column = options.column;\r\n        var isFixedTableRendering = this._isFixedTableRendering;\r\n        var isGroupCell = \"group\" === options.rowType && isDefined(column.groupIndex);\r\n        if (isFixedTableRendering && isGroupCell && !column.command && !column.groupCellTemplate) {\r\n            $cell.css(\"pointerEvents\", \"none\")\r\n        }\r\n        if (!isFixedTableRendering && this._isFixedColumns) {\r\n            isEmptyCell = column.fixed || column.command && false !== column.fixed;\r\n            if (isGroupCell) {\r\n                isEmptyCell = false;\r\n                if (options.row.summaryCells && options.row.summaryCells.length) {\r\n                    var columns = this._columnsController.getVisibleColumns();\r\n                    var alignByFixedColumnCellCount = this._getAlignByColumnCellCount ? this._getAlignByColumnCellCount(column.colspan, {\r\n                        columns: columns,\r\n                        row: options.row,\r\n                        isFixed: true\r\n                    }) : 0;\r\n                    if (alignByFixedColumnCellCount > 0) {\r\n                        var transparentColumnIndex = getTransparentColumnIndex(this._columnsController.getFixedColumns());\r\n                        isEmptyCell = columns.length - alignByFixedColumnCellCount < transparentColumnIndex\r\n                    }\r\n                }\r\n            }\r\n            if (isEmptyCell) {\r\n                if (column.command && \"buttons\" !== column.type || \"group\" === options.rowType) {\r\n                    $cell.html(\"&nbsp;\").addClass(column.cssClass);\r\n                    return\r\n                } else {\r\n                    $cell.addClass(\"dx-hidden-cell\")\r\n                }\r\n            }\r\n        }\r\n        if (column.command !== COMMAND_TRANSPARENT) {\r\n            this.callBase($cell, options)\r\n        }\r\n    },\r\n    _getCellElementsCore: function(rowIndex) {\r\n        var cellElements = this.callBase.apply(this, arguments);\r\n        var isGroupRow = cellElements.parent().hasClass(GROUP_ROW_CLASS);\r\n        var headerRowIndex = \"columnHeadersView\" === this.name ? rowIndex : void 0;\r\n        if (this._fixedTableElement && cellElements) {\r\n            var fixedColumns = this.getFixedColumns(headerRowIndex);\r\n            var fixedCellElements = this._getRowElements(this._fixedTableElement).eq(rowIndex).children(\"td\");\r\n            each(fixedCellElements, (columnIndex, cell) => {\r\n                if (isGroupRow) {\r\n                    if (cellElements[columnIndex] && \"hidden\" !== cell.style.visibility) {\r\n                        cellElements[columnIndex] = cell\r\n                    }\r\n                } else {\r\n                    var fixedColumn = fixedColumns[columnIndex];\r\n                    if (fixedColumn) {\r\n                        if (fixedColumn.command === COMMAND_TRANSPARENT) {\r\n                            if (fixedCellElements.eq(columnIndex).hasClass(MASTER_DETAIL_CELL_CLASS)) {\r\n                                cellElements[columnIndex] = cell || cellElements[columnIndex]\r\n                            }\r\n                        } else {\r\n                            var fixedColumnIndex = this._columnsController.getVisibleIndexByColumn(fixedColumn, headerRowIndex);\r\n                            cellElements[fixedColumnIndex] = cell || cellElements[fixedColumnIndex]\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        return cellElements\r\n    },\r\n    getColumnWidths: function() {\r\n        var fixedWidths;\r\n        var result = this.callBase();\r\n        var fixedColumns = this.getFixedColumns();\r\n        if (this._fixedTableElement && result.length) {\r\n            fixedWidths = this.callBase(this._fixedTableElement)\r\n        }\r\n        return normalizeColumnWidths(fixedColumns, result, fixedWidths)\r\n    },\r\n    getTableElement: function() {\r\n        var tableElement = this._isFixedTableRendering ? this._fixedTableElement : this.callBase();\r\n        return tableElement\r\n    },\r\n    setTableElement: function(tableElement) {\r\n        if (this._isFixedTableRendering) {\r\n            this._fixedTableElement = tableElement.addClass(POINTER_EVENTS_NONE_CLASS)\r\n        } else {\r\n            this.callBase(tableElement)\r\n        }\r\n    },\r\n    getColumns: function(rowIndex, $tableElement) {\r\n        $tableElement = $tableElement || this.getTableElement();\r\n        if (this._isFixedTableRendering || $tableElement && $tableElement.closest(\"table\").parent(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).length) {\r\n            return this.getFixedColumns(rowIndex)\r\n        }\r\n        return this.callBase(rowIndex, $tableElement)\r\n    },\r\n    getRowIndex: function($row) {\r\n        var $fixedTable = this._fixedTableElement;\r\n        if ($fixedTable && $fixedTable.find($row).length) {\r\n            return this._getRowElements($fixedTable).index($row)\r\n        }\r\n        return this.callBase($row)\r\n    },\r\n    getTableElements: function() {\r\n        var result = this.callBase.apply(this, arguments);\r\n        if (this._fixedTableElement) {\r\n            result = $([result.get(0), this._fixedTableElement.get(0)])\r\n        }\r\n        return result\r\n    },\r\n    getFixedColumns: function(rowIndex) {\r\n        return this._columnsController.getFixedColumns(rowIndex)\r\n    },\r\n    getFixedColumnsOffset: function() {\r\n        var offset = {\r\n            left: 0,\r\n            right: 0\r\n        };\r\n        var $transparentColumn;\r\n        if (this._fixedTableElement) {\r\n            $transparentColumn = this.getTransparentColumnElement();\r\n            var positionTransparentColumn = $transparentColumn.position();\r\n            offset = {\r\n                left: positionTransparentColumn.left,\r\n                right: getOuterWidth(this.element(), true) - (getOuterWidth($transparentColumn, true) + positionTransparentColumn.left)\r\n            }\r\n        }\r\n        return offset\r\n    },\r\n    getTransparentColumnElement: function() {\r\n        return this._fixedTableElement && this._fixedTableElement.find(\".\" + POINTER_EVENTS_NONE_CLASS).first()\r\n    },\r\n    getFixedTableElement: function() {\r\n        return this._fixedTableElement\r\n    },\r\n    isFixedColumns: function() {\r\n        return this._isFixedColumns\r\n    },\r\n    _resizeCore: function() {\r\n        this.callBase();\r\n        this.synchronizeRows()\r\n    },\r\n    setColumnWidths: function(options) {\r\n        var columns;\r\n        var visibleColumns = this._columnsController.getVisibleColumns();\r\n        var widths = options.widths;\r\n        var isWidthsSynchronized = widths && widths.length && isDefined(visibleColumns[0].visibleWidth);\r\n        var optionNames = options.optionNames;\r\n        var isColumnWidthChanged = optionNames && optionNames.width;\r\n        var useVisibleColumns = false;\r\n        this.callBase.apply(this, arguments);\r\n        if (this._fixedTableElement) {\r\n            var hasAutoWidth = widths && widths.some((function(width) {\r\n                return \"auto\" === width\r\n            }));\r\n            useVisibleColumns = hasAutoWidth && (!isWidthsSynchronized || !this.isScrollbarVisible(true));\r\n            if (useVisibleColumns) {\r\n                columns = visibleColumns\r\n            }\r\n            this.callBase(extend({}, options, {\r\n                $tableElement: this._fixedTableElement,\r\n                columns: columns,\r\n                fixed: true\r\n            }))\r\n        }\r\n        if (isWidthsSynchronized || isColumnWidthChanged && this.option(\"wordWrapEnabled\")) {\r\n            this.synchronizeRows()\r\n        }\r\n    },\r\n    _createColGroup: function(columns) {\r\n        if (this._isFixedTableRendering && !this.option(\"columnAutoWidth\")) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var useVisibleColumns = visibleColumns.filter((function(column) {\r\n                return !column.width\r\n            })).length;\r\n            if (useVisibleColumns) {\r\n                columns = visibleColumns\r\n            }\r\n        }\r\n        return this.callBase(columns)\r\n    },\r\n    _getClientHeight: function(element) {\r\n        var boundingClientRectElement = element.getBoundingClientRect && getBoundingRect(element);\r\n        return boundingClientRectElement && boundingClientRectElement.height ? boundingClientRectElement.height : element.clientHeight\r\n    },\r\n    synchronizeRows: function() {\r\n        var rowHeights = [];\r\n        var fixedRowHeights = [];\r\n        var rowIndex;\r\n        var $rowElements;\r\n        var $fixedRowElements;\r\n        var $contentElement;\r\n        if (this._isFixedColumns && this._tableElement && this._fixedTableElement) {\r\n            var heightTable = this._getClientHeight(this._tableElement.get(0));\r\n            var heightFixedTable = this._getClientHeight(this._fixedTableElement.get(0));\r\n            $rowElements = this._getRowElements(this._tableElement);\r\n            $fixedRowElements = this._getRowElements(this._fixedTableElement);\r\n            $contentElement = this._findContentElement();\r\n            if (heightTable !== heightFixedTable) {\r\n                $contentElement && $contentElement.css(\"height\", heightTable);\r\n                $rowElements.css(\"height\", \"\");\r\n                $fixedRowElements.css(\"height\", \"\");\r\n                for (rowIndex = 0; rowIndex < $rowElements.length; rowIndex++) {\r\n                    rowHeights.push(this._getClientHeight($rowElements.get(rowIndex)));\r\n                    fixedRowHeights.push(this._getClientHeight($fixedRowElements.get(rowIndex)))\r\n                }\r\n                for (rowIndex = 0; rowIndex < $rowElements.length; rowIndex++) {\r\n                    var rowHeight = rowHeights[rowIndex];\r\n                    var fixedRowHeight = fixedRowHeights[rowIndex];\r\n                    if (rowHeight > fixedRowHeight) {\r\n                        $fixedRowElements.eq(rowIndex).css(\"height\", rowHeight)\r\n                    } else if (rowHeight < fixedRowHeight) {\r\n                        $rowElements.eq(rowIndex).css(\"height\", fixedRowHeight)\r\n                    }\r\n                }\r\n                $contentElement && $contentElement.css(\"height\", \"\")\r\n            }\r\n        }\r\n    },\r\n    setScrollerSpacing: function(width) {\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        this.callBase(width);\r\n        this.element().children(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).css({\r\n            paddingLeft: rtlEnabled ? width : \"\",\r\n            paddingRight: !rtlEnabled ? width : \"\"\r\n        })\r\n    }\r\n};\r\nvar ColumnHeadersViewFixedColumnsExtender = extend({}, baseFixedColumns, {\r\n    _getRowVisibleColumns: function(rowIndex) {\r\n        if (this._isFixedTableRendering) {\r\n            return this.getFixedColumns(rowIndex)\r\n        }\r\n        return this.callBase(rowIndex)\r\n    },\r\n    getContextMenuItems: function(options) {\r\n        var column = options.column;\r\n        var columnFixingOptions = this.option(\"columnFixing\");\r\n        var items = this.callBase(options);\r\n        if (options.row && \"header\" === options.row.rowType) {\r\n            if (true === columnFixingOptions.enabled && column && column.allowFixing) {\r\n                var onItemClick = params => {\r\n                    switch (params.itemData.value) {\r\n                        case \"none\":\r\n                            this._columnsController.columnOption(column.index, \"fixed\", false);\r\n                            break;\r\n                        case \"left\":\r\n                            this._columnsController.columnOption(column.index, {\r\n                                fixed: true,\r\n                                fixedPosition: \"left\"\r\n                            });\r\n                            break;\r\n                        case \"right\":\r\n                            this._columnsController.columnOption(column.index, {\r\n                                fixed: true,\r\n                                fixedPosition: \"right\"\r\n                            })\r\n                    }\r\n                };\r\n                items = items || [];\r\n                items.push({\r\n                    text: columnFixingOptions.texts.fix,\r\n                    beginGroup: true,\r\n                    items: [{\r\n                        text: columnFixingOptions.texts.leftPosition,\r\n                        value: \"left\",\r\n                        disabled: column.fixed && (!column.fixedPosition || \"left\" === column.fixedPosition),\r\n                        onItemClick: onItemClick\r\n                    }, {\r\n                        text: columnFixingOptions.texts.rightPosition,\r\n                        value: \"right\",\r\n                        disabled: column.fixed && \"right\" === column.fixedPosition,\r\n                        onItemClick: onItemClick\r\n                    }]\r\n                }, {\r\n                    text: columnFixingOptions.texts.unfix,\r\n                    value: \"none\",\r\n                    disabled: !column.fixed,\r\n                    onItemClick: onItemClick\r\n                })\r\n            }\r\n        }\r\n        return items\r\n    },\r\n    getFixedColumnElements: function(rowIndex) {\r\n        if (isDefined(rowIndex)) {\r\n            return this._fixedTableElement && this._getRowElements(this._fixedTableElement).eq(rowIndex).children()\r\n        }\r\n        var columnElements = this.getColumnElements();\r\n        var $transparentColumnElement = this.getTransparentColumnElement();\r\n        if (columnElements && $transparentColumnElement && $transparentColumnElement.length) {\r\n            var transparentColumnIndex = getTransparentColumnIndex(this.getFixedColumns());\r\n            columnElements.splice(transparentColumnIndex, $transparentColumnElement.get(0).colSpan, $transparentColumnElement.get(0))\r\n        }\r\n        return columnElements\r\n    },\r\n    getColumnWidths: function() {\r\n        var fixedWidths;\r\n        var result = this.callBase();\r\n        var $fixedColumnElements = this.getFixedColumnElements();\r\n        var fixedColumns = this.getFixedColumns();\r\n        if (this._fixedTableElement) {\r\n            if ($fixedColumnElements && $fixedColumnElements.length) {\r\n                fixedWidths = this._getWidths($fixedColumnElements)\r\n            } else {\r\n                fixedWidths = this.callBase(this._fixedTableElement)\r\n            }\r\n        }\r\n        return normalizeColumnWidths(fixedColumns, result, fixedWidths)\r\n    }\r\n});\r\nvar RowsViewFixedColumnsExtender = extend({}, baseFixedColumns, {\r\n    _detachHoverEvents: function() {\r\n        this._fixedTableElement && eventsEngine.off(this._fixedTableElement, \"mouseover mouseout\", \".dx-data-row\");\r\n        this._tableElement && eventsEngine.off(this._tableElement, \"mouseover mouseout\", \".dx-data-row\")\r\n    },\r\n    _attachHoverEvents: function() {\r\n        var that = this;\r\n        var attachHoverEvent = function($table) {\r\n            eventsEngine.on($table, \"mouseover mouseout\", \".dx-data-row\", that.createAction((function(args) {\r\n                var event = args.event;\r\n                var rowIndex = that.getRowIndex($(event.target).closest(\".dx-row\"));\r\n                var isHover = \"mouseover\" === event.type;\r\n                if (rowIndex >= 0) {\r\n                    that._tableElement && that._getRowElements(that._tableElement).eq(rowIndex).toggleClass(HOVER_STATE_CLASS, isHover);\r\n                    that._fixedTableElement && that._getRowElements(that._fixedTableElement).eq(rowIndex).toggleClass(HOVER_STATE_CLASS, isHover)\r\n                }\r\n            })))\r\n        };\r\n        if (that._fixedTableElement && that._tableElement) {\r\n            attachHoverEvent(that._fixedTableElement);\r\n            attachHoverEvent(that._tableElement)\r\n        }\r\n    },\r\n    _findContentElement: function() {\r\n        var that = this;\r\n        var $content;\r\n        var scrollTop;\r\n        var contentClass = that.addWidgetPrefix(CONTENT_CLASS);\r\n        var element = that.element();\r\n        var scrollDelay = browser.mozilla ? 60 : 0;\r\n        if (element && that._isFixedTableRendering) {\r\n            $content = element.children(\".\" + contentClass);\r\n            var scrollable = that.getScrollable();\r\n            if (!$content.length && scrollable) {\r\n                $content = $(\"<div>\").addClass(contentClass);\r\n                eventsEngine.on($content, \"scroll\", (function(e) {\r\n                    clearTimeout(that._fixedScrollTimeout);\r\n                    that._fixedScrollTimeout = setTimeout((function() {\r\n                        scrollTop = $(e.target).scrollTop();\r\n                        scrollable.scrollTo({\r\n                            y: scrollTop\r\n                        })\r\n                    }), scrollDelay)\r\n                }));\r\n                eventsEngine.on($content, wheelEventName, (function(e) {\r\n                    var $nearestScrollable = $(e.target).closest(\".dx-scrollable\");\r\n                    var shouldScroll = false;\r\n                    if (scrollable && scrollable.$element().is($nearestScrollable)) {\r\n                        shouldScroll = true\r\n                    } else {\r\n                        var nearestScrollableInstance = $nearestScrollable.length && Scrollable.getInstance($nearestScrollable.get(0));\r\n                        var nearestScrollableHasVerticalScrollbar = nearestScrollableInstance && nearestScrollableInstance.scrollHeight() - nearestScrollableInstance.clientHeight() > 0;\r\n                        shouldScroll = nearestScrollableInstance && !nearestScrollableHasVerticalScrollbar\r\n                    }\r\n                    if (shouldScroll) {\r\n                        scrollTop = scrollable.scrollTop();\r\n                        scrollable.scrollTo({\r\n                            y: scrollTop - e.delta\r\n                        });\r\n                        if (scrollable.scrollTop() > 0 && scrollable.scrollTop() + scrollable.clientHeight() < scrollable.scrollHeight() + that.getScrollbarWidth()) {\r\n                            return false\r\n                        }\r\n                    }\r\n                }));\r\n                $content.appendTo(element)\r\n            }\r\n            return $content\r\n        }\r\n        return that.callBase()\r\n    },\r\n    _updateScrollable: function() {\r\n        this.callBase();\r\n        var scrollable = this.getScrollable();\r\n        if (null !== scrollable && void 0 !== scrollable && scrollable._disposed) {\r\n            return\r\n        }\r\n        var scrollTop = scrollable && scrollable.scrollOffset().top;\r\n        this._updateFixedTablePosition(scrollTop)\r\n    },\r\n    _renderContent: function(contentElement, tableElement) {\r\n        if (this._isFixedTableRendering) {\r\n            return contentElement.empty().addClass(this.addWidgetPrefix(CONTENT_CLASS) + \" \" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).append(tableElement)\r\n        }\r\n        return this.callBase(contentElement, tableElement)\r\n    },\r\n    _getGroupCellOptions: function(options) {\r\n        if (this._isFixedTableRendering) {\r\n            return this.callBase(extend({}, options, {\r\n                columns: this._columnsController.getVisibleColumns()\r\n            }))\r\n        }\r\n        return this.callBase(options)\r\n    },\r\n    _renderGroupedCells: function($row, options) {\r\n        return this.callBase($row, extend({}, options, {\r\n            columns: this._columnsController.getVisibleColumns()\r\n        }))\r\n    },\r\n    _renderGroupSummaryCells: function($row, options) {\r\n        if (this._isFixedTableRendering) {\r\n            this.callBase($row, extend({}, options, {\r\n                columns: this._columnsController.getVisibleColumns()\r\n            }))\r\n        } else {\r\n            this.callBase($row, options)\r\n        }\r\n    },\r\n    _hasAlignByColumnSummaryItems: function(columnIndex, options) {\r\n        var result = this.callBase.apply(this, arguments);\r\n        var column = options.columns[columnIndex];\r\n        if (options.isFixed) {\r\n            return column.fixed && (result || \"right\" === column.fixedPosition)\r\n        }\r\n        return result && (!this._isFixedColumns || !column.fixed)\r\n    },\r\n    _renderGroupSummaryCellsCore: function($groupCell, options, groupCellColSpan, alignByColumnCellCount) {\r\n        var alignByFixedColumnCellCount;\r\n        if (this._isFixedTableRendering) {\r\n            options.isFixed = true;\r\n            alignByFixedColumnCellCount = this._getAlignByColumnCellCount(groupCellColSpan, options);\r\n            options.isFixed = false;\r\n            var startColumnIndex = options.columns.length - alignByFixedColumnCellCount;\r\n            options = extend({}, options, {\r\n                columns: this.getFixedColumns()\r\n            });\r\n            var transparentColumnIndex = getTransparentColumnIndex(options.columns);\r\n            if (startColumnIndex < transparentColumnIndex) {\r\n                alignByFixedColumnCellCount -= options.columns[transparentColumnIndex].colspan - 1 || 0;\r\n                groupCellColSpan -= options.columns[transparentColumnIndex].colspan - 1 || 0\r\n            } else if (alignByColumnCellCount > 0) {\r\n                $groupCell.css(\"visibility\", \"hidden\")\r\n            }\r\n            alignByColumnCellCount = alignByFixedColumnCellCount\r\n        }\r\n        this.callBase($groupCell, options, groupCellColSpan, alignByColumnCellCount)\r\n    },\r\n    _getSummaryCellIndex: function(columnIndex, columns) {\r\n        if (this._isFixedTableRendering) {\r\n            var transparentColumnIndex = getTransparentColumnIndex(columns);\r\n            if (columnIndex > transparentColumnIndex) {\r\n                columnIndex += columns[transparentColumnIndex].colspan - 1\r\n            }\r\n            return columnIndex\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _renderCore: function(change) {\r\n        this._detachHoverEvents();\r\n        this.callBase(change);\r\n        var isFixedColumns = this._isFixedColumns;\r\n        this.element().toggleClass(FIXED_COLUMNS_CLASS, isFixedColumns);\r\n        if (this.option(\"hoverStateEnabled\") && isFixedColumns) {\r\n            this._attachHoverEvents()\r\n        }\r\n    },\r\n    setRowsOpacity: function(columnIndex, value) {\r\n        this.callBase(columnIndex, value);\r\n        var $rows = this._getRowElements(this._fixedTableElement);\r\n        this._setRowsOpacityCore($rows, this.getFixedColumns(), columnIndex, value)\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        if (\"hoverStateEnabled\" === args.name && this._isFixedColumns) {\r\n            args.value ? this._attachHoverEvents() : this._detachHoverEvents()\r\n        }\r\n    },\r\n    getCellIndex: function($cell) {\r\n        var $fixedTable = this._fixedTableElement;\r\n        var cellIndex = 0;\r\n        if ($fixedTable && $cell.is(\"td\") && $cell.closest($fixedTable).length) {\r\n            var columns = this.getFixedColumns();\r\n            each(columns, (function(index, column) {\r\n                if (index === $cell[0].cellIndex) {\r\n                    return false\r\n                }\r\n                if (column.colspan) {\r\n                    cellIndex += column.colspan;\r\n                    return\r\n                }\r\n                cellIndex++\r\n            }));\r\n            return cellIndex\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _updateFixedTablePosition: function(scrollTop, needFocus) {\r\n        if (this._fixedTableElement && this._tableElement) {\r\n            var $focusedElement;\r\n            var editorFactory = this.getController(\"editorFactory\");\r\n            this._fixedTableElement.parent().scrollTop(scrollTop);\r\n            if (needFocus && editorFactory) {\r\n                $focusedElement = editorFactory.focus();\r\n                $focusedElement && editorFactory.focus($focusedElement)\r\n            }\r\n        }\r\n    },\r\n    setScrollerSpacing: function(vWidth, hWidth) {\r\n        var styles = {\r\n            marginBottom: 0\r\n        };\r\n        var $fixedContent = this.element().children(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS));\r\n        if ($fixedContent.length && this._fixedTableElement) {\r\n            $fixedContent.css(styles);\r\n            this._fixedTableElement.css(styles);\r\n            styles[this.option(\"rtlEnabled\") ? \"marginLeft\" : \"marginRight\"] = vWidth;\r\n            styles.marginBottom = hWidth;\r\n            var useNativeScrolling = this._scrollable && this._scrollable.option(\"useNative\");\r\n            (useNativeScrolling ? $fixedContent : this._fixedTableElement).css(styles)\r\n        }\r\n    },\r\n    _getElasticScrollTop: function(e) {\r\n        var elasticScrollTop = 0;\r\n        if (e.scrollOffset.top < 0) {\r\n            elasticScrollTop = -e.scrollOffset.top\r\n        } else if (e.reachedBottom) {\r\n            var $scrollableContent = $(this._findContentElement());\r\n            var $scrollableContainer = $(e.component.container());\r\n            var maxScrollTop = Math.max($scrollableContent.get(0).clientHeight - $scrollableContainer.get(0).clientHeight, 0);\r\n            elasticScrollTop = maxScrollTop - e.scrollOffset.top\r\n        }\r\n        return Math.floor(elasticScrollTop)\r\n    },\r\n    _applyElasticScrolling: function(e) {\r\n        if (this._fixedTableElement) {\r\n            var elasticScrollTop = this._getElasticScrollTop(e);\r\n            if (0 !== Math.ceil(elasticScrollTop)) {\r\n                move(this._fixedTableElement, {\r\n                    top: elasticScrollTop\r\n                })\r\n            } else {\r\n                this._fixedTableElement.css(\"transform\", \"\")\r\n            }\r\n        }\r\n    },\r\n    _handleScroll: function(e) {\r\n        this._updateFixedTablePosition(e.scrollOffset.top, true);\r\n        this._applyElasticScrolling(e);\r\n        this.callBase(e)\r\n    },\r\n    _updateContentPosition: function(isRender) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!isRender) {\r\n            this._updateFixedTablePosition(this._scrollTop)\r\n        }\r\n    },\r\n    _afterRowPrepared: function(e) {\r\n        if (this._isFixedTableRendering) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _scrollToElement: function($element) {\r\n        this.callBase($element, this.getFixedColumnsOffset())\r\n    },\r\n    dispose: function() {\r\n        this.callBase.apply(this, arguments);\r\n        clearTimeout(this._fixedScrollTimeout)\r\n    }\r\n});\r\nvar FooterViewFixedColumnsExtender = baseFixedColumns;\r\nexport var columnFixingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnFixing: {\r\n                enabled: false,\r\n                texts: {\r\n                    fix: messageLocalization.format(\"dxDataGrid-columnFixingFix\"),\r\n                    unfix: messageLocalization.format(\"dxDataGrid-columnFixingUnfix\"),\r\n                    leftPosition: messageLocalization.format(\"dxDataGrid-columnFixingLeftPosition\"),\r\n                    rightPosition: messageLocalization.format(\"dxDataGrid-columnFixingRightPosition\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFixedColumnsExtender,\r\n            rowsView: RowsViewFixedColumnsExtender,\r\n            footerView: FooterViewFixedColumnsExtender\r\n        },\r\n        controllers: function() {\r\n            var normalizeColumnIndicesByPoints = function(columns, fixedColumns, pointsByColumns) {\r\n                var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n                var correctIndex = columns.length - fixedColumns.length;\r\n                each(pointsByColumns, (function(_, point) {\r\n                    if (point.index > transparentColumnIndex) {\r\n                        point.columnIndex += correctIndex;\r\n                        point.index += correctIndex\r\n                    }\r\n                }));\r\n                return pointsByColumns\r\n            };\r\n            return {\r\n                draggingHeader: {\r\n                    _generatePointsByColumns: function(options) {\r\n                        var visibleColumns = options.columns;\r\n                        var targetDraggingPanel = options.targetDraggingPanel;\r\n                        if (targetDraggingPanel && \"headers\" === targetDraggingPanel.getName() && targetDraggingPanel.isFixedColumns()) {\r\n                            if (options.sourceColumn.fixed) {\r\n                                if (!options.rowIndex) {\r\n                                    options.columnElements = targetDraggingPanel.getFixedColumnElements(0)\r\n                                }\r\n                                options.columns = targetDraggingPanel.getFixedColumns(options.rowIndex);\r\n                                var pointsByColumns = this.callBase(options);\r\n                                normalizeColumnIndicesByPoints(visibleColumns, options.columns, pointsByColumns);\r\n                                return pointsByColumns\r\n                            }\r\n                        }\r\n                        return this.callBase(options)\r\n                    },\r\n                    _pointCreated: function(point, columns, location, sourceColumn) {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        var targetColumn = columns[point.columnIndex];\r\n                        var $transparentColumn = this._columnHeadersView.getTransparentColumnElement();\r\n                        if (!result && \"headers\" === location && $transparentColumn && $transparentColumn.length) {\r\n                            var boundingRect = getBoundingRect($transparentColumn.get(0));\r\n                            if (sourceColumn && sourceColumn.fixed) {\r\n                                return \"right\" === sourceColumn.fixedPosition ? point.x < boundingRect.right : point.x > boundingRect.left\r\n                            } else {\r\n                                if (targetColumn && targetColumn.fixed && \"right\" !== targetColumn.fixedPosition) {\r\n                                    return true\r\n                                }\r\n                                return point.x < boundingRect.left || point.x > boundingRect.right\r\n                            }\r\n                        }\r\n                        return result\r\n                    }\r\n                },\r\n                columnsResizer: {\r\n                    _generatePointsByColumns: function() {\r\n                        var that = this;\r\n                        var columnsController = that._columnsController;\r\n                        var columns = columnsController && that._columnsController.getVisibleColumns();\r\n                        var fixedColumns = columnsController && that._columnsController.getFixedColumns();\r\n                        var cells = that._columnHeadersView.getFixedColumnElements();\r\n                        var pointsByFixedColumns = [];\r\n                        that.callBase();\r\n                        if (cells && cells.length > 0) {\r\n                            pointsByFixedColumns = gridCoreUtils.getPointsByColumns(cells, (function(point) {\r\n                                return that._pointCreated(point, cells.length, fixedColumns)\r\n                            }));\r\n                            that._pointsByFixedColumns = normalizeColumnIndicesByPoints(columns, fixedColumns, pointsByFixedColumns)\r\n                        }\r\n                    },\r\n                    _pointCreated: function(point, cellsLength, columns) {\r\n                        var isWidgetResizingMode = \"widget\" === this.option(\"columnResizingMode\");\r\n                        if (point.index > 0 && point.index < cellsLength) {\r\n                            var currentColumn = columns[point.columnIndex - 1] || {};\r\n                            var nextColumn = columns[point.columnIndex] || {};\r\n                            if (currentColumn.fixed || nextColumn.fixed) {\r\n                                point.columnIndex -= 1;\r\n                                return !((currentColumn.allowResizing || currentColumn.command === COMMAND_TRANSPARENT) && (isWidgetResizingMode || nextColumn.allowResizing || nextColumn.command === COMMAND_TRANSPARENT))\r\n                            }\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    _getTargetPoint: function(pointsByColumns, currentX, deltaX) {\r\n                        var $transparentColumn = this._columnHeadersView.getTransparentColumnElement();\r\n                        if ($transparentColumn && $transparentColumn.length) {\r\n                            var boundingRect = getBoundingRect($transparentColumn.get(0));\r\n                            if (currentX <= boundingRect.left || currentX >= boundingRect.right) {\r\n                                return this.callBase(this._pointsByFixedColumns, currentX, deltaX)\r\n                            }\r\n                        }\r\n                        return this.callBase(pointsByColumns, currentX, deltaX)\r\n                    }\r\n                }\r\n            }\r\n        }()\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.column_fixing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnFixingModule\r\n} from \"../grid_core/ui.grid_core.column_fixing\";\r\ngridCore.registerModule(\"columnFixing\", columnFixingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.adaptivity.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport Guid from \"../../core/guid\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport Form from \"../form\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport messageLocalization from \"../../localization/message\";\r\nvar COLUMN_HEADERS_VIEW = \"columnHeadersView\";\r\nvar ROWS_VIEW = \"rowsView\";\r\nvar FOOTER_VIEW = \"footerView\";\r\nvar COLUMN_VIEWS = [COLUMN_HEADERS_VIEW, ROWS_VIEW, FOOTER_VIEW];\r\nvar ADAPTIVE_NAMESPACE = \"dxDataGridAdaptivity\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"adaptiveHidden\";\r\nvar ADAPTIVE_ROW_TYPE = \"detailAdaptive\";\r\nvar FORM_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar FORM_ITEM_MODIFIED = \"dx-item-modified\";\r\nvar HIDDEN_COLUMN_CLASS = \"hidden-column\";\r\nvar ADAPTIVE_COLUMN_BUTTON_CLASS = \"adaptive-more\";\r\nvar ADAPTIVE_COLUMN_NAME_CLASS = \"dx-command-adaptive\";\r\nvar COMMAND_ADAPTIVE_HIDDEN_CLASS = \"dx-command-adaptive-hidden\";\r\nvar ADAPTIVE_DETAIL_ROW_CLASS = \"dx-adaptive-detail-row\";\r\nvar ADAPTIVE_ITEM_TEXT_CLASS = \"dx-adaptive-item-text\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar LAST_DATA_CELL_CLASS = \"dx-last-data-cell\";\r\nvar ADAPTIVE_COLUMN_NAME = \"adaptive\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_POPUP = \"popup\";\r\nvar REVERT_TOOLTIP_CLASS = \"revert-tooltip\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar EXPAND_ARIA_NAME = \"dxDataGrid-ariaAdaptiveExpand\";\r\nvar COLLAPSE_ARIA_NAME = \"dxDataGrid-ariaAdaptiveCollapse\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\n\r\nfunction getColumnId(that, column) {\r\n    return that._columnsController.getColumnId(column)\r\n}\r\n\r\nfunction getDataCellElements($row) {\r\n    return $row.find(\"td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])\")\r\n}\r\n\r\nfunction adaptiveCellTemplate(container, options) {\r\n    var $adaptiveColumnButton;\r\n    var $container = $(container);\r\n    var adaptiveColumnsController = options.component.getController(\"adaptiveColumns\");\r\n    if (\"data\" === options.rowType) {\r\n        $adaptiveColumnButton = $(\"<span>\").addClass(adaptiveColumnsController.addWidgetPrefix(ADAPTIVE_COLUMN_BUTTON_CLASS));\r\n        eventsEngine.on($adaptiveColumnButton, addNamespace(clickEventName, ADAPTIVE_NAMESPACE), adaptiveColumnsController.createAction((function() {\r\n            adaptiveColumnsController.toggleExpandAdaptiveDetailRow(options.key)\r\n        })));\r\n        $adaptiveColumnButton.appendTo($container)\r\n    } else {\r\n        gridCoreUtils.setEmptyText($container)\r\n    }\r\n}\r\nvar AdaptiveColumnsController = modules.ViewController.inherit({\r\n    _isRowEditMode: function() {\r\n        var editMode = this._getEditMode();\r\n        return editMode === EDIT_MODE_ROW\r\n    },\r\n    _isItemModified: function(item, cellOptions) {\r\n        var columnIndex = this._columnsController.getVisibleIndex(item.column.index);\r\n        var rowIndex = this._dataController.getRowIndexByKey(cellOptions.key);\r\n        var row = this._dataController.items()[rowIndex + 1];\r\n        return row && row.modifiedValues && isDefined(row.modifiedValues[columnIndex])\r\n    },\r\n    _renderFormViewTemplate: function(item, cellOptions, $container) {\r\n        var column = item.column;\r\n        var focusAction = this.createAction((function() {\r\n            eventsEngine.trigger($container, clickEventName)\r\n        }));\r\n        var value = column.calculateCellValue(cellOptions.data);\r\n        var displayValue = gridCoreUtils.getDisplayValue(column, value, cellOptions.data, cellOptions.rowType);\r\n        var text = gridCoreUtils.formatValue(displayValue, column);\r\n        var isCellOrBatchEditMode = this._editingController.isCellOrBatchEditMode();\r\n        var rowsView = this._rowsView;\r\n        if (column.allowEditing && this.getController(\"keyboardNavigation\").isKeyboardEnabled()) {\r\n            $container.attr(\"tabIndex\", this.option(\"tabIndex\"));\r\n            if (isCellOrBatchEditMode) {\r\n                eventsEngine.off($container, \"focus\", focusAction);\r\n                eventsEngine.on($container, \"focus\", focusAction)\r\n            }\r\n        }\r\n        if (column.cellTemplate) {\r\n            var templateOptions = extend({}, cellOptions, {\r\n                value: value,\r\n                displayValue: displayValue,\r\n                text: text,\r\n                column: column\r\n            });\r\n            var isDomElement = !!$container.closest(getWindow().document).length;\r\n            rowsView.renderTemplate($container, column.cellTemplate, templateOptions, isDomElement).done(() => {\r\n                rowsView._cellPrepared($container, cellOptions)\r\n            })\r\n        } else {\r\n            var container = $container.get(0);\r\n            if (column.encodeHtml) {\r\n                container.textContent = text\r\n            } else {\r\n                container.innerHTML = text\r\n            }\r\n            $container.addClass(ADAPTIVE_ITEM_TEXT_CLASS);\r\n            if (!isDefined(text) || \"\" === text) {\r\n                $container.html(\"&nbsp;\")\r\n            }\r\n            if (!this._isRowEditMode()) {\r\n                if (this._isItemModified(item, cellOptions)) {\r\n                    $container.addClass(FORM_ITEM_MODIFIED)\r\n                }\r\n            }\r\n            rowsView._cellPrepared($container, cellOptions)\r\n        }\r\n    },\r\n    _getTemplate: function(item, cellOptions) {\r\n        var that = this;\r\n        var column = item.column;\r\n        var editingController = this.getController(\"editing\");\r\n        return function(options, container) {\r\n            var $container = $(container);\r\n            var columnIndex = that._columnsController.getVisibleIndex(column.index);\r\n            var templateOptions = extend({}, cellOptions);\r\n            var renderFormTemplate = function() {\r\n                var isItemEdited = that._isItemEdited(item);\r\n                templateOptions.value = cellOptions.row.values[columnIndex];\r\n                if (isItemEdited || column.showEditorAlways) {\r\n                    editingController.renderFormEditTemplate(templateOptions, item, options, $container, !isItemEdited)\r\n                } else {\r\n                    templateOptions.column = column;\r\n                    templateOptions.columnIndex = columnIndex;\r\n                    that._renderFormViewTemplate(item, templateOptions, $container)\r\n                }\r\n            };\r\n            renderFormTemplate();\r\n            templateOptions.watch && templateOptions.watch((function() {\r\n                return {\r\n                    isItemEdited: that._isItemEdited(item),\r\n                    value: cellOptions.row.values[columnIndex]\r\n                }\r\n            }), (function() {\r\n                $container.contents().remove();\r\n                $container.removeClass(ADAPTIVE_ITEM_TEXT_CLASS);\r\n                renderFormTemplate()\r\n            }))\r\n        }\r\n    },\r\n    _isVisibleColumnsValid: function(visibleColumns) {\r\n        if (visibleColumns < 2) {\r\n            return false\r\n        }\r\n        if (visibleColumns.length - function() {\r\n                var result = 0;\r\n                for (var j = 0; j < visibleColumns.length; j++) {\r\n                    var visibleColumn = visibleColumns[j];\r\n                    if (visibleColumn.command) {\r\n                        result++\r\n                    }\r\n                }\r\n                return result\r\n            }() <= 1) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    _calculatePercentWidths: function(widths, visibleColumns) {\r\n        var that = this;\r\n        var percentWidths = 0;\r\n        visibleColumns.forEach((function(item, index) {\r\n            if (widths[index] !== HIDDEN_COLUMNS_WIDTH) {\r\n                percentWidths += that._getItemPercentWidth(item)\r\n            }\r\n        }));\r\n        return percentWidths\r\n    },\r\n    _isPercentWidth: function(width) {\r\n        return isString(width) && \"%\" === width.slice(-1)\r\n    },\r\n    _isColumnHidden: function(column) {\r\n        return this._hiddenColumns.filter((function(hiddenColumn) {\r\n            return hiddenColumn.index === column.index\r\n        })).length > 0\r\n    },\r\n    _getAverageColumnsWidth: function(containerWidth, columns, columnsCanFit) {\r\n        var that = this;\r\n        var fixedColumnsWidth = 0;\r\n        var columnsWithoutFixedWidthCount = 0;\r\n        columns.forEach((function(column) {\r\n            if (!that._isColumnHidden(column)) {\r\n                var width = column.width;\r\n                if (isDefined(width) && !isNaN(parseFloat(width))) {\r\n                    fixedColumnsWidth += that._isPercentWidth(width) ? that._calculatePercentWidth({\r\n                        visibleIndex: column.visibleIndex,\r\n                        columnsCount: columns.length,\r\n                        columnsCanFit: columnsCanFit,\r\n                        bestFitWidth: column.bestFitWidth,\r\n                        columnWidth: width,\r\n                        containerWidth: containerWidth\r\n                    }) : parseFloat(width)\r\n                } else {\r\n                    columnsWithoutFixedWidthCount++\r\n                }\r\n            }\r\n        }));\r\n        return (containerWidth - fixedColumnsWidth) / columnsWithoutFixedWidthCount\r\n    },\r\n    _calculateColumnWidth: function(column, containerWidth, contentColumns, columnsCanFit) {\r\n        var columnId = getColumnId(this, column);\r\n        var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n        var bestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n        var columnsCount = contentColumns.length;\r\n        var colWidth;\r\n        if (widthOption && \"auto\" !== widthOption) {\r\n            if (this._isPercentWidth(widthOption)) {\r\n                colWidth = this._calculatePercentWidth({\r\n                    visibleIndex: column.visibleIndex,\r\n                    columnsCount: columnsCount,\r\n                    columnsCanFit: columnsCanFit,\r\n                    bestFitWidth: bestFitWidth,\r\n                    columnWidth: widthOption,\r\n                    containerWidth: containerWidth\r\n                })\r\n            } else {\r\n                return parseFloat(widthOption)\r\n            }\r\n        } else {\r\n            var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n            colWidth = columnAutoWidth || !!column.command ? bestFitWidth : this._getAverageColumnsWidth(containerWidth, contentColumns, columnsCanFit)\r\n        }\r\n        return colWidth\r\n    },\r\n    _calculatePercentWidth: function(options) {\r\n        var columnFitted = options.visibleIndex < options.columnsCount - 1 && options.columnsCanFit;\r\n        var partialWidth = options.containerWidth * parseFloat(options.columnWidth) / 100;\r\n        var resultWidth = options.columnsCanFit && partialWidth < options.bestFitWidth ? options.bestFitWidth : partialWidth;\r\n        return columnFitted ? options.containerWidth * parseFloat(options.columnWidth) / 100 : resultWidth\r\n    },\r\n    _getNotTruncatedColumnWidth: function(column, containerWidth, contentColumns, columnsCanFit) {\r\n        var columnId = getColumnId(this, column);\r\n        var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n        var bestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n        if (widthOption && \"auto\" !== widthOption && !this._isPercentWidth(widthOption)) {\r\n            return parseFloat(widthOption)\r\n        }\r\n        var colWidth = this._calculateColumnWidth(column, containerWidth, contentColumns, columnsCanFit);\r\n        return colWidth < bestFitWidth ? null : colWidth\r\n    },\r\n    _getItemPercentWidth: function(item) {\r\n        var result = 0;\r\n        if (item.width && this._isPercentWidth(item.width)) {\r\n            result = parseFloat(item.width)\r\n        }\r\n        return result\r\n    },\r\n    _getCommandColumnsWidth: function() {\r\n        var that = this;\r\n        var columns = that._columnsController.getVisibleColumns();\r\n        var colWidth = 0;\r\n        each(columns, (function(index, column) {\r\n            if (column.index < 0 || column.command) {\r\n                colWidth += that._columnsController.columnOption(getColumnId(that, column), \"bestFitWidth\") || 0\r\n            }\r\n        }));\r\n        return colWidth\r\n    },\r\n    _isItemEdited: function(item) {\r\n        if (this.isFormOrPopupEditMode()) {\r\n            return false\r\n        }\r\n        if (this._isRowEditMode()) {\r\n            var editRowKey = this.option(\"editing.editRowKey\");\r\n            if (equalByValue(editRowKey, this._dataController.adaptiveExpandedKey())) {\r\n                return true\r\n            }\r\n        } else {\r\n            var rowIndex = this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey()) + 1;\r\n            var columnIndex = this._columnsController.getVisibleIndex(item.column.index);\r\n            return this._editingController.isEditCell(rowIndex, columnIndex)\r\n        }\r\n    },\r\n    _getFormItemsByHiddenColumns: function(hiddenColumns) {\r\n        var items = [];\r\n        each(hiddenColumns, (function(_, column) {\r\n            items.push({\r\n                column: column,\r\n                name: column.name,\r\n                dataField: column.dataField,\r\n                visibleIndex: column.visibleIndex\r\n            })\r\n        }));\r\n        return items\r\n    },\r\n    _getAdaptiveColumnVisibleIndex: function(visibleColumns) {\r\n        for (var i = 0; i < visibleColumns.length; i++) {\r\n            var column = visibleColumns[i];\r\n            if (column.command === ADAPTIVE_COLUMN_NAME) {\r\n                return i\r\n            }\r\n        }\r\n    },\r\n    _hideAdaptiveColumn: function(resultWidths, visibleColumns) {\r\n        var visibleIndex = this._getAdaptiveColumnVisibleIndex(visibleColumns);\r\n        if (isDefined(visibleIndex)) {\r\n            resultWidths[visibleIndex] = HIDDEN_COLUMNS_WIDTH;\r\n            this._hideVisibleColumn({\r\n                isCommandColumn: true,\r\n                visibleIndex: visibleIndex\r\n            })\r\n        }\r\n    },\r\n    _showHiddenCellsInView: function(_ref) {\r\n        var {\r\n            $cells: $cells,\r\n            isCommandColumn: isCommandColumn\r\n        } = _ref;\r\n        var cssClassNameToRemove = isCommandColumn ? COMMAND_ADAPTIVE_HIDDEN_CLASS : this.addWidgetPrefix(HIDDEN_COLUMN_CLASS);\r\n        $cells.removeClass(cssClassNameToRemove)\r\n    },\r\n    _showHiddenColumns: function() {\r\n        for (var i = 0; i < COLUMN_VIEWS.length; i++) {\r\n            var view = this.getView(COLUMN_VIEWS[i]);\r\n            if (view && view.isVisible() && view.element()) {\r\n                var viewName = view.name;\r\n                var $hiddenCommandCells = view.element().find(\".\" + COMMAND_ADAPTIVE_HIDDEN_CLASS);\r\n                this._showHiddenCellsInView({\r\n                    viewName: viewName,\r\n                    $cells: $hiddenCommandCells,\r\n                    isCommandColumn: true\r\n                });\r\n                var $hiddenCells = view.element().find(\".\" + this.addWidgetPrefix(HIDDEN_COLUMN_CLASS));\r\n                this._showHiddenCellsInView({\r\n                    viewName: viewName,\r\n                    $cells: $hiddenCells\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _isCellValid: function($cell) {\r\n        return $cell && $cell.length && !$cell.hasClass(MASTER_DETAIL_CELL_CLASS) && !$cell.hasClass(GROUP_CELL_CLASS)\r\n    },\r\n    _hideVisibleColumn: function(_ref2) {\r\n        var {\r\n            isCommandColumn: isCommandColumn,\r\n            visibleIndex: visibleIndex\r\n        } = _ref2;\r\n        var that = this;\r\n        COLUMN_VIEWS.forEach((function(viewName) {\r\n            var view = that.getView(viewName);\r\n            view && that._hideVisibleColumnInView({\r\n                view: view,\r\n                isCommandColumn: isCommandColumn,\r\n                visibleIndex: visibleIndex\r\n            })\r\n        }))\r\n    },\r\n    _hideVisibleColumnInView: function(_ref3) {\r\n        var {\r\n            view: view,\r\n            isCommandColumn: isCommandColumn,\r\n            visibleIndex: visibleIndex\r\n        } = _ref3;\r\n        var viewName = view.name;\r\n        var $cellElement;\r\n        var column = this._columnsController.getVisibleColumns()[visibleIndex];\r\n        var editFormRowIndex = this._editingController && this._editingController.getEditFormRowIndex();\r\n        if (view && view.isVisible() && column) {\r\n            var rowsCount = view.getRowsCount();\r\n            var $rowElements = view._getRowElements();\r\n            for (var rowIndex = 0; rowIndex < rowsCount; rowIndex++) {\r\n                var cancelClassAdding = rowIndex === editFormRowIndex && viewName === ROWS_VIEW && \"popup\" !== this.option(\"editing.mode\");\r\n                if (!cancelClassAdding) {\r\n                    var currentVisibleIndex = viewName === COLUMN_HEADERS_VIEW ? this._columnsController.getVisibleIndex(column.index, rowIndex) : visibleIndex;\r\n                    if (currentVisibleIndex >= 0) {\r\n                        var $rowElement = $rowElements.eq(rowIndex);\r\n                        $cellElement = this._findCellElementInRow($rowElement, currentVisibleIndex);\r\n                        this._isCellValid($cellElement) && this._hideVisibleCellInView({\r\n                            viewName: viewName,\r\n                            isCommandColumn: isCommandColumn,\r\n                            $cell: $cellElement\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _findCellElementInRow($rowElement, visibleColumnIndex) {\r\n        var $rowCells = $rowElement.children();\r\n        var visibleIndex = visibleColumnIndex;\r\n        var cellIsInsideGroup = false;\r\n        if ($rowElement.hasClass(GROUP_ROW_CLASS)) {\r\n            var $groupCell = $rowElement.find(\".\".concat(GROUP_CELL_CLASS));\r\n            var colSpan = $groupCell.attr(\"colspan\");\r\n            if ($groupCell.length && isDefined(colSpan)) {\r\n                var groupCellLength = parseInt(colSpan);\r\n                var endGroupIndex = $groupCell.index() + groupCellLength - 1;\r\n                if (visibleColumnIndex > endGroupIndex) {\r\n                    visibleIndex = visibleColumnIndex - groupCellLength + 1\r\n                } else {\r\n                    cellIsInsideGroup = true\r\n                }\r\n            }\r\n        }\r\n        var $cellElement = !cellIsInsideGroup ? $rowCells.eq(visibleIndex) : void 0;\r\n        return $cellElement\r\n    },\r\n    _hideVisibleCellInView: function(_ref4) {\r\n        var {\r\n            $cell: $cell,\r\n            isCommandColumn: isCommandColumn\r\n        } = _ref4;\r\n        var cssClassNameToAdd = isCommandColumn ? COMMAND_ADAPTIVE_HIDDEN_CLASS : this.addWidgetPrefix(HIDDEN_COLUMN_CLASS);\r\n        $cell.addClass(cssClassNameToAdd)\r\n    },\r\n    _getEditMode: function() {\r\n        return this._editingController.getEditMode()\r\n    },\r\n    isFormOrPopupEditMode: function() {\r\n        var editMode = this._getEditMode();\r\n        return editMode === EDIT_MODE_FORM || editMode === EDIT_MODE_POPUP\r\n    },\r\n    hideRedundantColumns: function(resultWidths, visibleColumns, hiddenQueue) {\r\n        this._hiddenColumns = [];\r\n        if (this._isVisibleColumnsValid(visibleColumns) && hiddenQueue.length) {\r\n            var totalWidth = 0;\r\n            var $rootElement = this.component.$element();\r\n            var rootElementWidth = getWidth($rootElement) - this._getCommandColumnsWidth();\r\n            var getVisibleContentColumns = function() {\r\n                return visibleColumns.filter(item => !item.command && 0 === this._hiddenColumns.filter(i => i.index === item.index).length)\r\n            }.bind(this);\r\n            var visibleContentColumns = getVisibleContentColumns();\r\n            var contentColumnsCount = visibleContentColumns.length;\r\n            var i;\r\n            var hasHiddenColumns;\r\n            var needHideColumn;\r\n            do {\r\n                needHideColumn = false;\r\n                totalWidth = 0;\r\n                var percentWidths = this._calculatePercentWidths(resultWidths, visibleColumns);\r\n                var columnsCanFit = percentWidths < 100 && 0 !== percentWidths;\r\n                for (i = 0; i < visibleColumns.length; i++) {\r\n                    var visibleColumn = visibleColumns[i];\r\n                    var columnWidth = this._getNotTruncatedColumnWidth(visibleColumn, rootElementWidth, visibleContentColumns, columnsCanFit);\r\n                    var columnId = getColumnId(this, visibleColumn);\r\n                    var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n                    var minWidth = this._columnsController.columnOption(columnId, \"minWidth\");\r\n                    var columnBestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n                    if (resultWidths[i] === HIDDEN_COLUMNS_WIDTH) {\r\n                        hasHiddenColumns = true;\r\n                        continue\r\n                    }\r\n                    if (!columnWidth && !visibleColumn.command && !visibleColumn.fixed) {\r\n                        needHideColumn = true;\r\n                        break\r\n                    }\r\n                    if (!widthOption || \"auto\" === widthOption) {\r\n                        columnWidth = Math.max(columnBestFitWidth || 0, minWidth || 0)\r\n                    }\r\n                    if (visibleColumn.command !== ADAPTIVE_COLUMN_NAME || hasHiddenColumns) {\r\n                        totalWidth += columnWidth\r\n                    }\r\n                }\r\n                needHideColumn = needHideColumn || totalWidth > getWidth($rootElement);\r\n                if (needHideColumn) {\r\n                    var column = hiddenQueue.pop();\r\n                    var visibleIndex = this._columnsController.getVisibleIndex(column.index);\r\n                    rootElementWidth += this._calculateColumnWidth(column, rootElementWidth, visibleContentColumns, columnsCanFit);\r\n                    this._hideVisibleColumn({\r\n                        visibleIndex: visibleIndex\r\n                    });\r\n                    resultWidths[visibleIndex] = HIDDEN_COLUMNS_WIDTH;\r\n                    this._hiddenColumns.push(column);\r\n                    visibleContentColumns = getVisibleContentColumns()\r\n                }\r\n            } while (needHideColumn && visibleContentColumns.length > 1 && hiddenQueue.length);\r\n            if (contentColumnsCount === visibleContentColumns.length) {\r\n                this._hideAdaptiveColumn(resultWidths, visibleColumns)\r\n            }\r\n        } else {\r\n            this._hideAdaptiveColumn(resultWidths, visibleColumns)\r\n        }\r\n    },\r\n    getItemContentByColumnIndex: function(visibleColumnIndex) {\r\n        var $itemContent;\r\n        for (var i = 0; i < this._$itemContents.length; i++) {\r\n            $itemContent = this._$itemContents.eq(i);\r\n            var item = $itemContent.data(\"dx-form-item\");\r\n            if (item && item.column && this._columnsController.getVisibleIndex(item.column.index) === visibleColumnIndex) {\r\n                return $itemContent\r\n            }\r\n        }\r\n    },\r\n    toggleExpandAdaptiveDetailRow: function(key, alwaysExpanded) {\r\n        if (!(this.isFormOrPopupEditMode() && this._editingController.isEditing())) {\r\n            this.getController(\"data\").toggleExpandAdaptiveDetailRow(key, alwaysExpanded)\r\n        }\r\n    },\r\n    createFormByHiddenColumns: function(container, options) {\r\n        var that = this;\r\n        var $container = $(container);\r\n        var userFormOptions = {\r\n            items: that._getFormItemsByHiddenColumns(that._hiddenColumns),\r\n            formID: \"dx-\" + new Guid\r\n        };\r\n        var defaultFormOptions = isMaterial() ? {\r\n            colCount: 2\r\n        } : {};\r\n        this.executeAction(\"onAdaptiveDetailRowPreparing\", {\r\n            formOptions: userFormOptions\r\n        });\r\n        that._$itemContents = null;\r\n        that._form = that._createComponent($(\"<div>\").appendTo($container), Form, extend(defaultFormOptions, userFormOptions, {\r\n            customizeItem: function(item) {\r\n                var column = item.column || that._columnsController.columnOption(item.name || item.dataField);\r\n                if (column) {\r\n                    item.label = item.label || {};\r\n                    item.label.text = item.label.text || column.caption;\r\n                    item.column = column;\r\n                    item.template = that._getTemplate(item, options, that.updateForm.bind(that))\r\n                }\r\n                userFormOptions.customizeItem && userFormOptions.customizeItem.call(this, item)\r\n            },\r\n            onContentReady: function(e) {\r\n                userFormOptions.onContentReady && userFormOptions.onContentReady.call(this, e);\r\n                that._$itemContents = $container.find(\".\" + FORM_ITEM_CONTENT_CLASS)\r\n            }\r\n        }))\r\n    },\r\n    hasAdaptiveDetailRowExpanded: function() {\r\n        return isDefined(this._dataController.adaptiveExpandedKey())\r\n    },\r\n    updateForm: function(hiddenColumns) {\r\n        if (this.hasAdaptiveDetailRowExpanded()) {\r\n            if (this._form && isDefined(this._form._contentReadyAction)) {\r\n                if (hiddenColumns && hiddenColumns.length) {\r\n                    this._form.option(\"items\", this._getFormItemsByHiddenColumns(hiddenColumns))\r\n                } else {\r\n                    this._form.repaint()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateHidingQueue: function(columns) {\r\n        var hideableColumns = columns.filter((function(column) {\r\n            return column.visible && !column.type && !column.fixed && !(isDefined(column.groupIndex) && column.groupIndex >= 0)\r\n        }));\r\n        var columnsHasHidingPriority;\r\n        var i;\r\n        this._hidingColumnsQueue = [];\r\n        if (this.option(\"allowColumnResizing\") && \"widget\" === this.option(\"columnResizingMode\")) {\r\n            return this._hidingColumnsQueue\r\n        }\r\n        for (i = 0; i < hideableColumns.length; i++) {\r\n            if (isDefined(hideableColumns[i].hidingPriority) && hideableColumns[i].hidingPriority >= 0) {\r\n                columnsHasHidingPriority = true;\r\n                this._hidingColumnsQueue[hideableColumns[i].hidingPriority] = hideableColumns[i]\r\n            }\r\n        }\r\n        if (columnsHasHidingPriority) {\r\n            this._hidingColumnsQueue.reverse()\r\n        } else if (this.option(\"columnHidingEnabled\")) {\r\n            for (i = 0; i < hideableColumns.length; i++) {\r\n                var visibleIndex = this._columnsController.getVisibleIndex(hideableColumns[i].index);\r\n                this._hidingColumnsQueue[visibleIndex] = hideableColumns[i]\r\n            }\r\n        }\r\n        this._hidingColumnsQueue = this._hidingColumnsQueue.filter(Object);\r\n        return this._hidingColumnsQueue\r\n    },\r\n    getHiddenColumns: function() {\r\n        return this._hiddenColumns\r\n    },\r\n    hasHiddenColumns: function() {\r\n        return this._hiddenColumns.length > 0\r\n    },\r\n    getHidingColumnsQueue: function() {\r\n        return this._hidingColumnsQueue\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._dataController = that.getController(\"data\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._columnsController.addCommandColumn({\r\n            type: ADAPTIVE_COLUMN_NAME,\r\n            command: ADAPTIVE_COLUMN_NAME,\r\n            visible: true,\r\n            adaptiveHidden: true,\r\n            cssClass: ADAPTIVE_COLUMN_NAME_CLASS,\r\n            alignment: \"center\",\r\n            width: \"auto\",\r\n            cellTemplate: adaptiveCellTemplate,\r\n            fixedPosition: \"right\"\r\n        });\r\n        that._columnsController.columnsChanged.add((function() {\r\n            var isAdaptiveVisible = !!that.updateHidingQueue(that._columnsController.getColumns()).length;\r\n            that._columnsController.columnOption(\"command:adaptive\", \"adaptiveHidden\", !isAdaptiveVisible, true)\r\n        }));\r\n        that._editingController = that.getController(\"editing\");\r\n        that._hidingColumnsQueue = [];\r\n        that._hiddenColumns = [];\r\n        that.createAction(\"onAdaptiveDetailRowPreparing\");\r\n        that.callBase()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"columnHidingEnabled\" === args.name) {\r\n            this._columnsController.columnOption(\"command:adaptive\", \"adaptiveHidden\", !args.value)\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    publicMethods: function() {\r\n        return [\"isAdaptiveDetailRowExpanded\", \"expandAdaptiveDetailRow\", \"collapseAdaptiveDetailRow\"]\r\n    },\r\n    isAdaptiveDetailRowExpanded: function(key) {\r\n        return this._dataController.adaptiveExpandedKey() && equalByValue(this._dataController.adaptiveExpandedKey(), key)\r\n    },\r\n    expandAdaptiveDetailRow: function(key) {\r\n        if (!this.hasAdaptiveDetailRowExpanded()) {\r\n            this.toggleExpandAdaptiveDetailRow(key)\r\n        }\r\n    },\r\n    collapseAdaptiveDetailRow: function() {\r\n        if (this.hasAdaptiveDetailRowExpanded()) {\r\n            this.toggleExpandAdaptiveDetailRow()\r\n        }\r\n    },\r\n    updateCommandAdaptiveAriaLabel: function(key, label) {\r\n        var rowIndex = this._dataController.getRowIndexByKey(key);\r\n        if (-1 === rowIndex) {\r\n            return\r\n        }\r\n        var $row = $(this.component.getRowElement(rowIndex));\r\n        this.setCommandAdaptiveAriaLabel($row, label)\r\n    },\r\n    setCommandAdaptiveAriaLabel: function($row, labelName) {\r\n        var $adaptiveCommand = $row.find(\".dx-command-adaptive\");\r\n        $adaptiveCommand.attr(\"aria-label\", messageLocalization.format(labelName))\r\n    }\r\n});\r\nexport var adaptivityModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnHidingEnabled: false,\r\n            onAdaptiveDetailRowPreparing: null\r\n        }\r\n    },\r\n    controllers: {\r\n        adaptiveColumns: AdaptiveColumnsController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    if (options.rowType === ADAPTIVE_ROW_TYPE && \"detail\" === column.command) {\r\n                        return function(container, options) {\r\n                            that._adaptiveColumnsController.createFormByHiddenColumns($(container), options)\r\n                        }\r\n                    }\r\n                    return that.callBase(options)\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row && row.rowType === ADAPTIVE_ROW_TYPE && row.key === this._dataController.adaptiveExpandedKey()) {\r\n                        $row.addClass(ADAPTIVE_DETAIL_ROW_CLASS)\r\n                    }\r\n                    return $row\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    this.callBase($row, options);\r\n                    var adaptiveColumnsController = this._adaptiveColumnsController;\r\n                    var hidingColumnsQueueLength = adaptiveColumnsController.getHidingColumnsQueue().length;\r\n                    var hiddenColumnsLength = adaptiveColumnsController.getHiddenColumns().length;\r\n                    if (hidingColumnsQueueLength && !hiddenColumnsLength) {\r\n                        getDataCellElements($row).last().addClass(LAST_DATA_CELL_CLASS)\r\n                    }\r\n                    if (\"data\" === options.row.rowType) {\r\n                        adaptiveColumnsController.setCommandAdaptiveAriaLabel($row, EXPAND_ARIA_NAME)\r\n                    }\r\n                },\r\n                _getColumnIndexByElementCore: function($element) {\r\n                    var $itemContent = $element.closest(\".\" + FORM_ITEM_CONTENT_CLASS);\r\n                    if ($itemContent.length && $itemContent.closest(this.component.$element()).length) {\r\n                        var formItem = $itemContent.length ? $itemContent.first().data(\"dx-form-item\") : null;\r\n                        return formItem && formItem.column && this._columnsController.getVisibleIndex(formItem.column.index)\r\n                    } else {\r\n                        return this.callBase($element)\r\n                    }\r\n                },\r\n                _cellPrepared: function($cell, options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (options.row.rowType !== ADAPTIVE_ROW_TYPE && options.column.visibleWidth === HIDDEN_COLUMNS_WIDTH) {\r\n                        $cell.addClass(this.addWidgetPrefix(HIDDEN_COLUMN_CLASS))\r\n                    }\r\n                },\r\n                _getCellElement: function(rowIndex, columnIdentifier) {\r\n                    var item = this._dataController.items()[rowIndex];\r\n                    if (item && item.rowType === ADAPTIVE_ROW_TYPE) {\r\n                        return this._adaptiveColumnsController.getItemContentByColumnIndex(columnIdentifier)\r\n                    } else {\r\n                        return this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                getContextMenuItems: function(options) {\r\n                    if (options.row && \"detailAdaptive\" === options.row.rowType) {\r\n                        var view = this.component.getView(\"columnHeadersView\");\r\n                        var formItem = $(options.targetElement).closest(\".dx-field-item-label\").next().data(\"dx-form-item\");\r\n                        options.column = formItem ? formItem.column : options.column;\r\n                        return view.getContextMenuItems && view.getContextMenuItems(options)\r\n                    }\r\n                    return this.callBase && this.callBase(options)\r\n                },\r\n                isClickableElement: function($target) {\r\n                    var isClickable = this.callBase ? this.callBase($target) : false;\r\n                    return isClickable || !!$target.closest(\".\" + ADAPTIVE_COLUMN_NAME_CLASS).length\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveColumnsController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            export: {\r\n                _updateColumnWidth: function(column, width) {\r\n                    this.callBase(column, column.visibleWidth === HIDDEN_COLUMNS_WIDTH ? column.bestFitWidth : width)\r\n                }\r\n            },\r\n            columnsResizer: {\r\n                _pointCreated: function(point, cellsLength, columns) {\r\n                    var result = this.callBase(point, cellsLength, columns);\r\n                    var currentColumn = columns[point.columnIndex] || {};\r\n                    var nextColumnIndex = this._getNextColumnIndex(point.columnIndex);\r\n                    var nextColumn = columns[nextColumnIndex] || {};\r\n                    var hasHiddenColumnsOnly = nextColumnIndex !== point.columnIndex + 1 && nextColumn.command;\r\n                    var hasAdaptiveHiddenWidth = currentColumn.visibleWidth === HIDDEN_COLUMNS_WIDTH || hasHiddenColumnsOnly;\r\n                    return result || hasAdaptiveHiddenWidth\r\n                },\r\n                _getNextColumnIndex: function(currentColumnIndex) {\r\n                    var visibleColumns = this._columnsController.getVisibleColumns();\r\n                    var index = this.callBase(currentColumnIndex);\r\n                    while (visibleColumns[index] && visibleColumns[index].visibleWidth === HIDDEN_COLUMNS_WIDTH) {\r\n                        index++\r\n                    }\r\n                    return index\r\n                }\r\n            },\r\n            draggingHeader: {\r\n                _pointCreated: function(point, columns, location, sourceColumn) {\r\n                    var result = this.callBase(point, columns, location, sourceColumn);\r\n                    var column = columns[point.columnIndex - 1] || {};\r\n                    var hasAdaptiveHiddenWidth = column.visibleWidth === HIDDEN_COLUMNS_WIDTH;\r\n                    return result || hasAdaptiveHiddenWidth\r\n                }\r\n            },\r\n            editing: {\r\n                _isRowEditMode: function() {\r\n                    return this.getEditMode() === EDIT_MODE_ROW\r\n                },\r\n                _getFormEditItemTemplate: function(cellOptions, column) {\r\n                    if (this.getEditMode() !== EDIT_MODE_ROW && \"detailAdaptive\" === cellOptions.rowType) {\r\n                        cellOptions.columnIndex = this._columnsController.getVisibleIndex(column.index);\r\n                        return this.getColumnTemplate(cellOptions)\r\n                    }\r\n                    return this.callBase(cellOptions, column)\r\n                },\r\n                _closeEditItem: function($targetElement) {\r\n                    var $itemContents = $targetElement.closest(\".\" + FORM_ITEM_CONTENT_CLASS);\r\n                    var rowIndex = this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey()) + 1;\r\n                    var formItem = $itemContents.length ? $itemContents.first().data(\"dx-form-item\") : null;\r\n                    var columnIndex = formItem && formItem.column && this._columnsController.getVisibleIndex(formItem.column.index);\r\n                    if (!this.isEditCell(rowIndex, columnIndex)) {\r\n                        this.callBase($targetElement)\r\n                    }\r\n                },\r\n                _beforeUpdateItems: function(rowIndices, rowIndex) {\r\n                    if (!this._adaptiveController.isFormOrPopupEditMode() && this._adaptiveController.hasHiddenColumns()) {\r\n                        var items = this._dataController.items();\r\n                        var item = items[rowIndex];\r\n                        var oldExpandRowIndex = gridCoreUtils.getIndexByKey(this._dataController.adaptiveExpandedKey(), items);\r\n                        this._isForceRowAdaptiveExpand = !this._adaptiveController.hasAdaptiveDetailRowExpanded();\r\n                        if (oldExpandRowIndex >= 0) {\r\n                            rowIndices.push(oldExpandRowIndex + 1)\r\n                        }\r\n                        rowIndices.push(rowIndex + 1);\r\n                        this._dataController.adaptiveExpandedKey(item.key)\r\n                    }\r\n                },\r\n                _afterInsertRow: function(key) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this._adaptiveController.hasHiddenColumns()) {\r\n                        this._adaptiveController.toggleExpandAdaptiveDetailRow(key, this.isRowEditMode());\r\n                        this._isForceRowAdaptiveExpand = true\r\n                    }\r\n                },\r\n                _collapseAdaptiveDetailRow: function() {\r\n                    if (this._isRowEditMode() && this._isForceRowAdaptiveExpand) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow();\r\n                        this._isForceRowAdaptiveExpand = false\r\n                    }\r\n                },\r\n                _cancelEditAdaptiveDetailRow: function() {\r\n                    if (this._adaptiveController.hasHiddenColumns()) {\r\n                        this._collapseAdaptiveDetailRow()\r\n                    }\r\n                },\r\n                _afterSaveEditData: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    var deferred = new Deferred;\r\n                    if (this._isRowEditMode() && this._adaptiveController.hasHiddenColumns()) {\r\n                        when(this.getController(\"validating\").validate(true)).done(isValid => {\r\n                            if (isValid) {\r\n                                this._cancelEditAdaptiveDetailRow()\r\n                            }\r\n                            deferred.resolve()\r\n                        })\r\n                    } else {\r\n                        deferred.resolve()\r\n                    }\r\n                    return deferred.promise()\r\n                },\r\n                _beforeCancelEditData: function() {\r\n                    this.callBase();\r\n                    this._cancelEditAdaptiveDetailRow()\r\n                },\r\n                _getRowIndicesForCascadeUpdating: function(row) {\r\n                    var rowIndices = this.callBase.apply(this, arguments);\r\n                    if (this._adaptiveController.isAdaptiveDetailRowExpanded(row.key)) {\r\n                        rowIndices.push(row.rowType === ADAPTIVE_ROW_TYPE ? row.rowIndex - 1 : row.rowIndex + 1)\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                _beforeCloseEditCellInBatchMode: function(rowIndices) {\r\n                    var expandedKey = this._dataController._adaptiveExpandedKey;\r\n                    if (expandedKey) {\r\n                        var rowIndex = gridCoreUtils.getIndexByKey(expandedKey, this._dataController.items());\r\n                        if (rowIndex > -1) {\r\n                            rowIndices.unshift(rowIndex)\r\n                        }\r\n                    }\r\n                },\r\n                editRow: function(rowIndex) {\r\n                    if (this._adaptiveController.isFormOrPopupEditMode()) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                deleteRow: function(rowIndex) {\r\n                    var rowKey = this._dataController.getKeyByRowIndex(rowIndex);\r\n                    if (this.getEditMode() === EDIT_MODE_BATCH && this._adaptiveController.isAdaptiveDetailRowExpanded(rowKey)) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            },\r\n            resizing: {\r\n                _needBestFit: function() {\r\n                    return this.callBase() || !!this._adaptiveColumnsController.getHidingColumnsQueue().length\r\n                },\r\n                _correctColumnWidths: function(resultWidths, visibleColumns) {\r\n                    var adaptiveController = this._adaptiveColumnsController;\r\n                    var oldHiddenColumns = adaptiveController.getHiddenColumns();\r\n                    var hidingColumnsQueue = adaptiveController.updateHidingQueue(this._columnsController.getColumns());\r\n                    adaptiveController.hideRedundantColumns(resultWidths, visibleColumns, hidingColumnsQueue);\r\n                    var hiddenColumns = adaptiveController.getHiddenColumns();\r\n                    if (adaptiveController.hasAdaptiveDetailRowExpanded()) {\r\n                        if (oldHiddenColumns.length !== hiddenColumns.length) {\r\n                            adaptiveController.updateForm(hiddenColumns)\r\n                        }\r\n                    }!hiddenColumns.length && adaptiveController.collapseAdaptiveDetailRow();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _toggleBestFitMode: function(isBestFit) {\r\n                    isBestFit && this._adaptiveColumnsController._showHiddenColumns();\r\n                    this.callBase(isBestFit)\r\n                },\r\n                _needStretch: function() {\r\n                    var adaptiveColumnsController = this._adaptiveColumnsController;\r\n                    return this.callBase.apply(this, arguments) || adaptiveColumnsController.getHidingColumnsQueue().length || adaptiveColumnsController.hasHiddenColumns()\r\n                },\r\n                init: function() {\r\n                    this._adaptiveColumnsController = this.getController(\"adaptiveColumns\");\r\n                    this.callBase()\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._updateScrollableTimeoutID)\r\n                }\r\n            },\r\n            data: {\r\n                _processItems: function(items, change) {\r\n                    var changeType = change.changeType;\r\n                    items = this.callBase.apply(this, arguments);\r\n                    if (\"loadingAll\" === changeType || !isDefined(this._adaptiveExpandedKey)) {\r\n                        return items\r\n                    }\r\n                    var expandRowIndex = gridCoreUtils.getIndexByKey(this._adaptiveExpandedKey, items);\r\n                    var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n                    if (expandRowIndex >= 0) {\r\n                        var item = items[expandRowIndex];\r\n                        items.splice(expandRowIndex + 1, 0, {\r\n                            visible: true,\r\n                            rowType: ADAPTIVE_ROW_TYPE,\r\n                            key: item.key,\r\n                            data: item.data,\r\n                            node: item.node,\r\n                            modifiedValues: item.modifiedValues,\r\n                            isNewRow: item.isNewRow,\r\n                            values: item.values\r\n                        })\r\n                    } else if (\"refresh\" === changeType && !(newMode && change.repaintChangesOnly)) {\r\n                        this._adaptiveExpandedKey = void 0\r\n                    }\r\n                    return items\r\n                },\r\n                _getRowIndicesForExpand: function(key) {\r\n                    var rowIndices = this.callBase.apply(this, arguments);\r\n                    if (this.getController(\"adaptiveColumns\").isAdaptiveDetailRowExpanded(key)) {\r\n                        var lastRowIndex = rowIndices[rowIndices.length - 1];\r\n                        rowIndices.push(lastRowIndex + 1)\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                adaptiveExpandedKey: function(value) {\r\n                    if (isDefined(value)) {\r\n                        this._adaptiveExpandedKey = value\r\n                    } else {\r\n                        return this._adaptiveExpandedKey\r\n                    }\r\n                },\r\n                toggleExpandAdaptiveDetailRow: function(key, alwaysExpanded) {\r\n                    var oldExpandLoadedRowIndex = gridCoreUtils.getIndexByKey(this._adaptiveExpandedKey, this._items);\r\n                    var newExpandLoadedRowIndex = gridCoreUtils.getIndexByKey(key, this._items);\r\n                    if (oldExpandLoadedRowIndex >= 0 && oldExpandLoadedRowIndex === newExpandLoadedRowIndex && !alwaysExpanded) {\r\n                        key = void 0;\r\n                        newExpandLoadedRowIndex = -1\r\n                    }\r\n                    var oldKey = this._adaptiveExpandedKey;\r\n                    this._adaptiveExpandedKey = key;\r\n                    if (oldExpandLoadedRowIndex >= 0) {\r\n                        oldExpandLoadedRowIndex++\r\n                    }\r\n                    if (newExpandLoadedRowIndex >= 0) {\r\n                        newExpandLoadedRowIndex++\r\n                    }\r\n                    var rowIndexDelta = this.getRowIndexDelta();\r\n                    this.updateItems({\r\n                        allowInvisibleRowIndices: true,\r\n                        changeType: \"update\",\r\n                        rowIndices: [oldExpandLoadedRowIndex - rowIndexDelta, newExpandLoadedRowIndex - rowIndexDelta]\r\n                    });\r\n                    var adaptiveColumnsController = this.getController(\"adaptiveColumns\");\r\n                    adaptiveColumnsController.updateCommandAdaptiveAriaLabel(key, COLLAPSE_ARIA_NAME);\r\n                    adaptiveColumnsController.updateCommandAdaptiveAriaLabel(oldKey, EXPAND_ARIA_NAME)\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveExpandedKey = void 0\r\n                }\r\n            },\r\n            editorFactory: {\r\n                _getFocusCellSelector: function() {\r\n                    return this.callBase() + \", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content\"\r\n                },\r\n                _getTooltipsSelector: function() {\r\n                    return this.callBase() + \", .dx-field-item-content .\" + this.addWidgetPrefix(REVERT_TOOLTIP_CLASS)\r\n                }\r\n            },\r\n            columns: {\r\n                _isColumnVisible: function(column) {\r\n                    return this.callBase(column) && !column.adaptiveHidden\r\n                }\r\n            },\r\n            keyboardNavigation: {\r\n                _isCellValid: function($cell) {\r\n                    return this.callBase.apply(this, arguments) && !$cell.hasClass(this.addWidgetPrefix(HIDDEN_COLUMN_CLASS))\r\n                },\r\n                _processNextCellInMasterDetail: function($nextCell) {\r\n                    this.callBase($nextCell);\r\n                    var isCellOrBatchMode = this._editingController.isCellOrBatchEditMode();\r\n                    if (!this._isInsideEditForm($nextCell) && $nextCell && isCellOrBatchMode) {\r\n                        eventsEngine.on($nextCell, \"focus\", (function focusHandler() {\r\n                            eventsEngine.off($nextCell, \"focus\", focusHandler);\r\n                            eventsEngine.trigger($nextCell, \"dxclick\")\r\n                        }))\r\n                    }\r\n                },\r\n                _handleTabKeyOnMasterDetailCell: function(eventTarget, direction) {\r\n                    var result = this.callBase(eventTarget, direction);\r\n                    var $currentCell = this._getFocusedCell();\r\n                    var $row = $currentCell && $currentCell.parent();\r\n                    if (!result && $row && $row.length) {\r\n                        var $dataCells = getDataCellElements($row);\r\n                        var $targetCell = \"next\" === direction ? $dataCells.last() : $dataCells.first();\r\n                        var rowIndex = $row.get(0).rowIndex;\r\n                        var adaptiveController = this._adaptiveController;\r\n                        var key = this._dataController.getKeyByRowIndex(\"next\" === direction ? rowIndex : rowIndex - 1);\r\n                        var isCellElementsEquals = $currentCell && $targetCell && $currentCell.get(0) === $targetCell.get(0);\r\n                        return adaptiveController.isAdaptiveDetailRowExpanded(key) && isCellElementsEquals\r\n                    }\r\n                    return result\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport function foreachColumnInfo(info, callback, rowIndex, offsets, columnCount, lastProcessedIndexes) {\r\n    rowIndex = rowIndex || 0;\r\n    offsets = offsets || [];\r\n    lastProcessedIndexes = lastProcessedIndexes || [];\r\n    offsets[rowIndex] = offsets[rowIndex] || 0;\r\n    var row = info[rowIndex];\r\n    var startIndex = lastProcessedIndexes[rowIndex] + 1 || 0;\r\n    var processedColumnCount = 0;\r\n    var colIndex;\r\n    if (!row) {\r\n        return\r\n    }\r\n    for (colIndex = startIndex; colIndex < row.length; colIndex++) {\r\n        var cell = row[colIndex];\r\n        var visibleIndex = colIndex + offsets[rowIndex];\r\n        var colspan = cell.colspan || 1;\r\n        foreachColumnInfo(info, callback, rowIndex + (cell.rowspan || 1), offsets, colspan, lastProcessedIndexes);\r\n        offsets[rowIndex] += colspan - 1;\r\n        processedColumnCount += colspan;\r\n        if (cell.rowspan) {\r\n            for (var i = rowIndex + 1; i < rowIndex + cell.rowspan; i++) {\r\n                offsets[i] = offsets[i] || 0;\r\n                offsets[i] += cell.colspan || 1\r\n            }\r\n        }\r\n        if (false === callback(cell, visibleIndex, rowIndex, colIndex)) {\r\n            break\r\n        }\r\n        if (void 0 !== columnCount && processedColumnCount >= columnCount) {\r\n            break\r\n        }\r\n    }\r\n    lastProcessedIndexes[rowIndex] = colIndex\r\n}\r\nexport function createColumnsInfo(info, startIndex, endIndex) {\r\n    var newInfo = [];\r\n    foreachColumnInfo(info, (function(columnInfo, visibleIndex, rowIndex) {\r\n        var cell = columnInfo;\r\n        var colspan;\r\n        var cellColspan = cell.colspan || 1;\r\n        var isVisible = visibleIndex + cellColspan - 1 >= startIndex && visibleIndex < endIndex;\r\n        newInfo[rowIndex] = newInfo[rowIndex] || [];\r\n        if (isVisible) {\r\n            if (visibleIndex < startIndex) {\r\n                colspan = cellColspan - (startIndex - visibleIndex);\r\n                visibleIndex = startIndex\r\n            } else {\r\n                colspan = cellColspan\r\n            }\r\n            if (visibleIndex + colspan > endIndex) {\r\n                colspan = endIndex - visibleIndex\r\n            }\r\n            if (colspan !== cellColspan) {\r\n                cell = extend({}, cell, {\r\n                    colspan: colspan\r\n                })\r\n            }\r\n            newInfo[rowIndex].push(cell)\r\n        } else if (visibleIndex > endIndex) {\r\n            return false\r\n        }\r\n    }));\r\n    for (var i = 0; i < newInfo.length; i++) {\r\n        newInfo[i] = newInfo[i] || []\r\n    }\r\n    return newInfo\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.adaptivity.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    adaptivityModule\r\n} from \"../grid_core/ui.grid_core.adaptivity\";\r\ngridCore.registerModule(\"adaptivity\", adaptivityModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    createColumnsInfo\r\n} from \"./ui.grid_core.virtual_columns_core\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar DEFAULT_COLUMN_WIDTH = 50;\r\nvar VirtualScrollingRowsViewExtender = {\r\n    _resizeCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._columnsController.resize()\r\n    },\r\n    _handleScroll: function(e) {\r\n        var that = this;\r\n        var scrollable = this.getScrollable();\r\n        var left = e.scrollOffset.left;\r\n        that.callBase.apply(that, arguments);\r\n        if (that.option(\"rtlEnabled\") && scrollable) {\r\n            left = getWidth(scrollable.$content()) - getWidth(scrollable.$element()) - left\r\n        }\r\n        that._columnsController.setScrollPosition(left)\r\n    }\r\n};\r\nvar HeaderViewExtender = {\r\n    _renderCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._columnsController.isVirtualMode()) {\r\n            this._updateScrollLeftPosition()\r\n        }\r\n    }\r\n};\r\nvar ColumnsControllerExtender = function() {\r\n    var getWidths = function(columns) {\r\n        return columns.map(column => column.visibleWidth || parseFloat(column.width) || DEFAULT_COLUMN_WIDTH)\r\n    };\r\n    var members = {\r\n        init: function() {\r\n            this.callBase();\r\n            this._beginPageIndex = 0;\r\n            this._endPageIndex = 0;\r\n            this._position = 0;\r\n            this._virtualVisibleColumns = {}\r\n        },\r\n        resetColumnsCache: function() {\r\n            this.callBase();\r\n            this._virtualVisibleColumns = {}\r\n        },\r\n        getBeginPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.floor(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return 0\r\n        },\r\n        getTotalWidth: function() {\r\n            var width = this.option(\"width\");\r\n            if (\"number\" === typeof width) {\r\n                return width\r\n            }\r\n            return this.getController(\"resizing\")._lastWidth || getOuterWidth(this.component.$element())\r\n        },\r\n        getEndPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            position += this.getTotalWidth();\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.ceil(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return Math.ceil(widths.length / this.getColumnPageSize())\r\n        },\r\n        getColumnPageSize: function() {\r\n            return this.option(\"scrolling.columnPageSize\")\r\n        },\r\n        _fireColumnsChanged: function() {\r\n            var date = new Date;\r\n            this.columnsChanged.fire({\r\n                optionNames: {\r\n                    all: true,\r\n                    length: 1\r\n                },\r\n                changeTypes: {\r\n                    columns: true,\r\n                    virtualColumnsScrolling: true,\r\n                    length: 2\r\n                }\r\n            });\r\n            this._renderTime = new Date - date\r\n        },\r\n        getScrollingTimeout: function() {\r\n            var renderingThreshold = this.option(\"scrolling.columnRenderingThreshold\");\r\n            var renderAsync = this.option(\"scrolling.renderAsync\");\r\n            var scrollingTimeout = 0;\r\n            if (!isDefined(renderAsync) && this._renderTime > renderingThreshold || renderAsync) {\r\n                scrollingTimeout = this.option(\"scrolling.timeout\")\r\n            }\r\n            return scrollingTimeout\r\n        },\r\n        setScrollPosition: function(position) {\r\n            var scrollingTimeout = this.getScrollingTimeout();\r\n            if (scrollingTimeout > 0) {\r\n                clearTimeout(this._changedTimeout);\r\n                this._changedTimeout = setTimeout(() => {\r\n                    this._setScrollPositionCore(position)\r\n                }, scrollingTimeout)\r\n            } else {\r\n                this._setScrollPositionCore(position)\r\n            }\r\n        },\r\n        isVirtualMode: function() {\r\n            return hasWindow() && \"virtual\" === this.option(\"scrolling.columnRenderingMode\")\r\n        },\r\n        resize: function() {\r\n            this._setScrollPositionCore(this._position)\r\n        },\r\n        _setScrollPositionCore: function(position) {\r\n            if (this.isVirtualMode()) {\r\n                var beginPageIndex = this.getBeginPageIndex(position);\r\n                var endPageIndex = this.getEndPageIndex(position);\r\n                var needColumnsChanged = position < this._position ? this._beginPageIndex > beginPageIndex : this._endPageIndex < endPageIndex;\r\n                this._position = position;\r\n                if (needColumnsChanged) {\r\n                    this._beginPageIndex = beginPageIndex;\r\n                    this._endPageIndex = endPageIndex;\r\n                    this._fireColumnsChanged()\r\n                }\r\n            }\r\n        },\r\n        getFixedColumns: function(rowIndex, isBase) {\r\n            var fixedColumns = this.callBase(rowIndex);\r\n            if (this.isVirtualMode() && !isBase && fixedColumns.length) {\r\n                var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n                fixedColumns[transparentColumnIndex].colspan = this.getVisibleColumns().length - this.callBase().length + 1;\r\n                return fixedColumns\r\n            }\r\n            return fixedColumns\r\n        },\r\n        getVisibleColumns: function(rowIndex, isBase) {\r\n            if (isBase || !this.isVirtualMode()) {\r\n                return this.callBase(rowIndex)\r\n            }\r\n            if (!this._beginPageIndex && !this._endPageIndex) {\r\n                this._beginPageIndex = this.getBeginPageIndex(this._position);\r\n                this._endPageIndex = this.getEndPageIndex(this._position)\r\n            }\r\n            var beginPageIndex = this._beginPageIndex;\r\n            var endPageIndex = this._endPageIndex;\r\n            var visibleColumnsHash = rowIndex + \"-\" + beginPageIndex + \"-\" + endPageIndex;\r\n            if (this._virtualVisibleColumns[visibleColumnsHash]) {\r\n                return this._virtualVisibleColumns[visibleColumnsHash]\r\n            }\r\n            var visibleColumns = this.callBase();\r\n            var rowCount = this.getRowCount();\r\n            var pageSize = this.getColumnPageSize();\r\n            var startIndex = beginPageIndex * pageSize;\r\n            var endIndex = endPageIndex * pageSize;\r\n            var fixedColumns = this.getFixedColumns(void 0, true);\r\n            var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n            var beginFixedColumnCount = fixedColumns.length ? transparentColumnIndex : 0;\r\n            var beginFixedColumns = visibleColumns.slice(0, beginFixedColumnCount);\r\n            var beginColumns = visibleColumns.slice(beginFixedColumnCount, startIndex);\r\n            var beginWidth = getWidths(beginColumns).reduce((a, b) => a + b, 0);\r\n            if (!beginWidth) {\r\n                startIndex = 0\r\n            }\r\n            var endFixedColumnCount = fixedColumns.length ? fixedColumns.length - transparentColumnIndex - 1 : 0;\r\n            var endFixedColumns = visibleColumns.slice(visibleColumns.length - endFixedColumnCount);\r\n            var endColumns = visibleColumns.slice(endIndex, visibleColumns.length - endFixedColumnCount);\r\n            var endWidth = getWidths(endColumns).reduce((a, b) => a + b, 0);\r\n            if (!endWidth) {\r\n                endIndex = visibleColumns.length\r\n            }\r\n            if (rowCount > 1 && \"number\" === typeof rowIndex) {\r\n                var columnsInfo = [];\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    columnsInfo.push(this.callBase(i))\r\n                }\r\n                beginFixedColumns = createColumnsInfo(columnsInfo, 0, beginFixedColumns.length)[rowIndex] || [];\r\n                endFixedColumns = createColumnsInfo(columnsInfo, visibleColumns.length - endFixedColumns.length, visibleColumns.length)[rowIndex] || [];\r\n                visibleColumns = createColumnsInfo(columnsInfo, startIndex, endIndex)[rowIndex] || []\r\n            } else {\r\n                visibleColumns = visibleColumns.slice(startIndex, endIndex)\r\n            }\r\n            if (beginWidth) {\r\n                visibleColumns.unshift({\r\n                    command: \"virtual\",\r\n                    width: beginWidth\r\n                });\r\n                visibleColumns = beginFixedColumns.concat(visibleColumns)\r\n            }\r\n            if (endWidth) {\r\n                visibleColumns.push({\r\n                    command: \"virtual\",\r\n                    width: endWidth\r\n                });\r\n                visibleColumns = visibleColumns.concat(endFixedColumns)\r\n            }\r\n            this._virtualVisibleColumns[visibleColumnsHash] = visibleColumns;\r\n            return visibleColumns\r\n        },\r\n        getColumnIndexOffset: function() {\r\n            var offset = 0;\r\n            if (this._beginPageIndex > 0) {\r\n                var fixedColumns = this.getFixedColumns();\r\n                var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n                var leftFixedColumnCount = transparentColumnIndex >= 0 ? transparentColumnIndex : 0;\r\n                offset = this._beginPageIndex * this.getColumnPageSize() - leftFixedColumnCount - 1\r\n            }\r\n            return offset > 0 ? offset : 0\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._changedTimeout);\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n    };\r\n    return members\r\n}();\r\nexport var virtualColumnsModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            scrolling: {\r\n                columnRenderingMode: \"standard\",\r\n                columnPageSize: 5,\r\n                columnRenderingThreshold: 300\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: ColumnsControllerExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: HeaderViewExtender,\r\n            rowsView: VirtualScrollingRowsViewExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.virtual_columns.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    virtualColumnsModule\r\n} from \"../grid_core/ui.grid_core.virtual_columns\";\r\ngridCore.registerModule(\"virtualColumns\", virtualColumnsModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.export_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport default {\r\n    _getEmptyCell: function() {\r\n        return {\r\n            text: \"\",\r\n            value: void 0,\r\n            colspan: 1,\r\n            rowspan: 1\r\n        }\r\n    },\r\n    _defaultSetter: function(value) {\r\n        return !value ? 1 : value\r\n    },\r\n    _cloneItem: function(item) {\r\n        return extend({}, item, this._getEmptyCell())\r\n    },\r\n    _prepareItems: function(items) {\r\n        var that = this;\r\n        var resultItems = [];\r\n        var cols = (items[0] || []).reduce((sum, item) => sum + that._defaultSetter(item.colspan), 0);\r\n        var getItem = function(items) {\r\n            var rowIndex = 0;\r\n            var cellIndex = 0;\r\n            return function() {\r\n                var row = items[rowIndex] || [];\r\n                var item = row[cellIndex++];\r\n                if (cellIndex >= row.length) {\r\n                    rowIndex++;\r\n                    cellIndex = 0\r\n                }\r\n                if (item) {\r\n                    item.colspan = that._defaultSetter(item.colspan);\r\n                    item.rowspan = that._defaultSetter(item.rowspan)\r\n                }\r\n                return item\r\n            }\r\n        }(items);\r\n\r\n        function addItem(rowIndex, cellIndex, item) {\r\n            var row = resultItems[rowIndex] = resultItems[rowIndex] || [];\r\n            row[cellIndex] = item;\r\n            if (item.colspan > 1 || item.rowspan > 1) {\r\n                var clone = that._cloneItem(item);\r\n                for (var c = 1; c < item.colspan; c++) {\r\n                    addItem(rowIndex, cellIndex + c, clone)\r\n                }\r\n                for (var r = 1; r < item.rowspan; r++) {\r\n                    for (var _c = 0; _c < item.colspan; _c++) {\r\n                        addItem(rowIndex + r, cellIndex + _c, clone)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var item = getItem();\r\n        var rowIndex = 0;\r\n        while (item) {\r\n            for (var cellIndex = 0; cellIndex < cols; cellIndex++) {\r\n                if (!item) {\r\n                    break\r\n                }\r\n                if (resultItems[rowIndex] && resultItems[rowIndex][cellIndex]) {\r\n                    continue\r\n                }\r\n                addItem(rowIndex, cellIndex, item);\r\n                cellIndex += item.colspan - 1;\r\n                item = getItem()\r\n            }\r\n            rowIndex++\r\n        }\r\n        return resultItems\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/exporter/file_saver.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    getWindow,\r\n    getNavigator\r\n} from \"../core/utils/window\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport errors from \"../ui/widget/ui.errors\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    logger\r\n} from \"../core/utils/console\";\r\nvar window = getWindow();\r\nvar navigator = getNavigator();\r\nvar FILE_EXTESIONS = {\r\n    EXCEL: \"xlsx\",\r\n    CSS: \"css\",\r\n    PNG: \"png\",\r\n    JPEG: \"jpeg\",\r\n    GIF: \"gif\",\r\n    SVG: \"svg\",\r\n    PDF: \"pdf\"\r\n};\r\nexport var MIME_TYPES = {\r\n    CSS: \"text/css\",\r\n    EXCEL: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n    PNG: \"image/png\",\r\n    JPEG: \"image/jpeg\",\r\n    GIF: \"image/gif\",\r\n    SVG: \"image/svg+xml\",\r\n    PDF: \"application/pdf\"\r\n};\r\nexport var fileSaver = {\r\n    _revokeObjectURLTimeout: 3e4,\r\n    _getDataUri: function(format, data) {\r\n        var mimeType = this._getMimeType(format);\r\n        return \"data:\".concat(mimeType, \";base64,\").concat(data)\r\n    },\r\n    _getMimeType: function(format) {\r\n        return MIME_TYPES[format] || \"application/octet-stream\"\r\n    },\r\n    _linkDownloader: function(fileName, href) {\r\n        var exportLinkElement = domAdapter.createElement(\"a\");\r\n        exportLinkElement.download = fileName;\r\n        exportLinkElement.href = href;\r\n        exportLinkElement.target = \"_blank\";\r\n        return exportLinkElement\r\n    },\r\n    _formDownloader: function(proxyUrl, fileName, contentType, data) {\r\n        var formAttributes = {\r\n            method: \"post\",\r\n            action: proxyUrl,\r\n            enctype: \"multipart/form-data\"\r\n        };\r\n        var exportForm = $(\"<form>\").css({\r\n            display: \"none\"\r\n        }).attr(formAttributes);\r\n\r\n        function setAttributes(element, attributes) {\r\n            for (var key in attributes) {\r\n                element.setAttribute(key, attributes[key])\r\n            }\r\n            return element\r\n        }\r\n        exportForm.append(setAttributes(domAdapter.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"fileName\",\r\n            value: fileName\r\n        }));\r\n        exportForm.append(setAttributes(domAdapter.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"contentType\",\r\n            value: contentType\r\n        }));\r\n        exportForm.append(setAttributes(domAdapter.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"data\",\r\n            value: data\r\n        }));\r\n        exportForm.appendTo(\"body\");\r\n        eventsEngine.trigger(exportForm, \"submit\");\r\n        if (eventsEngine.trigger(exportForm, \"submit\")) {\r\n            exportForm.remove()\r\n        }\r\n    },\r\n    _saveByProxy: function(proxyUrl, fileName, format, data) {\r\n        var contentType = this._getMimeType(format);\r\n        return this._formDownloader(proxyUrl, fileName, contentType, data)\r\n    },\r\n    _winJSBlobSave: function(blob, fileName, format) {\r\n        var savePicker = new Windows.Storage.Pickers.FileSavePicker;\r\n        savePicker.suggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.documentsLibrary;\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            var mimeType = this._getMimeType(format);\r\n            savePicker.fileTypeChoices.insert(mimeType, [\".\" + fileExtension])\r\n        }\r\n        savePicker.suggestedFileName = fileName;\r\n        savePicker.pickSaveFileAsync().then((function(file) {\r\n            if (file) {\r\n                file.openAsync(Windows.Storage.FileAccessMode.readWrite).then((function(outputStream) {\r\n                    var inputStream = blob.msDetachStream();\r\n                    Windows.Storage.Streams.RandomAccessStream.copyAsync(inputStream, outputStream).then((function() {\r\n                        outputStream.flushAsync().done((function() {\r\n                            inputStream.close();\r\n                            outputStream.close()\r\n                        }))\r\n                    }))\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _click: function(link) {\r\n        try {\r\n            link.dispatchEvent(new MouseEvent(\"click\", {\r\n                cancelable: true\r\n            }))\r\n        } catch (e) {\r\n            var event = domAdapter.getDocument().createEvent(\"MouseEvents\");\r\n            event.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\r\n            link.dispatchEvent(event)\r\n        }\r\n    },\r\n    _saveBlobAs: function(fileName, format, data) {\r\n        this._blobSaved = false;\r\n        if (isDefined(navigator.msSaveOrOpenBlob)) {\r\n            navigator.msSaveOrOpenBlob(data, fileName);\r\n            this._blobSaved = true\r\n        } else if (isDefined(window.WinJS)) {\r\n            this._winJSBlobSave(data, fileName, format);\r\n            this._blobSaved = true\r\n        } else {\r\n            var URL = window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL;\r\n            if (isDefined(URL)) {\r\n                var objectURL = URL.createObjectURL(data);\r\n                var downloadLink = this._linkDownloader(fileName, objectURL);\r\n                setTimeout(() => {\r\n                    URL.revokeObjectURL(objectURL);\r\n                    this._objectUrlRevoked = true\r\n                }, this._revokeObjectURLTimeout);\r\n                this._click(downloadLink)\r\n            } else {\r\n                logger.warn(\"window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined\")\r\n            }\r\n        }\r\n    },\r\n    saveAs: function(fileName, format, data, proxyURL, forceProxy) {\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            fileName += \".\" + fileExtension\r\n        }\r\n        if (isDefined(proxyURL)) {\r\n            errors.log(\"W0001\", \"Export\", \"proxyURL\", \"19.2\", \"This option is no longer required\")\r\n        }\r\n        if (forceProxy) {\r\n            this._saveByProxy(proxyURL, fileName, format, data)\r\n        } else if (isFunction(window.Blob)) {\r\n            this._saveBlobAs(fileName, format, data)\r\n        } else if (isDefined(proxyURL) && !isDefined(navigator.userAgent.match(/iPad/i))) {\r\n            this._saveByProxy(proxyURL, fileName, format, data)\r\n        } else {\r\n            if (!isDefined(navigator.userAgent.match(/iPad/i))) {\r\n                errors.log(\"E1034\")\r\n            }\r\n            var downloadLink = this._linkDownloader(fileName, this._getDataUri(format, data));\r\n            this._click(downloadLink)\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/exporter/excel_format_converter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    format as stringFormat\r\n} from \"../core/utils/string\";\r\nimport numberFormatter from \"../localization/number\";\r\nimport dateLocalization from \"../localization/date\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../core/utils/type\";\r\nimport {\r\n    getFormat\r\n} from \"../localization/ldml/date.format\";\r\nimport {\r\n    getLanguageId\r\n} from \"../localization/language_codes\";\r\nimport \"../localization/currency\";\r\nvar ARABIC_ZERO_CODE = 1632;\r\nvar DEFINED_NUMBER_FORMTATS = {\r\n    thousands: \"#,##0{0},&quot;K&quot;\",\r\n    millions: \"#,##0{0},,&quot;M&quot;\",\r\n    billions: \"#,##0{0},,,&quot;B&quot;\",\r\n    trillions: \"#,##0{0},,,,&quot;T&quot;\",\r\n    percent: \"0{0}%\",\r\n    decimal: \"#{0}\",\r\n    fixedpoint: \"#,##0{0}\",\r\n    exponential: \"0{0}E+00\",\r\n    currency: \" \"\r\n};\r\nvar PERIOD_REGEXP = /a+/g;\r\nvar DAY_REGEXP = /E/g;\r\nvar DO_REGEXP = /dE+/g;\r\nvar STANDALONE_MONTH_REGEXP = /L/g;\r\nvar HOUR_REGEXP = /h/g;\r\nvar ANY_REGEXP = /./g;\r\nvar excelFormatConverter = {\r\n    _applyPrecision: function(format, precision) {\r\n        var result;\r\n        var i;\r\n        if (precision > 0) {\r\n            result = \"decimal\" !== format ? \".\" : \"\";\r\n            for (i = 0; i < precision; i++) {\r\n                result += \"0\"\r\n            }\r\n            return result\r\n        }\r\n        return \"\"\r\n    },\r\n    _hasArabicDigits: function(text) {\r\n        var code;\r\n        for (var i = 0; i < text.length; i++) {\r\n            code = text.charCodeAt(i);\r\n            if (code >= ARABIC_ZERO_CODE && code < ARABIC_ZERO_CODE + 10) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _convertDateFormatToOpenXml: function(format) {\r\n        return format.split(\"/\").join(\"\\\\/\").split(\"'\").map((function(datePart, index) {\r\n            if (index % 2 === 0) {\r\n                return datePart.replace(PERIOD_REGEXP, \"AM/PM\").replace(DO_REGEXP, \"d\").replace(DAY_REGEXP, \"d\").replace(STANDALONE_MONTH_REGEXP, \"M\").replace(HOUR_REGEXP, \"H\").split(\"[\").join(\"\\\\[\").split(\"]\").join(\"\\\\]\")\r\n            }\r\n            if (datePart) {\r\n                return datePart.replace(ANY_REGEXP, \"\\\\$&\")\r\n            }\r\n            return \"'\"\r\n        })).join(\"\")\r\n    },\r\n    _convertDateFormat: function(format) {\r\n        var formattedValue = (dateLocalization.format(new Date(2009, 8, 8, 6, 5, 4), format) || \"\").toString();\r\n        var result = getFormat(value => dateLocalization.format(value, format));\r\n        if (result) {\r\n            result = this._convertDateFormatToOpenXml(result);\r\n            result = this._getLanguageInfo(formattedValue) + result\r\n        }\r\n        return result\r\n    },\r\n    _getLanguageInfo: function(defaultPattern) {\r\n        var languageID = getLanguageId();\r\n        var languageIDStr = languageID ? languageID.toString(16) : \"\";\r\n        var languageInfo = \"\";\r\n        if (this._hasArabicDigits(defaultPattern)) {\r\n            while (languageIDStr.length < 3) {\r\n                languageIDStr = \"0\" + languageIDStr\r\n            }\r\n            languageInfo = \"[$-2010\" + languageIDStr + \"]\"\r\n        } else if (languageIDStr) {\r\n            languageInfo = \"[$-\" + languageIDStr + \"]\"\r\n        }\r\n        return languageInfo\r\n    },\r\n    _convertNumberFormat: function(format, precision, currency) {\r\n        var result;\r\n        var excelFormat;\r\n        if (\"currency\" === format) {\r\n            excelFormat = numberFormatter.getOpenXmlCurrencyFormat(currency)\r\n        } else {\r\n            excelFormat = DEFINED_NUMBER_FORMTATS[format.toLowerCase()]\r\n        }\r\n        if (excelFormat) {\r\n            result = stringFormat(excelFormat, this._applyPrecision(format, precision))\r\n        }\r\n        return result\r\n    },\r\n    convertFormat: function(format, precision, type, currency) {\r\n        if (isDefined(format)) {\r\n            if (\"date\" === type) {\r\n                return excelFormatConverter._convertDateFormat(format)\r\n            } else if (isString(format) && DEFINED_NUMBER_FORMTATS[format.toLowerCase()]) {\r\n                return excelFormatConverter._convertNumberFormat(format, precision, currency)\r\n            }\r\n        }\r\n    }\r\n};\r\nexport default excelFormatConverter;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.tag_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar tagHelper = {\r\n    toXml: function(tagName, attributes, content) {\r\n        var result = [\"<\", tagName];\r\n        for (var attributeName in attributes) {\r\n            var attributeValue = attributes[attributeName];\r\n            if (isDefined(attributeValue)) {\r\n                result.push(\" \", attributeName, '=\"', attributeValue, '\"')\r\n            }\r\n        }\r\n        if (isDefined(content) && \"\" !== content) {\r\n            result.push(\">\", content, \"</\", tagName, \">\")\r\n        } else {\r\n            result.push(\" />\")\r\n        }\r\n        return result.join(\"\")\r\n    }\r\n};\r\nexport default tagHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.cell_alignment_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nvar cellAlignmentHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                vertical: sourceObj.vertical,\r\n                wrapText: sourceObj.wrapText,\r\n                horizontal: sourceObj.horizontal\r\n            };\r\n            if (cellAlignmentHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.horizontal) {\r\n                result.horizontal = source.horizontal\r\n            }\r\n            if (void 0 !== source.vertical) {\r\n                result.vertical = source.vertical\r\n            }\r\n            if (void 0 !== source.wrapText) {\r\n                result.wrapText = source.wrapText\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return cellAlignmentHelper.isEmpty(leftTag) && cellAlignmentHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.vertical === rightTag.vertical && leftTag.wrapText === rightTag.wrapText && leftTag.horizontal === rightTag.horizontal\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.vertical) && !isDefined(tag.wrapText) && !isDefined(tag.horizontal)\r\n    },\r\n    toXml: function(tag) {\r\n        return tagHelper.toXml(\"alignment\", {\r\n            vertical: tag.vertical,\r\n            wrapText: isDefined(tag.wrapText) ? Number(tag.wrapText) : void 0,\r\n            horizontal: tag.horizontal\r\n        })\r\n    }\r\n};\r\nexport default cellAlignmentHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.color_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nvar colorHelper = {\r\n    _tryConvertColor: function(source) {\r\n        if (\"string\" !== typeof source) {\r\n            return source\r\n        }\r\n        var result;\r\n        if (source.length > 0 && \"#\" === source[0]) {\r\n            var colorCode = source.substr(1, source.length);\r\n            if (6 === colorCode.length) {\r\n                result = \"FF\" + colorCode\r\n            } else if (8 === colorCode.length) {\r\n                result = colorCode[6] + colorCode[7] + colorCode.substr(0, 6)\r\n            } else {\r\n                result = colorCode\r\n            }\r\n        } else {\r\n            result = source\r\n        }\r\n        return result\r\n    },\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            if (\"string\" === typeof sourceObj) {\r\n                result = {\r\n                    rgb: this._tryConvertColor(sourceObj)\r\n                }\r\n            } else {\r\n                result = {\r\n                    rgb: this._tryConvertColor(sourceObj.rgb),\r\n                    theme: sourceObj.theme\r\n                }\r\n            }\r\n            if (colorHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            if (\"string\" === typeof source) {\r\n                result = source\r\n            } else {\r\n                result = {};\r\n                if (void 0 !== source.rgb) {\r\n                    result.rgb = source.rgb\r\n                }\r\n                if (void 0 !== source.theme) {\r\n                    result.theme = source.theme\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.rgb) && !isDefined(tag.theme)\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return colorHelper.isEmpty(leftTag) && colorHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.rgb === rightTag.rgb && leftTag.theme === rightTag.theme\r\n    },\r\n    toXml: function(tagName, tag) {\r\n        return tagHelper.toXml(tagName, {\r\n            rgb: tag.rgb,\r\n            theme: tag.theme\r\n        })\r\n    }\r\n};\r\nexport default colorHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.pattern_fill_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport colorHelper from \"./excel.color_helper\";\r\nvar patternFillHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                patternType: sourceObj.patternType,\r\n                backgroundColor: colorHelper.tryCreateTag(sourceObj.backgroundColor),\r\n                foregroundColor: colorHelper.tryCreateTag(sourceObj.foregroundColor)\r\n            };\r\n            if (patternFillHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.patternType) {\r\n                result.patternType = source.patternType\r\n            }\r\n            if (void 0 !== source.backgroundColor) {\r\n                result.backgroundColor = colorHelper.copy(source.backgroundColor)\r\n            }\r\n            if (void 0 !== source.foregroundColor) {\r\n                result.foregroundColor = colorHelper.copy(source.foregroundColor)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return patternFillHelper.isEmpty(leftTag) && patternFillHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.patternType === rightTag.patternType && colorHelper.areEqual(leftTag.backgroundColor, rightTag.backgroundColor) && colorHelper.areEqual(leftTag.foregroundColor, rightTag.foregroundColor)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.patternType)\r\n    },\r\n    toXml: function(tag) {\r\n        var content = [isDefined(tag.foregroundColor) ? colorHelper.toXml(\"fgColor\", tag.foregroundColor) : \"\", isDefined(tag.backgroundColor) ? colorHelper.toXml(\"bgColor\", tag.backgroundColor) : \"\"].join(\"\");\r\n        return tagHelper.toXml(\"patternFill\", {\r\n            patternType: tag.patternType\r\n        }, content)\r\n    }\r\n};\r\nexport default patternFillHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.fill_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport patternFillHelper from \"./excel.pattern_fill_helper\";\r\nvar fillHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                patternFill: patternFillHelper.tryCreateTag(sourceObj.patternFill)\r\n            };\r\n            if (fillHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    tryCreateFillFromSimpleFormat: function() {\r\n        var {\r\n            backgroundColor: backgroundColor,\r\n            fillPatternType: fillPatternType,\r\n            fillPatternColor: fillPatternColor\r\n        } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\r\n        if (isDefined(backgroundColor) && !(isDefined(fillPatternType) && isDefined(fillPatternColor))) {\r\n            return {\r\n                patternFill: {\r\n                    patternType: \"solid\",\r\n                    foregroundColor: {\r\n                        rgb: backgroundColor\r\n                    }\r\n                }\r\n            }\r\n        } else if (isDefined(fillPatternType) && isDefined(fillPatternColor)) {\r\n            return {\r\n                patternFill: {\r\n                    patternType: fillPatternType,\r\n                    foregroundColor: {\r\n                        rgb: fillPatternColor\r\n                    },\r\n                    backgroundColor: {\r\n                        rgb: backgroundColor\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    copySimpleFormat: function(source, target) {\r\n        if (void 0 !== source.backgroundColor) {\r\n            target.backgroundColor = source.backgroundColor\r\n        }\r\n        if (void 0 !== source.fillPatternType) {\r\n            target.fillPatternType = source.fillPatternType\r\n        }\r\n        if (void 0 !== source.fillPatternColor) {\r\n            target.fillPatternColor = source.fillPatternColor\r\n        }\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.patternFill) {\r\n                result.patternFill = patternFillHelper.copy(source.patternFill)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return fillHelper.isEmpty(leftTag) && fillHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && patternFillHelper.areEqual(leftTag.patternFill, rightTag.patternFill)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || patternFillHelper.isEmpty(tag.patternFill)\r\n    },\r\n    toXml: function(tag) {\r\n        return tagHelper.toXml(\"fill\", {}, patternFillHelper.toXml(tag.patternFill))\r\n    }\r\n};\r\nexport default fillHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.font_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport colorHelper from \"./excel.color_helper\";\r\nvar fontHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                size: sourceObj.size,\r\n                name: sourceObj.name,\r\n                family: sourceObj.family,\r\n                scheme: sourceObj.scheme,\r\n                bold: sourceObj.bold,\r\n                italic: sourceObj.italic,\r\n                underline: sourceObj.underline,\r\n                color: colorHelper.tryCreateTag(sourceObj.color)\r\n            };\r\n            if (fontHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.size) {\r\n                result.size = source.size\r\n            }\r\n            if (void 0 !== source.name) {\r\n                result.name = source.name\r\n            }\r\n            if (void 0 !== source.family) {\r\n                result.family = source.family\r\n            }\r\n            if (void 0 !== source.scheme) {\r\n                result.scheme = source.scheme\r\n            }\r\n            if (void 0 !== source.bold) {\r\n                result.bold = source.bold\r\n            }\r\n            if (void 0 !== source.italic) {\r\n                result.italic = source.italic\r\n            }\r\n            if (void 0 !== source.underline) {\r\n                result.underline = source.underline\r\n            }\r\n            if (void 0 !== source.color) {\r\n                result.color = colorHelper.copy(source.color)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return fontHelper.isEmpty(leftTag) && fontHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.size === rightTag.size && leftTag.name === rightTag.name && leftTag.family === rightTag.family && leftTag.scheme === rightTag.scheme && (leftTag.bold === rightTag.bold || !leftTag.bold === !rightTag.bold) && (leftTag.italic === rightTag.italic || !leftTag.italic === !rightTag.italic) && leftTag.underline === rightTag.underline && colorHelper.areEqual(leftTag.color, rightTag.color)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.size) && !isDefined(tag.name) && !isDefined(tag.family) && !isDefined(tag.scheme) && (!isDefined(tag.bold) || !tag.bold) && (!isDefined(tag.italic) || !tag.italic) && !isDefined(tag.underline) && colorHelper.isEmpty(tag.color)\r\n    },\r\n    toXml: function(tag) {\r\n        var content = [isDefined(tag.bold) && tag.bold ? tagHelper.toXml(\"b\", {}) : \"\", isDefined(tag.size) ? tagHelper.toXml(\"sz\", {\r\n            val: tag.size\r\n        }) : \"\", isDefined(tag.color) ? colorHelper.toXml(\"color\", tag.color) : \"\", isDefined(tag.name) ? tagHelper.toXml(\"name\", {\r\n            val: tag.name\r\n        }) : \"\", isDefined(tag.family) ? tagHelper.toXml(\"family\", {\r\n            val: tag.family\r\n        }) : \"\", isDefined(tag.scheme) ? tagHelper.toXml(\"scheme\", {\r\n            val: tag.scheme\r\n        }) : \"\", isDefined(tag.italic) && tag.italic ? tagHelper.toXml(\"i\", {}) : \"\", isDefined(tag.underline) ? tagHelper.toXml(\"u\", {\r\n            val: tag.underline\r\n        }) : \"\"].join(\"\");\r\n        return tagHelper.toXml(\"font\", {}, content)\r\n    }\r\n};\r\nexport default fontHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.cell_format_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport cellAlignmentHelper from \"./excel.cell_alignment_helper\";\r\nimport fillHelper from \"./excel.fill_helper\";\r\nimport fontHelper from \"./excel.font_helper\";\r\nvar cellFormatHelper = {\r\n    tryCreateTag: function(sourceObj, sharedItemsContainer) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            var numberFormatId;\r\n            if (\"number\" === typeof sourceObj.numberFormat) {\r\n                numberFormatId = sourceObj.numberFormat\r\n            } else {\r\n                numberFormatId = sharedItemsContainer.registerNumberFormat(sourceObj.numberFormat)\r\n            }\r\n            var fill = sourceObj.fill;\r\n            if (!isDefined(fill)) {\r\n                fill = fillHelper.tryCreateFillFromSimpleFormat(sourceObj)\r\n            }\r\n            result = {\r\n                numberFormatId: numberFormatId,\r\n                alignment: cellAlignmentHelper.tryCreateTag(sourceObj.alignment),\r\n                fontId: sharedItemsContainer.registerFont(sourceObj.font),\r\n                fillId: sharedItemsContainer.registerFill(fill)\r\n            };\r\n            if (cellFormatHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result;\r\n        if (null === source) {\r\n            result = null\r\n        } else if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.numberFormat) {\r\n                result.numberFormat = source.numberFormat\r\n            }\r\n            if (void 0 !== source.fill) {\r\n                result.fill = fillHelper.copy(source.fill)\r\n            } else {\r\n                fillHelper.copySimpleFormat(source, result)\r\n            }\r\n            if (void 0 !== source.alignment) {\r\n                result.alignment = cellAlignmentHelper.copy(source.alignment)\r\n            }\r\n            if (void 0 !== source.font) {\r\n                result.font = fontHelper.copy(source.font)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return cellFormatHelper.isEmpty(leftTag) && cellFormatHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.fontId === rightTag.fontId && leftTag.numberFormatId === rightTag.numberFormatId && leftTag.fillId === rightTag.fillId && cellAlignmentHelper.areEqual(leftTag.alignment, rightTag.alignment)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.fontId) && !isDefined(tag.numberFormatId) && !isDefined(tag.fillId) && cellAlignmentHelper.isEmpty(tag.alignment)\r\n    },\r\n    toXml: function(tag) {\r\n        var isAlignmentEmpty = cellAlignmentHelper.isEmpty(tag.alignment);\r\n        var applyNumberFormat;\r\n        if (isDefined(tag.numberFormatId)) {\r\n            applyNumberFormat = tag.numberFormatId > 0 ? 1 : 0\r\n        }\r\n        return tagHelper.toXml(\"xf\", {\r\n            xfId: 0,\r\n            applyAlignment: isAlignmentEmpty ? null : 1,\r\n            fontId: tag.fontId,\r\n            applyNumberFormat: applyNumberFormat,\r\n            fillId: tag.fillId,\r\n            numFmtId: tag.numberFormatId\r\n        }, isAlignmentEmpty ? null : cellAlignmentHelper.toXml(tag.alignment))\r\n    }\r\n};\r\nexport default cellFormatHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.number_format_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nvar numberFormatHelper = {\r\n    ID_PROPERTY_NAME: \"id\",\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (\"string\" === typeof sourceObj) {\r\n            result = {\r\n                formatCode: sourceObj\r\n            };\r\n            if (numberFormatHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return numberFormatHelper.isEmpty(leftTag) && numberFormatHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.formatCode === rightTag.formatCode\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.formatCode) || \"\" === tag.formatCode\r\n    },\r\n    toXml: function(tag) {\r\n        return tagHelper.toXml(\"numFmt\", {\r\n            numFmtId: tag[numberFormatHelper.ID_PROPERTY_NAME],\r\n            formatCode: tag.formatCode\r\n        })\r\n    }\r\n};\r\nexport default numberFormatHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.file.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport cellFormatHelper from \"./excel.cell_format_helper\";\r\nimport fillHelper from \"./excel.fill_helper\";\r\nimport fontHelper from \"./excel.font_helper\";\r\nimport numberFormatHelper from \"./excel.number_format_helper\";\r\nexport default class ExcelFile {\r\n    constructor() {\r\n        this._cellFormatTags = [];\r\n        this._fillTags = [];\r\n        this._fontTags = [];\r\n        this._numberFormatTags = [];\r\n        this._fillTags.push(fillHelper.tryCreateTag({\r\n            patternFill: {\r\n                patternType: \"none\"\r\n            }\r\n        }))\r\n    }\r\n    registerCellFormat(cellFormat) {\r\n        var result;\r\n        var cellFormatTag = cellFormatHelper.tryCreateTag(cellFormat, {\r\n            registerFill: this.registerFill.bind(this),\r\n            registerFont: this.registerFont.bind(this),\r\n            registerNumberFormat: this.registerNumberFormat.bind(this)\r\n        });\r\n        if (isDefined(cellFormatTag)) {\r\n            for (var i = 0; i < this._cellFormatTags.length; i++) {\r\n                if (cellFormatHelper.areEqual(this._cellFormatTags[i], cellFormatTag)) {\r\n                    result = i;\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                result = this._cellFormatTags.push(cellFormatTag) - 1\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    static copyCellFormat(source) {\r\n        return cellFormatHelper.copy(source)\r\n    }\r\n    generateCellFormatsXml() {\r\n        var cellFormatTagsAsXmlStringsArray = this._cellFormatTags.map(tag => cellFormatHelper.toXml(tag));\r\n        return tagHelper.toXml(\"cellXfs\", {\r\n            count: cellFormatTagsAsXmlStringsArray.length\r\n        }, cellFormatTagsAsXmlStringsArray.join(\"\"))\r\n    }\r\n    registerFill(fill) {\r\n        var result;\r\n        var fillTag = fillHelper.tryCreateTag(fill);\r\n        if (isDefined(fillTag)) {\r\n            for (var i = 0; i < this._fillTags.length; i++) {\r\n                if (fillHelper.areEqual(this._fillTags[i], fillTag)) {\r\n                    result = i;\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                if (this._fillTags.length < 2) {\r\n                    this._fillTags.push(fillHelper.tryCreateTag({\r\n                        patternFill: {\r\n                            patternType: \"Gray125\"\r\n                        }\r\n                    }))\r\n                }\r\n                result = this._fillTags.push(fillTag) - 1\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    generateFillsXml() {\r\n        var tagsAsXmlStringsArray = this._fillTags.map(tag => fillHelper.toXml(tag));\r\n        return tagHelper.toXml(\"fills\", {\r\n            count: tagsAsXmlStringsArray.length\r\n        }, tagsAsXmlStringsArray.join(\"\"))\r\n    }\r\n    registerFont(font) {\r\n        var result;\r\n        var fontTag = fontHelper.tryCreateTag(font);\r\n        if (isDefined(fontTag)) {\r\n            for (var i = 0; i < this._fontTags.length; i++) {\r\n                if (fontHelper.areEqual(this._fontTags[i], fontTag)) {\r\n                    result = i;\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                result = this._fontTags.push(fontTag) - 1\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    generateFontsXml() {\r\n        var xmlStringsArray = this._fontTags.map(tag => fontHelper.toXml(tag));\r\n        return tagHelper.toXml(\"fonts\", {\r\n            count: xmlStringsArray.length\r\n        }, xmlStringsArray.join(\"\"))\r\n    }\r\n    _convertNumberFormatIndexToId(index) {\r\n        return 165 + index\r\n    }\r\n    registerNumberFormat(numberFormat) {\r\n        var result;\r\n        var tag = numberFormatHelper.tryCreateTag(numberFormat);\r\n        if (isDefined(tag)) {\r\n            for (var i = 0; i < this._numberFormatTags.length; i++) {\r\n                if (numberFormatHelper.areEqual(this._numberFormatTags[i], tag)) {\r\n                    result = this._numberFormatTags[i][numberFormatHelper.ID_PROPERTY_NAME];\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                tag[numberFormatHelper.ID_PROPERTY_NAME] = this._convertNumberFormatIndexToId(this._numberFormatTags.length);\r\n                result = tag[numberFormatHelper.ID_PROPERTY_NAME];\r\n                this._numberFormatTags.push(tag)\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    generateNumberFormatsXml() {\r\n        if (this._numberFormatTags.length > 0) {\r\n            var xmlStringsArray = this._numberFormatTags.map(tag => numberFormatHelper.toXml(tag));\r\n            return tagHelper.toXml(\"numFmts\", {\r\n                count: xmlStringsArray.length\r\n            }, xmlStringsArray.join(\"\"))\r\n        } else {\r\n            return \"\"\r\n        }\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/excel_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../core/class\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    isDefined,\r\n    isString,\r\n    isDate,\r\n    isBoolean,\r\n    isObject,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport errors from \"../ui/widget/ui.errors\";\r\nimport {\r\n    encodeHtml\r\n} from \"../core/utils/string\";\r\nimport JSZip from \"jszip\";\r\nimport {\r\n    MIME_TYPES\r\n} from \"./file_saver\";\r\nimport excelFormatConverter from \"./excel_format_converter\";\r\nimport ExcelFile from \"./excel/excel.file\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar XML_TAG = '<?xml version=\"1.0\" encoding=\"utf-8\"?>';\r\nvar GROUP_SHEET_PR_XML = '<sheetPr><outlinePr summaryBelow=\"0\"/></sheetPr>';\r\nvar SINGLE_SHEET_PR_XML = \"<sheetPr/>\";\r\nvar BASE_STYLE_XML2 = '<borders count=\"1\"><border><left style=\"thin\"><color rgb=\"FFD3D3D3\"/></left><right style=\"thin\"><color rgb=\"FFD3D3D3\"/></right><top style=\"thin\"><color rgb=\"FFD3D3D3\"/></top><bottom style=\"thin\"><color rgb=\"FFD3D3D3\"/></bottom></border></borders><cellStyleXfs count=\"1\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\"/></cellStyleXfs>';\r\nvar OPEN_XML_FORMAT_URL = \"http://schemas.openxmlformats.org\";\r\nvar RELATIONSHIP_PART_NAME = \"rels\";\r\nvar XL_FOLDER_NAME = \"xl\";\r\nvar WORKBOOK_FILE_NAME = \"workbook.xml\";\r\nvar CONTENTTYPES_FILE_NAME = \"[Content_Types].xml\";\r\nvar SHAREDSTRING_FILE_NAME = \"sharedStrings.xml\";\r\nvar STYLE_FILE_NAME = \"styles.xml\";\r\nvar WORKSHEETS_FOLDER = \"worksheets\";\r\nvar WORKSHEET_FILE_NAME = \"sheet1.xml\";\r\nvar WORKSHEET_HEADER_XML = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">';\r\nvar VALID_TYPES = {\r\n    boolean: \"b\",\r\n    date: \"d\",\r\n    number: \"n\",\r\n    string: \"s\"\r\n};\r\nvar EXCEL_START_TIME = Date.UTC(1899, 11, 30);\r\nvar DAYS_COUNT_BEFORE_29_FEB_1900 = 60;\r\nvar MAX_DIGIT_WIDTH_IN_PIXELS = 7;\r\nvar UNSUPPORTED_FORMAT_MAPPING = {\r\n    quarter: \"shortDate\",\r\n    quarterAndYear: \"shortDate\",\r\n    minute: \"longTime\",\r\n    millisecond: \"longTime\"\r\n};\r\nexport var ExcelCreator = Class.inherit({\r\n    _getXMLTag: function(tagName, attributes, content) {\r\n        var result = \"<\" + tagName;\r\n        var i;\r\n        var length = attributes.length;\r\n        var attr;\r\n        for (i = 0; i < length; i++) {\r\n            attr = attributes[i];\r\n            if (void 0 !== attr.value) {\r\n                result = result + \" \" + attr.name + '=\"' + attr.value + '\"'\r\n            }\r\n        }\r\n        return isDefined(content) ? result + \">\" + content + \"</\" + tagName + \">\" : result + \" />\"\r\n    },\r\n    _convertToExcelCellRef: function(zeroBasedRowIndex, zeroBasedCellIndex) {\r\n        var columnName = \"\";\r\n        var charCode;\r\n        var isCellIndexFound;\r\n        while (!isCellIndexFound) {\r\n            charCode = 65 + (zeroBasedCellIndex >= 26 ? zeroBasedCellIndex % 26 : Math.ceil(zeroBasedCellIndex));\r\n            columnName = String.fromCharCode(charCode) + columnName;\r\n            if (zeroBasedCellIndex >= 26) {\r\n                zeroBasedCellIndex = Math.floor(zeroBasedCellIndex / 26) - 1\r\n            } else {\r\n                isCellIndexFound = true\r\n            }\r\n        }\r\n        return columnName + (zeroBasedRowIndex + 1)\r\n    },\r\n    _convertToExcelCellRefAndTrackMaxIndex: function(rowIndex, cellIndex) {\r\n        if (this._maxRowIndex < Number(rowIndex)) {\r\n            this._maxRowIndex = Number(rowIndex)\r\n        }\r\n        if (this._maxColumnIndex < Number(cellIndex)) {\r\n            this._maxColumnIndex = Number(cellIndex)\r\n        }\r\n        return this._convertToExcelCellRef(rowIndex, cellIndex)\r\n    },\r\n    _getDataType: function(dataType) {\r\n        return VALID_TYPES[dataType] || VALID_TYPES.string\r\n    },\r\n    _tryGetExcelCellDataType: function(object) {\r\n        if (isDefined(object)) {\r\n            if (\"number\" === typeof object) {\r\n                if (isFinite(object)) {\r\n                    return VALID_TYPES.number\r\n                } else {\r\n                    return VALID_TYPES.string\r\n                }\r\n            } else if (isString(object)) {\r\n                return VALID_TYPES.string\r\n            } else if (isDate(object)) {\r\n                return VALID_TYPES.number\r\n            } else if (isBoolean(object)) {\r\n                return VALID_TYPES.boolean\r\n            }\r\n        }\r\n    },\r\n    _formatObjectConverter: function(format, dataType) {\r\n        var result = {\r\n            format: format,\r\n            precision: format && format.precision,\r\n            dataType: dataType\r\n        };\r\n        if (isObject(format)) {\r\n            return extend(result, format, {\r\n                format: format.formatter || format.type,\r\n                currency: format.currency\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _tryConvertToExcelNumberFormat: function(format, dataType) {\r\n        var newFormat = this._formatObjectConverter(format, dataType);\r\n        format = newFormat.format;\r\n        var currency = newFormat.currency;\r\n        dataType = newFormat.dataType;\r\n        if (isDefined(format) && \"date\" === dataType) {\r\n            format = UNSUPPORTED_FORMAT_MAPPING[format && format.type || format] || format\r\n        }\r\n        return excelFormatConverter.convertFormat(format, newFormat.precision, dataType, currency)\r\n    },\r\n    _appendString: function(value) {\r\n        if (isDefined(value)) {\r\n            value = String(value);\r\n            if (value.length) {\r\n                value = encodeHtml(value);\r\n                if (void 0 === this._stringHash[value]) {\r\n                    this._stringHash[value] = this._stringArray.length;\r\n                    this._stringArray.push(value)\r\n                }\r\n                return this._stringHash[value]\r\n            }\r\n        }\r\n    },\r\n    _tryGetExcelDateValue: function(date) {\r\n        var days;\r\n        var totalTime;\r\n        if (isDate(date)) {\r\n            days = Math.floor((Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()) - EXCEL_START_TIME) / 864e5);\r\n            if (days < DAYS_COUNT_BEFORE_29_FEB_1900) {\r\n                days--\r\n            }\r\n            totalTime = (3600 * date.getHours() + 60 * date.getMinutes() + date.getSeconds()) / 86400;\r\n            return days + totalTime\r\n        }\r\n    },\r\n    _prepareValue: function(rowIndex, cellIndex) {\r\n        var dataProvider = this._dataProvider;\r\n        var {\r\n            cellSourceData: cellSourceData\r\n        } = dataProvider.getCellData(rowIndex, cellIndex) || {};\r\n        var {\r\n            value: value\r\n        } = dataProvider.getCellData(rowIndex, cellIndex) || {};\r\n        var sourceValue;\r\n        var type = this._getDataType(dataProvider.getCellType(rowIndex, cellIndex));\r\n        if (type === VALID_TYPES.date && !isDate(value)) {\r\n            type = VALID_TYPES.string\r\n        }\r\n        switch (type) {\r\n            case VALID_TYPES.string:\r\n                sourceValue = value;\r\n                value = this._appendString(value);\r\n                break;\r\n            case VALID_TYPES.date:\r\n                sourceValue = value;\r\n                value = this._tryGetExcelDateValue(value);\r\n                type = VALID_TYPES.number\r\n        }\r\n        return {\r\n            value: value,\r\n            type: type,\r\n            sourceValue: sourceValue,\r\n            cellSourceData: cellSourceData\r\n        }\r\n    },\r\n    _callCustomizeExcelCell: function(_ref) {\r\n        var {\r\n            dataProvider: dataProvider,\r\n            value: value,\r\n            style: style,\r\n            sourceData: sourceData\r\n        } = _ref;\r\n        var styleCopy = ExcelFile.copyCellFormat(style);\r\n        var args = {\r\n            value: value,\r\n            numberFormat: styleCopy.numberFormat,\r\n            clearStyle: function() {\r\n                this.horizontalAlignment = null;\r\n                this.verticalAlignment = null;\r\n                this.wrapTextEnabled = null;\r\n                this.font = null;\r\n                this.numberFormat = null\r\n            }\r\n        };\r\n        if (isDefined(styleCopy)) {\r\n            if (isDefined(styleCopy.alignment)) {\r\n                args.horizontalAlignment = styleCopy.alignment.horizontal;\r\n                args.verticalAlignment = styleCopy.alignment.vertical;\r\n                args.wrapTextEnabled = styleCopy.alignment.wrapText\r\n            }\r\n            args.backgroundColor = styleCopy.backgroundColor;\r\n            args.fillPatternType = styleCopy.fillPatternType;\r\n            args.fillPatternColor = styleCopy.fillPatternColor;\r\n            args.font = styleCopy.font\r\n        }\r\n        dataProvider.customizeExcelCell(args, sourceData);\r\n        var newStyle = styleCopy || {};\r\n        newStyle.font = args.font;\r\n        newStyle.alignment = newStyle.alignment || {};\r\n        newStyle.alignment.horizontal = args.horizontalAlignment;\r\n        newStyle.alignment.vertical = args.verticalAlignment;\r\n        newStyle.alignment.wrapText = args.wrapTextEnabled;\r\n        newStyle.backgroundColor = args.backgroundColor;\r\n        newStyle.fillPatternType = args.fillPatternType;\r\n        newStyle.fillPatternColor = args.fillPatternColor;\r\n        newStyle.numberFormat = args.numberFormat;\r\n        return {\r\n            value: args.value,\r\n            style: newStyle\r\n        }\r\n    },\r\n    _getDataArray: function() {\r\n        var rowIndex;\r\n        var cellIndex;\r\n        var cellsArray;\r\n        var cellData;\r\n        var result = [];\r\n        var dataProvider = this._dataProvider;\r\n        var rowsLength = dataProvider.getRowsCount();\r\n        var columns = dataProvider.getColumns();\r\n        var cellsLength;\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            cellsArray = [];\r\n            cellsLength = columns.length;\r\n            for (cellIndex = 0; cellIndex !== cellsLength; cellIndex++) {\r\n                cellData = this._prepareValue(rowIndex, cellIndex);\r\n                var styleArrayIndex = dataProvider.getStyleId(rowIndex, cellIndex);\r\n                var cellStyleId = this._styleArrayIndexToCellStyleIdMap[styleArrayIndex];\r\n                if (dataProvider.hasCustomizeExcelCell && dataProvider.hasCustomizeExcelCell()) {\r\n                    var value = cellData.sourceValue || cellData.value;\r\n                    var modifiedExcelCell = this._callCustomizeExcelCell({\r\n                        dataProvider: dataProvider,\r\n                        value: value,\r\n                        style: this._styleArray[styleArrayIndex],\r\n                        sourceData: cellData.cellSourceData\r\n                    });\r\n                    if (modifiedExcelCell.value !== value) {\r\n                        if (typeof modifiedExcelCell.value !== typeof value || \"number\" === typeof modifiedExcelCell.value && !isFinite(modifiedExcelCell.value)) {\r\n                            var cellDataType = this._tryGetExcelCellDataType(modifiedExcelCell.value);\r\n                            if (isDefined(cellDataType)) {\r\n                                cellData.type = cellDataType\r\n                            }\r\n                        }\r\n                        switch (cellData.type) {\r\n                            case VALID_TYPES.string:\r\n                                cellData.value = this._appendString(modifiedExcelCell.value);\r\n                                break;\r\n                            case VALID_TYPES.date:\r\n                                cellData.value = modifiedExcelCell.value;\r\n                                break;\r\n                            case VALID_TYPES.number:\r\n                                var newValue = modifiedExcelCell.value;\r\n                                var excelDateValue = this._tryGetExcelDateValue(newValue);\r\n                                if (isDefined(excelDateValue)) {\r\n                                    newValue = excelDateValue\r\n                                }\r\n                                cellData.value = newValue;\r\n                                break;\r\n                            default:\r\n                                cellData.value = modifiedExcelCell.value\r\n                        }\r\n                    }\r\n                    cellStyleId = this._excelFile.registerCellFormat(modifiedExcelCell.style)\r\n                }\r\n                cellsArray.push({\r\n                    style: cellStyleId,\r\n                    value: cellData.value,\r\n                    type: cellData.type\r\n                })\r\n            }\r\n            if (!this._needSheetPr && dataProvider.getGroupLevel(rowIndex) > 0) {\r\n                this._needSheetPr = true\r\n            }\r\n            result.push(cellsArray)\r\n        }\r\n        return result\r\n    },\r\n    _calculateWidth: function(pixelsWidth) {\r\n        pixelsWidth = parseInt(pixelsWidth, 10);\r\n        if (!pixelsWidth || pixelsWidth < 5) {\r\n            pixelsWidth = 100\r\n        }\r\n        return Math.min(255, Math.floor((pixelsWidth - 5) / MAX_DIGIT_WIDTH_IN_PIXELS * 100 + .5) / 100)\r\n    },\r\n    _prepareStyleData: function() {\r\n        var that = this;\r\n        var styles = that._dataProvider.getStyles();\r\n        that._dataProvider.getColumns().forEach((function(column) {\r\n            that._colsArray.push(that._calculateWidth(column.width))\r\n        }));\r\n        var fonts = [{\r\n            size: 11,\r\n            color: {\r\n                theme: 1\r\n            },\r\n            name: \"Calibri\",\r\n            family: 2,\r\n            scheme: \"minor\",\r\n            bold: false\r\n        }, {\r\n            size: 11,\r\n            color: {\r\n                theme: 1\r\n            },\r\n            name: \"Calibri\",\r\n            family: 2,\r\n            scheme: \"minor\",\r\n            bold: true\r\n        }];\r\n        this._excelFile.registerFont(fonts[0]);\r\n        this._excelFile.registerFont(fonts[1]);\r\n        styles.forEach((function(style) {\r\n            var numberFormat = that._tryConvertToExcelNumberFormat(style.format, style.dataType);\r\n            if (!isDefined(numberFormat)) {\r\n                numberFormat = 0\r\n            }\r\n            that._styleArray.push({\r\n                font: fonts[Number(!!style.bold)],\r\n                numberFormat: numberFormat,\r\n                alignment: {\r\n                    vertical: \"top\",\r\n                    wrapText: !!style.wrapText,\r\n                    horizontal: style.alignment || \"left\"\r\n                }\r\n            })\r\n        }));\r\n        that._styleArrayIndexToCellStyleIdMap = that._styleArray.map(item => this._excelFile.registerCellFormat(item))\r\n    },\r\n    _prepareCellData: function() {\r\n        this._cellsArray = this._getDataArray()\r\n    },\r\n    _createXMLRelationships: function(xmlRelationships) {\r\n        return this._getXMLTag(\"Relationships\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/package/2006/relationships\"\r\n        }], xmlRelationships)\r\n    },\r\n    _createXMLRelationship: function(id, type, target) {\r\n        return this._getXMLTag(\"Relationship\", [{\r\n            name: \"Id\",\r\n            value: \"rId\" + id\r\n        }, {\r\n            name: \"Type\",\r\n            value: OPEN_XML_FORMAT_URL + \"/officeDocument/2006/relationships/\" + type\r\n        }, {\r\n            name: \"Target\",\r\n            value: target\r\n        }])\r\n    },\r\n    _getWorkbookContent: function() {\r\n        return XML_TAG + this._getXMLTag(\"workbook\", [{\r\n            name: \"xmlns:r\",\r\n            value: OPEN_XML_FORMAT_URL + \"/officeDocument/2006/relationships\"\r\n        }, {\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }], '<bookViews><workbookView xWindow=\"0\" yWindow=\"0\" windowWidth=\"0\" windowHeight=\"0\"/></bookViews><sheets><sheet name=\"Sheet\" sheetId=\"1\" r:id=\"rId1\" /></sheets><definedNames><definedName name=\"_xlnm.Print_Titles\" localSheetId=\"0\">Sheet!$1:$1</definedName><definedName name=\"_xlnm._FilterDatabase\" hidden=\"0\" localSheetId=\"0\">Sheet!$A$1:$F$6332</definedName></definedNames>')\r\n    },\r\n    _getContentTypesContent: function() {\r\n        return XML_TAG + '<Types xmlns=\"' + OPEN_XML_FORMAT_URL + '/package/2006/content-types\"><Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" /><Default Extension=\"xml\" ContentType=\"application/xml\" /><Override PartName=\"/xl/worksheets/sheet1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" /><Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" /><Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\" /><Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" /></Types>'\r\n    },\r\n    _generateStylesXML: function() {\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var XML = \"\";\r\n        XML += this._excelFile.generateNumberFormatsXml();\r\n        XML += this._excelFile.generateFontsXml();\r\n        XML += this._excelFile.generateFillsXml();\r\n        XML += BASE_STYLE_XML2;\r\n        XML += this._excelFile.generateCellFormatsXml();\r\n        XML += this._getXMLTag(\"cellStyles\", [{\r\n            name: \"count\",\r\n            value: 1\r\n        }], this._getXMLTag(\"cellStyle\", [{\r\n            name: \"name\",\r\n            value: \"Normal\"\r\n        }, {\r\n            name: \"xfId\",\r\n            value: 0\r\n        }, {\r\n            name: \"builtinId\",\r\n            value: 0\r\n        }]));\r\n        XML = XML_TAG + this._getXMLTag(\"styleSheet\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }], XML);\r\n        folder.file(STYLE_FILE_NAME, XML);\r\n        this._styleArray = []\r\n    },\r\n    _generateStringsXML: function() {\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var stringIndex;\r\n        var stringsLength = this._stringArray.length;\r\n        var sharedStringXml = XML_TAG;\r\n        for (stringIndex = 0; stringIndex < stringsLength; stringIndex++) {\r\n            this._stringArray[stringIndex] = this._getXMLTag(\"si\", [], this._getXMLTag(\"t\", [], this._stringArray[stringIndex]))\r\n        }\r\n        sharedStringXml += this._getXMLTag(\"sst\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }, {\r\n            name: \"count\",\r\n            value: this._stringArray.length\r\n        }, {\r\n            name: \"uniqueCount\",\r\n            value: this._stringArray.length\r\n        }], this._stringArray.join(\"\"));\r\n        folder.file(SHAREDSTRING_FILE_NAME, sharedStringXml);\r\n        this._stringArray = []\r\n    },\r\n    _getPaneXML: function() {\r\n        var attributes = [{\r\n            name: \"activePane\",\r\n            value: \"bottomLeft\"\r\n        }, {\r\n            name: \"state\",\r\n            value: \"frozen\"\r\n        }];\r\n        var frozenArea = this._dataProvider.getFrozenArea();\r\n        if (!(frozenArea.x || frozenArea.y)) {\r\n            return \"\"\r\n        }\r\n        if (frozenArea.x) {\r\n            attributes.push({\r\n                name: \"xSplit\",\r\n                value: frozenArea.x\r\n            })\r\n        }\r\n        if (frozenArea.y) {\r\n            attributes.push({\r\n                name: \"ySplit\",\r\n                value: frozenArea.y\r\n            })\r\n        }\r\n        attributes.push({\r\n            name: \"topLeftCell\",\r\n            value: this._convertToExcelCellRefAndTrackMaxIndex(frozenArea.y, frozenArea.x)\r\n        });\r\n        return this._getXMLTag(\"pane\", attributes)\r\n    },\r\n    _getAutoFilterXML: function(maxCellIndex) {\r\n        if (this._options.autoFilterEnabled) {\r\n            return '<autoFilter ref=\"A' + this._dataProvider.getHeaderRowCount() + \":\" + maxCellIndex + '\" />'\r\n        }\r\n        return \"\"\r\n    },\r\n    _getIgnoredErrorsXML: function(maxCellIndex) {\r\n        if (this._options.ignoreErrors) {\r\n            return '<ignoredErrors><ignoredError sqref=\"A1:' + maxCellIndex + '\" numberStoredAsText=\"1\" /></ignoredErrors>'\r\n        }\r\n        return \"\"\r\n    },\r\n    _generateWorksheetXML: function() {\r\n        var colIndex;\r\n        var rowIndex;\r\n        var cellData;\r\n        var xmlCells;\r\n        var xmlRows = [];\r\n        var rowsLength = this._cellsArray.length;\r\n        var cellsLength;\r\n        var colsLength = this._colsArray.length;\r\n        var rSpans = \"1:\" + colsLength;\r\n        var headerRowCount = this._dataProvider.getHeaderRowCount ? this._dataProvider.getHeaderRowCount() : 1;\r\n        var xmlResult = [WORKSHEET_HEADER_XML];\r\n        xmlResult.push(this._needSheetPr ? GROUP_SHEET_PR_XML : SINGLE_SHEET_PR_XML);\r\n        xmlResult.push('<dimension ref=\"A1:C1\"/>');\r\n        xmlResult.push(\"<sheetViews><sheetView \");\r\n        xmlResult.push(this._rtlEnabled ? 'rightToLeft=\"1\" ' : \"\");\r\n        xmlResult.push('tabSelected=\"1\" workbookViewId=\"0\">');\r\n        xmlResult.push(this._getPaneXML());\r\n        xmlResult.push(\"</sheetView></sheetViews>\");\r\n        xmlResult.push('<sheetFormatPr defaultRowHeight=\"15\"');\r\n        xmlResult.push(' outlineLevelRow=\"' + (this._dataProvider.getRowsCount() > 0 ? this._dataProvider.getGroupLevel(0) : 0) + '\"');\r\n        xmlResult.push(' x14ac:dyDescent=\"0.25\"/>');\r\n        for (colIndex = 0; colIndex < colsLength; colIndex++) {\r\n            this._colsArray[colIndex] = this._getXMLTag(\"col\", [{\r\n                name: \"width\",\r\n                value: this._colsArray[colIndex]\r\n            }, {\r\n                name: \"min\",\r\n                value: Number(colIndex) + 1\r\n            }, {\r\n                name: \"max\",\r\n                value: Number(colIndex) + 1\r\n            }, {\r\n                name: \"customWidth\",\r\n                value: 1\r\n            }])\r\n        }\r\n        xmlResult.push(this._getXMLTag(\"cols\", [], this._colsArray.join(\"\")) + \"<sheetData>\");\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            xmlCells = [];\r\n            cellsLength = this._cellsArray[rowIndex].length;\r\n            for (colIndex = 0; colIndex < cellsLength; colIndex++) {\r\n                rowIndex = Number(rowIndex);\r\n                cellData = this._cellsArray[rowIndex][colIndex];\r\n                xmlCells.push(this._getXMLTag(\"c\", [{\r\n                    name: \"r\",\r\n                    value: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex, colIndex)\r\n                }, {\r\n                    name: \"s\",\r\n                    value: cellData.style\r\n                }, {\r\n                    name: \"t\",\r\n                    value: cellData.type\r\n                }], isDefined(cellData.value) ? this._getXMLTag(\"v\", [], cellData.value) : null))\r\n            }\r\n            xmlRows.push(this._getXMLTag(\"row\", [{\r\n                name: \"r\",\r\n                value: Number(rowIndex) + 1\r\n            }, {\r\n                name: \"spans\",\r\n                value: rSpans\r\n            }, {\r\n                name: \"outlineLevel\",\r\n                value: rowIndex >= headerRowCount ? this._dataProvider.getGroupLevel(rowIndex) : 0\r\n            }, {\r\n                name: \"x14ac:dyDescent\",\r\n                value: \"0.25\"\r\n            }], xmlCells.join(\"\")));\r\n            this._cellsArray[rowIndex] = null;\r\n            if (xmlRows.length > 1e4) {\r\n                xmlResult.push(xmlRows.join(\"\"));\r\n                xmlRows = []\r\n            }\r\n        }\r\n        xmlResult.push(xmlRows.join(\"\"));\r\n        xmlRows = [];\r\n        var rightBottomCellRef = this._convertToExcelCellRef(this._maxRowIndex, this._maxColumnIndex);\r\n        xmlResult.push(\"</sheetData>\" + this._getAutoFilterXML(rightBottomCellRef) + this._generateMergingXML() + this._getIgnoredErrorsXML(rightBottomCellRef) + \"</worksheet>\");\r\n        this._zip.folder(XL_FOLDER_NAME).folder(WORKSHEETS_FOLDER).file(WORKSHEET_FILE_NAME, xmlResult.join(\"\"));\r\n        this._colsArray = [];\r\n        this._cellsArray = [];\r\n        xmlResult = []\r\n    },\r\n    _generateMergingXML: function() {\r\n        var k;\r\n        var l;\r\n        var cellIndex;\r\n        var rowIndex;\r\n        var rowsLength = isDefined(this._dataProvider.getHeaderRowCount) ? this._dataProvider.getHeaderRowCount() : this._dataProvider.getRowsCount();\r\n        var columnsLength = this._dataProvider.getColumns().length;\r\n        var usedArea = [];\r\n        var mergeArray = [];\r\n        var mergeIndex;\r\n        var mergeXML = \"\";\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            for (cellIndex = 0; cellIndex !== columnsLength; cellIndex++) {\r\n                if (!isDefined(usedArea[rowIndex]) || !isDefined(usedArea[rowIndex][cellIndex])) {\r\n                    var cellMerge = this._dataProvider.getCellMerging(rowIndex, cellIndex);\r\n                    if (cellMerge.colspan || cellMerge.rowspan) {\r\n                        mergeArray.push({\r\n                            start: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex, cellIndex),\r\n                            end: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex + (cellMerge.rowspan || 0), cellIndex + (cellMerge.colspan || 0))\r\n                        });\r\n                        for (k = rowIndex; k <= rowIndex + cellMerge.rowspan || 0; k++) {\r\n                            for (l = cellIndex; l <= cellIndex + cellMerge.colspan || 0; l++) {\r\n                                if (!isDefined(usedArea[k])) {\r\n                                    usedArea[k] = []\r\n                                }\r\n                                usedArea[k][l] = true\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var mergeArrayLength = mergeArray.length;\r\n        for (mergeIndex = 0; mergeIndex < mergeArrayLength; mergeIndex++) {\r\n            mergeXML += this._getXMLTag(\"mergeCell\", [{\r\n                name: \"ref\",\r\n                value: mergeArray[mergeIndex].start + \":\" + mergeArray[mergeIndex].end\r\n            }])\r\n        }\r\n        return mergeXML.length ? this._getXMLTag(\"mergeCells\", [{\r\n            name: \"count\",\r\n            value: mergeArrayLength\r\n        }], mergeXML) : \"\"\r\n    },\r\n    _generateCommonXML: function() {\r\n        var relsFileContent = XML_TAG + this._createXMLRelationships(this._createXMLRelationship(1, \"officeDocument\", \"xl/\" + WORKBOOK_FILE_NAME));\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var relsXML = XML_TAG;\r\n        this._zip.folder(\"_\" + RELATIONSHIP_PART_NAME).file(\".\" + RELATIONSHIP_PART_NAME, relsFileContent);\r\n        var xmlRelationships = this._createXMLRelationship(1, \"worksheet\", \"worksheets/\" + WORKSHEET_FILE_NAME) + this._createXMLRelationship(2, \"styles\", STYLE_FILE_NAME) + this._createXMLRelationship(3, \"sharedStrings\", SHAREDSTRING_FILE_NAME);\r\n        relsXML += this._createXMLRelationships(xmlRelationships);\r\n        folder.folder(\"_\" + RELATIONSHIP_PART_NAME).file(WORKBOOK_FILE_NAME + \".rels\", relsXML);\r\n        folder.file(WORKBOOK_FILE_NAME, this._getWorkbookContent());\r\n        this._zip.file(CONTENTTYPES_FILE_NAME, this._getContentTypesContent())\r\n    },\r\n    _generateContent: function() {\r\n        this._prepareStyleData();\r\n        this._prepareCellData();\r\n        this._generateWorkXML();\r\n        this._generateCommonXML()\r\n    },\r\n    _generateWorkXML: function() {\r\n        this._generateStylesXML();\r\n        this._generateStringsXML();\r\n        this._generateWorksheetXML()\r\n    },\r\n    ctor: function(dataProvider, options) {\r\n        this._rtlEnabled = options && !!options.rtlEnabled;\r\n        this._options = options;\r\n        this._maxRowIndex = 0;\r\n        this._maxColumnIndex = 0;\r\n        this._stringArray = [];\r\n        this._stringHash = {};\r\n        this._styleArray = [];\r\n        this._colsArray = [];\r\n        this._cellsArray = [];\r\n        this._needSheetPr = false;\r\n        this._dataProvider = dataProvider;\r\n        this._excelFile = new ExcelFile;\r\n        if (isDefined(ExcelCreator.JSZip)) {\r\n            this._zip = new ExcelCreator.JSZip\r\n        } else {\r\n            this._zip = null\r\n        }\r\n    },\r\n    _checkZipState: function() {\r\n        if (!this._zip) {\r\n            throw errors.Error(\"E1041\", \"JSZip\")\r\n        }\r\n    },\r\n    ready: function() {\r\n        return this._dataProvider.ready()\r\n    },\r\n    getData: function(isBlob) {\r\n        var options = {\r\n            type: isBlob ? \"blob\" : \"base64\",\r\n            compression: \"DEFLATE\",\r\n            mimeType: MIME_TYPES.EXCEL\r\n        };\r\n        var deferred = new Deferred;\r\n        this._checkZipState();\r\n        this._generateContent();\r\n        if (this._zip.generateAsync) {\r\n            this._zip.generateAsync(options).then(deferred.resolve)\r\n        } else {\r\n            deferred.resolve(this._zip.generate(options))\r\n        }\r\n        return deferred\r\n    }\r\n});\r\nExcelCreator.JSZip = JSZip;\r\nexport function getData(data, options) {\r\n    var excelCreator = new ExcelCreator(data, options);\r\n    excelCreator._checkZipState();\r\n    return excelCreator.ready().then(() => excelCreator.getData(isFunction(getWindow().Blob)))\r\n}\r\n","/**\r\n * DevExtreme (esm/color.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nvar standardColorNames = {\r\n    aliceblue: \"f0f8ff\",\r\n    antiquewhite: \"faebd7\",\r\n    aqua: \"00ffff\",\r\n    aquamarine: \"7fffd4\",\r\n    azure: \"f0ffff\",\r\n    beige: \"f5f5dc\",\r\n    bisque: \"ffe4c4\",\r\n    black: \"000000\",\r\n    blanchedalmond: \"ffebcd\",\r\n    blue: \"0000ff\",\r\n    blueviolet: \"8a2be2\",\r\n    brown: \"a52a2a\",\r\n    burlywood: \"deb887\",\r\n    cadetblue: \"5f9ea0\",\r\n    chartreuse: \"7fff00\",\r\n    chocolate: \"d2691e\",\r\n    coral: \"ff7f50\",\r\n    cornflowerblue: \"6495ed\",\r\n    cornsilk: \"fff8dc\",\r\n    crimson: \"dc143c\",\r\n    cyan: \"00ffff\",\r\n    darkblue: \"00008b\",\r\n    darkcyan: \"008b8b\",\r\n    darkgoldenrod: \"b8860b\",\r\n    darkgray: \"a9a9a9\",\r\n    darkgreen: \"006400\",\r\n    darkgrey: \"a9a9a9\",\r\n    darkkhaki: \"bdb76b\",\r\n    darkmagenta: \"8b008b\",\r\n    darkolivegreen: \"556b2f\",\r\n    darkorange: \"ff8c00\",\r\n    darkorchid: \"9932cc\",\r\n    darkred: \"8b0000\",\r\n    darksalmon: \"e9967a\",\r\n    darkseagreen: \"8fbc8f\",\r\n    darkslateblue: \"483d8b\",\r\n    darkslategray: \"2f4f4f\",\r\n    darkslategrey: \"2f4f4f\",\r\n    darkturquoise: \"00ced1\",\r\n    darkviolet: \"9400d3\",\r\n    deeppink: \"ff1493\",\r\n    deepskyblue: \"00bfff\",\r\n    dimgray: \"696969\",\r\n    dimgrey: \"696969\",\r\n    dodgerblue: \"1e90ff\",\r\n    feldspar: \"d19275\",\r\n    firebrick: \"b22222\",\r\n    floralwhite: \"fffaf0\",\r\n    forestgreen: \"228b22\",\r\n    fuchsia: \"ff00ff\",\r\n    gainsboro: \"dcdcdc\",\r\n    ghostwhite: \"f8f8ff\",\r\n    gold: \"ffd700\",\r\n    goldenrod: \"daa520\",\r\n    gray: \"808080\",\r\n    green: \"008000\",\r\n    greenyellow: \"adff2f\",\r\n    grey: \"808080\",\r\n    honeydew: \"f0fff0\",\r\n    hotpink: \"ff69b4\",\r\n    indianred: \"cd5c5c\",\r\n    indigo: \"4b0082\",\r\n    ivory: \"fffff0\",\r\n    khaki: \"f0e68c\",\r\n    lavender: \"e6e6fa\",\r\n    lavenderblush: \"fff0f5\",\r\n    lawngreen: \"7cfc00\",\r\n    lemonchiffon: \"fffacd\",\r\n    lightblue: \"add8e6\",\r\n    lightcoral: \"f08080\",\r\n    lightcyan: \"e0ffff\",\r\n    lightgoldenrodyellow: \"fafad2\",\r\n    lightgray: \"d3d3d3\",\r\n    lightgreen: \"90ee90\",\r\n    lightgrey: \"d3d3d3\",\r\n    lightpink: \"ffb6c1\",\r\n    lightsalmon: \"ffa07a\",\r\n    lightseagreen: \"20b2aa\",\r\n    lightskyblue: \"87cefa\",\r\n    lightslateblue: \"8470ff\",\r\n    lightslategray: \"778899\",\r\n    lightslategrey: \"778899\",\r\n    lightsteelblue: \"b0c4de\",\r\n    lightyellow: \"ffffe0\",\r\n    lime: \"00ff00\",\r\n    limegreen: \"32cd32\",\r\n    linen: \"faf0e6\",\r\n    magenta: \"ff00ff\",\r\n    maroon: \"800000\",\r\n    mediumaquamarine: \"66cdaa\",\r\n    mediumblue: \"0000cd\",\r\n    mediumorchid: \"ba55d3\",\r\n    mediumpurple: \"9370d8\",\r\n    mediumseagreen: \"3cb371\",\r\n    mediumslateblue: \"7b68ee\",\r\n    mediumspringgreen: \"00fa9a\",\r\n    mediumturquoise: \"48d1cc\",\r\n    mediumvioletred: \"c71585\",\r\n    midnightblue: \"191970\",\r\n    mintcream: \"f5fffa\",\r\n    mistyrose: \"ffe4e1\",\r\n    moccasin: \"ffe4b5\",\r\n    navajowhite: \"ffdead\",\r\n    navy: \"000080\",\r\n    oldlace: \"fdf5e6\",\r\n    olive: \"808000\",\r\n    olivedrab: \"6b8e23\",\r\n    orange: \"ffa500\",\r\n    orangered: \"ff4500\",\r\n    orchid: \"da70d6\",\r\n    palegoldenrod: \"eee8aa\",\r\n    palegreen: \"98fb98\",\r\n    paleturquoise: \"afeeee\",\r\n    palevioletred: \"d87093\",\r\n    papayawhip: \"ffefd5\",\r\n    peachpuff: \"ffdab9\",\r\n    peru: \"cd853f\",\r\n    pink: \"ffc0cb\",\r\n    plum: \"dda0dd\",\r\n    powderblue: \"b0e0e6\",\r\n    purple: \"800080\",\r\n    rebeccapurple: \"663399\",\r\n    red: \"ff0000\",\r\n    rosybrown: \"bc8f8f\",\r\n    royalblue: \"4169e1\",\r\n    saddlebrown: \"8b4513\",\r\n    salmon: \"fa8072\",\r\n    sandybrown: \"f4a460\",\r\n    seagreen: \"2e8b57\",\r\n    seashell: \"fff5ee\",\r\n    sienna: \"a0522d\",\r\n    silver: \"c0c0c0\",\r\n    skyblue: \"87ceeb\",\r\n    slateblue: \"6a5acd\",\r\n    slategray: \"708090\",\r\n    slategrey: \"708090\",\r\n    snow: \"fffafa\",\r\n    springgreen: \"00ff7f\",\r\n    steelblue: \"4682b4\",\r\n    tan: \"d2b48c\",\r\n    teal: \"008080\",\r\n    thistle: \"d8bfd8\",\r\n    tomato: \"ff6347\",\r\n    turquoise: \"40e0d0\",\r\n    violet: \"ee82ee\",\r\n    violetred: \"d02090\",\r\n    wheat: \"f5deb3\",\r\n    white: \"ffffff\",\r\n    whitesmoke: \"f5f5f5\",\r\n    yellow: \"ffff00\",\r\n    yellowgreen: \"9acd32\"\r\n};\r\nvar standardColorTypes = [{\r\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1], 10), parseInt(colorString[2], 10), parseInt(colorString[3], 10)]\r\n    }\r\n}, {\r\n    re: /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d*\\.*\\d+)\\)$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1], 10), parseInt(colorString[2], 10), parseInt(colorString[3], 10), parseFloat(colorString[4])]\r\n    }\r\n}, {\r\n    re: /^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1], 16), parseInt(colorString[2], 16), parseInt(colorString[3], 16)]\r\n    }\r\n}, {\r\n    re: /^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1] + colorString[1], 16), parseInt(colorString[2] + colorString[2], 16), parseInt(colorString[3] + colorString[3], 16)]\r\n    }\r\n}, {\r\n    re: /^hsv\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\r\n    process: function(colorString) {\r\n        var h = parseInt(colorString[1], 10);\r\n        var s = parseInt(colorString[2], 10);\r\n        var v = parseInt(colorString[3], 10);\r\n        var rgb = hsvToRgb(h, s, v);\r\n        return [rgb[0], rgb[1], rgb[2], 1, [h, s, v]]\r\n    }\r\n}, {\r\n    re: /^hsl\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\r\n    process: function(colorString) {\r\n        var h = parseInt(colorString[1], 10);\r\n        var s = parseInt(colorString[2], 10);\r\n        var l = parseInt(colorString[3], 10);\r\n        var rgb = hslToRgb(h, s, l);\r\n        return [rgb[0], rgb[1], rgb[2], 1, null, [h, s, l]]\r\n    }\r\n}];\r\nvar _round = Math.round;\r\n\r\nfunction Color(value) {\r\n    this.baseColor = value;\r\n    var color;\r\n    if (value) {\r\n        color = String(value).toLowerCase().replace(/ /g, \"\");\r\n        color = standardColorNames[color] ? \"#\" + standardColorNames[color] : color;\r\n        color = parseColor(color)\r\n    }\r\n    if (!color) {\r\n        this.colorIsInvalid = true\r\n    }\r\n    color = color || {};\r\n    this.r = normalize(color[0]);\r\n    this.g = normalize(color[1]);\r\n    this.b = normalize(color[2]);\r\n    this.a = normalize(color[3], 1, 1);\r\n    if (color[4]) {\r\n        this.hsv = {\r\n            h: color[4][0],\r\n            s: color[4][1],\r\n            v: color[4][2]\r\n        }\r\n    } else {\r\n        this.hsv = toHsvFromRgb(this.r, this.g, this.b)\r\n    }\r\n    if (color[5]) {\r\n        this.hsl = {\r\n            h: color[5][0],\r\n            s: color[5][1],\r\n            l: color[5][2]\r\n        }\r\n    } else {\r\n        this.hsl = toHslFromRgb(this.r, this.g, this.b)\r\n    }\r\n}\r\n\r\nfunction parseColor(color) {\r\n    if (\"transparent\" === color) {\r\n        return [0, 0, 0, 0]\r\n    }\r\n    var i = 0;\r\n    var ii = standardColorTypes.length;\r\n    var str;\r\n    for (; i < ii; ++i) {\r\n        str = standardColorTypes[i].re.exec(color);\r\n        if (str) {\r\n            return standardColorTypes[i].process(str)\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nfunction normalize(colorComponent, def, max) {\r\n    def = def || 0;\r\n    max = max || 255;\r\n    return colorComponent < 0 || isNaN(colorComponent) ? def : colorComponent > max ? max : colorComponent\r\n}\r\n\r\nfunction toHexFromRgb(r, g, b) {\r\n    return \"#\" + (16777216 | r << 16 | g << 8 | b).toString(16).slice(1)\r\n}\r\n\r\nfunction toHsvFromRgb(r, g, b) {\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var delta = max - min;\r\n    var H;\r\n    var S;\r\n    var V = max;\r\n    S = 0 === max ? 0 : 1 - min / max;\r\n    if (max === min) {\r\n        H = 0\r\n    } else {\r\n        switch (max) {\r\n            case r:\r\n                H = (g - b) / delta * 60;\r\n                if (g < b) {\r\n                    H += 360\r\n                }\r\n                break;\r\n            case g:\r\n                H = (b - r) / delta * 60 + 120;\r\n                break;\r\n            case b:\r\n                H = (r - g) / delta * 60 + 240\r\n        }\r\n    }\r\n    S *= 100;\r\n    V *= 100 / 255;\r\n    return {\r\n        h: Math.round(H),\r\n        s: Math.round(S),\r\n        v: Math.round(V)\r\n    }\r\n}\r\n\r\nfunction hsvToRgb(h, s, v) {\r\n    var index = Math.floor(h % 360 / 60);\r\n    var vMin = (100 - s) * v / 100;\r\n    var a = h % 60 / 60 * (v - vMin);\r\n    var vInc = vMin + a;\r\n    var vDec = v - a;\r\n    var r;\r\n    var g;\r\n    var b;\r\n    switch (index) {\r\n        case 0:\r\n            r = v;\r\n            g = vInc;\r\n            b = vMin;\r\n            break;\r\n        case 1:\r\n            r = vDec;\r\n            g = v;\r\n            b = vMin;\r\n            break;\r\n        case 2:\r\n            r = vMin;\r\n            g = v;\r\n            b = vInc;\r\n            break;\r\n        case 3:\r\n            r = vMin;\r\n            g = vDec;\r\n            b = v;\r\n            break;\r\n        case 4:\r\n            r = vInc;\r\n            g = vMin;\r\n            b = v;\r\n            break;\r\n        case 5:\r\n            r = v;\r\n            g = vMin;\r\n            b = vDec\r\n    }\r\n    return [Math.round(2.55 * r), Math.round(2.55 * g), Math.round(2.55 * b)]\r\n}\r\n\r\nfunction calculateHue(r, g, b, delta) {\r\n    var max = Math.max(r, g, b);\r\n    switch (max) {\r\n        case r:\r\n            return (g - b) / delta + (g < b ? 6 : 0);\r\n        case g:\r\n            return (b - r) / delta + 2;\r\n        case b:\r\n            return (r - g) / delta + 4\r\n    }\r\n}\r\n\r\nfunction toHslFromRgb(r, g, b) {\r\n    r = convertTo01Bounds(r, 255);\r\n    g = convertTo01Bounds(g, 255);\r\n    b = convertTo01Bounds(b, 255);\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var maxMinSum = max + min;\r\n    var h;\r\n    var s;\r\n    var l = maxMinSum / 2;\r\n    if (max === min) {\r\n        h = s = 0\r\n    } else {\r\n        var delta = max - min;\r\n        if (l > .5) {\r\n            s = delta / (2 - maxMinSum)\r\n        } else {\r\n            s = delta / maxMinSum\r\n        }\r\n        h = calculateHue(r, g, b, delta);\r\n        h /= 6\r\n    }\r\n    return {\r\n        h: _round(360 * h),\r\n        s: _round(100 * s),\r\n        l: _round(100 * l)\r\n    }\r\n}\r\n\r\nfunction makeColorTint(colorPart, h) {\r\n    var colorTint = h;\r\n    if (\"r\" === colorPart) {\r\n        colorTint = h + 1 / 3\r\n    }\r\n    if (\"b\" === colorPart) {\r\n        colorTint = h - 1 / 3\r\n    }\r\n    return colorTint\r\n}\r\n\r\nfunction modifyColorTint(colorTint) {\r\n    if (colorTint < 0) {\r\n        colorTint += 1\r\n    }\r\n    if (colorTint > 1) {\r\n        colorTint -= 1\r\n    }\r\n    return colorTint\r\n}\r\n\r\nfunction hueToRgb(p, q, colorTint) {\r\n    colorTint = modifyColorTint(colorTint);\r\n    if (colorTint < 1 / 6) {\r\n        return p + 6 * (q - p) * colorTint\r\n    }\r\n    if (colorTint < .5) {\r\n        return q\r\n    }\r\n    if (colorTint < 2 / 3) {\r\n        return p + (q - p) * (2 / 3 - colorTint) * 6\r\n    }\r\n    return p\r\n}\r\n\r\nfunction hslToRgb(h, s, l) {\r\n    var r;\r\n    var g;\r\n    var b;\r\n    h = convertTo01Bounds(h, 360);\r\n    s = convertTo01Bounds(s, 100);\r\n    l = convertTo01Bounds(l, 100);\r\n    if (0 === s) {\r\n        r = g = b = l\r\n    } else {\r\n        var q = l < .5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hueToRgb(p, q, makeColorTint(\"r\", h));\r\n        g = hueToRgb(p, q, makeColorTint(\"g\", h));\r\n        b = hueToRgb(p, q, makeColorTint(\"b\", h))\r\n    }\r\n    return [_round(255 * r), _round(255 * g), _round(255 * b)]\r\n}\r\n\r\nfunction convertTo01Bounds(n, max) {\r\n    n = Math.min(max, Math.max(0, parseFloat(n)));\r\n    if (Math.abs(n - max) < 1e-6) {\r\n        return 1\r\n    }\r\n    return n % max / parseFloat(max)\r\n}\r\n\r\nfunction isIntegerBetweenMinAndMax(number, min, max) {\r\n    min = min || 0;\r\n    max = max || 255;\r\n    if (number % 1 !== 0 || number < min || number > max || \"number\" !== typeof number || isNaN(number)) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\nColor.prototype = {\r\n    constructor: Color,\r\n    highlight: function(step) {\r\n        step = step || 10;\r\n        return this.alter(step).toHex()\r\n    },\r\n    darken: function(step) {\r\n        step = step || 10;\r\n        return this.alter(-step).toHex()\r\n    },\r\n    alter: function(step) {\r\n        var result = new Color;\r\n        result.r = normalize(this.r + step);\r\n        result.g = normalize(this.g + step);\r\n        result.b = normalize(this.b + step);\r\n        return result\r\n    },\r\n    blend: function(blendColor, opacity) {\r\n        var other = blendColor instanceof Color ? blendColor : new Color(blendColor);\r\n        var result = new Color;\r\n        result.r = normalize(_round(this.r * (1 - opacity) + other.r * opacity));\r\n        result.g = normalize(_round(this.g * (1 - opacity) + other.g * opacity));\r\n        result.b = normalize(_round(this.b * (1 - opacity) + other.b * opacity));\r\n        return result\r\n    },\r\n    toHex: function() {\r\n        return toHexFromRgb(this.r, this.g, this.b)\r\n    },\r\n    getPureColor: function() {\r\n        var rgb = hsvToRgb(this.hsv.h, 100, 100);\r\n        return new Color(\"rgb(\" + rgb.join(\",\") + \")\")\r\n    },\r\n    isValidHex: function(hex) {\r\n        return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex)\r\n    },\r\n    isValidRGB: function(r, g, b) {\r\n        if (!isIntegerBetweenMinAndMax(r) || !isIntegerBetweenMinAndMax(g) || !isIntegerBetweenMinAndMax(b)) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    isValidAlpha: function(a) {\r\n        if (isNaN(a) || a < 0 || a > 1 || \"number\" !== typeof a) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    colorIsInvalid: false,\r\n    fromHSL: function(hsl) {\r\n        var color = new Color;\r\n        var rgb = hslToRgb(hsl.h, hsl.s, hsl.l);\r\n        color.r = rgb[0];\r\n        color.g = rgb[1];\r\n        color.b = rgb[2];\r\n        return color\r\n    }\r\n};\r\nexport default Color;\r\n","/**\r\n * DevExtreme (esm/core/utils/svg.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"./window\";\r\nimport $ from \"../../core/renderer\";\r\nvar window = getWindow();\r\n\r\nfunction getMarkup(element, backgroundColor) {\r\n    var temp = domAdapter.createElement(\"div\");\r\n    var clone = element.cloneNode(true);\r\n    if (backgroundColor) {\r\n        $(clone).css(\"backgroundColor\", backgroundColor)\r\n    }\r\n    temp.appendChild(clone);\r\n    return temp.innerHTML\r\n}\r\n\r\nfunction fixNamespaces(markup) {\r\n    var first = true;\r\n    if (-1 === markup.indexOf(\"xmlns:xlink\")) {\r\n        markup = markup.replace(\"<svg\", '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"')\r\n    }\r\n    markup = markup.replace(/xmlns=\"[\\s\\S]*?\"/gi, (function(match) {\r\n        if (!first) {\r\n            return \"\"\r\n        }\r\n        first = false;\r\n        return match\r\n    }));\r\n    return markup.replace(/xmlns:NS1=\"[\\s\\S]*?\"/gi, \"\").replace(/NS1:xmlns:xlink=\"([\\s\\S]*?)\"/gi, 'xmlns:xlink=\"$1\"')\r\n}\r\n\r\nfunction decodeHtmlEntities(markup) {\r\n    return markup.replace(/&quot;/gi, \"&#34;\").replace(/&amp;/gi, \"&#38;\").replace(/&apos;/gi, \"&#39;\").replace(/&lt;/gi, \"&#60;\").replace(/&gt;/gi, \"&#62;\").replace(/&nbsp;/gi, \"&#160;\").replace(/&shy;/gi, \"&#173;\")\r\n}\r\nexport var HIDDEN_FOR_EXPORT = \"hidden-for-export\";\r\nexport function getSvgMarkup(element, backgroundColor) {\r\n    return fixNamespaces(decodeHtmlEntities(getMarkup(element, backgroundColor)))\r\n}\r\nexport function getSvgElement(markup) {\r\n    return domAdapter.isNode(markup) ? markup : (new window.DOMParser).parseFromString(markup, \"image/svg+xml\").childNodes[0]\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/image_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport Color from \"../color\";\r\nimport {\r\n    isFunction,\r\n    isPromise,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    getSvgElement,\r\n    HIDDEN_FOR_EXPORT\r\n} from \"../core/utils/svg\";\r\nimport {\r\n    each as _each,\r\n    map as _map\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    contains\r\n} from \"../core/utils/dom\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    camelize\r\n} from \"../core/utils/inflector\";\r\nimport {\r\n    Deferred,\r\n    fromPromise\r\n} from \"../core/utils/deferred\";\r\nvar _math = Math;\r\nvar PI = _math.PI;\r\nvar _min = _math.min;\r\nvar _abs = _math.abs;\r\nvar _sqrt = _math.sqrt;\r\nvar _pow = _math.pow;\r\nvar _atan2 = _math.atan2;\r\nvar _cos = _math.cos;\r\nvar _sin = _math.sin;\r\nvar _number = Number;\r\nvar IMAGE_QUALITY = 1;\r\nvar TEXT_DECORATION_LINE_WIDTH_COEFF = .05;\r\nvar DEFAULT_FONT_SIZE = \"10px\";\r\nvar DEFAULT_FONT_FAMILY = \"sans-serif\";\r\nvar DEFAULT_TEXT_COLOR = \"#000\";\r\nvar parseAttributes;\r\n\r\nfunction getStringFromCanvas(canvas, mimeType) {\r\n    var dataURL = canvas.toDataURL(mimeType, IMAGE_QUALITY);\r\n    var imageData = window.atob(dataURL.substring((\"data:\" + mimeType + \";base64,\").length));\r\n    return imageData\r\n}\r\n\r\nfunction arcTo(x1, y1, x2, y2, radius, largeArcFlag, clockwise, context) {\r\n    var cBx = (x1 + x2) / 2;\r\n    var cBy = (y1 + y2) / 2;\r\n    var aB = _atan2(y1 - y2, x1 - x2);\r\n    var k = largeArcFlag ? 1 : -1;\r\n    aB += PI / 180 * 90 * (clockwise ? 1 : -1);\r\n    var opSide = _sqrt(_pow(x2 - x1, 2) + _pow(y2 - y1, 2)) / 2;\r\n    var adjSide = _sqrt(_abs(_pow(radius, 2) - _pow(opSide, 2)));\r\n    var centerX = cBx + k * (adjSide * _cos(aB));\r\n    var centerY = cBy + k * (adjSide * _sin(aB));\r\n    var startAngle = _atan2(y1 - centerY, x1 - centerX);\r\n    var endAngle = _atan2(y2 - centerY, x2 - centerX);\r\n    context.arc(centerX, centerY, radius, startAngle, endAngle, !clockwise)\r\n}\r\n\r\nfunction getElementOptions(element, rootAppended) {\r\n    var attr = parseAttributes(element.attributes || {});\r\n    var options = extend({}, attr, {\r\n        text: element.textContent.replace(/\\s+/g, \" \"),\r\n        textAlign: \"middle\" === attr[\"text-anchor\"] ? \"center\" : attr[\"text-anchor\"]\r\n    });\r\n    var transform = attr.transform;\r\n    var coords;\r\n    if (transform) {\r\n        coords = transform.match(/translate\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.translateX = _number(coords[0]);\r\n            options.translateY = coords[1] ? _number(coords[1]) : 0\r\n        }\r\n        coords = transform.match(/rotate\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.rotationAngle = _number(coords[0]);\r\n            options.rotationX = coords[1] && _number(coords[1]);\r\n            options.rotationY = coords[2] && _number(coords[2])\r\n        }\r\n        coords = transform.match(/scale\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.scaleX = _number(coords[0]);\r\n            if (coords.length > 1) {\r\n                options.scaleY = _number(coords[1])\r\n            } else {\r\n                options.scaleY = options.scaleX\r\n            }\r\n        }\r\n    }\r\n    parseStyles(element, options, rootAppended);\r\n    return options\r\n}\r\n\r\nfunction drawRect(context, options) {\r\n    var x = options.x;\r\n    var y = options.y;\r\n    var width = options.width;\r\n    var height = options.height;\r\n    var cornerRadius = options.rx;\r\n    if (!cornerRadius) {\r\n        context.rect(x, y, width, height)\r\n    } else {\r\n        cornerRadius = _min(cornerRadius, width / 2, height / 2);\r\n        context.save();\r\n        context.translate(x, y);\r\n        context.moveTo(width / 2, 0);\r\n        context.arcTo(width, 0, width, height, cornerRadius);\r\n        context.arcTo(width, height, 0, height, cornerRadius);\r\n        context.arcTo(0, height, 0, 0, cornerRadius);\r\n        context.arcTo(0, 0, cornerRadius, 0, cornerRadius);\r\n        context.lineTo(width / 2, 0);\r\n        context.restore()\r\n    }\r\n}\r\n\r\nfunction drawImage(context, options, shared) {\r\n    var d = new Deferred;\r\n    var image = new window.Image;\r\n    image.onload = function() {\r\n        context.save();\r\n        context.globalAlpha = options.globalAlpha;\r\n        transformElement(context, options);\r\n        clipElement(context, options, shared);\r\n        context.drawImage(image, options.x || 0, options.y || 0, options.width, options.height);\r\n        context.restore();\r\n        d.resolve()\r\n    };\r\n    image.onerror = function() {\r\n        d.resolve()\r\n    };\r\n    image.setAttribute(\"crossOrigin\", \"anonymous\");\r\n    image.src = options.href || options[\"xlink:href\"];\r\n    return d\r\n}\r\n\r\nfunction drawPath(context, dAttr) {\r\n    var dArray = dAttr.replace(/,/g, \" \").split(/([A-Z])/i).filter(item => \"\" !== item.trim());\r\n    var i = 0;\r\n    var params;\r\n    var prevParams;\r\n    var prevParamsLen;\r\n    do {\r\n        params = (dArray[i + 1] || \"\").trim().split(\" \");\r\n        switch (dArray[i]) {\r\n            case \"M\":\r\n                context.moveTo(_number(params[0]), _number(params[1]));\r\n                i += 2;\r\n                break;\r\n            case \"L\":\r\n                for (var j = 0; j < params.length / 2; j++) {\r\n                    context.lineTo(_number(params[2 * j]), _number(params[2 * j + 1]))\r\n                }\r\n                i += 2;\r\n                break;\r\n            case \"C\":\r\n                context.bezierCurveTo(_number(params[0]), _number(params[1]), _number(params[2]), _number(params[3]), _number(params[4]), _number(params[5]));\r\n                i += 2;\r\n                break;\r\n            case \"a\":\r\n                prevParams = dArray[i - 1].trim().split(\" \");\r\n                prevParamsLen = prevParams.length - 1;\r\n                arcTo(_number(prevParams[prevParamsLen - 1]), _number(prevParams[prevParamsLen]), _number(prevParams[prevParamsLen - 1]) + _number(params[5]), _number(prevParams[prevParamsLen]) + _number(params[6]), _number(params[0]), _number(params[3]), _number(params[4]), context);\r\n                i += 2;\r\n                break;\r\n            case \"A\":\r\n                prevParams = dArray[i - 1].trim().split(\" \");\r\n                prevParamsLen = prevParams.length - 1;\r\n                arcTo(_number(prevParams[prevParamsLen - 1]), _number(prevParams[prevParamsLen]), _number(params[5]), _number(params[6]), _number(params[0]), _number(params[3]), _number(params[4]), context);\r\n                i += 2;\r\n                break;\r\n            case \"Z\":\r\n                context.closePath();\r\n                i += 1;\r\n                break;\r\n            default:\r\n                i++\r\n        }\r\n    } while (i < dArray.length)\r\n}\r\n\r\nfunction parseStyles(element, options, rootAppended) {\r\n    var style = element.style || {};\r\n    var field;\r\n    for (field in style) {\r\n        if (\"\" !== style[field]) {\r\n            options[camelize(field)] = style[field]\r\n        }\r\n    }\r\n    if (rootAppended && domAdapter.isElementNode(element)) {\r\n        style = window.getComputedStyle(element);\r\n        [\"fill\", \"stroke\", \"stroke-width\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\"].forEach((function(prop) {\r\n            if (prop in style && \"\" !== style[prop]) {\r\n                options[camelize(prop)] = style[prop]\r\n            }\r\n        }));\r\n        [\"opacity\", \"fill-opacity\", \"stroke-opacity\"].forEach((function(prop) {\r\n            if (prop in style && \"\" !== style[prop] && \"1\" !== style[prop]) {\r\n                options[prop] = _number(style[prop])\r\n            }\r\n        }))\r\n    }\r\n    options.textDecoration = options.textDecoration || options.textDecorationLine;\r\n    options.globalAlpha = isDefined(options.opacity) ? options.opacity : options.globalAlpha\r\n}\r\n\r\nfunction parseUrl(urlString) {\r\n    var matches = urlString && urlString.match(/url\\(.*#(.*?)[\"']?\\)/i);\r\n    return matches && matches[1]\r\n}\r\n\r\nfunction setFontStyle(context, options) {\r\n    var fontParams = [];\r\n    options.fontSize = options.fontSize || DEFAULT_FONT_SIZE;\r\n    options.fontFamily = options.fontFamily || DEFAULT_FONT_FAMILY;\r\n    options.fill = options.fill || DEFAULT_TEXT_COLOR;\r\n    options.fontStyle && fontParams.push(options.fontStyle);\r\n    options.fontWeight && fontParams.push(options.fontWeight);\r\n    fontParams.push(options.fontSize);\r\n    fontParams.push(options.fontFamily);\r\n    context.font = fontParams.join(\" \");\r\n    context.textAlign = options.textAlign;\r\n    context.fillStyle = options.fill;\r\n    context.globalAlpha = options.globalAlpha\r\n}\r\n\r\nfunction drawText(context, options, shared) {\r\n    setFontStyle(context, options);\r\n    applyFilter(context, options, shared);\r\n    options.text && context.fillText(options.text, options.x || 0, options.y || 0);\r\n    strokeElement(context, options, true);\r\n    drawTextDecoration(context, options, shared)\r\n}\r\n\r\nfunction drawTextDecoration(context, options, shared) {\r\n    if (!options.textDecoration || \"none\" === options.textDecoration) {\r\n        return\r\n    }\r\n    var x = options.x;\r\n    var textWidth = context.measureText(options.text).width;\r\n    var textHeight = parseInt(options.fontSize, 10);\r\n    var lineHeight = textHeight * TEXT_DECORATION_LINE_WIDTH_COEFF < 1 ? 1 : textHeight * TEXT_DECORATION_LINE_WIDTH_COEFF;\r\n    var y = options.y;\r\n    switch (options.textDecoration) {\r\n        case \"line-through\":\r\n            y -= textHeight / 3 + lineHeight / 2;\r\n            break;\r\n        case \"overline\":\r\n            y -= textHeight - lineHeight;\r\n            break;\r\n        case \"underline\":\r\n            y += lineHeight\r\n    }\r\n    context.rect(x, y, textWidth, lineHeight);\r\n    fillElement(context, options, shared);\r\n    strokeElement(context, options)\r\n}\r\n\r\nfunction aggregateOpacity(options) {\r\n    options.strokeOpacity = void 0 !== options[\"stroke-opacity\"] ? options[\"stroke-opacity\"] : 1;\r\n    options.fillOpacity = void 0 !== options[\"fill-opacity\"] ? options[\"fill-opacity\"] : 1;\r\n    if (void 0 !== options.opacity) {\r\n        options.strokeOpacity *= options.opacity;\r\n        options.fillOpacity *= options.opacity\r\n    }\r\n}\r\n\r\nfunction hasTspan(element) {\r\n    var nodes = element.childNodes;\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        if (\"tspan\" === nodes[i].tagName) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nfunction drawTextElement(childNodes, context, options, shared) {\r\n    var lines = [];\r\n    var line;\r\n    var offset = 0;\r\n    for (var i = 0; i < childNodes.length; i++) {\r\n        var element = childNodes[i];\r\n        if (void 0 === element.tagName) {\r\n            drawElement(element, context, options, shared)\r\n        } else if (\"tspan\" === element.tagName || \"text\" === element.tagName) {\r\n            var elementOptions = getElementOptions(element, shared.rootAppended);\r\n            var mergedOptions = extend({}, options, elementOptions);\r\n            if (\"tspan\" === element.tagName && hasTspan(element)) {\r\n                drawTextElement(element.childNodes, context, mergedOptions, shared);\r\n                continue\r\n            }\r\n            mergedOptions.textAlign = \"start\";\r\n            if (!line || void 0 !== elementOptions.x) {\r\n                line = {\r\n                    elements: [],\r\n                    options: [],\r\n                    widths: [],\r\n                    offsets: []\r\n                };\r\n                lines.push(line)\r\n            }\r\n            if (void 0 !== elementOptions.y) {\r\n                offset = 0\r\n            }\r\n            if (void 0 !== elementOptions.dy) {\r\n                offset += parseFloat(elementOptions.dy)\r\n            }\r\n            line.elements.push(element);\r\n            line.options.push(mergedOptions);\r\n            line.offsets.push(offset);\r\n            setFontStyle(context, mergedOptions);\r\n            line.widths.push(context.measureText(mergedOptions.text).width)\r\n        }\r\n    }\r\n    lines.forEach((function(line) {\r\n        var commonWidth = line.widths.reduce((function(commonWidth, width) {\r\n            return commonWidth + width\r\n        }), 0);\r\n        var xDiff = 0;\r\n        var currentOffset = 0;\r\n        if (\"center\" === options.textAlign) {\r\n            xDiff = commonWidth / 2\r\n        }\r\n        if (\"end\" === options.textAlign) {\r\n            xDiff = commonWidth\r\n        }\r\n        line.options.forEach((function(o, index) {\r\n            var width = line.widths[index];\r\n            o.x = o.x - xDiff + currentOffset;\r\n            o.y += line.offsets[index];\r\n            currentOffset += width\r\n        }));\r\n        line.elements.forEach((function(element, index) {\r\n            drawTextElement(element.childNodes, context, line.options[index], shared)\r\n        }))\r\n    }))\r\n}\r\n\r\nfunction drawElement(element, context, parentOptions, shared) {\r\n    var tagName = element.tagName;\r\n    var isText = \"text\" === tagName || \"tspan\" === tagName || void 0 === tagName;\r\n    var isImage = \"image\" === tagName;\r\n    var options = extend({}, parentOptions, getElementOptions(element, shared.rootAppended));\r\n    if (\"hidden\" === options.visibility || options[HIDDEN_FOR_EXPORT]) {\r\n        return\r\n    }\r\n    context.save();\r\n    !isImage && transformElement(context, options);\r\n    clipElement(context, options, shared);\r\n    aggregateOpacity(options);\r\n    var promise;\r\n    context.beginPath();\r\n    switch (element.tagName) {\r\n        case void 0:\r\n            drawText(context, options, shared);\r\n            break;\r\n        case \"text\":\r\n        case \"tspan\":\r\n            drawTextElement(element.childNodes, context, options, shared);\r\n            break;\r\n        case \"image\":\r\n            promise = drawImage(context, options, shared);\r\n            break;\r\n        case \"path\":\r\n            drawPath(context, options.d);\r\n            break;\r\n        case \"rect\":\r\n            drawRect(context, options);\r\n            context.closePath();\r\n            break;\r\n        case \"circle\":\r\n            context.arc(options.cx, options.cy, options.r, 0, 2 * PI, 1)\r\n    }\r\n    if (!isText) {\r\n        applyFilter(context, options, shared);\r\n        fillElement(context, options, shared);\r\n        strokeElement(context, options)\r\n    }\r\n    applyGradient(context, options, shared, element);\r\n    context.restore();\r\n    return promise\r\n}\r\n\r\nfunction applyGradient(context, options, _ref, element) {\r\n    var {\r\n        gradients: gradients\r\n    } = _ref;\r\n    if (0 === gradients.length) {\r\n        return\r\n    }\r\n    var id = parseUrl(options.fill);\r\n    if (id && gradients[id]) {\r\n        var box = element.getBBox();\r\n        var gradient = context.createLinearGradient(box.x, 0, box.x + box.width, 0);\r\n        gradients[id].forEach(opt => {\r\n            var offset = parseInt(opt.offset.replace(/%/, \"\"));\r\n            gradient.addColorStop(offset / 100, opt.stopColor)\r\n        });\r\n        context.globalAlpha = options.opacity;\r\n        context.fillStyle = gradient;\r\n        context.fill()\r\n    }\r\n}\r\n\r\nfunction applyFilter(context, options, shared) {\r\n    var filterOptions;\r\n    var id = parseUrl(options.filter);\r\n    if (id) {\r\n        filterOptions = shared.filters[id];\r\n        if (!filterOptions) {\r\n            filterOptions = {\r\n                offsetX: 0,\r\n                offsetY: 0,\r\n                blur: 0,\r\n                color: \"#000\"\r\n            }\r\n        }\r\n        context.shadowOffsetX = filterOptions.offsetX;\r\n        context.shadowOffsetY = filterOptions.offsetY;\r\n        context.shadowColor = filterOptions.color;\r\n        context.shadowBlur = filterOptions.blur\r\n    }\r\n}\r\n\r\nfunction transformElement(context, options) {\r\n    context.translate(options.translateX || 0, options.translateY || 0);\r\n    options.translateX = void 0;\r\n    options.translateY = void 0;\r\n    if (options.rotationAngle) {\r\n        context.translate(options.rotationX || 0, options.rotationY || 0);\r\n        context.rotate(options.rotationAngle * PI / 180);\r\n        context.translate(-(options.rotationX || 0), -(options.rotationY || 0));\r\n        options.rotationAngle = void 0;\r\n        options.rotationX = void 0;\r\n        options.rotationY = void 0\r\n    }\r\n    if (isFinite(options.scaleX)) {\r\n        context.scale(options.scaleX, options.scaleY);\r\n        options.scaleX = void 0;\r\n        options.scaleY = void 0\r\n    }\r\n}\r\n\r\nfunction clipElement(context, options, shared) {\r\n    if (options[\"clip-path\"]) {\r\n        drawElement(shared.clipPaths[parseUrl(options[\"clip-path\"])], context, {}, shared);\r\n        context.clip();\r\n        options[\"clip-path\"] = void 0\r\n    }\r\n}\r\n\r\nfunction hex2rgba(hexColor, alpha) {\r\n    var color = new Color(hexColor);\r\n    return \"rgba(\" + color.r + \",\" + color.g + \",\" + color.b + \",\" + alpha + \")\"\r\n}\r\n\r\nfunction createGradient(element) {\r\n    var options = [];\r\n    _each(element.childNodes, (_, _ref2) => {\r\n        var {\r\n            attributes: attributes\r\n        } = _ref2;\r\n        options.push({\r\n            offset: attributes.offset.value,\r\n            stopColor: attributes[\"stop-color\"].value\r\n        })\r\n    });\r\n    return options\r\n}\r\n\r\nfunction createFilter(element) {\r\n    var color;\r\n    var opacity;\r\n    var filterOptions = {};\r\n    _each(element.childNodes, (function(_, node) {\r\n        var attr = node.attributes;\r\n        if (!attr.result) {\r\n            return\r\n        }\r\n        switch (attr.result.value) {\r\n            case \"gaussianBlurResult\":\r\n                filterOptions.blur = _number(attr.stdDeviation.value);\r\n                break;\r\n            case \"offsetResult\":\r\n                filterOptions.offsetX = _number(attr.dx.value);\r\n                filterOptions.offsetY = _number(attr.dy.value);\r\n                break;\r\n            case \"floodResult\":\r\n                color = attr[\"flood-color\"] ? attr[\"flood-color\"].value : \"#000\";\r\n                opacity = attr[\"flood-opacity\"] ? attr[\"flood-opacity\"].value : 1;\r\n                filterOptions.color = hex2rgba(color, opacity)\r\n        }\r\n    }));\r\n    return filterOptions\r\n}\r\n\r\nfunction asyncEach(array, callback) {\r\n    var d = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new Deferred;\r\n    var i = 0;\r\n    for (; i < array.length; i++) {\r\n        var result = callback(array[i]);\r\n        if (isPromise(result)) {\r\n            result.then(() => {\r\n                asyncEach(Array.prototype.slice.call(array, i + 1), callback, d)\r\n            });\r\n            break\r\n        }\r\n    }\r\n    if (i === array.length) {\r\n        d.resolve()\r\n    }\r\n    return d\r\n}\r\n\r\nfunction drawCanvasElements(elements, context, parentOptions, shared) {\r\n    return asyncEach(elements, (function(element) {\r\n        switch (element.tagName && element.tagName.toLowerCase()) {\r\n            case \"g\":\r\n            case \"svg\":\r\n                var options = extend({}, parentOptions, getElementOptions(element, shared.rootAppended));\r\n                context.save();\r\n                transformElement(context, options);\r\n                clipElement(context, options, shared);\r\n                var onDone = () => {\r\n                    context.restore()\r\n                };\r\n                var d = drawCanvasElements(element.childNodes, context, options, shared);\r\n                if (isPromise(d)) {\r\n                    d.then(onDone)\r\n                } else {\r\n                    onDone()\r\n                }\r\n                return d;\r\n            case \"defs\":\r\n                return drawCanvasElements(element.childNodes, context, {}, shared);\r\n            case \"clippath\":\r\n                shared.clipPaths[element.attributes.id.textContent] = element.childNodes[0];\r\n                break;\r\n            case \"pattern\":\r\n                shared.patterns[element.attributes.id.textContent] = element;\r\n                break;\r\n            case \"filter\":\r\n                shared.filters[element.id] = createFilter(element);\r\n                break;\r\n            case \"lineargradient\":\r\n                shared.gradients[element.attributes.id.textContent] = createGradient(element);\r\n                break;\r\n            default:\r\n                return drawElement(element, context, parentOptions, shared)\r\n        }\r\n    }))\r\n}\r\n\r\nfunction setLineDash(context, options) {\r\n    var matches = options[\"stroke-dasharray\"] && options[\"stroke-dasharray\"].match(/(\\d+)/g);\r\n    if (matches && matches.length) {\r\n        matches = _map(matches, (function(item) {\r\n            return _number(item)\r\n        }));\r\n        context.setLineDash(matches)\r\n    }\r\n}\r\n\r\nfunction strokeElement(context, options, isText) {\r\n    var stroke = options.stroke;\r\n    if (stroke && \"none\" !== stroke && 0 !== options[\"stroke-width\"]) {\r\n        setLineDash(context, options);\r\n        context.lineJoin = options[\"stroke-linejoin\"];\r\n        context.lineWidth = options[\"stroke-width\"];\r\n        context.globalAlpha = options.strokeOpacity;\r\n        context.strokeStyle = stroke;\r\n        isText ? context.strokeText(options.text, options.x, options.y) : context.stroke();\r\n        context.globalAlpha = 1\r\n    }\r\n}\r\n\r\nfunction getPattern(context, pattern, shared) {\r\n    var options = getElementOptions(pattern, shared.rootAppended);\r\n    var patternCanvas = imageCreator._createCanvas(options.width, options.height, 0);\r\n    var patternContext = patternCanvas.getContext(\"2d\");\r\n    drawCanvasElements(pattern.childNodes, patternContext, options, shared);\r\n    return context.createPattern(patternCanvas, \"repeat\")\r\n}\r\n\r\nfunction fillElement(context, options, shared) {\r\n    var fill = options.fill;\r\n    if (fill && \"none\" !== fill) {\r\n        if (-1 === fill.search(/url/)) {\r\n            context.fillStyle = fill\r\n        } else {\r\n            var pattern = shared.patterns[parseUrl(fill)];\r\n            if (!pattern) {\r\n                return\r\n            }\r\n            context.fillStyle = getPattern(context, pattern, shared)\r\n        }\r\n        context.globalAlpha = options.fillOpacity;\r\n        context.fill();\r\n        context.globalAlpha = 1\r\n    }\r\n}\r\nparseAttributes = function(attributes) {\r\n    var newAttributes = {};\r\n    var attr;\r\n    _each(attributes, (function(index, item) {\r\n        attr = item.textContent;\r\n        if (isFinite(attr)) {\r\n            attr = _number(attr)\r\n        }\r\n        newAttributes[item.name.toLowerCase()] = attr\r\n    }));\r\n    return newAttributes\r\n};\r\n\r\nfunction drawBackground(context, width, height, backgroundColor, margin) {\r\n    context.fillStyle = backgroundColor || \"#ffffff\";\r\n    context.fillRect(-margin, -margin, width + 2 * margin, height + 2 * margin)\r\n}\r\n\r\nfunction createInvisibleDiv() {\r\n    var invisibleDiv = domAdapter.createElement(\"div\");\r\n    invisibleDiv.style.left = \"-9999px\";\r\n    invisibleDiv.style.position = \"absolute\";\r\n    return invisibleDiv\r\n}\r\n\r\nfunction convertSvgToCanvas(svg, canvas, rootAppended) {\r\n    return drawCanvasElements(svg.childNodes, canvas.getContext(\"2d\"), {}, {\r\n        clipPaths: {},\r\n        patterns: {},\r\n        filters: {},\r\n        gradients: {},\r\n        rootAppended: rootAppended\r\n    })\r\n}\r\n\r\nfunction getCanvasFromSvg(markup, _ref3) {\r\n    var {\r\n        width: width,\r\n        height: height,\r\n        backgroundColor: backgroundColor,\r\n        margin: margin,\r\n        svgToCanvas: svgToCanvas = convertSvgToCanvas\r\n    } = _ref3;\r\n    var scaledScreenInfo = calcScaledInfo(width, height);\r\n    var canvas = imageCreator._createCanvas(scaledScreenInfo.width, scaledScreenInfo.height, margin);\r\n    var context = canvas.getContext(\"2d\");\r\n    context.setTransform(scaledScreenInfo.pixelRatio, 0, 0, scaledScreenInfo.pixelRatio, 0, 0);\r\n    var svgElem = getSvgElement(markup);\r\n    var invisibleDiv;\r\n    var markupIsDomElement = domAdapter.isElementNode(markup);\r\n    context.translate(margin, margin);\r\n    domAdapter.getBody().appendChild(canvas);\r\n    if (!markupIsDomElement) {\r\n        invisibleDiv = createInvisibleDiv();\r\n        invisibleDiv.appendChild(svgElem);\r\n        domAdapter.getBody().appendChild(invisibleDiv)\r\n    }\r\n    if (svgElem.attributes.direction) {\r\n        canvas.dir = svgElem.attributes.direction.textContent\r\n    }\r\n    drawBackground(context, width, height, backgroundColor, margin);\r\n    return fromPromise(svgToCanvas(svgElem, canvas, markupIsDomElement && contains(domAdapter.getBody(), markup))).then(() => canvas).always(() => {\r\n        invisibleDiv && domAdapter.getBody().removeChild(invisibleDiv);\r\n        domAdapter.getBody().removeChild(canvas)\r\n    })\r\n}\r\nexport var imageCreator = {\r\n    getImageData: function(markup, options) {\r\n        var mimeType = \"image/\" + options.format;\r\n        if (isFunction(options.__parseAttributesFn)) {\r\n            parseAttributes = options.__parseAttributesFn\r\n        }\r\n        return getCanvasFromSvg(markup, options).then(canvas => getStringFromCanvas(canvas, mimeType))\r\n    },\r\n    getData: function(markup, options) {\r\n        var that = this;\r\n        return imageCreator.getImageData(markup, options).then(binaryData => {\r\n            var mimeType = \"image/\" + options.format;\r\n            var data = isFunction(window.Blob) && !options.forceProxy ? that._getBlob(binaryData, mimeType) : that._getBase64(binaryData);\r\n            return data\r\n        })\r\n    },\r\n    _getBlob: function(binaryData, mimeType) {\r\n        var i;\r\n        var dataArray = new Uint8Array(binaryData.length);\r\n        for (i = 0; i < binaryData.length; i++) {\r\n            dataArray[i] = binaryData.charCodeAt(i)\r\n        }\r\n        return new window.Blob([dataArray.buffer], {\r\n            type: mimeType\r\n        })\r\n    },\r\n    _getBase64: function(binaryData) {\r\n        return window.btoa(binaryData)\r\n    },\r\n    _createCanvas(width, height, margin) {\r\n        var canvas = $(\"<canvas>\")[0];\r\n        canvas.width = width + 2 * margin;\r\n        canvas.height = height + 2 * margin;\r\n        canvas.hidden = true;\r\n        return canvas\r\n    }\r\n};\r\nexport function getData(data, options) {\r\n    return imageCreator.getData(data, options)\r\n}\r\nexport function testFormats(formats) {\r\n    var canvas = imageCreator._createCanvas(100, 100, 0);\r\n    return formats.reduce((function(r, f) {\r\n        var mimeType = (\"image/\" + f).toLowerCase();\r\n        if (-1 !== canvas.toDataURL(mimeType).indexOf(mimeType)) {\r\n            r.supported.push(f)\r\n        } else {\r\n            r.unsupported.push(f)\r\n        }\r\n        return r\r\n    }), {\r\n        supported: [],\r\n        unsupported: []\r\n    })\r\n}\r\nexport function calcScaledInfo(width, height) {\r\n    var pixelRatio = window.devicePixelRatio || 1;\r\n    return {\r\n        pixelRatio: pixelRatio,\r\n        width: width * pixelRatio,\r\n        height: height * pixelRatio\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/svg_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport ajax from \"../core/utils/ajax\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    getSvgElement,\r\n    getSvgMarkup,\r\n    HIDDEN_FOR_EXPORT\r\n} from \"../core/utils/svg\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nexport var svgCreator = {\r\n    _markup: \"\",\r\n    _imageArray: {},\r\n    _imageDeferreds: [],\r\n    _getBinaryFile: function(src, callback) {\r\n        ajax.sendRequest({\r\n            url: src,\r\n            method: \"GET\",\r\n            responseType: \"arraybuffer\"\r\n        }).done(callback).fail((function() {\r\n            callback(false)\r\n        }))\r\n    },\r\n    _loadImages: function() {\r\n        var that = this;\r\n        each(that._imageArray, (function(src) {\r\n            var deferred = new Deferred;\r\n            that._imageDeferreds.push(deferred);\r\n            that._getBinaryFile(src, (function(response) {\r\n                if (!response) {\r\n                    delete that._imageArray[src];\r\n                    deferred.resolve();\r\n                    return\r\n                }\r\n                var i;\r\n                var binary = \"\";\r\n                var bytes = new Uint8Array(response);\r\n                var length = bytes.byteLength;\r\n                for (i = 0; i < length; i++) {\r\n                    binary += String.fromCharCode(bytes[i])\r\n                }\r\n                that._imageArray[src] = \"data:image/png;base64,\" + window.btoa(binary);\r\n                deferred.resolve()\r\n            }))\r\n        }))\r\n    },\r\n    _parseImages: function(element) {\r\n        var href;\r\n        var that = this;\r\n        if (\"image\" === element.tagName) {\r\n            href = $(element).attr(\"href\") || $(element).attr(\"xlink:href\");\r\n            if (!that._imageArray[href]) {\r\n                that._imageArray[href] = \"\"\r\n            }\r\n        }\r\n        each(element.childNodes, (function(_, element) {\r\n            that._parseImages(element)\r\n        }))\r\n    },\r\n    _prepareImages: function(svgElem) {\r\n        this._parseImages(svgElem);\r\n        this._loadImages();\r\n        return when.apply($, this._imageDeferreds)\r\n    },\r\n    getData: function(data, options) {\r\n        var markup;\r\n        var that = this;\r\n        var svgElem = getSvgElement(data);\r\n        var $svgObject = $(svgElem);\r\n        $svgObject.find(\"[\".concat(HIDDEN_FOR_EXPORT, \"]\")).remove();\r\n        markup = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?>' + getSvgMarkup($svgObject.get(0), options.backgroundColor);\r\n        return that._prepareImages(svgElem).then(() => {\r\n            each(that._imageArray, (function(href, dataURI) {\r\n                var regexpString = \"href=['|\\\"]\".concat(href, \"['|\\\"]\");\r\n                markup = markup.replace(new RegExp(regexpString, \"gi\"), 'href=\"'.concat(dataURI, '\"'))\r\n            }));\r\n            return isFunction(window.Blob) ? that._getBlob(markup) : that._getBase64(markup)\r\n        })\r\n    },\r\n    _getBlob: function(markup) {\r\n        return new window.Blob([markup], {\r\n            type: \"image/svg+xml\"\r\n        })\r\n    },\r\n    _getBase64: function(markup) {\r\n        return window.btoa(markup)\r\n    }\r\n};\r\nexport function getData(data, options) {\r\n    return svgCreator.getData(data, options)\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/pdf_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    version\r\n} from \"../core/version\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    imageCreator,\r\n    calcScaledInfo\r\n} from \"./image_creator\";\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nvar mainPageTemplate = \"%PDF-1.3\\r\\n2 0 obj\\r\\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\\r\\nendobj\\r\\n4 0 obj\\r\\n<</Type/Pages/Kids[1 0 R]/Count 1>>\\r\\nendobj\\r\\n7 0 obj\\r\\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\\r\\nendobj\\r\\n1 0 obj\\r\\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\\r\\nendobj\\r\\n\";\r\nvar contentTemplate = \"3 0 obj\\r\\n<</Length 52>>stream\\r\\n0.20 w\\n0 G\\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar infoTemplate = \"6 0 obj\\r\\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\\r\\nendobj\\r\\n\";\r\nvar imageStartTemplate = \"5 0 obj\\r\\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\\r\\n\";\r\nvar imageEndTemplate = \"\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar trailerTemplate = \"trailer\\r\\n<<\\r\\n/Size 8\\r\\n/Root 7 0 R\\r\\n/Info 6 0 R\\r\\n>>\\r\\nstartxref\\r\\n_length_\\r\\n%%EOF\";\r\nvar xrefTemplate = \"xref\\r\\n0 8\\r\\n0000000000 65535 f\\r\\n0000000241 00000 n\\r\\n0000000010 00000 n\\r\\n_main_ 00000 n\\r\\n0000000089 00000 n\\r\\n_image_ 00000 n\\r\\n_info_ 00000 n\\r\\n0000000143 00000 n\\r\\n\";\r\nvar pad = function pad(str, len) {\r\n    return str.length < len ? pad(\"0\" + str, len) : str\r\n};\r\nvar composePdfString = function(imageString, options, curDate) {\r\n    var margin = 2 * (options.margin || 0);\r\n    var {\r\n        width: width,\r\n        height: height\r\n    } = calcScaledInfo(options.width, options.height);\r\n    width += margin;\r\n    height += margin;\r\n    var widthPt = (.75 * width).toFixed(2);\r\n    var heightPt = (.75 * height).toFixed(2);\r\n    var mainPage = mainPageTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var content = contentTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var info = infoTemplate.replace(\"_date_\", curDate).replace(\"_version_\", version);\r\n    var image = imageStartTemplate.replace(\"_width_\", width).replace(\"_height_\", height).replace(\"_length_\", imageString.length) + imageString + imageEndTemplate;\r\n    var xref = getXref(mainPage.length, content.length, info.length);\r\n    var mainContent = mainPage + content + info + image;\r\n    var trailer = trailerTemplate.replace(\"_length_\", mainContent.length);\r\n    return mainContent + xref + trailer\r\n};\r\n\r\nfunction getXref(mainPageLength, contentLength, infoLength) {\r\n    return xrefTemplate.replace(\"_main_\", pad(mainPageLength + \"\", 10)).replace(\"_info_\", pad(mainPageLength + contentLength + \"\", 10)).replace(\"_image_\", pad(mainPageLength + contentLength + infoLength + \"\", 10))\r\n}\r\nvar getCurDate = function() {\r\n    return new Date\r\n};\r\nvar getBlob = function(binaryData) {\r\n    var i = 0;\r\n    var dataArray = new Uint8Array(binaryData.length);\r\n    for (; i < binaryData.length; i++) {\r\n        dataArray[i] = binaryData.charCodeAt(i)\r\n    }\r\n    return new window.Blob([dataArray.buffer], {\r\n        type: \"application/pdf\"\r\n    })\r\n};\r\nvar getBase64 = function(binaryData) {\r\n    return window.btoa(binaryData)\r\n};\r\nexport function getData(data, options) {\r\n    return imageCreator.getImageData(data, extend({}, options, {\r\n        format: \"JPEG\"\r\n    })).then(imageString => {\r\n        var binaryData = composePdfString(imageString, options, getCurDate());\r\n        var pdfData = isFunction(window.Blob) ? getBlob(binaryData) : getBase64(binaryData);\r\n        return pdfData\r\n    })\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    fileSaver\r\n} from \"./exporter/file_saver\";\r\nimport {\r\n    ExcelCreator,\r\n    getData as getExcelData\r\n} from \"./exporter/excel_creator\";\r\nimport {\r\n    imageCreator,\r\n    testFormats,\r\n    getData as getImageData\r\n} from \"./exporter/image_creator\";\r\nimport {\r\n    svgCreator,\r\n    getData as getSvgData\r\n} from \"./exporter/svg_creator\";\r\nimport {\r\n    isFunction as _isFunction\r\n} from \"./core/utils/type\";\r\nimport {\r\n    Deferred\r\n} from \"./core/utils/deferred\";\r\nimport formatConverter from \"./exporter/excel_format_converter\";\r\nimport {\r\n    getData\r\n} from \"./exporter/pdf_creator\";\r\n\r\nfunction _export(data, options, getData) {\r\n    if (!data) {\r\n        return (new Deferred).resolve()\r\n    }\r\n    var exportingAction = options.exportingAction;\r\n    var exportedAction = options.exportedAction;\r\n    var fileSavingAction = options.fileSavingAction;\r\n    var eventArgs = {\r\n        fileName: options.fileName,\r\n        format: options.format,\r\n        cancel: false\r\n    };\r\n    _isFunction(exportingAction) && exportingAction(eventArgs);\r\n    if (!eventArgs.cancel) {\r\n        return getData(data, options).then(blob => {\r\n            _isFunction(exportedAction) && exportedAction();\r\n            if (_isFunction(fileSavingAction)) {\r\n                eventArgs.data = blob;\r\n                fileSavingAction(eventArgs)\r\n            }\r\n            if (!eventArgs.cancel) {\r\n                fileSaver.saveAs(eventArgs.fileName, options.format, blob, options.proxyUrl, options.forceProxy)\r\n            }\r\n        })\r\n    }\r\n    return (new Deferred).resolve()\r\n}\r\nexport {\r\n    _export as\r\n    export, fileSaver\r\n};\r\nexport var excel = {\r\n    creator: ExcelCreator,\r\n    getData: getExcelData,\r\n    formatConverter: formatConverter\r\n};\r\nexport var image = {\r\n    creator: imageCreator,\r\n    getData: getImageData,\r\n    testFormats: testFormats\r\n};\r\nexport var pdf = {\r\n    getData: getData\r\n};\r\nexport var svg = {\r\n    creator: svgCreator,\r\n    getData: getSvgData\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/button_group.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport Widget from \"./widget/ui.widget\";\r\nimport Button from \"./button\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nvar BUTTON_GROUP_CLASS = \"dx-buttongroup\";\r\nvar BUTTON_GROUP_WRAPPER_CLASS = BUTTON_GROUP_CLASS + \"-wrapper\";\r\nvar BUTTON_GROUP_ITEM_CLASS = BUTTON_GROUP_CLASS + \"-item\";\r\nvar BUTTON_GROUP_FIRST_ITEM_CLASS = BUTTON_GROUP_CLASS + \"-first-item\";\r\nvar BUTTON_GROUP_LAST_ITEM_CLASS = BUTTON_GROUP_CLASS + \"-last-item\";\r\nvar BUTTON_GROUP_ITEM_HAS_WIDTH = BUTTON_GROUP_ITEM_CLASS + \"-has-width\";\r\nvar SHAPE_STANDARD_CLASS = \"dx-shape-standard\";\r\nvar ButtonCollection = CollectionWidget.inherit({\r\n    _initTemplates() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(($container, data, model) => {\r\n                this._prepareItemStyles($container);\r\n                var template = this.option(\"buttonTemplate\");\r\n                this._createComponent($container, Button, extend({}, model, data, this._getBasicButtonOptions(), {\r\n                    _templateData: this._hasCustomTemplate(template) ? model : {},\r\n                    template: model.template || template\r\n                }))\r\n            }, [\"text\", \"type\", \"icon\", \"disabled\", \"visible\", \"hint\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _getBasicButtonOptions() {\r\n        return {\r\n            focusStateEnabled: false,\r\n            onClick: null,\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            stylingMode: this.option(\"stylingMode\")\r\n        }\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            itemTemplateProperty: null\r\n        })\r\n    },\r\n    _hasCustomTemplate(template) {\r\n        return isFunction(template) || this.option(\"integrationOptions.templates\")[template]\r\n    },\r\n    _prepareItemStyles($item) {\r\n        var itemIndex = $item.data(\"dxItemIndex\");\r\n        0 === itemIndex && $item.addClass(BUTTON_GROUP_FIRST_ITEM_CLASS);\r\n        var items = this.option(\"items\");\r\n        items && itemIndex === items.length - 1 && $item.addClass(BUTTON_GROUP_LAST_ITEM_CLASS);\r\n        $item.addClass(SHAPE_STANDARD_CLASS)\r\n    },\r\n    _renderItemContent(args) {\r\n        args.container = $(args.container).parent();\r\n        return this.callBase(args)\r\n    },\r\n    _renderItemContentByNode: function(args, $node) {\r\n        args.container = $(args.container.children().first());\r\n        return this.callBase(args, $node)\r\n    },\r\n    _focusTarget() {\r\n        return this.$element().parent()\r\n    },\r\n    _keyboardEventBindingTarget() {\r\n        return this._focusTarget()\r\n    },\r\n    _refreshContent() {\r\n        this._prepareContent();\r\n        this._renderContent()\r\n    },\r\n    _itemClass: () => BUTTON_GROUP_ITEM_CLASS,\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    }\r\n});\r\nvar ButtonGroup = Widget.inherit({\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            focusStateEnabled: true,\r\n            selectionMode: \"single\",\r\n            selectedItems: [],\r\n            selectedItemKeys: [],\r\n            stylingMode: \"contained\",\r\n            keyExpr: \"text\",\r\n            items: [],\r\n            buttonTemplate: \"content\",\r\n            onSelectionChanged: null,\r\n            onItemClick: null\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._createItemClickAction()\r\n    },\r\n    _createItemClickAction() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initMarkup() {\r\n        this.setAria(\"role\", \"group\");\r\n        this.$element().addClass(BUTTON_GROUP_CLASS);\r\n        this._renderButtons();\r\n        this._syncSelectionOptions();\r\n        this.callBase()\r\n    },\r\n    _fireSelectionChangeEvent: function(addedItems, removedItems) {\r\n        this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })({\r\n            addedItems: addedItems,\r\n            removedItems: removedItems\r\n        })\r\n    },\r\n    _renderButtons() {\r\n        var $buttons = $(\"<div>\").addClass(BUTTON_GROUP_WRAPPER_CLASS).appendTo(this.$element());\r\n        var selectedItems = this.option(\"selectedItems\");\r\n        var options = {\r\n            selectionMode: this.option(\"selectionMode\"),\r\n            items: this.option(\"items\"),\r\n            keyExpr: this.option(\"keyExpr\"),\r\n            buttonTemplate: this.option(\"buttonTemplate\"),\r\n            scrollingEnabled: false,\r\n            selectedItemKeys: this.option(\"selectedItemKeys\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            stylingMode: this.option(\"stylingMode\"),\r\n            accessKey: this.option(\"accessKey\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            noDataText: \"\",\r\n            selectionRequired: false,\r\n            onItemRendered: e => {\r\n                var width = this.option(\"width\");\r\n                isDefined(width) && $(e.itemElement).addClass(BUTTON_GROUP_ITEM_HAS_WIDTH)\r\n            },\r\n            onSelectionChanged: e => {\r\n                this._syncSelectionOptions();\r\n                this._fireSelectionChangeEvent(e.addedItems, e.removedItems)\r\n            },\r\n            onItemClick: e => {\r\n                this._itemClickAction(e)\r\n            }\r\n        };\r\n        if (isDefined(selectedItems) && selectedItems.length) {\r\n            options.selectedItems = selectedItems\r\n        }\r\n        this._buttonsCollection = this._createComponent($buttons, ButtonCollection, options)\r\n    },\r\n    _syncSelectionOptions() {\r\n        this._setOptionWithoutOptionChange(\"selectedItems\", this._buttonsCollection.option(\"selectedItems\"));\r\n        this._setOptionWithoutOptionChange(\"selectedItemKeys\", this._buttonsCollection.option(\"selectedItemKeys\"))\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"stylingMode\":\r\n            case \"selectionMode\":\r\n            case \"keyExpr\":\r\n            case \"buttonTemplate\":\r\n            case \"items\":\r\n            case \"activeStateEnabled\":\r\n            case \"focusStateEnabled\":\r\n            case \"hoverStateEnabled\":\r\n            case \"tabIndex\":\r\n                this._invalidate();\r\n                break;\r\n            case \"selectedItemKeys\":\r\n            case \"selectedItems\":\r\n                this._buttonsCollection.option(args.name, args.value);\r\n                break;\r\n            case \"onItemClick\":\r\n                this._createItemClickAction();\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._buttonsCollection.itemElements().toggleClass(BUTTON_GROUP_ITEM_HAS_WIDTH, !!args.value);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxButtonGroup\", ButtonGroup);\r\nexport default ButtonGroup;\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_button.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport Widget from \"./widget/ui.widget\";\r\nimport {\r\n    FunctionTemplate\r\n} from \"../core/templates/function_template\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport ButtonGroup from \"./button_group\";\r\nimport Popup from \"./popup\";\r\nimport List from \"./list_light\";\r\nimport {\r\n    compileGetter\r\n} from \"../core/utils/data\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport DataHelperMixin from \"../data_helper\";\r\nimport {\r\n    DataSource\r\n} from \"../data/data_source/data_source\";\r\nimport ArrayStore from \"../data/array_store\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    ensureDefined,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport Guid from \"../core/guid\";\r\nimport {\r\n    getElementWidth,\r\n    getSizeValue\r\n} from \"./drop_down_editor/utils\";\r\nimport messageLocalization from \"../localization/message\";\r\nvar DROP_DOWN_BUTTON_CLASS = \"dx-dropdownbutton\";\r\nvar DROP_DOWN_BUTTON_CONTENT = \"dx-dropdownbutton-content\";\r\nvar DROP_DOWN_BUTTON_ACTION_CLASS = \"dx-dropdownbutton-action\";\r\nvar DROP_DOWN_BUTTON_TOGGLE_CLASS = \"dx-dropdownbutton-toggle\";\r\nvar DROP_DOWN_BUTTON_HAS_ARROW_CLASS = \"dx-dropdownbutton-has-arrow\";\r\nvar DROP_DOWN_BUTTON_POPUP_WRAPPER_CLASS = \"dx-dropdownbutton-popup-wrapper\";\r\nvar DROP_DOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar DX_BUTTON_TEXT_CLASS = \"dx-button-text\";\r\nvar DX_ICON_RIGHT_CLASS = \"dx-icon-right\";\r\nvar DropDownButton = Widget.inherit({\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            itemTemplate: \"item\",\r\n            keyExpr: \"this\",\r\n            displayExpr: void 0,\r\n            selectedItem: null,\r\n            selectedItemKey: null,\r\n            stylingMode: \"outlined\",\r\n            deferRendering: true,\r\n            noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\r\n            useSelectMode: false,\r\n            splitButton: false,\r\n            showArrowIcon: true,\r\n            text: \"\",\r\n            icon: void 0,\r\n            onButtonClick: null,\r\n            onSelectionChanged: null,\r\n            onItemClick: null,\r\n            opened: false,\r\n            items: null,\r\n            dataSource: null,\r\n            focusStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            dropDownOptions: {},\r\n            dropDownContentTemplate: \"content\",\r\n            wrapItemText: false,\r\n            useItemTextAsTitle: true,\r\n            grouped: false,\r\n            groupTemplate: \"group\",\r\n            buttonGroupOptions: {}\r\n        })\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            selectedItem: true\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._createItemClickAction();\r\n        this._createActionClickAction();\r\n        this._createSelectionChangedAction();\r\n        this._initDataSource();\r\n        this._compileKeyGetter();\r\n        this._compileDisplayGetter();\r\n        this._itemsToDataSource(this.option(\"items\"));\r\n        this._options.cache(\"buttonGroupOptions\", this.option(\"buttonGroupOptions\"));\r\n        this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"))\r\n    },\r\n    _initTemplates() {\r\n        this._templateManager.addDefaultTemplates({\r\n            content: new FunctionTemplate(options => {\r\n                var $popupContent = $(options.container);\r\n                var $listContainer = $(\"<div>\").appendTo($popupContent);\r\n                this._list = this._createComponent($listContainer, List, this._listOptions());\r\n                this._list.registerKeyHandler(\"escape\", this._escHandler.bind(this));\r\n                this._list.registerKeyHandler(\"tab\", this._escHandler.bind(this));\r\n                this._list.registerKeyHandler(\"leftArrow\", this._escHandler.bind(this));\r\n                this._list.registerKeyHandler(\"rightArrow\", this._escHandler.bind(this))\r\n            })\r\n        });\r\n        this.callBase()\r\n    },\r\n    _itemsToDataSource: function(value) {\r\n        if (!this._dataSource) {\r\n            this._dataSource = new DataSource({\r\n                store: new ArrayStore({\r\n                    key: this._getKey(),\r\n                    data: value\r\n                }),\r\n                pageSize: 0\r\n            })\r\n        }\r\n    },\r\n    _getKey: function() {\r\n        var _this$_dataSource;\r\n        var keyExpr = this.option(\"keyExpr\");\r\n        var storeKey = null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.key();\r\n        return isDefined(storeKey) && (!isDefined(keyExpr) || \"this\" === keyExpr) ? storeKey : keyExpr\r\n    },\r\n    _compileKeyGetter() {\r\n        this._keyGetter = compileGetter(this._getKey())\r\n    },\r\n    _compileDisplayGetter() {\r\n        this._displayGetter = compileGetter(this.option(\"displayExpr\"))\r\n    },\r\n    _initMarkup() {\r\n        this.callBase();\r\n        this.$element().addClass(DROP_DOWN_BUTTON_CLASS);\r\n        this._renderButtonGroup();\r\n        this._updateArrowClass();\r\n        if (isDefined(this.option(\"selectedItemKey\"))) {\r\n            this._loadSelectedItem().done(this._updateActionButton.bind(this))\r\n        }\r\n    },\r\n    _renderFocusTarget: noop,\r\n    _render() {\r\n        if (!this.option(\"deferRendering\") || this.option(\"opened\")) {\r\n            this._renderPopup()\r\n        }\r\n        this.callBase()\r\n    },\r\n    _renderContentImpl() {\r\n        if (this._popup) {\r\n            this._renderPopupContent()\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _loadSelectedItem() {\r\n        var _this$_loadSingleDefe;\r\n        null === (_this$_loadSingleDefe = this._loadSingleDeferred) || void 0 === _this$_loadSingleDefe ? void 0 : _this$_loadSingleDefe.reject();\r\n        var d = new Deferred;\r\n        if (this._list && void 0 !== this._lastSelectedItemData) {\r\n            var cachedResult = this.option(\"useSelectMode\") ? this._list.option(\"selectedItem\") : this._lastSelectedItemData;\r\n            return d.resolve(cachedResult)\r\n        }\r\n        this._lastSelectedItemData = void 0;\r\n        var selectedItemKey = this.option(\"selectedItemKey\");\r\n        this._loadSingle(this._getKey(), selectedItemKey).done(d.resolve).fail(() => {\r\n            d.resolve(null)\r\n        });\r\n        this._loadSingleDeferred = d;\r\n        return d.promise()\r\n    },\r\n    _createActionClickAction() {\r\n        this._actionClickAction = this._createActionByOption(\"onButtonClick\")\r\n    },\r\n    _createSelectionChangedAction() {\r\n        this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\")\r\n    },\r\n    _createItemClickAction() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _fireSelectionChangedAction(_ref) {\r\n        var {\r\n            previousValue: previousValue,\r\n            value: value\r\n        } = _ref;\r\n        this._selectionChangedAction({\r\n            item: value,\r\n            previousItem: previousValue\r\n        })\r\n    },\r\n    _fireItemClickAction(_ref2) {\r\n        var {\r\n            event: event,\r\n            itemElement: itemElement,\r\n            itemData: itemData\r\n        } = _ref2;\r\n        return this._itemClickAction({\r\n            event: event,\r\n            itemElement: itemElement,\r\n            itemData: this._actionItem || itemData\r\n        })\r\n    },\r\n    _actionButtonConfig() {\r\n        return {\r\n            text: this.option(\"text\"),\r\n            icon: this.option(\"icon\"),\r\n            elementAttr: {\r\n                class: DROP_DOWN_BUTTON_ACTION_CLASS\r\n            }\r\n        }\r\n    },\r\n    _getButtonGroupItems() {\r\n        var items = [];\r\n        items.push(this._actionButtonConfig());\r\n        if (this.option(\"splitButton\")) {\r\n            items.push({\r\n                icon: \"spindown\",\r\n                elementAttr: {\r\n                    class: DROP_DOWN_BUTTON_TOGGLE_CLASS\r\n                }\r\n            })\r\n        }\r\n        return items\r\n    },\r\n    _buttonGroupItemClick(_ref3) {\r\n        var {\r\n            event: event,\r\n            itemData: itemData\r\n        } = _ref3;\r\n        var isActionButton = itemData.elementAttr.class === DROP_DOWN_BUTTON_ACTION_CLASS;\r\n        var isToggleButton = itemData.elementAttr.class === DROP_DOWN_BUTTON_TOGGLE_CLASS;\r\n        if (isToggleButton) {\r\n            this.toggle()\r\n        } else if (isActionButton) {\r\n            this._actionClickAction({\r\n                event: event,\r\n                selectedItem: this.option(\"selectedItem\")\r\n            });\r\n            if (!this.option(\"splitButton\")) {\r\n                this.toggle()\r\n            }\r\n        }\r\n    },\r\n    _buttonGroupOptions() {\r\n        var buttonTemplate = this.option(\"splitButton\") || !this.option(\"showArrowIcon\") ? \"content\" : (_ref4, buttonContent) => {\r\n            var {\r\n                text: text,\r\n                icon: icon\r\n            } = _ref4;\r\n            var $firstIcon = getImageContainer(icon);\r\n            var $textContainer = text ? $(\"<span>\").text(text).addClass(DX_BUTTON_TEXT_CLASS) : void 0;\r\n            var $secondIcon = getImageContainer(\"spindown\").addClass(DX_ICON_RIGHT_CLASS);\r\n            $(buttonContent).append($firstIcon, $textContainer, $secondIcon)\r\n        };\r\n        return extend({\r\n            items: this._getButtonGroupItems(),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            onItemClick: this._buttonGroupItemClick.bind(this),\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            stylingMode: this.option(\"stylingMode\"),\r\n            selectionMode: \"none\",\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            onKeyboardHandled: e => this._keyboardHandler(e),\r\n            buttonTemplate: buttonTemplate\r\n        }, this._options.cache(\"buttonGroupOptions\"))\r\n    },\r\n    _renderPopupContent() {\r\n        var $content = this._popup.$content();\r\n        var template = this._getTemplateByOption(\"dropDownContentTemplate\");\r\n        $content.empty();\r\n        this._popupContentId = \"dx-\" + new Guid;\r\n        this.setAria(\"id\", this._popupContentId, $content);\r\n        return template.render({\r\n            container: getPublicElement($content),\r\n            model: this.option(\"items\") || this._dataSource\r\n        })\r\n    },\r\n    _popupOptions() {\r\n        var horizontalAlignment = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        return extend({\r\n            dragEnabled: false,\r\n            focusStateEnabled: false,\r\n            deferRendering: this.option(\"deferRendering\"),\r\n            closeOnOutsideClick: e => {\r\n                var $element = this.$element();\r\n                var $buttonClicked = $(e.target).closest(\".\".concat(DROP_DOWN_BUTTON_CLASS));\r\n                return !$buttonClicked.is($element)\r\n            },\r\n            showTitle: false,\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    duration: 0,\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    duration: 400,\r\n                    from: 1,\r\n                    to: 0\r\n                }\r\n            },\r\n            _ignoreFunctionValueDeprecation: true,\r\n            width: () => getElementWidth(this.$element()),\r\n            height: \"auto\",\r\n            shading: false,\r\n            position: {\r\n                of: this.$element(),\r\n                collision: \"flipfit\",\r\n                my: horizontalAlignment + \" top\",\r\n                at: horizontalAlignment + \" bottom\"\r\n            },\r\n            wrapperAttr: {\r\n                class: DROP_DOWN_EDITOR_OVERLAY_CLASS\r\n            }\r\n        }, this._options.cache(\"dropDownOptions\"), {\r\n            visible: this.option(\"opened\")\r\n        })\r\n    },\r\n    _listOptions() {\r\n        var selectedItemKey = this.option(\"selectedItemKey\");\r\n        var useSelectMode = this.option(\"useSelectMode\");\r\n        return {\r\n            selectionMode: useSelectMode ? \"single\" : \"none\",\r\n            wrapItemText: this.option(\"wrapItemText\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            useItemTextAsTitle: this.option(\"useItemTextAsTitle\"),\r\n            onContentReady: () => this._fireContentReadyAction(),\r\n            selectedItemKeys: isDefined(selectedItemKey) && useSelectMode ? [selectedItemKey] : [],\r\n            grouped: this.option(\"grouped\"),\r\n            groupTemplate: this.option(\"groupTemplate\"),\r\n            keyExpr: this._getKey(),\r\n            noDataText: this.option(\"noDataText\"),\r\n            displayExpr: this.option(\"displayExpr\"),\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            items: this.option(\"items\"),\r\n            dataSource: this._dataSource,\r\n            onItemClick: e => {\r\n                if (!this.option(\"useSelectMode\")) {\r\n                    this._lastSelectedItemData = e.itemData\r\n                }\r\n                this.option(\"selectedItemKey\", this._keyGetter(e.itemData));\r\n                var actionResult = this._fireItemClickAction(e);\r\n                if (false !== actionResult) {\r\n                    this.toggle(false);\r\n                    this._buttonGroup.focus()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _upDownKeyHandler() {\r\n        if (this._popup && this._popup.option(\"visible\") && this._list) {\r\n            this._list.focus()\r\n        } else {\r\n            this.open()\r\n        }\r\n        return true\r\n    },\r\n    _escHandler() {\r\n        this.close();\r\n        this._buttonGroup.focus();\r\n        return true\r\n    },\r\n    _tabHandler() {\r\n        this.close();\r\n        return true\r\n    },\r\n    _renderPopup() {\r\n        var $popup = $(\"<div>\");\r\n        this.$element().append($popup);\r\n        this._popup = this._createComponent($popup, Popup, this._popupOptions());\r\n        this._popup.$content().addClass(DROP_DOWN_BUTTON_CONTENT);\r\n        this._popup.$wrapper().addClass(DROP_DOWN_BUTTON_POPUP_WRAPPER_CLASS);\r\n        this._popup.on(\"hiding\", this._popupHidingHandler.bind(this));\r\n        this._popup.on(\"showing\", this._popupShowingHandler.bind(this));\r\n        this._bindInnerWidgetOptions(this._popup, \"dropDownOptions\")\r\n    },\r\n    _popupHidingHandler() {\r\n        this.option(\"opened\", false);\r\n        this._setAriaExpanded(false)\r\n    },\r\n    _popupOptionChanged: function(args) {\r\n        var options = Widget.getOptionsFromContainer(args);\r\n        this._setPopupOption(options);\r\n        var optionsKeys = Object.keys(options);\r\n        if (-1 !== optionsKeys.indexOf(\"width\") || -1 !== optionsKeys.indexOf(\"height\")) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        var popupWidth = getSizeValue(this.option(\"dropDownOptions.width\"));\r\n        if (void 0 === popupWidth) {\r\n            this._setPopupOption(\"width\", () => getElementWidth(this.$element()))\r\n        }\r\n    },\r\n    _setPopupOption: function(optionName, value) {\r\n        this._setWidgetOption(\"_popup\", arguments)\r\n    },\r\n    _popupShowingHandler() {\r\n        this.option(\"opened\", true);\r\n        this._setAriaExpanded(true)\r\n    },\r\n    _setAriaExpanded(value) {\r\n        this._ariaExpandedElements.forEach(ariaElement => {\r\n            this.setAria({\r\n                expanded: value,\r\n                owns: value ? this._popupContentId : void 0\r\n            }, $(ariaElement))\r\n        })\r\n    },\r\n    _renderButtonGroup() {\r\n        var $buttonGroup = this._buttonGroup && this._buttonGroup.$element() || $(\"<div>\");\r\n        if (!this._buttonGroup) {\r\n            this.$element().append($buttonGroup)\r\n        }\r\n        this._buttonGroup = this._createComponent($buttonGroup, ButtonGroup, this._buttonGroupOptions());\r\n        var buttonElements = this._buttonGroup.$element().find(\".dx-button\").toArray();\r\n        this._ariaExpandedElements = [...buttonElements, this.$element()];\r\n        this._buttonGroup.registerKeyHandler(\"downArrow\", this._upDownKeyHandler.bind(this));\r\n        this._buttonGroup.registerKeyHandler(\"tab\", this._tabHandler.bind(this));\r\n        this._buttonGroup.registerKeyHandler(\"upArrow\", this._upDownKeyHandler.bind(this));\r\n        this._buttonGroup.registerKeyHandler(\"escape\", this._escHandler.bind(this));\r\n        this._bindInnerWidgetOptions(this._buttonGroup, \"buttonGroupOptions\");\r\n        this._setAriaExpanded(this.option(\"opened\"))\r\n    },\r\n    _updateArrowClass() {\r\n        var hasArrow = this.option(\"splitButton\") || this.option(\"showArrowIcon\");\r\n        this.$element().toggleClass(DROP_DOWN_BUTTON_HAS_ARROW_CLASS, hasArrow)\r\n    },\r\n    toggle(visible) {\r\n        if (!this._popup) {\r\n            this._renderPopup();\r\n            this._renderContent()\r\n        }\r\n        return this._popup.toggle(visible)\r\n    },\r\n    open() {\r\n        return this.toggle(true)\r\n    },\r\n    close() {\r\n        return this.toggle(false)\r\n    },\r\n    _setListOption(name, value) {\r\n        this._list && this._list.option(name, value)\r\n    },\r\n    _getDisplayValue(item) {\r\n        var isPrimitiveItem = !isPlainObject(item);\r\n        var displayValue = isPrimitiveItem ? item : this._displayGetter(item);\r\n        return !isPlainObject(displayValue) ? String(ensureDefined(displayValue, \"\")) : \"\"\r\n    },\r\n    _updateActionButton(selectedItem) {\r\n        if (this.option(\"useSelectMode\")) {\r\n            this.option({\r\n                text: this._getDisplayValue(selectedItem),\r\n                icon: isPlainObject(selectedItem) ? selectedItem.icon : void 0\r\n            })\r\n        }\r\n        this._setOptionWithoutOptionChange(\"selectedItem\", selectedItem);\r\n        this._setOptionWithoutOptionChange(\"selectedItemKey\", this._keyGetter(selectedItem))\r\n    },\r\n    _clean() {\r\n        this._list && this._list.$element().remove();\r\n        this._popup && this._popup.$element().remove()\r\n    },\r\n    _selectedItemKeyChanged(value) {\r\n        this._setListOption(\"selectedItemKeys\", this.option(\"useSelectMode\") && isDefined(value) ? [value] : []);\r\n        var previousItem = this.option(\"selectedItem\");\r\n        this._loadSelectedItem().done(selectedItem => {\r\n            this._updateActionButton(selectedItem);\r\n            if (this._displayGetter(previousItem) !== this._displayGetter(selectedItem)) {\r\n                this._fireSelectionChangedAction({\r\n                    previousValue: previousItem,\r\n                    value: selectedItem\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _actionButtonOptionChanged(_ref5) {\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = _ref5;\r\n        var newConfig = {};\r\n        newConfig[name] = value;\r\n        this._buttonGroup.option(\"items[0]\", extend({}, this._actionButtonConfig(), newConfig));\r\n        this._popup && this._popup.repaint()\r\n    },\r\n    _selectModeChanged(value) {\r\n        if (value) {\r\n            this._setListOption(\"selectionMode\", \"single\");\r\n            var selectedItemKey = this.option(\"selectedItemKey\");\r\n            this._setListOption(\"selectedItemKeys\", isDefined(selectedItemKey) ? [selectedItemKey] : []);\r\n            this._selectedItemKeyChanged(this.option(\"selectedItemKey\"))\r\n        } else {\r\n            this._setListOption(\"selectionMode\", \"none\");\r\n            this.option({\r\n                selectedItemKey: void 0,\r\n                selectedItem: void 0\r\n            });\r\n            this._actionButtonOptionChanged({\r\n                text: this.option(\"text\")\r\n            })\r\n        }\r\n    },\r\n    _updateItemCollection(optionName) {\r\n        var selectedItemKey = this.option(\"selectedItemKey\");\r\n        this._setListOption(\"selectedItem\", null);\r\n        this._setWidgetOption(\"_list\", [optionName]);\r\n        if (isDefined(selectedItemKey)) {\r\n            this._loadSelectedItem().done(selectedItem => {\r\n                this._setListOption(\"selectedItemKeys\", [selectedItemKey]);\r\n                this._setListOption(\"selectedItem\", selectedItem)\r\n            }).fail(error => {\r\n                this._setListOption(\"selectedItemKeys\", [])\r\n            }).always(this._updateActionButton.bind(this))\r\n        }\r\n    },\r\n    _updateDataSource: function() {\r\n        var items = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._dataSource.items();\r\n        this._dataSource = void 0;\r\n        this._itemsToDataSource(items);\r\n        this._updateKeyExpr()\r\n    },\r\n    _updateKeyExpr: function() {\r\n        this._compileKeyGetter();\r\n        this._setListOption(\"keyExpr\", this._getKey())\r\n    },\r\n    focus: function() {\r\n        this._buttonGroup.focus()\r\n    },\r\n    _optionChanged(args) {\r\n        var _this$_popup;\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = args;\r\n        switch (name) {\r\n            case \"useSelectMode\":\r\n                this._selectModeChanged(value);\r\n                break;\r\n            case \"splitButton\":\r\n                this._updateArrowClass();\r\n                this._renderButtonGroup();\r\n                break;\r\n            case \"displayExpr\":\r\n                this._compileDisplayGetter();\r\n                this._setListOption(name, value);\r\n                this._updateActionButton(this.option(\"selectedItem\"));\r\n                break;\r\n            case \"keyExpr\":\r\n                this._updateDataSource();\r\n                break;\r\n            case \"buttonGroupOptions\":\r\n                this._innerWidgetOptionChanged(this._buttonGroup, args);\r\n                break;\r\n            case \"dropDownOptions\":\r\n                if (\"dropDownOptions.visible\" === args.fullName) {\r\n                    break\r\n                }\r\n                if (void 0 !== args.value.visible) {\r\n                    delete args.value.visible\r\n                }\r\n                this._popupOptionChanged(args);\r\n                this._innerWidgetOptionChanged(this._popup, args);\r\n                break;\r\n            case \"opened\":\r\n                this.toggle(value);\r\n                break;\r\n            case \"focusStateEnabled\":\r\n            case \"hoverStateEnabled\":\r\n                this._setListOption(name, value);\r\n                this._buttonGroup.option(name, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                this._updateDataSource(this.option(\"items\"));\r\n                this._updateItemCollection(name);\r\n                break;\r\n            case \"dataSource\":\r\n                if (Array.isArray(value)) {\r\n                    this._updateDataSource(this.option(\"dataSource\"))\r\n                } else {\r\n                    this._initDataSource();\r\n                    this._updateKeyExpr()\r\n                }\r\n                this._updateItemCollection(name);\r\n                break;\r\n            case \"icon\":\r\n            case \"text\":\r\n                this._actionButtonOptionChanged(args);\r\n                break;\r\n            case \"showArrowIcon\":\r\n                this._updateArrowClass();\r\n                this._renderButtonGroup();\r\n                this._popup && this._popup.repaint();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                null === (_this$_popup = this._popup) || void 0 === _this$_popup ? void 0 : _this$_popup.repaint();\r\n                break;\r\n            case \"stylingMode\":\r\n                this._buttonGroup.option(name, value);\r\n                break;\r\n            case \"itemTemplate\":\r\n            case \"grouped\":\r\n            case \"noDataText\":\r\n            case \"groupTemplate\":\r\n            case \"wrapItemText\":\r\n            case \"useItemTextAsTitle\":\r\n                this._setListOption(name, value);\r\n                break;\r\n            case \"dropDownContentTemplate\":\r\n                this._renderContent();\r\n                break;\r\n            case \"selectedItemKey\":\r\n                this._selectedItemKeyChanged(value);\r\n                break;\r\n            case \"selectedItem\":\r\n                break;\r\n            case \"onItemClick\":\r\n                this._createItemClickAction();\r\n                break;\r\n            case \"onButtonClick\":\r\n                this._createActionClickAction();\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                this._createSelectionChangedAction();\r\n                break;\r\n            case \"deferRendering\":\r\n                this.toggle(this.option(\"opened\"));\r\n                break;\r\n            case \"tabIndex\":\r\n                this._buttonGroup.option(name, value);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n}).include(DataHelperMixin);\r\nregisterComponent(\"dxDropDownButton\", DropDownButton);\r\nexport default DropDownButton;\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.export.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    merge\r\n} from \"../../core/utils/array\";\r\nimport dataGridCore from \"./ui.data_grid.core\";\r\nimport exportMixin from \"../grid_core/ui.grid_core.export_mixin\";\r\nimport {\r\n    export as clientExport,\r\n    excel\r\n} from \"../../exporter\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport \"../button\";\r\nimport \"../drop_down_button\";\r\nimport List from \"../list_light\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar DATAGRID_EXPORT_MENU_CLASS = \"dx-datagrid-export-menu\";\r\nvar DATAGRID_EXPORT_BUTTON_CLASS = \"dx-datagrid-export-button\";\r\nvar DATAGRID_EXPORT_TOOLBAR_BUTTON_NAME = \"exportButton\";\r\nvar DATAGRID_EXPORT_ICON = \"export-to\";\r\nvar DATAGRID_EXPORT_EXCEL_ICON = \"xlsxfile\";\r\nvar DATAGRID_EXPORT_SELECTED_ICON = \"exportselected\";\r\nvar DATAGRID_EXPORT_EXCEL_BUTTON_ICON = \"export-excel-button\";\r\nexport var DataProvider = Class.inherit({\r\n    ctor: function(exportController, initialColumnWidthsByColumnIndex, selectedRowsOnly) {\r\n        this._exportController = exportController;\r\n        this._initialColumnWidthsByColumnIndex = initialColumnWidthsByColumnIndex;\r\n        this._selectedRowsOnly = selectedRowsOnly\r\n    },\r\n    _getGroupValue: function(item) {\r\n        var {\r\n            key: key,\r\n            data: data,\r\n            rowType: rowType,\r\n            groupIndex: groupIndex,\r\n            summaryCells: summaryCells\r\n        } = item;\r\n        var groupColumn = this._options.groupColumns[groupIndex];\r\n        var value = dataGridCore.getDisplayValue(groupColumn, groupColumn.deserializeValue ? groupColumn.deserializeValue(key[groupIndex]) : key[groupIndex], data, rowType);\r\n        var result = groupColumn.caption + \": \" + dataGridCore.formatValue(value, groupColumn);\r\n        if (summaryCells && summaryCells[0] && summaryCells[0].length) {\r\n            result += \" \" + dataGridCore.getGroupRowSummaryText(summaryCells[0], this._options.summaryTexts)\r\n        }\r\n        return result\r\n    },\r\n    _correctCellIndex: function(cellIndex) {\r\n        return cellIndex\r\n    },\r\n    _initOptions: function() {\r\n        var exportController = this._exportController;\r\n        var groupColumns = exportController._columnsController.getGroupColumns();\r\n        var excelWrapTextEnabled = exportController.option(\"export.excelWrapTextEnabled\");\r\n        this._options = {\r\n            columns: exportController._getColumns(this._initialColumnWidthsByColumnIndex),\r\n            groupColumns: groupColumns,\r\n            items: this._selectedRowsOnly || exportController._selectionOnly ? exportController._getSelectedItems() : exportController._getAllItems(),\r\n            getVisibleIndex: exportController._columnsController.getVisibleIndex.bind(exportController._columnsController),\r\n            isHeadersVisible: exportController.option(\"showColumnHeaders\"),\r\n            summaryTexts: exportController.option(\"summary.texts\"),\r\n            customizeExportData: exportController.option(\"customizeExportData\"),\r\n            rtlEnabled: exportController.option(\"rtlEnabled\"),\r\n            wrapTextEnabled: isDefined(excelWrapTextEnabled) ? excelWrapTextEnabled : !!exportController.option(\"wordWrapEnabled\"),\r\n            customizeExcelCell: exportController.option(\"export.customizeExcelCell\")\r\n        }\r\n    },\r\n    hasCustomizeExcelCell: function() {\r\n        return isDefined(this._options.customizeExcelCell)\r\n    },\r\n    customizeExcelCell: function(e, cellSourceData) {\r\n        if (this._options.customizeExcelCell) {\r\n            e.gridCell = cellSourceData;\r\n            if (isDefined(this._exportController) && isDefined(this._exportController.component)) {\r\n                e.component = this._exportController.component\r\n            }\r\n            this._options.customizeExcelCell(e)\r\n        }\r\n    },\r\n    getHeaderStyles: () => [{\r\n        bold: true,\r\n        alignment: \"center\",\r\n        wrapText: true\r\n    }, {\r\n        bold: true,\r\n        alignment: \"left\",\r\n        wrapText: true\r\n    }, {\r\n        bold: true,\r\n        alignment: \"right\",\r\n        wrapText: true\r\n    }],\r\n    getGroupRowStyle() {\r\n        return {\r\n            bold: true,\r\n            wrapText: false,\r\n            alignment: getDefaultAlignment(this._options.rtlEnabled)\r\n        }\r\n    },\r\n    getColumnStyles() {\r\n        var wrapTextEnabled = this._options.wrapTextEnabled;\r\n        var columnStyles = [];\r\n        this.getColumns().forEach(column => {\r\n            columnStyles.push({\r\n                alignment: column.alignment || \"left\",\r\n                format: column.format,\r\n                wrapText: wrapTextEnabled,\r\n                dataType: column.dataType\r\n            })\r\n        });\r\n        return columnStyles\r\n    },\r\n    getStyles: function() {\r\n        return [...this.getHeaderStyles(), ...this.getColumnStyles(), this.getGroupRowStyle()]\r\n    },\r\n    _getTotalCellStyleId: function(cellIndex) {\r\n        var _this$getColumns$cell;\r\n        var alignment = (null === (_this$getColumns$cell = this.getColumns()[cellIndex]) || void 0 === _this$getColumns$cell ? void 0 : _this$getColumns$cell.alignment) || \"right\";\r\n        return this.getHeaderStyles().map(style => style.alignment).indexOf(alignment)\r\n    },\r\n    getStyleId: function(rowIndex, cellIndex) {\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            return 0\r\n        } else if (this.isTotalCell(rowIndex - this.getHeaderRowCount(), cellIndex)) {\r\n            return this._getTotalCellStyleId(cellIndex)\r\n        } else if (this.isGroupRow(rowIndex - this.getHeaderRowCount())) {\r\n            return this.getHeaderStyles().length + this.getColumns().length\r\n        } else {\r\n            return cellIndex + this.getHeaderStyles().length\r\n        }\r\n    },\r\n    getColumns: function(getColumnsByAllRows) {\r\n        var {\r\n            columns: columns\r\n        } = this._options;\r\n        return getColumnsByAllRows ? columns : columns[columns.length - 1]\r\n    },\r\n    getColumnsWidths: function() {\r\n        var columns = this.getColumns();\r\n        return isDefined(columns) ? columns.map(c => c.width) : void 0\r\n    },\r\n    getRowsCount: function() {\r\n        return this._options.items.length + this.getHeaderRowCount()\r\n    },\r\n    getHeaderRowCount: function() {\r\n        if (this.isHeadersVisible()) {\r\n            return this._options.columns.length - 1\r\n        }\r\n        return 0\r\n    },\r\n    isGroupRow: function(rowIndex) {\r\n        return rowIndex < this._options.items.length && \"group\" === this._options.items[rowIndex].rowType\r\n    },\r\n    getGroupLevel: function(rowIndex) {\r\n        var item = this._options.items[rowIndex - this.getHeaderRowCount()];\r\n        var groupIndex = item && item.groupIndex;\r\n        if (item && \"totalFooter\" === item.rowType) {\r\n            return 0\r\n        }\r\n        return isDefined(groupIndex) ? groupIndex : this._options.groupColumns.length\r\n    },\r\n    getCellType: function(rowIndex, cellIndex) {\r\n        var columns = this.getColumns();\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            return \"string\"\r\n        } else {\r\n            rowIndex -= this.getHeaderRowCount()\r\n        }\r\n        if (cellIndex < columns.length) {\r\n            var item = this._options.items.length && this._options.items[rowIndex];\r\n            var column = columns[cellIndex];\r\n            if (item && \"data\" === item.rowType) {\r\n                if (isFinite(item.values[this._correctCellIndex(cellIndex)]) && !isDefined(column.customizeText)) {\r\n                    return isDefined(column.lookup) ? column.lookup.dataType : column.dataType\r\n                }\r\n            }\r\n            return \"string\"\r\n        }\r\n    },\r\n    ready: function() {\r\n        var that = this;\r\n        that._initOptions();\r\n        var options = that._options;\r\n        return when(options.items).done((function(items) {\r\n            options.customizeExportData && options.customizeExportData(that.getColumns(that.getHeaderRowCount() > 1), items);\r\n            options.items = items\r\n        })).fail((function() {\r\n            options.items = []\r\n        }))\r\n    },\r\n    _convertFromGridGroupSummaryItems: function(gridGroupSummaryItems) {\r\n        if (isDefined(gridGroupSummaryItems) && gridGroupSummaryItems.length > 0) {\r\n            return gridGroupSummaryItems.map((function(item) {\r\n                return {\r\n                    value: item.value,\r\n                    name: item.name\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    getCellData: function(rowIndex, cellIndex, isExcelJS) {\r\n        var value;\r\n        var column;\r\n        var result = {\r\n            cellSourceData: {},\r\n            value: value\r\n        };\r\n        var columns = this.getColumns();\r\n        var correctedCellIndex = this._correctCellIndex(cellIndex);\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            var columnsRow = this.getColumns(true)[rowIndex];\r\n            column = columnsRow[cellIndex];\r\n            result.cellSourceData.rowType = \"header\";\r\n            result.cellSourceData.column = column && column.gridColumn;\r\n            result.value = column && column.caption\r\n        } else {\r\n            rowIndex -= this.getHeaderRowCount();\r\n            var item = this._options.items.length && this._options.items[rowIndex];\r\n            if (item) {\r\n                var itemValues = item.values;\r\n                result.cellSourceData.rowType = item.rowType;\r\n                result.cellSourceData.column = columns[cellIndex] && columns[cellIndex].gridColumn;\r\n                switch (item.rowType) {\r\n                    case \"groupFooter\":\r\n                    case \"totalFooter\":\r\n                        if (correctedCellIndex < itemValues.length) {\r\n                            value = itemValues[correctedCellIndex];\r\n                            if (isDefined(value)) {\r\n                                result.cellSourceData.value = value.value;\r\n                                result.cellSourceData.totalSummaryItemName = value.name;\r\n                                result.value = dataGridCore.getSummaryText(value, this._options.summaryTexts)\r\n                            } else {\r\n                                result.cellSourceData.value = void 0\r\n                            }\r\n                        }\r\n                        break;\r\n                    case \"group\":\r\n                        result.cellSourceData.groupIndex = item.groupIndex;\r\n                        if (cellIndex < 1) {\r\n                            result.cellSourceData.column = this._options.groupColumns[item.groupIndex];\r\n                            result.cellSourceData.value = item.key[item.groupIndex];\r\n                            result.cellSourceData.groupSummaryItems = this._convertFromGridGroupSummaryItems(item.summaryCells[0]);\r\n                            result.value = this._getGroupValue(item)\r\n                        } else {\r\n                            var summaryItems = item.values[correctedCellIndex];\r\n                            if (Array.isArray(summaryItems)) {\r\n                                result.cellSourceData.groupSummaryItems = this._convertFromGridGroupSummaryItems(summaryItems);\r\n                                value = \"\";\r\n                                for (var i = 0; i < summaryItems.length; i++) {\r\n                                    value += (i > 0 ? isExcelJS ? \"\\n\" : \" \\n \" : \"\") + dataGridCore.getSummaryText(summaryItems[i], this._options.summaryTexts)\r\n                                }\r\n                                result.value = value\r\n                            } else {\r\n                                result.cellSourceData.value = void 0\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        column = columns[cellIndex];\r\n                        if (column) {\r\n                            var _value = itemValues[correctedCellIndex];\r\n                            var displayValue = dataGridCore.getDisplayValue(column, _value, item.data, item.rowType);\r\n                            if (!isFinite(displayValue) || isDefined(column.customizeText)) {\r\n                                if (isExcelJS && isDefined(column.customizeText) && column.customizeText === this._exportController._columnsController.getCustomizeTextByDataType(\"boolean\")) {\r\n                                    result.value = displayValue\r\n                                } else {\r\n                                    result.value = dataGridCore.formatValue(displayValue, column)\r\n                                }\r\n                            } else {\r\n                                result.value = displayValue\r\n                            }\r\n                            result.cellSourceData.value = _value\r\n                        }\r\n                        result.cellSourceData.data = item.data\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    isHeadersVisible: function() {\r\n        return this._options.isHeadersVisible\r\n    },\r\n    isTotalCell: function(rowIndex, cellIndex) {\r\n        var items = this._options.items;\r\n        var item = items[rowIndex];\r\n        var correctCellIndex = this._correctCellIndex(cellIndex);\r\n        var isSummaryAlignByColumn = item.summaryCells && item.summaryCells[correctCellIndex] && item.summaryCells[correctCellIndex].length > 0 && item.summaryCells[correctCellIndex][0].alignByColumn;\r\n        return item && \"groupFooter\" === item.rowType || \"totalFooter\" === item.rowType || isSummaryAlignByColumn\r\n    },\r\n    getCellMerging: function(rowIndex, cellIndex) {\r\n        var columns = this._options.columns;\r\n        var column = columns[rowIndex] && columns[rowIndex][cellIndex];\r\n        return column ? {\r\n            colspan: (column.exportColspan || 1) - 1,\r\n            rowspan: (column.rowspan || 1) - 1\r\n        } : {\r\n            colspan: 0,\r\n            rowspan: 0\r\n        }\r\n    },\r\n    getFrozenArea: function() {\r\n        return {\r\n            x: 0,\r\n            y: this.getHeaderRowCount()\r\n        }\r\n    }\r\n});\r\nexport var ExportController = dataGridCore.ViewController.inherit({}).include(exportMixin).inherit({\r\n    _getEmptyCell: function() {\r\n        return {\r\n            caption: \"\",\r\n            colspan: 1,\r\n            rowspan: 1\r\n        }\r\n    },\r\n    _updateColumnWidth: function(column, width) {\r\n        column.width = width\r\n    },\r\n    _getColumns: function(initialColumnWidthsByColumnIndex) {\r\n        var result = [];\r\n        var i;\r\n        var columns;\r\n        var columnsController = this._columnsController;\r\n        var rowCount = columnsController.getRowCount();\r\n        for (i = 0; i <= rowCount; i++) {\r\n            var currentHeaderRow = [];\r\n            columns = columnsController.getVisibleColumns(i, true);\r\n            var columnWidthsByColumnIndex = void 0;\r\n            if (i === rowCount) {\r\n                if (this._updateLockCount) {\r\n                    columnWidthsByColumnIndex = initialColumnWidthsByColumnIndex\r\n                } else {\r\n                    var columnWidths = this._getColumnWidths(this._headersView, this._rowsView);\r\n                    if (columnWidths && columnWidths.length) {\r\n                        columnWidthsByColumnIndex = {};\r\n                        for (var _i = 0; _i < columns.length; _i++) {\r\n                            columnWidthsByColumnIndex[columns[_i].index] = columnWidths[_i]\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (var j = 0; j < columns.length; j++) {\r\n                var column = extend({}, columns[j], {\r\n                    dataType: \"datetime\" === columns[j].dataType ? \"date\" : columns[j].dataType,\r\n                    gridColumn: columns[j]\r\n                });\r\n                if (this._needColumnExporting(column)) {\r\n                    var currentColspan = this._calculateExportColspan(column);\r\n                    if (isDefined(currentColspan)) {\r\n                        column.exportColspan = currentColspan\r\n                    }\r\n                    if (columnWidthsByColumnIndex) {\r\n                        this._updateColumnWidth(column, columnWidthsByColumnIndex[column.index])\r\n                    }\r\n                    currentHeaderRow.push(column)\r\n                }\r\n            }\r\n            result.push(currentHeaderRow)\r\n        }\r\n        columns = result[rowCount];\r\n        result = this._prepareItems(result.slice(0, -1));\r\n        result.push(columns);\r\n        return result\r\n    },\r\n    _calculateExportColspan: function(column) {\r\n        if (!column.isBand) {\r\n            return\r\n        }\r\n        var childColumns = this._columnsController.getChildrenByBandColumn(column.index, true);\r\n        if (!isDefined(childColumns)) {\r\n            return\r\n        }\r\n        return childColumns.reduce((result, childColumn) => {\r\n            if (this._needColumnExporting(childColumn)) {\r\n                return result + (this._calculateExportColspan(childColumn) || 1)\r\n            } else {\r\n                return result\r\n            }\r\n        }, 0)\r\n    },\r\n    _needColumnExporting: function(column) {\r\n        return !column.command && (column.allowExporting || void 0 === column.allowExporting)\r\n    },\r\n    _getFooterSummaryItems: function(summaryCells, isTotal) {\r\n        var result = [];\r\n        var estimatedItemsCount = 1;\r\n        var i = 0;\r\n        do {\r\n            var values = [];\r\n            for (var j = 0; j < summaryCells.length; j++) {\r\n                var summaryCell = summaryCells[j];\r\n                var itemsLength = summaryCell.length;\r\n                if (estimatedItemsCount < itemsLength) {\r\n                    estimatedItemsCount = itemsLength\r\n                }\r\n                values.push(summaryCell[i])\r\n            }\r\n            result.push({\r\n                values: values,\r\n                rowType: isTotal ? \"totalFooter\" : \"groupFooter\"\r\n            })\r\n        } while (i++ < estimatedItemsCount - 1);\r\n        return result\r\n    },\r\n    _hasSummaryGroupFooters: function() {\r\n        var groupItems = this.option(\"summary.groupItems\");\r\n        if (isDefined(groupItems)) {\r\n            for (var i = 0; i < groupItems.length; i++) {\r\n                if (groupItems[i].showInGroupFooter) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _getItemsWithSummaryGroupFooters: function(sourceItems) {\r\n        var result = [];\r\n        var beforeGroupFooterItems = [];\r\n        var groupFooterItems = [];\r\n        for (var i = 0; i < sourceItems.length; i++) {\r\n            var item = sourceItems[i];\r\n            if (\"groupFooter\" === item.rowType) {\r\n                groupFooterItems = this._getFooterSummaryItems(item.summaryCells);\r\n                result = result.concat(beforeGroupFooterItems, groupFooterItems);\r\n                beforeGroupFooterItems = []\r\n            } else {\r\n                beforeGroupFooterItems.push(item)\r\n            }\r\n        }\r\n        return result.length ? result : beforeGroupFooterItems\r\n    },\r\n    _updateGroupValuesWithSummaryByColumn: function(sourceItems) {\r\n        var summaryValues = [];\r\n        for (var i = 0; i < sourceItems.length; i++) {\r\n            var item = sourceItems[i];\r\n            var summaryCells = item.summaryCells;\r\n            if (\"group\" === item.rowType && summaryCells && summaryCells.length > 1) {\r\n                var groupColumnCount = item.values.length;\r\n                for (var j = 1; j < summaryCells.length; j++) {\r\n                    for (var k = 0; k < summaryCells[j].length; k++) {\r\n                        var summaryItem = summaryCells[j][k];\r\n                        if (summaryItem && summaryItem.alignByColumn) {\r\n                            if (!Array.isArray(summaryValues[j - groupColumnCount])) {\r\n                                summaryValues[j - groupColumnCount] = []\r\n                            }\r\n                            summaryValues[j - groupColumnCount].push(summaryItem)\r\n                        }\r\n                    }\r\n                }\r\n                if (summaryValues.length > 0) {\r\n                    merge(item.values, summaryValues);\r\n                    summaryValues = []\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _processUnExportedItems: function(items) {\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        var groupColumns = this._columnsController.getGroupColumns();\r\n        var values;\r\n        var summaryCells;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            var isDetailExpandColumn = false;\r\n            values = [];\r\n            summaryCells = [];\r\n            for (var j = 0; j < columns.length; j++) {\r\n                var column = columns[j];\r\n                isDetailExpandColumn = isDetailExpandColumn || \"detailExpand\" === column.type;\r\n                if (this._needColumnExporting(column)) {\r\n                    if (item.values) {\r\n                        if (\"group\" === item.rowType && !values.length) {\r\n                            values.push(item.key[item.groupIndex])\r\n                        } else {\r\n                            values.push(item.values[j])\r\n                        }\r\n                    }\r\n                    if (item.summaryCells) {\r\n                        if (\"group\" === item.rowType && !summaryCells.length) {\r\n                            var index = j - groupColumns.length + item.groupIndex;\r\n                            summaryCells.push(item.summaryCells[isDetailExpandColumn ? index : index + 1])\r\n                        } else {\r\n                            summaryCells.push(item.summaryCells[j])\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (values.length) {\r\n                item.values = values\r\n            }\r\n            if (summaryCells.length) {\r\n                item.summaryCells = summaryCells\r\n            }\r\n        }\r\n    },\r\n    _getAllItems: function(data) {\r\n        var that = this;\r\n        var d = new Deferred;\r\n        var dataController = this.getController(\"data\");\r\n        var footerItems = dataController.footerItems();\r\n        var totalItem = footerItems.length && footerItems[0];\r\n        var summaryTotalItems = that.option(\"summary.totalItems\");\r\n        var summaryCells;\r\n        when(data).done((function(data) {\r\n            dataController.loadAll(data).done((function(sourceItems, totalAggregates) {\r\n                that._updateGroupValuesWithSummaryByColumn(sourceItems);\r\n                if (that._hasSummaryGroupFooters()) {\r\n                    sourceItems = that._getItemsWithSummaryGroupFooters(sourceItems)\r\n                }\r\n                summaryCells = totalItem && totalItem.summaryCells;\r\n                if (isDefined(totalAggregates) && summaryTotalItems) {\r\n                    summaryCells = that._getSummaryCells(summaryTotalItems, totalAggregates)\r\n                }\r\n                var summaryItems = totalItem && that._getFooterSummaryItems(summaryCells, true);\r\n                if (summaryItems) {\r\n                    sourceItems = sourceItems.concat(summaryItems)\r\n                }\r\n                that._processUnExportedItems(sourceItems);\r\n                d.resolve(sourceItems)\r\n            })).fail(d.reject)\r\n        })).fail(d.reject);\r\n        return d\r\n    },\r\n    _getSummaryCells: function(summaryTotalItems, totalAggregates) {\r\n        var dataController = this.getController(\"data\");\r\n        var columnsController = dataController._columnsController;\r\n        return dataController._calculateSummaryCells(summaryTotalItems, totalAggregates, columnsController.getVisibleColumns(null, true), (function(summaryItem, column) {\r\n            return dataController._isDataColumn(column) ? column.index : -1\r\n        }))\r\n    },\r\n    _getSelectedItems: function() {\r\n        var selectionController = this.getController(\"selection\");\r\n        var selectedRowData = selectionController.getSelectedRowsData();\r\n        return this._getAllItems(selectedRowData)\r\n    },\r\n    _getColumnWidths: function(headersView, rowsView) {\r\n        return headersView && headersView.isVisible() ? headersView.getColumnWidths() : rowsView.getColumnWidths()\r\n    },\r\n    init: function() {\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._rowsView = this.getView(\"rowsView\");\r\n        this._headersView = this.getView(\"columnHeadersView\");\r\n        this.createAction(\"onExporting\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this.createAction(\"onExported\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this.createAction(\"onFileSaving\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    callbackNames: function() {\r\n        return [\"selectionOnlyChanged\"]\r\n    },\r\n    getExportFormat: function() {\r\n        return [\"EXCEL\"]\r\n    },\r\n    getDataProvider: function(selectedRowsOnly) {\r\n        var columnWidths = this._getColumnWidths(this._headersView, this._rowsView);\r\n        var initialColumnWidthsByColumnIndex;\r\n        if (columnWidths && columnWidths.length) {\r\n            initialColumnWidthsByColumnIndex = {};\r\n            var columnsLastRowVisibleColumns = this._columnsController.getVisibleColumns(this._columnsController.getRowCount(), true);\r\n            for (var i = 0; i < columnsLastRowVisibleColumns.length; i++) {\r\n                initialColumnWidthsByColumnIndex[columnsLastRowVisibleColumns[i].index] = columnWidths[i]\r\n            }\r\n        }\r\n        return new DataProvider(this, initialColumnWidthsByColumnIndex, selectedRowsOnly)\r\n    },\r\n    exportToExcel: function(selectionOnly) {\r\n        this._selectionOnly = selectionOnly;\r\n        clientExport(this.component.getDataProvider(), {\r\n            fileName: this.option(\"export.fileName\"),\r\n            proxyUrl: this.option(\"export.proxyUrl\"),\r\n            format: \"EXCEL\",\r\n            autoFilterEnabled: !!this.option(\"export.excelFilterEnabled\"),\r\n            rtlEnabled: this.option(\"rtlEnabled\"),\r\n            ignoreErrors: this.option(\"export.ignoreExcelErrors\"),\r\n            exportingAction: this.getAction(\"onExporting\"),\r\n            exportedAction: this.getAction(\"onExported\"),\r\n            fileSavingAction: this.getAction(\"onFileSaving\")\r\n        }, excel.getData)\r\n    },\r\n    publicMethods: function() {\r\n        return [\"getDataProvider\", \"getExportFormat\", \"exportToExcel\"]\r\n    },\r\n    selectionOnly: function(value) {\r\n        if (isDefined(value)) {\r\n            this._isSelectedRows = value;\r\n            this.selectionOnlyChanged.fire()\r\n        } else {\r\n            return this._isSelectedRows\r\n        }\r\n    }\r\n});\r\ndataGridCore.registerModule(\"export\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            export: {\r\n                enabled: false,\r\n                fileName: \"DataGrid\",\r\n                excelFilterEnabled: false,\r\n                excelWrapTextEnabled: void 0,\r\n                proxyUrl: void 0,\r\n                allowExportSelectedData: false,\r\n                ignoreExcelErrors: true,\r\n                texts: {\r\n                    exportTo: messageLocalization.format(\"dxDataGrid-exportTo\"),\r\n                    exportAll: messageLocalization.format(\"dxDataGrid-exportAll\"),\r\n                    exportSelectedRows: messageLocalization.format(\"dxDataGrid-exportSelectedRows\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        export: ExportController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                callbackNames: function() {\r\n                    var callbackList = this.callBase();\r\n                    return isDefined(callbackList) ? callbackList.push(\"editingChanged\") : [\"editingChanged\"]\r\n                },\r\n                _updateEditButtons: function() {\r\n                    this.callBase();\r\n                    this.editingChanged.fire(this.hasChanges())\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var exportButton = this._getExportToolbarButton();\r\n                    if (exportButton) {\r\n                        items.push(exportButton);\r\n                        this._correctItemsPosition(items)\r\n                    }\r\n                    return items\r\n                },\r\n                _getExportToolbarButton: function() {\r\n                    var items = this._getExportToolbarItems();\r\n                    if (0 === items.length) {\r\n                        return null\r\n                    }\r\n                    var toolbarButtonOptions = {\r\n                        name: DATAGRID_EXPORT_TOOLBAR_BUTTON_NAME,\r\n                        location: \"after\",\r\n                        locateInMenu: \"auto\",\r\n                        sortIndex: 30,\r\n                        options: {\r\n                            items: items\r\n                        }\r\n                    };\r\n                    if (1 === items.length) {\r\n                        var widgetOptions = _extends({}, items[0], {\r\n                            hint: items[0].text,\r\n                            elementAttr: {\r\n                                class: DATAGRID_EXPORT_BUTTON_CLASS\r\n                            }\r\n                        });\r\n                        toolbarButtonOptions.widget = \"dxButton\";\r\n                        toolbarButtonOptions.showText = \"inMenu\";\r\n                        toolbarButtonOptions.options = widgetOptions\r\n                    } else {\r\n                        var _widgetOptions = {\r\n                            icon: DATAGRID_EXPORT_ICON,\r\n                            displayExpr: \"text\",\r\n                            items: items,\r\n                            hint: this.option(\"export.texts.exportTo\"),\r\n                            elementAttr: {\r\n                                class: DATAGRID_EXPORT_BUTTON_CLASS\r\n                            },\r\n                            dropDownOptions: {\r\n                                wrapperAttr: {\r\n                                    class: DATAGRID_EXPORT_MENU_CLASS\r\n                                },\r\n                                width: \"auto\"\r\n                            }\r\n                        };\r\n                        toolbarButtonOptions.options = _widgetOptions;\r\n                        toolbarButtonOptions.widget = \"dxDropDownButton\";\r\n                        toolbarButtonOptions.menuItemTemplate = (_data, _index, container) => {\r\n                            this._createComponent($(container), List, {\r\n                                items: items\r\n                            })\r\n                        }\r\n                    }\r\n                    return toolbarButtonOptions\r\n                },\r\n                _getExportToolbarItems: function() {\r\n                    var exportOptions = this.option(\"export\");\r\n                    var texts = this.option(\"export.texts\");\r\n                    var items = [];\r\n                    if (exportOptions.enabled) {\r\n                        items.push({\r\n                            text: texts.exportAll,\r\n                            icon: DATAGRID_EXPORT_EXCEL_ICON,\r\n                            onClick: () => {\r\n                                this._exportController.exportToExcel()\r\n                            }\r\n                        });\r\n                        if (exportOptions.allowExportSelectedData) {\r\n                            items.push({\r\n                                text: texts.exportSelectedRows,\r\n                                icon: DATAGRID_EXPORT_SELECTED_ICON,\r\n                                onClick: () => {\r\n                                    this._exportController.exportToExcel(true)\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                    return items\r\n                },\r\n                _correctItemsPosition: function(items) {\r\n                    items.sort((function(itemA, itemB) {\r\n                        return itemA.sortIndex - itemB.sortIndex\r\n                    }))\r\n                },\r\n                _isExportButtonVisible: function() {\r\n                    return this.option(\"export.enabled\")\r\n                },\r\n                _getButtonOptions: function(allowExportSelected) {\r\n                    var that = this;\r\n                    var texts = that.option(\"export.texts\");\r\n                    var options;\r\n                    if (allowExportSelected) {\r\n                        options = {\r\n                            hint: texts.exportTo,\r\n                            icon: DATAGRID_EXPORT_ICON\r\n                        }\r\n                    } else {\r\n                        options = {\r\n                            hint: texts.exportAll,\r\n                            icon: DATAGRID_EXPORT_EXCEL_BUTTON_ICON,\r\n                            onClick: function() {\r\n                                that._exportController.exportToExcel()\r\n                            }\r\n                        }\r\n                    }\r\n                    return options\r\n                },\r\n                optionChanged: function(args) {\r\n                    this.callBase(args);\r\n                    if (\"export\" === args.name) {\r\n                        args.handled = true;\r\n                        this._invalidate()\r\n                    }\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    this.callBase();\r\n                    this._exportController = this.getController(\"export\");\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this._editingController.editingChanged.add((function(hasChanges) {\r\n                        that.setToolbarItemDisabled(\"exportButton\", hasChanges)\r\n                    }))\r\n                },\r\n                isVisible: function() {\r\n                    return this.callBase() || this._isExportButtonVisible()\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.focus.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport core from \"./ui.grid_core.modules\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isBoolean\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nvar ROW_FOCUSED_CLASS = \"dx-row-focused\";\r\nvar FOCUSED_ROW_SELECTOR = \".dx-row.\" + ROW_FOCUSED_CLASS;\r\nvar TABLE_POSTFIX_CLASS = \"table\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FocusController = core.ViewController.inherit({\r\n    init: function() {\r\n        this._dataController = this.getController(\"data\");\r\n        this._keyboardController = this.getController(\"keyboardNavigation\");\r\n        this.component._optionsByReference.focusedRowKey = true\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"focusedRowIndex\" === args.name) {\r\n            var focusedRowKey = this.option(\"focusedRowKey\");\r\n            this._focusRowByIndex(args.value);\r\n            this._triggerFocusedRowChangedIfNeed(focusedRowKey, args.value);\r\n            args.handled = true\r\n        } else if (\"focusedRowKey\" === args.name) {\r\n            args.handled = true;\r\n            if (Array.isArray(args.value) && JSON.stringify(args.value) === JSON.stringify(args.previousValue)) {\r\n                return\r\n            }\r\n            var focusedRowIndex = this.option(\"focusedRowIndex\");\r\n            this._focusRowByKey(args.value);\r\n            this._triggerFocusedRowChangedIfNeed(args.value, focusedRowIndex)\r\n        } else if (\"focusedColumnIndex\" === args.name) {\r\n            args.handled = true\r\n        } else if (\"focusedRowEnabled\" === args.name) {\r\n            args.handled = true\r\n        } else if (\"autoNavigateToFocusedRow\" === args.name) {\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    },\r\n    _triggerFocusedRowChangedIfNeed: function(focusedRowKey, focusedRowIndex) {\r\n        var focusedRowIndexByKey = this.getFocusedRowIndexByKey(focusedRowKey);\r\n        if (focusedRowIndex === focusedRowIndexByKey) {\r\n            var rowIndex = this._dataController.getRowIndexByKey(focusedRowKey);\r\n            if (rowIndex >= 0) {\r\n                var $rowElement = $(this.getView(\"rowsView\").getRowElement(rowIndex));\r\n                this.getController(\"keyboardNavigation\")._fireFocusedRowChanged($rowElement, focusedRowIndex)\r\n            }\r\n        }\r\n    },\r\n    isAutoNavigateToFocusedRow: function() {\r\n        return \"infinite\" !== this.option(\"scrolling.mode\") && this.option(\"autoNavigateToFocusedRow\")\r\n    },\r\n    _focusRowByIndex: function(index, operationTypes) {\r\n        if (!this.option(\"focusedRowEnabled\")) {\r\n            return\r\n        }\r\n        index = void 0 !== index ? index : this.option(\"focusedRowIndex\");\r\n        if (index < 0) {\r\n            if (this.isAutoNavigateToFocusedRow()) {\r\n                this._resetFocusedRow()\r\n            }\r\n        } else {\r\n            this._focusRowByIndexCore(index, operationTypes)\r\n        }\r\n    },\r\n    _focusRowByIndexCore: function(index, operationTypes) {\r\n        var dataController = this.getController(\"data\");\r\n        var pageSize = dataController.pageSize();\r\n        var setKeyByIndex = () => {\r\n            if (this._isValidFocusedRowIndex(index)) {\r\n                var rowIndex = index - dataController.getRowIndexOffset(true);\r\n                if (!operationTypes || operationTypes.paging && !operationTypes.filtering) {\r\n                    var lastItemIndex = dataController._getLastItemIndex();\r\n                    rowIndex = Math.min(rowIndex, lastItemIndex)\r\n                }\r\n                var focusedRowKey = dataController.getKeyByRowIndex(rowIndex, true);\r\n                if (isDefined(focusedRowKey) && !this.isRowFocused(focusedRowKey)) {\r\n                    this.option(\"focusedRowKey\", focusedRowKey)\r\n                }\r\n            }\r\n        };\r\n        if (pageSize >= 0) {\r\n            if (!this._isLocalRowIndex(index)) {\r\n                var pageIndex = Math.floor(index / dataController.pageSize());\r\n                when(dataController.pageIndex(pageIndex), dataController.waitReady()).done(() => {\r\n                    setKeyByIndex()\r\n                })\r\n            } else {\r\n                setKeyByIndex()\r\n            }\r\n        }\r\n    },\r\n    _isLocalRowIndex(index) {\r\n        var dataController = this.getController(\"data\");\r\n        var isVirtualScrolling = this.getController(\"keyboardNavigation\")._isVirtualScrolling();\r\n        if (isVirtualScrolling) {\r\n            var pageIndex = Math.floor(index / dataController.pageSize());\r\n            var virtualItems = dataController.virtualItemsCount();\r\n            var virtualItemsBegin = virtualItems ? virtualItems.begin : -1;\r\n            var visibleRowsCount = dataController.getVisibleRows().length + dataController.getRowIndexOffset();\r\n            var visiblePagesCount = Math.ceil(visibleRowsCount / dataController.pageSize());\r\n            return virtualItemsBegin <= index && visiblePagesCount > pageIndex\r\n        }\r\n        return true\r\n    },\r\n    _setFocusedRowKeyByIndex: function(index) {\r\n        var dataController = this.getController(\"data\");\r\n        if (this._isValidFocusedRowIndex(index)) {\r\n            var rowIndex = Math.min(index - dataController.getRowIndexOffset(), dataController.items().length - 1);\r\n            var focusedRowKey = dataController.getKeyByRowIndex(rowIndex);\r\n            if (isDefined(focusedRowKey) && !this.isRowFocused(focusedRowKey)) {\r\n                this.option(\"focusedRowKey\", focusedRowKey)\r\n            }\r\n        }\r\n    },\r\n    _focusRowByKey: function(key) {\r\n        if (!isDefined(key)) {\r\n            this._resetFocusedRow()\r\n        } else {\r\n            this._navigateToRow(key, true)\r\n        }\r\n    },\r\n    _resetFocusedRow: function() {\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        var isFocusedRowKeyDefined = isDefined(focusedRowKey);\r\n        if (!isFocusedRowKeyDefined && this.option(\"focusedRowIndex\") < 0) {\r\n            return\r\n        }\r\n        var keyboardController = this.getController(\"keyboardNavigation\");\r\n        if (isFocusedRowKeyDefined) {\r\n            this.option(\"focusedRowKey\", null)\r\n        }\r\n        keyboardController.setFocusedRowIndex(-1);\r\n        this.option(\"focusedRowIndex\", -1);\r\n        this.getController(\"data\").updateItems({\r\n            changeType: \"updateFocusedRow\",\r\n            focusedRowKey: null\r\n        });\r\n        keyboardController._fireFocusedRowChanged(void 0, -1)\r\n    },\r\n    _isValidFocusedRowIndex: function(rowIndex) {\r\n        var dataController = this.getController(\"data\");\r\n        var row = dataController.getVisibleRows()[rowIndex];\r\n        return !row || \"data\" === row.rowType || \"group\" === row.rowType\r\n    },\r\n    publicMethods: function() {\r\n        return [\"navigateToRow\", \"isRowFocused\"]\r\n    },\r\n    navigateToRow: function(key) {\r\n        if (!this.isAutoNavigateToFocusedRow()) {\r\n            this.option(\"focusedRowIndex\", -1)\r\n        }\r\n        return this._navigateToRow(key)\r\n    },\r\n    _navigateToRow: function(key, needFocusRow) {\r\n        var that = this;\r\n        var dataController = that.getController(\"data\");\r\n        var isAutoNavigate = that.isAutoNavigateToFocusedRow();\r\n        var d = new Deferred;\r\n        if (void 0 === key || !dataController.dataSource()) {\r\n            return d.reject().promise()\r\n        }\r\n        var rowIndexByKey = that.getFocusedRowIndexByKey(key);\r\n        if (!isAutoNavigate && needFocusRow || rowIndexByKey >= 0) {\r\n            that._navigateTo(key, d, needFocusRow)\r\n        } else {\r\n            dataController.getPageIndexByKey(key).done((function(pageIndex) {\r\n                if (pageIndex < 0) {\r\n                    d.resolve(-1);\r\n                    return\r\n                }\r\n                if (pageIndex === dataController.pageIndex()) {\r\n                    dataController.reload().done((function() {\r\n                        if (that.isRowFocused(key) && dataController.getRowIndexByKey(key) >= 0) {\r\n                            d.resolve(that.getFocusedRowIndexByKey(key))\r\n                        } else {\r\n                            that._navigateTo(key, d, needFocusRow)\r\n                        }\r\n                    })).fail(d.reject)\r\n                } else {\r\n                    dataController.pageIndex(pageIndex).done((function() {\r\n                        that._navigateTo(key, d, needFocusRow)\r\n                    })).fail(d.reject)\r\n                }\r\n            })).fail(d.reject)\r\n        }\r\n        return d.promise()\r\n    },\r\n    _navigateTo: function(key, deferred, needFocusRow) {\r\n        var visibleRowIndex = this.getController(\"data\").getRowIndexByKey(key);\r\n        var isVirtualRowRenderingMode = gridCoreUtils.isVirtualRowRendering(this);\r\n        var isAutoNavigate = this.isAutoNavigateToFocusedRow();\r\n        if (isAutoNavigate && isVirtualRowRenderingMode && visibleRowIndex < 0) {\r\n            this._navigateToVirtualRow(key, deferred, needFocusRow)\r\n        } else {\r\n            this._navigateToVisibleRow(key, deferred, needFocusRow)\r\n        }\r\n    },\r\n    _navigateToVisibleRow: function(key, deferred, needFocusRow) {\r\n        if (needFocusRow) {\r\n            this._triggerUpdateFocusedRow(key, deferred)\r\n        } else {\r\n            var focusedRowIndex = this.getFocusedRowIndexByKey(key);\r\n            this.getView(\"rowsView\").scrollToRowElement(key, deferred).done((function() {\r\n                deferred.resolve(focusedRowIndex)\r\n            }))\r\n        }\r\n    },\r\n    _navigateToVirtualRow: function(key, deferred, needFocusRow) {\r\n        var that = this;\r\n        var dataController = this.getController(\"data\");\r\n        var rowsScrollController = dataController._rowsScrollController;\r\n        var rowIndex = gridCoreUtils.getIndexByKey(key, dataController.items(true));\r\n        var scrollable = that.getView(\"rowsView\").getScrollable();\r\n        if (rowsScrollController && scrollable && rowIndex >= 0) {\r\n            var focusedRowIndex = rowIndex + dataController.getRowIndexOffset(true);\r\n            var offset = rowsScrollController.getItemOffset(focusedRowIndex);\r\n            that.component.on(\"contentReady\", (function triggerUpdateFocusedRow() {\r\n                that.component.off(\"contentReady\", triggerUpdateFocusedRow);\r\n                if (needFocusRow) {\r\n                    that._triggerUpdateFocusedRow(key, deferred)\r\n                } else {\r\n                    deferred.resolve(focusedRowIndex)\r\n                }\r\n            }));\r\n            this.getView(\"rowsView\").scrollTopPosition(offset)\r\n        } else {\r\n            deferred.resolve(-1)\r\n        }\r\n    },\r\n    _triggerUpdateFocusedRow: function(key, deferred) {\r\n        var dataController = this.getController(\"data\");\r\n        var focusedRowIndex = this.getFocusedRowIndexByKey(key);\r\n        if (this._isValidFocusedRowIndex(focusedRowIndex)) {\r\n            var d;\r\n            if (this.option(\"focusedRowEnabled\")) {\r\n                dataController.updateItems({\r\n                    changeType: \"updateFocusedRow\",\r\n                    focusedRowKey: key\r\n                })\r\n            } else {\r\n                d = this.getView(\"rowsView\").scrollToRowElement(key)\r\n            }\r\n            when(d).done(() => {\r\n                this.getController(\"keyboardNavigation\").setFocusedRowIndex(focusedRowIndex);\r\n                deferred && deferred.resolve(focusedRowIndex)\r\n            })\r\n        } else {\r\n            deferred && deferred.resolve(-1)\r\n        }\r\n    },\r\n    getFocusedRowIndexByKey: function(key) {\r\n        var dataController = this.getController(\"data\");\r\n        var loadedRowIndex = dataController.getRowIndexByKey(key, true);\r\n        return loadedRowIndex >= 0 ? loadedRowIndex + dataController.getRowIndexOffset(true) : -1\r\n    },\r\n    _focusRowByKeyOrIndex: function() {\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        var currentFocusedRowIndex = this.option(\"focusedRowIndex\");\r\n        var keyboardController = this.getController(\"keyboardNavigation\");\r\n        var dataController = this.getController(\"data\");\r\n        if (isDefined(focusedRowKey)) {\r\n            var visibleRowIndex = dataController.getRowIndexByKey(focusedRowKey);\r\n            if (visibleRowIndex >= 0) {\r\n                if (keyboardController._isVirtualScrolling()) {\r\n                    currentFocusedRowIndex = visibleRowIndex + dataController.getRowIndexOffset()\r\n                }\r\n                keyboardController.setFocusedRowIndex(currentFocusedRowIndex);\r\n                this._triggerUpdateFocusedRow(focusedRowKey)\r\n            } else {\r\n                this._navigateToRow(focusedRowKey, true).done(focusedRowIndex => {\r\n                    if (currentFocusedRowIndex >= 0 && focusedRowIndex < 0) {\r\n                        this._focusRowByIndex()\r\n                    } else if (currentFocusedRowIndex < 0 && focusedRowIndex >= 0) {\r\n                        keyboardController.setFocusedRowIndex(focusedRowIndex)\r\n                    }\r\n                })\r\n            }\r\n        } else if (currentFocusedRowIndex >= 0) {\r\n            this.getController(\"focus\")._focusRowByIndex(currentFocusedRowIndex)\r\n        }\r\n    },\r\n    isRowFocused: function(key) {\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        if (isDefined(focusedRowKey)) {\r\n            return equalByValue(key, this.option(\"focusedRowKey\"))\r\n        }\r\n    },\r\n    updateFocusedRow: function(change) {\r\n        var that = this;\r\n        var focusedRowIndex = that._dataController.getRowIndexByKey(change.focusedRowKey);\r\n        var rowsView = that.getView(\"rowsView\");\r\n        var $tableElement;\r\n        var $mainRow;\r\n        each(rowsView.getTableElements(), (function(index, element) {\r\n            var isMainTable = 0 === index;\r\n            $tableElement = $(element);\r\n            that._clearPreviousFocusedRow($tableElement, focusedRowIndex);\r\n            var $row = that._prepareFocusedRow({\r\n                changedItem: that._dataController.getVisibleRows()[focusedRowIndex],\r\n                $tableElement: $tableElement,\r\n                focusedRowIndex: focusedRowIndex\r\n            });\r\n            if (isMainTable) {\r\n                $mainRow = $row\r\n            }\r\n        }));\r\n        $mainRow && rowsView.scrollToElementVertically($mainRow)\r\n    },\r\n    _clearPreviousFocusedRow: function($tableElement, focusedRowIndex) {\r\n        var $prevRowFocusedElement = $tableElement.find(FOCUSED_ROW_SELECTOR).filter((_, focusedRow) => {\r\n            var $focusedRowTable = $(focusedRow).closest(\".\".concat(this.addWidgetPrefix(TABLE_POSTFIX_CLASS)));\r\n            return $tableElement.is($focusedRowTable)\r\n        });\r\n        $prevRowFocusedElement.removeClass(ROW_FOCUSED_CLASS).removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabindex\");\r\n        $prevRowFocusedElement.children(\"td\").removeAttr(\"tabindex\");\r\n        if (0 !== focusedRowIndex) {\r\n            var $firstRow = $(this.getView(\"rowsView\").getRowElement(0));\r\n            $firstRow.removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabIndex\")\r\n        }\r\n    },\r\n    _prepareFocusedRow: function(options) {\r\n        var $row;\r\n        var changedItem = options.changedItem;\r\n        if (changedItem && (\"data\" === changedItem.rowType || \"group\" === changedItem.rowType)) {\r\n            var focusedRowIndex = options.focusedRowIndex;\r\n            var $tableElement = options.$tableElement;\r\n            var tabIndex = this.option(\"tabindex\") || 0;\r\n            var rowsView = this.getView(\"rowsView\");\r\n            $row = $(rowsView._getRowElements($tableElement).eq(focusedRowIndex));\r\n            $row.addClass(ROW_FOCUSED_CLASS).attr(\"tabindex\", tabIndex)\r\n        }\r\n        return $row\r\n    }\r\n});\r\nexport var focusModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            focusedRowEnabled: false,\r\n            autoNavigateToFocusedRow: true,\r\n            focusedRowKey: null,\r\n            focusedRowIndex: -1,\r\n            focusedColumnIndex: -1\r\n        }\r\n    },\r\n    controllers: {\r\n        focus: FocusController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            keyboardNavigation: {\r\n                init: function() {\r\n                    var rowIndex = this.option(\"focusedRowIndex\");\r\n                    var columnIndex = this.option(\"focusedColumnIndex\");\r\n                    this.createAction(\"onFocusedRowChanging\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedRowChanged\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedCellChanging\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedCellChanged\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.callBase();\r\n                    this.setRowFocusType();\r\n                    this._focusedCellPosition = {};\r\n                    if (isDefined(rowIndex)) {\r\n                        this._focusedCellPosition.rowIndex = this.option(\"focusedRowIndex\")\r\n                    }\r\n                    if (isDefined(columnIndex)) {\r\n                        this._focusedCellPosition.columnIndex = this.option(\"focusedColumnIndex\")\r\n                    }\r\n                },\r\n                setFocusedRowIndex: function(rowIndex) {\r\n                    var dataController = this.getController(\"data\");\r\n                    this.callBase(rowIndex);\r\n                    var visibleRowIndex = rowIndex - dataController.getRowIndexOffset();\r\n                    var visibleRow = dataController.getVisibleRows()[visibleRowIndex];\r\n                    if (!visibleRow || !visibleRow.isNewRow) {\r\n                        this.option(\"focusedRowIndex\", rowIndex)\r\n                    }\r\n                },\r\n                setFocusedColumnIndex: function(columnIndex) {\r\n                    this.callBase(columnIndex);\r\n                    this.option(\"focusedColumnIndex\", columnIndex)\r\n                },\r\n                _escapeKeyHandler: function(eventArgs, isEditing) {\r\n                    if (isEditing || !this.option(\"focusedRowEnabled\")) {\r\n                        this.callBase(eventArgs, isEditing);\r\n                        return\r\n                    }\r\n                    if (this.isCellFocusType()) {\r\n                        this.setRowFocusType();\r\n                        this._focus(this._getCellElementFromTarget(eventArgs.originalEvent.target), true)\r\n                    }\r\n                },\r\n                _updateFocusedCellPosition: function($cell, direction) {\r\n                    var prevRowIndex = this.option(\"focusedRowIndex\");\r\n                    var prevColumnIndex = this.option(\"focusedColumnIndex\");\r\n                    var position = this.callBase($cell, direction);\r\n                    if (position && position.columnIndex >= 0) {\r\n                        this._fireFocusedCellChanged($cell, prevColumnIndex, prevRowIndex)\r\n                    }\r\n                }\r\n            },\r\n            editorFactory: {\r\n                renderFocusOverlay: function($element, hideBorder) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var focusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n                    var editingController = this.getController(\"editing\");\r\n                    var $cell;\r\n                    if (!focusedRowEnabled || !(null !== keyboardController && void 0 !== keyboardController && keyboardController.isRowFocusType()) || editingController.isEditing()) {\r\n                        this.callBase($element, hideBorder)\r\n                    } else if (focusedRowEnabled) {\r\n                        var isRowElement = \"row\" === keyboardController._getElementType($element);\r\n                        if (isRowElement && !$element.hasClass(ROW_FOCUSED_CLASS)) {\r\n                            $cell = keyboardController.getFirstValidCellInRow($element);\r\n                            keyboardController.focus($cell)\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            columns: {\r\n                getSortDataSourceParameters: function(_, sortByKey) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var dataController = this.getController(\"data\");\r\n                    var dataSource = dataController._dataSource;\r\n                    var store = dataController.store();\r\n                    var key = store && store.key();\r\n                    var remoteOperations = dataSource && dataSource.remoteOperations() || {};\r\n                    var isLocalOperations = Object.keys(remoteOperations).every(operationName => !remoteOperations[operationName]);\r\n                    if (key && (this.option(\"focusedRowEnabled\") && false !== this.getController(\"focus\").isAutoNavigateToFocusedRow() || sortByKey)) {\r\n                        key = Array.isArray(key) ? key : [key];\r\n                        var notSortedKeys = key.filter(key => !this.columnOption(key, \"sortOrder\"));\r\n                        if (notSortedKeys.length) {\r\n                            result = result || [];\r\n                            if (isLocalOperations) {\r\n                                result.push({\r\n                                    selector: dataSource.getDataIndexGetter(),\r\n                                    desc: false\r\n                                })\r\n                            } else {\r\n                                notSortedKeys.forEach(notSortedKey => result.push({\r\n                                    selector: notSortedKey,\r\n                                    desc: false\r\n                                }))\r\n                            }\r\n                        }\r\n                    }\r\n                    return result\r\n                }\r\n            },\r\n            data: {\r\n                _applyChange: function(change) {\r\n                    if (change && \"updateFocusedRow\" === change.changeType) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _fireChanged: function(e) {\r\n                    this.callBase(e);\r\n                    if (this.option(\"focusedRowEnabled\") && this._dataSource) {\r\n                        var isPartialUpdate = \"update\" === e.changeType && e.repaintChangesOnly;\r\n                        var isPartialUpdateWithDeleting = isPartialUpdate && e.changeTypes && e.changeTypes.indexOf(\"remove\") >= 0;\r\n                        if (\"refresh\" === e.changeType && e.items.length || isPartialUpdateWithDeleting) {\r\n                            this._updatePageIndexes();\r\n                            this.processUpdateFocusedRow(e)\r\n                        } else if (\"append\" === e.changeType || \"prepend\" === e.changeType) {\r\n                            this._updatePageIndexes()\r\n                        } else if (\"update\" === e.changeType && e.repaintChangesOnly) {\r\n                            this.processUpdateFocusedRow(e)\r\n                        }\r\n                    }\r\n                },\r\n                _updatePageIndexes: function() {\r\n                    var prevRenderingPageIndex = this._lastRenderingPageIndex || 0;\r\n                    var renderingPageIndex = this._rowsScrollController ? this._rowsScrollController.pageIndex() : 0;\r\n                    this._lastRenderingPageIndex = renderingPageIndex;\r\n                    this._isPagingByRendering = renderingPageIndex !== prevRenderingPageIndex\r\n                },\r\n                isPagingByRendering: function() {\r\n                    return this._isPagingByRendering\r\n                },\r\n                processUpdateFocusedRow: function(e) {\r\n                    var operationTypes = e.operationTypes || {};\r\n                    var focusController = this.getController(\"focus\");\r\n                    var {\r\n                        reload: reload,\r\n                        fullReload: fullReload\r\n                    } = operationTypes;\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var isVirtualScrolling = keyboardController._isVirtualScrolling();\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var isAutoNavigate = focusController.isAutoNavigateToFocusedRow();\r\n                    if (reload && !fullReload && isDefined(focusedRowKey)) {\r\n                        focusController._navigateToRow(focusedRowKey, true).done((function(focusedRowIndex) {\r\n                            if (focusedRowIndex < 0) {\r\n                                focusController._focusRowByIndex(void 0, operationTypes)\r\n                            }\r\n                        }))\r\n                    } else if (operationTypes.paging && !isVirtualScrolling) {\r\n                        if (isAutoNavigate) {\r\n                            var rowIndexByKey = this.getRowIndexByKey(focusedRowKey);\r\n                            var isValidRowIndexByKey = rowIndexByKey >= 0;\r\n                            var focusedRowIndex = this.option(\"focusedRowIndex\");\r\n                            var needFocusRowByIndex = focusedRowIndex >= 0 && (focusedRowIndex === rowIndexByKey || !isValidRowIndexByKey);\r\n                            if (needFocusRowByIndex) {\r\n                                focusController._focusRowByIndex(void 0, operationTypes)\r\n                            }\r\n                        } else if (this.getRowIndexByKey(focusedRowKey) < 0) {\r\n                            this.option(\"focusedRowIndex\", -1)\r\n                        }\r\n                    } else if (operationTypes.fullReload) {\r\n                        focusController._focusRowByKeyOrIndex()\r\n                    }\r\n                },\r\n                getPageIndexByKey: function(key) {\r\n                    var that = this;\r\n                    var d = new Deferred;\r\n                    that.getGlobalRowIndexByKey(key).done((function(globalIndex) {\r\n                        d.resolve(globalIndex >= 0 ? Math.floor(globalIndex / that.pageSize()) : -1)\r\n                    })).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                getGlobalRowIndexByKey: function(key) {\r\n                    if (this._dataSource.group()) {\r\n                        return this._calculateGlobalRowIndexByGroupedData(key)\r\n                    }\r\n                    return this._calculateGlobalRowIndexByFlatData(key)\r\n                },\r\n                _calculateGlobalRowIndexByFlatData: function(key, groupFilter, useGroup) {\r\n                    var that = this;\r\n                    var deferred = new Deferred;\r\n                    var dataSource = that._dataSource;\r\n                    if (Array.isArray(key)) {\r\n                        return deferred.resolve(-1).promise()\r\n                    }\r\n                    var filter = that._generateFilterByKey(key);\r\n                    dataSource.load({\r\n                        filter: that._concatWithCombinedFilter(filter),\r\n                        skip: 0,\r\n                        take: 1\r\n                    }).done((function(data) {\r\n                        if (data.length > 0) {\r\n                            filter = that._generateOperationFilterByKey(key, data[0], useGroup);\r\n                            dataSource.load({\r\n                                filter: that._concatWithCombinedFilter(filter, groupFilter),\r\n                                skip: 0,\r\n                                take: 1,\r\n                                requireTotalCount: true\r\n                            }).done((function(_, extra) {\r\n                                deferred.resolve(extra.totalCount)\r\n                            }))\r\n                        } else {\r\n                            deferred.resolve(-1)\r\n                        }\r\n                    }));\r\n                    return deferred.promise()\r\n                },\r\n                _concatWithCombinedFilter: function(filter, groupFilter) {\r\n                    var combinedFilter = this.getCombinedFilter();\r\n                    return gridCoreUtils.combineFilters([filter, combinedFilter, groupFilter])\r\n                },\r\n                _generateBooleanFilter: function(selector, value, sortInfo) {\r\n                    var result;\r\n                    if (false === value) {\r\n                        result = [selector, \"=\", sortInfo.desc ? true : null]\r\n                    } else if (true === value ? !sortInfo.desc : sortInfo.desc) {\r\n                        result = [selector, \"<>\", value]\r\n                    }\r\n                    return result\r\n                },\r\n                _generateOperationFilterByKey: function(key, rowData, useGroup) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var filter = that._generateFilterByKey(key, \"<\");\r\n                    var sort = that._columnsController.getSortDataSourceParameters(!dataSource.remoteOperations().filtering, true);\r\n                    if (useGroup) {\r\n                        var group = that._columnsController.getGroupDataSourceParameters(!dataSource.remoteOperations().filtering);\r\n                        if (group) {\r\n                            sort = sort ? group.concat(sort) : group\r\n                        }\r\n                    }\r\n                    if (sort) {\r\n                        sort.slice().reverse().forEach((function(sortInfo) {\r\n                            var selector = sortInfo.selector;\r\n                            var getter;\r\n                            if (\"function\" === typeof selector) {\r\n                                getter = selector\r\n                            } else {\r\n                                getter = that._columnsController.columnOption(selector, \"selector\")\r\n                            }\r\n                            var value = getter ? getter(rowData) : rowData[selector];\r\n                            filter = [\r\n                                [selector, \"=\", value], \"and\", filter\r\n                            ];\r\n                            if (null === value || isBoolean(value)) {\r\n                                var booleanFilter = that._generateBooleanFilter(selector, value, sortInfo);\r\n                                if (booleanFilter) {\r\n                                    filter = [booleanFilter, \"or\", filter]\r\n                                }\r\n                            } else {\r\n                                var filterOperation = sortInfo.desc ? \">\" : \"<\";\r\n                                var sortFilter = [selector, filterOperation, value];\r\n                                if (!sortInfo.desc) {\r\n                                    sortFilter = [sortFilter, \"or\", [selector, \"=\", null]]\r\n                                }\r\n                                filter = [sortFilter, \"or\", filter]\r\n                            }\r\n                        }))\r\n                    }\r\n                    return filter\r\n                },\r\n                _generateFilterByKey: function(key, operation) {\r\n                    var dataSourceKey = this._dataSource.key();\r\n                    var filter = [];\r\n                    if (!operation) {\r\n                        operation = \"=\"\r\n                    }\r\n                    if (Array.isArray(dataSourceKey)) {\r\n                        for (var i = 0; i < dataSourceKey.length; ++i) {\r\n                            var keyPart = key[dataSourceKey[i]];\r\n                            if (keyPart) {\r\n                                if (filter.length > 0) {\r\n                                    filter.push(\"and\")\r\n                                }\r\n                                filter.push([dataSourceKey[i], operation, keyPart])\r\n                            }\r\n                        }\r\n                    } else {\r\n                        filter = [dataSourceKey, operation, key]\r\n                    }\r\n                    return filter\r\n                },\r\n                _getLastItemIndex: function() {\r\n                    return this.items(true).length - 1\r\n                }\r\n            },\r\n            editing: {\r\n                _deleteRowCore: function(rowIndex) {\r\n                    var deferred = this.callBase.apply(this, arguments);\r\n                    var dataController = this.getController(\"data\");\r\n                    var rowKey = dataController.getKeyByRowIndex(rowIndex);\r\n                    deferred.done(() => {\r\n                        var rowIndex = dataController.getRowIndexByKey(rowKey);\r\n                        var visibleRows = dataController.getVisibleRows();\r\n                        if (-1 === rowIndex && !visibleRows.length) {\r\n                            this.getController(\"focus\")._resetFocusedRow()\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (this.option(\"focusedRowEnabled\") && row) {\r\n                        if (this.getController(\"focus\").isRowFocused(row.key)) {\r\n                            $row.addClass(ROW_FOCUSED_CLASS)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _checkRowKeys: function(options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option(\"focusedRowEnabled\") && this.option(\"dataSource\")) {\r\n                        var store = this._dataController.store();\r\n                        if (store && !store.key()) {\r\n                            this._dataController.fireError(\"E1042\", \"Row focusing\")\r\n                        }\r\n                    }\r\n                },\r\n                _update: function(change) {\r\n                    if (\"updateFocusedRow\" === change.changeType) {\r\n                        if (this.option(\"focusedRowEnabled\")) {\r\n                            this.getController(\"focus\").updateFocusedRow(change)\r\n                        }\r\n                    } else {\r\n                        this.callBase(change)\r\n                    }\r\n                },\r\n                updateFocusElementTabIndex: function($cellElements, preventScroll) {\r\n                    var rowIndex = this.getController(\"keyboardNavigation\").getVisibleRowIndex();\r\n                    var row = this._dataController.getVisibleRows()[rowIndex];\r\n                    if (this.option(\"focusedRowEnabled\") && !(null !== row && void 0 !== row && row.isNewRow)) {\r\n                        this._setFocusedRowElementTabIndex(preventScroll)\r\n                    } else {\r\n                        this.callBase($cellElements)\r\n                    }\r\n                },\r\n                _setFocusedRowElementTabIndex: function(preventScroll) {\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var tabIndex = this.option(\"tabIndex\") || 0;\r\n                    var dataController = this._dataController;\r\n                    var columnsController = this._columnsController;\r\n                    var rowIndex = dataController.getRowIndexByKey(focusedRowKey);\r\n                    var columnIndex = this.option(\"focusedColumnIndex\");\r\n                    var $row = this._findRowElementForTabIndex();\r\n                    if (!isDefined(this._scrollToFocusOnResize)) {\r\n                        this._scrollToFocusOnResize = () => {\r\n                            this.scrollToElementVertically(this._findRowElementForTabIndex());\r\n                            this.resizeCompleted.remove(this._scrollToFocusOnResize)\r\n                        }\r\n                    }\r\n                    $row.attr(\"tabIndex\", tabIndex);\r\n                    if (rowIndex >= 0 && !preventScroll) {\r\n                        if (columnIndex < 0) {\r\n                            columnIndex = 0\r\n                        }\r\n                        rowIndex += dataController.getRowIndexOffset();\r\n                        columnIndex += columnsController.getColumnIndexOffset();\r\n                        this.getController(\"keyboardNavigation\").setFocusedCellPosition(rowIndex, columnIndex);\r\n                        if (this.getController(\"focus\").isAutoNavigateToFocusedRow()) {\r\n                            var dataSource = dataController.dataSource();\r\n                            var operationTypes = dataSource && dataSource.operationTypes();\r\n                            if (operationTypes && !operationTypes.paging && !dataController.isPagingByRendering()) {\r\n                                this.resizeCompleted.remove(this._scrollToFocusOnResize);\r\n                                this.resizeCompleted.add(this._scrollToFocusOnResize)\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _findRowElementForTabIndex: function() {\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var rowIndex = this._dataController.getRowIndexByKey(focusedRowKey);\r\n                    return $(this.getRowElement(rowIndex >= 0 ? rowIndex : 0))\r\n                },\r\n                scrollToRowElement: function(key) {\r\n                    var rowIndex = this.getController(\"data\").getRowIndexByKey(key);\r\n                    var $row = $(this.getRow(rowIndex));\r\n                    return this.scrollToElementVertically($row)\r\n                },\r\n                scrollToElementVertically: function($row) {\r\n                    var scrollable = this.getScrollable();\r\n                    if (scrollable && $row.length) {\r\n                        var position = scrollable.getScrollElementPosition($row, \"vertical\");\r\n                        return this.scrollTopPosition(position)\r\n                    }\r\n                    return (new Deferred).resolve()\r\n                },\r\n                scrollTopPosition: function(scrollTop) {\r\n                    var d = new Deferred;\r\n                    var scrollable = this.getScrollable();\r\n                    if (scrollable) {\r\n                        var currentScrollTop = scrollable.scrollTop();\r\n                        var scrollHandler = () => {\r\n                            scrollable.off(\"scroll\", scrollHandler);\r\n                            d.resolve()\r\n                        };\r\n                        if (scrollTop !== currentScrollTop) {\r\n                            scrollable.on(\"scroll\", scrollHandler);\r\n                            this._dataController.resetFilterApplying();\r\n                            scrollable.scrollTo({\r\n                                top: scrollTop\r\n                            });\r\n                            return d.promise()\r\n                        }\r\n                    }\r\n                    return d.resolve()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.focus.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    focusModule\r\n} from \"../grid_core/ui.grid_core.focus\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    createGroupFilter\r\n} from \"./ui.data_grid.utils\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\ngridCore.registerModule(\"focus\", extend(true, {}, focusModule, {\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                changeRowExpand: function(path, isRowClick) {\r\n                    if (this.option(\"focusedRowEnabled\") && Array.isArray(path) && this.isRowExpanded(path)) {\r\n                        var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                        if ((!isRowClick || !keyboardNavigation.isKeyboardEnabled()) && this._isFocusedRowInsideGroup(path)) {\r\n                            this.option(\"focusedRowKey\", path)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isFocusedRowInsideGroup: function(path) {\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var rowIndex = this.getRowIndexByKey(focusedRowKey);\r\n                    var focusedRow = rowIndex >= 0 && this.getVisibleRows()[rowIndex];\r\n                    var groups = columnsController.getGroupDataSourceParameters(true);\r\n                    if (focusedRow) {\r\n                        for (var i = 0; i < path.length; ++i) {\r\n                            var getter = compileGetter(groups[i] && groups[i].selector);\r\n                            if (getter(focusedRow.data) !== path[i]) {\r\n                                return false\r\n                            }\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                _getGroupPath: function(groupItem, groupCount) {\r\n                    var groupPath = [];\r\n                    var items = [groupItem];\r\n                    while (items && items[0] && groupCount) {\r\n                        var item = items[0];\r\n                        if (void 0 !== item.key) {\r\n                            groupPath.push(item.key)\r\n                        }\r\n                        items = item.items;\r\n                        groupCount--\r\n                    }\r\n                    return groupPath\r\n                },\r\n                _expandGroupByPath: function(that, groupPath, level) {\r\n                    var d = new Deferred;\r\n                    level++;\r\n                    that.expandRow(groupPath.slice(0, level)).done((function() {\r\n                        if (level === groupPath.length) {\r\n                            d.resolve()\r\n                        } else {\r\n                            that._expandGroupByPath(that, groupPath, level).done(d.resolve).fail(d.reject)\r\n                        }\r\n                    })).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                _calculateGlobalRowIndexByGroupedData: function(key) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var filter = that._generateFilterByKey(key);\r\n                    var deferred = new Deferred;\r\n                    var isGroupKey = Array.isArray(key);\r\n                    var group = dataSource.group();\r\n                    if (isGroupKey) {\r\n                        return deferred.resolve(-1).promise()\r\n                    }\r\n                    if (!dataSource._grouping._updatePagingOptions) {\r\n                        that._calculateGlobalRowIndexByFlatData(key, null, true).done(deferred.resolve).fail(deferred.reject);\r\n                        return deferred\r\n                    }\r\n                    dataSource.load({\r\n                        filter: that._concatWithCombinedFilter(filter),\r\n                        group: group\r\n                    }).done((function(data) {\r\n                        if (!data || 0 === data.length || !isDefined(data[0].key) || -1 === data[0].key) {\r\n                            return deferred.resolve(-1).promise()\r\n                        }\r\n                        var groupPath = that._getGroupPath(data[0], group.length);\r\n                        that._expandGroupByPath(that, groupPath, 0).done((function() {\r\n                            that._calculateExpandedRowGlobalIndex(deferred, key, groupPath, group)\r\n                        })).fail(deferred.reject)\r\n                    })).fail(deferred.reject);\r\n                    return deferred.promise()\r\n                },\r\n                _calculateExpandedRowGlobalIndex: function(deferred, key, groupPath, group) {\r\n                    var groupFilter = createGroupFilter(groupPath, {\r\n                        group: group\r\n                    });\r\n                    var dataSource = this._dataSource;\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var isVirtualScrolling = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n                    var pageSize = dataSource.pageSize();\r\n                    var groupOffset;\r\n                    dataSource._grouping._updatePagingOptions({\r\n                        skip: 0,\r\n                        take: MAX_SAFE_INTEGER\r\n                    }, (function(groupInfo, totalOffset) {\r\n                        if (equalByValue(groupInfo.path, groupPath)) {\r\n                            groupOffset = totalOffset\r\n                        }\r\n                    }));\r\n                    this._calculateGlobalRowIndexByFlatData(key, groupFilter).done((function(dataOffset) {\r\n                        var count;\r\n                        var groupContinuationCount;\r\n                        if (dataOffset < 0) {\r\n                            deferred.resolve(-1);\r\n                            return\r\n                        }\r\n                        var currentPageOffset = groupOffset % pageSize || pageSize;\r\n                        count = currentPageOffset + dataOffset - groupPath.length;\r\n                        if (isVirtualScrolling) {\r\n                            groupContinuationCount = 0\r\n                        } else {\r\n                            groupContinuationCount = Math.floor(count / (pageSize - groupPath.length)) * groupPath.length\r\n                        }\r\n                        count = groupOffset + dataOffset + groupContinuationCount;\r\n                        deferred.resolve(count)\r\n                    })).fail(deferred.reject)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}));\r\n","/**\r\n * DevExtreme (esm/ui/draggable.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight,\r\n    getOuterWidth,\r\n    getOuterHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../core/utils/position\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    quadToObject\r\n} from \"../core/utils/string\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    locate,\r\n    move\r\n} from \"../animation/translator\";\r\nimport Animator from \"./scroll_view/animator\";\r\nimport {\r\n    dasherize\r\n} from \"../core/utils/inflector\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    addNamespace,\r\n    needSkipEvent\r\n} from \"../events/utils/index\";\r\nimport pointerEvents from \"../events/pointer\";\r\nimport {\r\n    start as dragEventStart,\r\n    move as dragEventMove,\r\n    end as dragEventEnd,\r\n    enter as dragEventEnter,\r\n    leave as dragEventLeave\r\n} from \"../events/drag\";\r\nimport positionUtils from \"../animation/position\";\r\nimport {\r\n    isFunction,\r\n    isObject\r\n} from \"../core/utils/type\";\r\nimport {\r\n    noop,\r\n    splitPair\r\n} from \"../core/utils/common\";\r\nimport {\r\n    value as viewPort\r\n} from \"../core/utils/view_port\";\r\nimport {\r\n    EmptyTemplate\r\n} from \"../core/templates/empty_template\";\r\nimport {\r\n    when,\r\n    fromPromise,\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar window = getWindow();\r\nvar DRAGGABLE = \"dxDraggable\";\r\nvar DRAGSTART_EVENT_NAME = addNamespace(dragEventStart, DRAGGABLE);\r\nvar DRAG_EVENT_NAME = addNamespace(dragEventMove, DRAGGABLE);\r\nvar DRAGEND_EVENT_NAME = addNamespace(dragEventEnd, DRAGGABLE);\r\nvar DRAG_ENTER_EVENT_NAME = addNamespace(dragEventEnter, DRAGGABLE);\r\nvar DRAGEND_LEAVE_EVENT_NAME = addNamespace(dragEventLeave, DRAGGABLE);\r\nvar POINTERDOWN_EVENT_NAME = addNamespace(pointerEvents.down, DRAGGABLE);\r\nvar CLONE_CLASS = \"clone\";\r\nvar targetDraggable;\r\nvar sourceDraggable;\r\nvar ANONYMOUS_TEMPLATE_NAME = \"content\";\r\nvar getMousePosition = event => ({\r\n    x: event.pageX - $(window).scrollLeft(),\r\n    y: event.pageY - $(window).scrollTop()\r\n});\r\nvar GESTURE_COVER_CLASS = \"dx-gesture-cover\";\r\nvar OVERLAY_WRAPPER_CLASS = \"dx-overlay-wrapper\";\r\nvar OVERLAY_CONTENT_CLASS = \"dx-overlay-content\";\r\nclass ScrollHelper {\r\n    constructor(orientation, component) {\r\n        this._preventScroll = true;\r\n        this._component = component;\r\n        if (\"vertical\" === orientation) {\r\n            this._scrollValue = \"scrollTop\";\r\n            this._overFlowAttr = \"overflowY\";\r\n            this._sizeAttr = \"height\";\r\n            this._scrollSizeProp = \"scrollHeight\";\r\n            this._clientSizeProp = \"clientHeight\";\r\n            this._limitProps = {\r\n                start: \"top\",\r\n                end: \"bottom\"\r\n            }\r\n        } else {\r\n            this._scrollValue = \"scrollLeft\";\r\n            this._overFlowAttr = \"overflowX\";\r\n            this._sizeAttr = \"width\";\r\n            this._scrollSizeProp = \"scrollWidth\";\r\n            this._clientSizeProp = \"clientWidth\";\r\n            this._limitProps = {\r\n                start: \"left\",\r\n                end: \"right\"\r\n            }\r\n        }\r\n    }\r\n    updateScrollable(elements, mousePosition) {\r\n        var isScrollableFound = false;\r\n        elements.some(element => {\r\n            var $element = $(element);\r\n            var isTargetOverOverlayWrapper = $element.hasClass(OVERLAY_WRAPPER_CLASS);\r\n            var isTargetOverOverlayContent = $element.hasClass(OVERLAY_CONTENT_CLASS);\r\n            if (isTargetOverOverlayWrapper || isTargetOverOverlayContent) {\r\n                return true\r\n            }\r\n            isScrollableFound = this._trySetScrollable(element, mousePosition);\r\n            return isScrollableFound\r\n        });\r\n        if (!isScrollableFound) {\r\n            this._$scrollableAtPointer = null;\r\n            this._scrollSpeed = 0\r\n        }\r\n    }\r\n    isScrolling() {\r\n        return !!this._scrollSpeed\r\n    }\r\n    isScrollable($element) {\r\n        return (\"auto\" === $element.css(this._overFlowAttr) || $element.hasClass(\"dx-scrollable-container\")) && $element.prop(this._scrollSizeProp) > Math.ceil(\"width\" === this._sizeAttr ? getWidth($element) : getHeight($element))\r\n    }\r\n    _trySetScrollable(element, mousePosition) {\r\n        var $element = $(element);\r\n        var distanceToBorders;\r\n        var sensitivity = this._component.option(\"scrollSensitivity\");\r\n        var isScrollable = this.isScrollable($element);\r\n        if (isScrollable) {\r\n            distanceToBorders = this._calculateDistanceToBorders($element, mousePosition);\r\n            if (sensitivity > distanceToBorders[this._limitProps.start]) {\r\n                if (!this._preventScroll) {\r\n                    this._scrollSpeed = -this._calculateScrollSpeed(distanceToBorders[this._limitProps.start]);\r\n                    this._$scrollableAtPointer = $element\r\n                }\r\n            } else if (sensitivity > distanceToBorders[this._limitProps.end]) {\r\n                if (!this._preventScroll) {\r\n                    this._scrollSpeed = this._calculateScrollSpeed(distanceToBorders[this._limitProps.end]);\r\n                    this._$scrollableAtPointer = $element\r\n                }\r\n            } else {\r\n                isScrollable = false;\r\n                this._preventScroll = false\r\n            }\r\n        }\r\n        return isScrollable\r\n    }\r\n    _calculateDistanceToBorders($area, mousePosition) {\r\n        var area = $area.get(0);\r\n        var areaBoundingRect;\r\n        if (area) {\r\n            areaBoundingRect = getBoundingRect(area);\r\n            return {\r\n                left: mousePosition.x - areaBoundingRect.left,\r\n                top: mousePosition.y - areaBoundingRect.top,\r\n                right: areaBoundingRect.right - mousePosition.x,\r\n                bottom: areaBoundingRect.bottom - mousePosition.y\r\n            }\r\n        } else {\r\n            return {}\r\n        }\r\n    }\r\n    _calculateScrollSpeed(distance) {\r\n        var component = this._component;\r\n        var sensitivity = component.option(\"scrollSensitivity\");\r\n        var maxSpeed = component.option(\"scrollSpeed\");\r\n        return Math.ceil(Math.pow((sensitivity - distance) / sensitivity, 2) * maxSpeed)\r\n    }\r\n    scrollByStep() {\r\n        if (this._$scrollableAtPointer && this._scrollSpeed) {\r\n            if (this._$scrollableAtPointer.hasClass(\"dx-scrollable-container\")) {\r\n                var $scrollable = this._$scrollableAtPointer.closest(\".dx-scrollable\");\r\n                var scrollableInstance = $scrollable.data(\"dxScrollable\") || $scrollable.data(\"dxScrollView\");\r\n                if (scrollableInstance) {\r\n                    var nextScrollPosition = scrollableInstance.scrollOffset()[this._limitProps.start] + this._scrollSpeed;\r\n                    scrollableInstance.scrollTo({\r\n                        [this._limitProps.start]: nextScrollPosition\r\n                    })\r\n                }\r\n            } else {\r\n                var _nextScrollPosition = this._$scrollableAtPointer[this._scrollValue]() + this._scrollSpeed;\r\n                this._$scrollableAtPointer[this._scrollValue](_nextScrollPosition)\r\n            }\r\n            var dragMoveArgs = this._component._dragMoveArgs;\r\n            if (dragMoveArgs) {\r\n                this._component._dragMoveHandler(dragMoveArgs)\r\n            }\r\n        }\r\n    }\r\n    reset() {\r\n        this._$scrollableAtPointer = null;\r\n        this._scrollSpeed = 0;\r\n        this._preventScroll = true\r\n    }\r\n    isOutsideScrollable($scrollable, event) {\r\n        if (!$scrollable) {\r\n            return false\r\n        }\r\n        var scrollableSize = getBoundingRect($scrollable.get(0));\r\n        var start = scrollableSize[this._limitProps.start];\r\n        var size = scrollableSize[this._sizeAttr];\r\n        var mousePosition = getMousePosition(event);\r\n        var location = \"width\" === this._sizeAttr ? mousePosition.x : mousePosition.y;\r\n        return location < start || location > start + size\r\n    }\r\n}\r\nvar ScrollAnimator = Animator.inherit({\r\n    ctor: function(strategy) {\r\n        this.callBase();\r\n        this._strategy = strategy\r\n    },\r\n    _step: function() {\r\n        var horizontalScrollHelper = this._strategy._horizontalScrollHelper;\r\n        var verticalScrollHelper = this._strategy._verticalScrollHelper;\r\n        horizontalScrollHelper && horizontalScrollHelper.scrollByStep();\r\n        verticalScrollHelper && verticalScrollHelper.scrollByStep()\r\n    }\r\n});\r\nvar Draggable = DOMComponent.inherit({\r\n    reset: noop,\r\n    dragMove: noop,\r\n    dragEnter: noop,\r\n    dragLeave: noop,\r\n    dragEnd: function(sourceEvent) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        sourceDraggable._fireRemoveEvent(sourceEvent);\r\n        return (new Deferred).resolve()\r\n    },\r\n    _fireRemoveEvent: noop,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onDragStart: null,\r\n            onDragMove: null,\r\n            onDragEnd: null,\r\n            onDragEnter: null,\r\n            onDragLeave: null,\r\n            onDrop: null,\r\n            immediate: true,\r\n            dragDirection: \"both\",\r\n            boundary: void 0,\r\n            boundOffset: 0,\r\n            allowMoveByClick: false,\r\n            itemData: null,\r\n            container: void 0,\r\n            dragTemplate: void 0,\r\n            contentTemplate: \"content\",\r\n            handle: \"\",\r\n            filter: \"\",\r\n            clone: false,\r\n            autoScroll: true,\r\n            scrollSpeed: 30,\r\n            scrollSensitivity: 60,\r\n            group: void 0,\r\n            data: void 0\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase.apply(this, arguments);\r\n        extend(this._optionsByReference, {\r\n            component: true,\r\n            group: true,\r\n            itemData: true,\r\n            data: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._attachEventHandlers();\r\n        this._scrollAnimator = new ScrollAnimator(this);\r\n        this._horizontalScrollHelper = new ScrollHelper(\"horizontal\", this);\r\n        this._verticalScrollHelper = new ScrollHelper(\"vertical\", this)\r\n    },\r\n    _normalizeCursorOffset: function(offset) {\r\n        if (isObject(offset)) {\r\n            offset = {\r\n                h: offset.x,\r\n                v: offset.y\r\n            }\r\n        }\r\n        offset = splitPair(offset).map(value => parseFloat(value));\r\n        return {\r\n            left: offset[0],\r\n            top: 1 === offset.length ? offset[0] : offset[1]\r\n        }\r\n    },\r\n    _getNormalizedCursorOffset: function(offset, options) {\r\n        if (isFunction(offset)) {\r\n            offset = offset.call(this, options)\r\n        }\r\n        return this._normalizeCursorOffset(offset)\r\n    },\r\n    _calculateElementOffset: function(options) {\r\n        var elementOffset;\r\n        var dragElementOffset;\r\n        var event = options.event;\r\n        var $element = $(options.itemElement);\r\n        var $dragElement = $(options.dragElement);\r\n        var isCloned = this._dragElementIsCloned();\r\n        var cursorOffset = this.option(\"cursorOffset\");\r\n        var normalizedCursorOffset = {\r\n            left: 0,\r\n            top: 0\r\n        };\r\n        var currentLocate = this._initialLocate = locate($dragElement);\r\n        if (isCloned || options.initialOffset || cursorOffset) {\r\n            elementOffset = options.initialOffset || $element.offset();\r\n            if (cursorOffset) {\r\n                normalizedCursorOffset = this._getNormalizedCursorOffset(cursorOffset, options);\r\n                if (isFinite(normalizedCursorOffset.left)) {\r\n                    elementOffset.left = event.pageX\r\n                }\r\n                if (isFinite(normalizedCursorOffset.top)) {\r\n                    elementOffset.top = event.pageY\r\n                }\r\n            }\r\n            dragElementOffset = $dragElement.offset();\r\n            elementOffset.top -= dragElementOffset.top + (normalizedCursorOffset.top || 0) - currentLocate.top;\r\n            elementOffset.left -= dragElementOffset.left + (normalizedCursorOffset.left || 0) - currentLocate.left\r\n        }\r\n        return elementOffset\r\n    },\r\n    _initPosition: function(options) {\r\n        var $dragElement = $(options.dragElement);\r\n        var elementOffset = this._calculateElementOffset(options);\r\n        if (elementOffset) {\r\n            this._move(elementOffset, $dragElement)\r\n        }\r\n        this._startPosition = locate($dragElement)\r\n    },\r\n    _startAnimator: function() {\r\n        if (!this._scrollAnimator.inProgress()) {\r\n            this._scrollAnimator.start()\r\n        }\r\n    },\r\n    _stopAnimator: function() {\r\n        this._scrollAnimator.stop()\r\n    },\r\n    _addWidgetPrefix: function(className) {\r\n        var componentName = this.NAME;\r\n        return dasherize(componentName) + (className ? \"-\" + className : \"\")\r\n    },\r\n    _getItemsSelector: function() {\r\n        return this.option(\"filter\") || \"\"\r\n    },\r\n    _$content: function() {\r\n        var $element = this.$element();\r\n        var $wrapper = $element.children(\".dx-template-wrapper\");\r\n        return $wrapper.length ? $wrapper : $element\r\n    },\r\n    _attachEventHandlers: function() {\r\n        if (this.option(\"disabled\")) {\r\n            return\r\n        }\r\n        var $element = this._$content();\r\n        var itemsSelector = this._getItemsSelector();\r\n        var allowMoveByClick = this.option(\"allowMoveByClick\");\r\n        var data = {\r\n            direction: this.option(\"dragDirection\"),\r\n            immediate: this.option(\"immediate\"),\r\n            checkDropTarget: ($target, event) => {\r\n                var targetGroup = this.option(\"group\");\r\n                var sourceGroup = this._getSourceDraggable().option(\"group\");\r\n                var $scrollable = this._getScrollable($target);\r\n                if (this._verticalScrollHelper.isOutsideScrollable($scrollable, event) || this._horizontalScrollHelper.isOutsideScrollable($scrollable, event)) {\r\n                    return false\r\n                }\r\n                return sourceGroup && sourceGroup === targetGroup\r\n            }\r\n        };\r\n        if (allowMoveByClick) {\r\n            $element = this._getArea();\r\n            eventsEngine.on($element, POINTERDOWN_EVENT_NAME, data, this._pointerDownHandler.bind(this))\r\n        }\r\n        if (\">\" === itemsSelector[0]) {\r\n            itemsSelector = itemsSelector.slice(1)\r\n        }\r\n        eventsEngine.on($element, DRAGSTART_EVENT_NAME, itemsSelector, data, this._dragStartHandler.bind(this));\r\n        eventsEngine.on($element, DRAG_EVENT_NAME, data, this._dragMoveHandler.bind(this));\r\n        eventsEngine.on($element, DRAGEND_EVENT_NAME, data, this._dragEndHandler.bind(this));\r\n        eventsEngine.on($element, DRAG_ENTER_EVENT_NAME, data, this._dragEnterHandler.bind(this));\r\n        eventsEngine.on($element, DRAGEND_LEAVE_EVENT_NAME, data, this._dragLeaveHandler.bind(this))\r\n    },\r\n    _dragElementIsCloned: function() {\r\n        return this._$dragElement && this._$dragElement.hasClass(this._addWidgetPrefix(CLONE_CLASS))\r\n    },\r\n    _getDragTemplateArgs: function($element, $container) {\r\n        return {\r\n            container: getPublicElement($container),\r\n            model: {\r\n                itemData: this.option(\"itemData\"),\r\n                itemElement: getPublicElement($element)\r\n            }\r\n        }\r\n    },\r\n    _createDragElement: function($element) {\r\n        var result = $element;\r\n        var clone = this.option(\"clone\");\r\n        var $container = this._getContainer();\r\n        var template = this.option(\"dragTemplate\");\r\n        if (template) {\r\n            template = this._getTemplate(template);\r\n            result = $(\"<div>\").appendTo($container);\r\n            template.render(this._getDragTemplateArgs($element, result))\r\n        } else if (clone) {\r\n            result = $(\"<div>\").appendTo($container);\r\n            $element.clone().css({\r\n                width: $element.css(\"width\"),\r\n                height: $element.css(\"height\")\r\n            }).appendTo(result)\r\n        }\r\n        return result.toggleClass(this._addWidgetPrefix(CLONE_CLASS), result.get(0) !== $element.get(0)).toggleClass(\"dx-rtl\", this.option(\"rtlEnabled\"))\r\n    },\r\n    _resetDragElement: function() {\r\n        if (this._dragElementIsCloned()) {\r\n            this._$dragElement.remove()\r\n        } else {\r\n            this._toggleDraggingClass(false)\r\n        }\r\n        this._$dragElement = null\r\n    },\r\n    _resetSourceElement: function() {\r\n        this._toggleDragSourceClass(false);\r\n        this._$sourceElement = null\r\n    },\r\n    _detachEventHandlers: function() {\r\n        eventsEngine.off(this._$content(), \".\" + DRAGGABLE);\r\n        eventsEngine.off(this._getArea(), \".\" + DRAGGABLE)\r\n    },\r\n    _move: function(position, $element) {\r\n        move($element || this._$dragElement, position)\r\n    },\r\n    _getDraggableElement: function(e) {\r\n        var $sourceElement = this._getSourceElement();\r\n        if ($sourceElement) {\r\n            return $sourceElement\r\n        }\r\n        var allowMoveByClick = this.option(\"allowMoveByClick\");\r\n        if (allowMoveByClick) {\r\n            return this.$element()\r\n        }\r\n        var $target = $(e && e.target);\r\n        var itemsSelector = this._getItemsSelector();\r\n        if (\">\" === itemsSelector[0]) {\r\n            var $items = this._$content().find(itemsSelector);\r\n            if (!$items.is($target)) {\r\n                $target = $target.closest($items)\r\n            }\r\n        }\r\n        return $target\r\n    },\r\n    _getSourceElement: function() {\r\n        var draggable = this._getSourceDraggable();\r\n        return draggable._$sourceElement\r\n    },\r\n    _pointerDownHandler: function(e) {\r\n        if (needSkipEvent(e)) {\r\n            return\r\n        }\r\n        var position = {};\r\n        var $element = this.$element();\r\n        var dragDirection = this.option(\"dragDirection\");\r\n        if (\"horizontal\" === dragDirection || \"both\" === dragDirection) {\r\n            position.left = e.pageX - $element.offset().left + locate($element).left - getWidth($element) / 2\r\n        }\r\n        if (\"vertical\" === dragDirection || \"both\" === dragDirection) {\r\n            position.top = e.pageY - $element.offset().top + locate($element).top - getHeight($element) / 2\r\n        }\r\n        this._move(position, $element);\r\n        this._getAction(\"onDragMove\")(this._getEventArgs(e))\r\n    },\r\n    _isValidElement: function(event, $element) {\r\n        var handle = this.option(\"handle\");\r\n        var $target = $(event.originalEvent && event.originalEvent.target);\r\n        if (handle && !$target.closest(handle).length) {\r\n            return false\r\n        }\r\n        if (!$element.length) {\r\n            return false\r\n        }\r\n        return !$element.is(\".dx-state-disabled, .dx-state-disabled *\")\r\n    },\r\n    _dragStartHandler: function(e) {\r\n        var $element = this._getDraggableElement(e);\r\n        if (!this._isValidElement(e, $element)) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n        if (this._$sourceElement) {\r\n            return\r\n        }\r\n        var dragStartArgs = this._getDragStartArgs(e, $element);\r\n        this._getAction(\"onDragStart\")(dragStartArgs);\r\n        if (dragStartArgs.cancel) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n        this.option(\"itemData\", dragStartArgs.itemData);\r\n        this._setSourceDraggable();\r\n        this._$sourceElement = $element;\r\n        var initialOffset = $element.offset();\r\n        var $dragElement = this._$dragElement = this._createDragElement($element);\r\n        this._toggleDraggingClass(true);\r\n        this._toggleDragSourceClass(true);\r\n        this._setGestureCoverCursor($dragElement.children());\r\n        var isFixedPosition = \"fixed\" === $dragElement.css(\"position\");\r\n        this._initPosition(extend({}, dragStartArgs, {\r\n            dragElement: $dragElement.get(0),\r\n            initialOffset: isFixedPosition && initialOffset\r\n        }));\r\n        var $area = this._getArea();\r\n        var areaOffset = this._getAreaOffset($area);\r\n        var boundOffset = this._getBoundOffset();\r\n        var areaWidth = getOuterWidth($area);\r\n        var areaHeight = getOuterHeight($area);\r\n        var elementWidth = getWidth($dragElement);\r\n        var elementHeight = getHeight($dragElement);\r\n        var startOffset_left = $dragElement.offset().left - areaOffset.left,\r\n            startOffset_top = $dragElement.offset().top - areaOffset.top;\r\n        if ($area.length) {\r\n            e.maxLeftOffset = startOffset_left - boundOffset.left;\r\n            e.maxRightOffset = areaWidth - startOffset_left - elementWidth - boundOffset.right;\r\n            e.maxTopOffset = startOffset_top - boundOffset.top;\r\n            e.maxBottomOffset = areaHeight - startOffset_top - elementHeight - boundOffset.bottom\r\n        }\r\n        if (this.option(\"autoScroll\")) {\r\n            this._startAnimator()\r\n        }\r\n    },\r\n    _getAreaOffset: function($area) {\r\n        var offset = $area && positionUtils.offset($area);\r\n        return offset ? offset : {\r\n            left: 0,\r\n            top: 0\r\n        }\r\n    },\r\n    _toggleDraggingClass: function(value) {\r\n        this._$dragElement && this._$dragElement.toggleClass(this._addWidgetPrefix(\"dragging\"), value)\r\n    },\r\n    _toggleDragSourceClass: function(value, $element) {\r\n        var $sourceElement = $element || this._$sourceElement;\r\n        $sourceElement && $sourceElement.toggleClass(this._addWidgetPrefix(\"source\"), value)\r\n    },\r\n    _setGestureCoverCursor: function($element) {\r\n        $(\".\".concat(GESTURE_COVER_CLASS)).css(\"cursor\", $element.css(\"cursor\"))\r\n    },\r\n    _getBoundOffset: function() {\r\n        var boundOffset = this.option(\"boundOffset\");\r\n        if (isFunction(boundOffset)) {\r\n            boundOffset = boundOffset.call(this)\r\n        }\r\n        return quadToObject(boundOffset)\r\n    },\r\n    _getArea: function() {\r\n        var area = this.option(\"boundary\");\r\n        if (isFunction(area)) {\r\n            area = area.call(this)\r\n        }\r\n        return $(area)\r\n    },\r\n    _getContainer: function() {\r\n        var container = this.option(\"container\");\r\n        if (void 0 === container) {\r\n            container = viewPort()\r\n        }\r\n        return $(container)\r\n    },\r\n    _dragMoveHandler: function(e, scrollBy) {\r\n        this._dragMoveArgs = e;\r\n        if (!this._$dragElement) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n        var offset = e.offset;\r\n        var startPosition = this._startPosition;\r\n        this._move({\r\n            left: startPosition.left + offset.x,\r\n            top: startPosition.top + offset.y\r\n        });\r\n        if (!scrollBy) {\r\n            this._updateScrollable(e)\r\n        }\r\n        var eventArgs = this._getEventArgs(e);\r\n        this._getAction(\"onDragMove\")(eventArgs);\r\n        if (true === eventArgs.cancel) {\r\n            return\r\n        }\r\n        var targetDraggable = this._getTargetDraggable();\r\n        targetDraggable.dragMove(e, scrollBy)\r\n    },\r\n    _updateScrollable: function(e) {\r\n        if (this.option(\"autoScroll\")) {\r\n            var mousePosition = getMousePosition(e);\r\n            var allObjects = domAdapter.elementsFromPoint(mousePosition.x, mousePosition.y);\r\n            this._verticalScrollHelper.updateScrollable(allObjects, mousePosition);\r\n            this._horizontalScrollHelper.updateScrollable(allObjects, mousePosition)\r\n        }\r\n    },\r\n    _getScrollable: function($element) {\r\n        var $scrollable;\r\n        $element.parents().toArray().some(parent => {\r\n            var $parent = $(parent);\r\n            if (this._horizontalScrollHelper.isScrollable($parent) || this._verticalScrollHelper.isScrollable($parent)) {\r\n                $scrollable = $parent;\r\n                return true\r\n            }\r\n        });\r\n        return $scrollable\r\n    },\r\n    _defaultActionArgs: function() {\r\n        var args = this.callBase.apply(this, arguments);\r\n        var component = this.option(\"component\");\r\n        if (component) {\r\n            args.component = component;\r\n            args.element = component.element()\r\n        }\r\n        return args\r\n    },\r\n    _getEventArgs: function(e) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        return {\r\n            event: e,\r\n            itemData: sourceDraggable.option(\"itemData\"),\r\n            itemElement: getPublicElement(sourceDraggable._$sourceElement),\r\n            fromComponent: sourceDraggable.option(\"component\") || sourceDraggable,\r\n            toComponent: targetDraggable.option(\"component\") || targetDraggable,\r\n            fromData: sourceDraggable.option(\"data\"),\r\n            toData: targetDraggable.option(\"data\")\r\n        }\r\n    },\r\n    _getDragStartArgs: function(e, $itemElement) {\r\n        var args = this._getEventArgs(e);\r\n        return {\r\n            event: args.event,\r\n            itemData: args.itemData,\r\n            itemElement: $itemElement,\r\n            fromData: args.fromData\r\n        }\r\n    },\r\n    _revertItemToInitialPosition: function() {\r\n        !this._dragElementIsCloned() && this._move(this._initialLocate, this._$sourceElement)\r\n    },\r\n    _dragEndHandler: function(e) {\r\n        var d = new Deferred;\r\n        var dragEndEventArgs = this._getEventArgs(e);\r\n        var dropEventArgs = this._getEventArgs(e);\r\n        var targetDraggable = this._getTargetDraggable();\r\n        var needRevertPosition = true;\r\n        try {\r\n            this._getAction(\"onDragEnd\")(dragEndEventArgs)\r\n        } finally {\r\n            when(fromPromise(dragEndEventArgs.cancel)).done(cancel => {\r\n                if (!cancel) {\r\n                    if (targetDraggable !== this) {\r\n                        targetDraggable._getAction(\"onDrop\")(dropEventArgs)\r\n                    }\r\n                    if (!dropEventArgs.cancel) {\r\n                        needRevertPosition = false;\r\n                        when(fromPromise(targetDraggable.dragEnd(dragEndEventArgs))).always(d.resolve);\r\n                        return\r\n                    }\r\n                }\r\n                d.resolve()\r\n            }).fail(d.resolve);\r\n            d.done(() => {\r\n                if (needRevertPosition) {\r\n                    this._revertItemToInitialPosition()\r\n                }\r\n                this.reset();\r\n                targetDraggable.reset();\r\n                this._stopAnimator();\r\n                this._horizontalScrollHelper.reset();\r\n                this._verticalScrollHelper.reset();\r\n                this._resetDragElement();\r\n                this._resetSourceElement();\r\n                this._resetTargetDraggable();\r\n                this._resetSourceDraggable()\r\n            })\r\n        }\r\n    },\r\n    _isTargetOverAnotherDraggable: function(e) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        if (this === sourceDraggable) {\r\n            return false\r\n        }\r\n        var $dragElement = sourceDraggable._$dragElement;\r\n        var $sourceDraggableElement = sourceDraggable.$element();\r\n        var $targetDraggableElement = this.$element();\r\n        var mousePosition = getMousePosition(e);\r\n        var elements = domAdapter.elementsFromPoint(mousePosition.x, mousePosition.y);\r\n        var firstWidgetElement = elements.filter(element => {\r\n            var $element = $(element);\r\n            if ($element.hasClass(this._addWidgetPrefix())) {\r\n                return !$element.closest($dragElement).length\r\n            }\r\n        })[0];\r\n        var $sourceElement = this._getSourceElement();\r\n        var isTargetOverItself = firstWidgetElement === $sourceDraggableElement.get(0);\r\n        var isTargetOverNestedDraggable = $(firstWidgetElement).closest($sourceElement).length;\r\n        return !firstWidgetElement || firstWidgetElement === $targetDraggableElement.get(0) && !isTargetOverItself && !isTargetOverNestedDraggable\r\n    },\r\n    _dragEnterHandler: function(e) {\r\n        this._fireDragEnterEvent(e);\r\n        if (this._isTargetOverAnotherDraggable(e)) {\r\n            this._setTargetDraggable()\r\n        }\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        sourceDraggable.dragEnter(e)\r\n    },\r\n    _dragLeaveHandler: function(e) {\r\n        this._fireDragLeaveEvent(e);\r\n        this._resetTargetDraggable();\r\n        if (this !== this._getSourceDraggable()) {\r\n            this.reset()\r\n        }\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        sourceDraggable.dragLeave(e)\r\n    },\r\n    _getAction: function(name) {\r\n        return this[\"_\" + name + \"Action\"] || this._createActionByOption(name)\r\n    },\r\n    _getAnonymousTemplateName: function() {\r\n        return ANONYMOUS_TEMPLATE_NAME\r\n    },\r\n    _initTemplates: function() {\r\n        if (!this.option(\"contentTemplate\")) {\r\n            return\r\n        }\r\n        this._templateManager.addDefaultTemplates({\r\n            content: new EmptyTemplate\r\n        });\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this.$element().addClass(this._addWidgetPrefix());\r\n        var transclude = this._templateManager.anonymousTemplateName === this.option(\"contentTemplate\");\r\n        var template = this._getTemplateByOption(\"contentTemplate\");\r\n        if (template) {\r\n            $(template.render({\r\n                container: this.element(),\r\n                transclude: transclude\r\n            }))\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"onDragStart\":\r\n            case \"onDragMove\":\r\n            case \"onDragEnd\":\r\n            case \"onDrop\":\r\n            case \"onDragEnter\":\r\n            case \"onDragLeave\":\r\n                this[\"_\" + name + \"Action\"] = this._createActionByOption(name);\r\n                break;\r\n            case \"dragTemplate\":\r\n            case \"contentTemplate\":\r\n            case \"container\":\r\n            case \"clone\":\r\n                break;\r\n            case \"allowMoveByClick\":\r\n            case \"dragDirection\":\r\n            case \"disabled\":\r\n            case \"boundary\":\r\n            case \"filter\":\r\n            case \"immediate\":\r\n                this._resetDragElement();\r\n                this._detachEventHandlers();\r\n                this._attachEventHandlers();\r\n                break;\r\n            case \"autoScroll\":\r\n                this._verticalScrollHelper.reset();\r\n                this._horizontalScrollHelper.reset();\r\n                break;\r\n            case \"scrollSensitivity\":\r\n            case \"scrollSpeed\":\r\n            case \"boundOffset\":\r\n            case \"handle\":\r\n            case \"group\":\r\n            case \"data\":\r\n            case \"itemData\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getTargetDraggable: function() {\r\n        return targetDraggable || this\r\n    },\r\n    _getSourceDraggable: function() {\r\n        return sourceDraggable || this\r\n    },\r\n    _setTargetDraggable: function() {\r\n        var currentGroup = this.option(\"group\");\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        if (currentGroup && currentGroup === sourceDraggable.option(\"group\")) {\r\n            targetDraggable = this\r\n        }\r\n    },\r\n    _setSourceDraggable: function() {\r\n        sourceDraggable = this\r\n    },\r\n    _resetSourceDraggable: function() {\r\n        sourceDraggable = null\r\n    },\r\n    _resetTargetDraggable: function() {\r\n        targetDraggable = null\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._detachEventHandlers();\r\n        this._resetDragElement();\r\n        this._resetTargetDraggable();\r\n        this._resetSourceDraggable();\r\n        this._$sourceElement = null;\r\n        this._stopAnimator()\r\n    },\r\n    _fireDragEnterEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onDragEnter\")(args)\r\n    },\r\n    _fireDragLeaveEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onDragLeave\")(args)\r\n    }\r\n});\r\nregisterComponent(DRAGGABLE, Draggable);\r\nexport default Draggable;\r\n","/**\r\n * DevExtreme (esm/ui/sortable.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getOuterHeight,\r\n    getOuterWidth,\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport Draggable from \"./draggable\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../core/utils/position\";\r\nimport {\r\n    resetPosition\r\n} from \"../animation/translator\";\r\nimport fx from \"../animation/fx\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar window = getWindow();\r\nvar SORTABLE = \"dxSortable\";\r\nvar PLACEHOLDER_CLASS = \"placeholder\";\r\nvar CLONE_CLASS = \"clone\";\r\nvar isElementVisible = itemElement => $(itemElement).is(\":visible\");\r\nvar animate = (element, config) => {\r\n    var _config$to, _config$to2;\r\n    if (!element) {\r\n        return\r\n    }\r\n    var left = (null === (_config$to = config.to) || void 0 === _config$to ? void 0 : _config$to.left) || 0;\r\n    var top = (null === (_config$to2 = config.to) || void 0 === _config$to2 ? void 0 : _config$to2.top) || 0;\r\n    element.style.transform = \"translate(\".concat(left, \"px,\").concat(top, \"px)\");\r\n    element.style.transition = fx.off ? \"\" : \"transform \".concat(config.duration, \"ms \").concat(config.easing)\r\n};\r\nvar stopAnimation = element => {\r\n    if (!element) {\r\n        return\r\n    }\r\n    element.style.transform = \"\";\r\n    element.style.transition = \"\"\r\n};\r\n\r\nfunction getScrollableBoundary($scrollable) {\r\n    var offset = $scrollable.offset();\r\n    var style = $scrollable[0].style;\r\n    var paddingLeft = parseFloat(style.paddingLeft) || 0;\r\n    var paddingRight = parseFloat(style.paddingRight) || 0;\r\n    var paddingTop = parseFloat(style.paddingTop) || 0;\r\n    var width = $scrollable[0].clientWidth - (paddingLeft + paddingRight);\r\n    var height = getHeight($scrollable);\r\n    var left = offset.left + paddingLeft;\r\n    var top = offset.top + paddingTop;\r\n    return {\r\n        left: left,\r\n        right: left + width,\r\n        top: top,\r\n        bottom: top + height\r\n    }\r\n}\r\nvar Sortable = Draggable.inherit({\r\n    _init: function() {\r\n        this.callBase();\r\n        this._sourceScrollHandler = this._handleSourceScroll.bind(this);\r\n        this._sourceScrollableInfo = null\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            clone: true,\r\n            filter: \"> *\",\r\n            itemOrientation: \"vertical\",\r\n            dropFeedbackMode: \"push\",\r\n            allowDropInsideItem: false,\r\n            allowReordering: true,\r\n            moveItemOnDrop: false,\r\n            onDragChange: null,\r\n            onAdd: null,\r\n            onRemove: null,\r\n            onReorder: null,\r\n            onPlaceholderPrepared: null,\r\n            animation: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                easing: \"ease\"\r\n            },\r\n            fromIndex: null,\r\n            toIndex: null,\r\n            dropInsideItem: false,\r\n            itemPoints: null,\r\n            fromIndexOffset: 0,\r\n            offset: 0,\r\n            autoUpdate: false,\r\n            draggableElementSize: 0\r\n        })\r\n    },\r\n    reset: function() {\r\n        this.option({\r\n            dropInsideItem: false,\r\n            toIndex: null,\r\n            fromIndex: null,\r\n            itemPoints: null,\r\n            fromIndexOffset: 0,\r\n            draggableElementSize: 0\r\n        });\r\n        if (this._$placeholderElement) {\r\n            this._$placeholderElement.remove()\r\n        }\r\n        this._$placeholderElement = null;\r\n        if (!this._isIndicateMode() && this._$modifiedItem) {\r\n            this._$modifiedItem.css(\"marginBottom\", this._modifiedItemMargin);\r\n            this._$modifiedItem = null\r\n        }\r\n    },\r\n    _getPrevVisibleItem: function(items, index) {\r\n        return items.slice(0, index).reverse().filter(isElementVisible)[0]\r\n    },\r\n    _dragStartHandler: function(e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (true === e.cancel) {\r\n            return\r\n        }\r\n        var $sourceElement = this._getSourceElement();\r\n        this._updateItemPoints();\r\n        this._subscribeToSourceScroll(e);\r\n        this.option(\"fromIndex\", this._getElementIndex($sourceElement));\r\n        this.option(\"fromIndexOffset\", this.option(\"offset\"))\r\n    },\r\n    _subscribeToSourceScroll: function(e) {\r\n        var $scrollable = this._getScrollable($(e.target));\r\n        if ($scrollable) {\r\n            this._sourceScrollableInfo = {\r\n                element: $scrollable,\r\n                scrollLeft: $scrollable.scrollLeft(),\r\n                scrollTop: $scrollable.scrollTop()\r\n            };\r\n            eventsEngine.on($scrollable, \"scroll\", this._sourceScrollHandler)\r\n        }\r\n    },\r\n    _unsubscribeFromSourceScroll: function() {\r\n        if (this._sourceScrollableInfo) {\r\n            eventsEngine.off(this._sourceScrollableInfo.element, \"scroll\", this._sourceScrollHandler);\r\n            this._sourceScrollableInfo = null\r\n        }\r\n    },\r\n    _handleSourceScroll: function(e) {\r\n        var sourceScrollableInfo = this._sourceScrollableInfo;\r\n        if (sourceScrollableInfo) {\r\n            [\"scrollLeft\", \"scrollTop\"].forEach(scrollProp => {\r\n                if (e.target[scrollProp] !== sourceScrollableInfo[scrollProp]) {\r\n                    var scrollBy = e.target[scrollProp] - sourceScrollableInfo[scrollProp];\r\n                    this._correctItemPoints(scrollBy);\r\n                    this._movePlaceholder();\r\n                    sourceScrollableInfo[scrollProp] = e.target[scrollProp]\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _dragEnterHandler: function(e) {\r\n        this.callBase.apply(this, arguments);\r\n        this._subscribeToSourceScroll(e);\r\n        if (this === this._getSourceDraggable()) {\r\n            return\r\n        }\r\n        this._updateItemPoints();\r\n        this.option(\"fromIndex\", -1);\r\n        if (!this._isIndicateMode()) {\r\n            var itemPoints = this.option(\"itemPoints\");\r\n            var lastItemPoint = itemPoints[itemPoints.length - 1];\r\n            if (lastItemPoint) {\r\n                var $element = this.$element();\r\n                var $sourceElement = this._getSourceElement();\r\n                var isVertical = this._isVerticalOrientation();\r\n                var sourceElementSize = isVertical ? getOuterHeight($sourceElement, true) : getOuterWidth($sourceElement, true);\r\n                var scrollSize = $element.get(0)[isVertical ? \"scrollHeight\" : \"scrollWidth\"];\r\n                var scrollPosition = $element.get(0)[isVertical ? \"scrollTop\" : \"scrollLeft\"];\r\n                var positionProp = isVertical ? \"top\" : \"left\";\r\n                var lastPointPosition = lastItemPoint[positionProp];\r\n                var elementPosition = $element.offset()[positionProp];\r\n                var freeSize = elementPosition + scrollSize - scrollPosition - lastPointPosition;\r\n                if (freeSize < sourceElementSize) {\r\n                    if (isVertical) {\r\n                        var items = this._getItems();\r\n                        var $lastItem = $(this._getPrevVisibleItem(items));\r\n                        this._$modifiedItem = $lastItem;\r\n                        this._modifiedItemMargin = $lastItem.get(0).style.marginBottom;\r\n                        $lastItem.css(\"marginBottom\", sourceElementSize - freeSize);\r\n                        var $sortable = $lastItem.closest(\".dx-sortable\");\r\n                        var sortable = $sortable.data(\"dxScrollable\") || $sortable.data(\"dxScrollView\");\r\n                        sortable && sortable.update()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _dragLeaveHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._unsubscribeFromSourceScroll()\r\n    },\r\n    dragEnter: function() {\r\n        if (this !== this._getTargetDraggable()) {\r\n            this.option(\"toIndex\", -1)\r\n        }\r\n    },\r\n    dragLeave: function() {\r\n        if (this !== this._getTargetDraggable()) {\r\n            this.option(\"toIndex\", this.option(\"fromIndex\"))\r\n        }\r\n    },\r\n    _allowDrop: function(event) {\r\n        var targetDraggable = this._getTargetDraggable();\r\n        var $targetDraggable = targetDraggable.$element();\r\n        var $scrollable = this._getScrollable($targetDraggable);\r\n        if ($scrollable) {\r\n            var {\r\n                left: left,\r\n                right: right,\r\n                top: top,\r\n                bottom: bottom\r\n            } = getScrollableBoundary($scrollable);\r\n            var toIndex = this.option(\"toIndex\");\r\n            var itemPoints = this.option(\"itemPoints\");\r\n            var itemPoint = null === itemPoints || void 0 === itemPoints ? void 0 : itemPoints.filter(item => item.index === toIndex)[0];\r\n            if (itemPoint && void 0 !== itemPoint.top) {\r\n                var isVertical = this._isVerticalOrientation();\r\n                if (isVertical) {\r\n                    return top <= Math.ceil(itemPoint.top) && Math.floor(itemPoint.top) <= bottom\r\n                } else {\r\n                    return left <= Math.ceil(itemPoint.left) && Math.floor(itemPoint.left) <= right\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    dragEnd: function(sourceEvent) {\r\n        this._unsubscribeFromSourceScroll();\r\n        var $sourceElement = this._getSourceElement();\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var isSourceDraggable = sourceDraggable.NAME !== this.NAME;\r\n        var toIndex = this.option(\"toIndex\");\r\n        var event = sourceEvent.event;\r\n        var allowDrop = this._allowDrop(event);\r\n        if (null !== toIndex && toIndex >= 0 && allowDrop) {\r\n            var cancelAdd;\r\n            var cancelRemove;\r\n            if (sourceDraggable !== this) {\r\n                cancelAdd = this._fireAddEvent(event);\r\n                if (!cancelAdd) {\r\n                    cancelRemove = this._fireRemoveEvent(event)\r\n                }\r\n            }\r\n            if (isSourceDraggable) {\r\n                resetPosition($sourceElement)\r\n            }\r\n            if (this.option(\"moveItemOnDrop\")) {\r\n                !cancelAdd && this._moveItem($sourceElement, toIndex, cancelRemove)\r\n            }\r\n            if (sourceDraggable === this) {\r\n                return this._fireReorderEvent(event)\r\n            }\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    dragMove: function(e) {\r\n        var itemPoints = this.option(\"itemPoints\");\r\n        if (!itemPoints) {\r\n            return\r\n        }\r\n        var isVertical = this._isVerticalOrientation();\r\n        var axisName = isVertical ? \"top\" : \"left\";\r\n        var cursorPosition = isVertical ? e.pageY : e.pageX;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var itemPoint;\r\n        for (var i = itemPoints.length - 1; i >= 0; i--) {\r\n            var centerPosition = itemPoints[i + 1] && (itemPoints[i][axisName] + itemPoints[i + 1][axisName]) / 2;\r\n            if ((!isVertical && rtlEnabled ? cursorPosition > centerPosition : centerPosition > cursorPosition) || void 0 === centerPosition) {\r\n                itemPoint = itemPoints[i]\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        if (itemPoint) {\r\n            this._updatePlaceholderPosition(e, itemPoint);\r\n            if (this._verticalScrollHelper.isScrolling() && this._isIndicateMode()) {\r\n                this._movePlaceholder()\r\n            }\r\n        }\r\n    },\r\n    _isIndicateMode: function() {\r\n        return \"indicate\" === this.option(\"dropFeedbackMode\") || this.option(\"allowDropInsideItem\")\r\n    },\r\n    _createPlaceholder: function() {\r\n        var $placeholderContainer;\r\n        if (this._isIndicateMode()) {\r\n            $placeholderContainer = $(\"<div>\").addClass(this._addWidgetPrefix(PLACEHOLDER_CLASS)).insertBefore(this._getSourceDraggable()._$dragElement)\r\n        }\r\n        this._$placeholderElement = $placeholderContainer;\r\n        return $placeholderContainer\r\n    },\r\n    _getItems: function() {\r\n        var itemsSelector = this._getItemsSelector();\r\n        return this._$content().find(itemsSelector).not(\".\" + this._addWidgetPrefix(PLACEHOLDER_CLASS)).not(\".\" + this._addWidgetPrefix(CLONE_CLASS)).toArray()\r\n    },\r\n    _allowReordering: function() {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        return sourceDraggable !== targetDraggable || this.option(\"allowReordering\")\r\n    },\r\n    _isValidPoint: function(visibleIndex, draggableVisibleIndex, dropInsideItem) {\r\n        var allowDropInsideItem = this.option(\"allowDropInsideItem\");\r\n        var allowReordering = dropInsideItem || this._allowReordering();\r\n        if (!allowReordering && (0 !== visibleIndex || !allowDropInsideItem)) {\r\n            return false\r\n        }\r\n        if (!this._isIndicateMode()) {\r\n            return true\r\n        }\r\n        return -1 === draggableVisibleIndex || visibleIndex !== draggableVisibleIndex && (dropInsideItem || visibleIndex !== draggableVisibleIndex + 1)\r\n    },\r\n    _getItemPoints: function() {\r\n        var result = [];\r\n        var $item;\r\n        var offset;\r\n        var itemWidth;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isVertical = this._isVerticalOrientation();\r\n        var itemElements = this._getItems();\r\n        var visibleItemElements = itemElements.filter(isElementVisible);\r\n        var visibleItemCount = visibleItemElements.length;\r\n        var $draggableItem = this._getDraggableElement();\r\n        var draggableVisibleIndex = visibleItemElements.indexOf($draggableItem.get(0));\r\n        if (visibleItemCount) {\r\n            for (var i = 0; i <= visibleItemCount; i++) {\r\n                var needCorrectLeftPosition = !isVertical && rtlEnabled ^ i === visibleItemCount;\r\n                var needCorrectTopPosition = isVertical && i === visibleItemCount;\r\n                if (i < visibleItemCount) {\r\n                    $item = $(visibleItemElements[i]);\r\n                    offset = $item.offset();\r\n                    itemWidth = getOuterWidth($item)\r\n                }\r\n                result.push({\r\n                    dropInsideItem: false,\r\n                    left: offset.left + (needCorrectLeftPosition ? itemWidth : 0),\r\n                    top: offset.top + (needCorrectTopPosition ? result[i - 1].height : 0),\r\n                    index: i === visibleItemCount ? itemElements.length : itemElements.indexOf($item.get(0)),\r\n                    $item: $item,\r\n                    width: getOuterWidth($item),\r\n                    height: getOuterHeight($item),\r\n                    isValid: this._isValidPoint(i, draggableVisibleIndex)\r\n                })\r\n            }\r\n            if (this.option(\"allowDropInsideItem\")) {\r\n                var points = result;\r\n                result = [];\r\n                for (var _i = 0; _i < points.length; _i++) {\r\n                    result.push(points[_i]);\r\n                    if (points[_i + 1]) {\r\n                        result.push(extend({}, points[_i], {\r\n                            dropInsideItem: true,\r\n                            top: Math.floor((points[_i].top + points[_i + 1].top) / 2),\r\n                            left: Math.floor((points[_i].left + points[_i + 1].left) / 2),\r\n                            isValid: this._isValidPoint(_i, draggableVisibleIndex, true)\r\n                        }))\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            result.push({\r\n                dropInsideItem: false,\r\n                index: 0,\r\n                isValid: true\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _updateItemPoints: function(forceUpdate) {\r\n        if (forceUpdate || this.option(\"autoUpdate\") || !this.option(\"itemPoints\")) {\r\n            this.option(\"itemPoints\", this._getItemPoints())\r\n        }\r\n    },\r\n    _correctItemPoints: function(scrollBy) {\r\n        var itemPoints = this.option(\"itemPoints\");\r\n        if (scrollBy && itemPoints && !this.option(\"autoUpdate\")) {\r\n            var isVertical = this._isVerticalOrientation();\r\n            var positionPropName = isVertical ? \"top\" : \"left\";\r\n            itemPoints.forEach(itemPoint => {\r\n                itemPoint[positionPropName] -= scrollBy\r\n            })\r\n        }\r\n    },\r\n    _getElementIndex: function($itemElement) {\r\n        return this._getItems().indexOf($itemElement.get(0))\r\n    },\r\n    _getDragTemplateArgs: function($element) {\r\n        var args = this.callBase.apply(this, arguments);\r\n        args.model.fromIndex = this._getElementIndex($element);\r\n        return args\r\n    },\r\n    _togglePlaceholder: function(value) {\r\n        this._$placeholderElement && this._$placeholderElement.toggle(value)\r\n    },\r\n    _isVerticalOrientation: function() {\r\n        return \"vertical\" === this.option(\"itemOrientation\")\r\n    },\r\n    _normalizeToIndex: function(toIndex, dropInsideItem) {\r\n        var isAnotherDraggable = this._getSourceDraggable() !== this._getTargetDraggable();\r\n        var fromIndex = this.option(\"fromIndex\");\r\n        if (null === toIndex) {\r\n            return fromIndex\r\n        }\r\n        return Math.max(isAnotherDraggable || fromIndex >= toIndex || dropInsideItem ? toIndex : toIndex - 1, 0)\r\n    },\r\n    _updatePlaceholderPosition: function(e, itemPoint) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var toIndex = this._normalizeToIndex(itemPoint.index, itemPoint.dropInsideItem);\r\n        var eventArgs = extend(this._getEventArgs(e), {\r\n            toIndex: toIndex,\r\n            dropInsideItem: itemPoint.dropInsideItem\r\n        });\r\n        itemPoint.isValid && this._getAction(\"onDragChange\")(eventArgs);\r\n        if (eventArgs.cancel || !itemPoint.isValid) {\r\n            if (!itemPoint.isValid) {\r\n                this.option({\r\n                    dropInsideItem: false,\r\n                    toIndex: null\r\n                })\r\n            }\r\n            return\r\n        }\r\n        this.option({\r\n            dropInsideItem: itemPoint.dropInsideItem,\r\n            toIndex: itemPoint.index\r\n        });\r\n        this._getAction(\"onPlaceholderPrepared\")(extend(this._getEventArgs(e), {\r\n            placeholderElement: getPublicElement(this._$placeholderElement),\r\n            dragElement: getPublicElement(sourceDraggable._$dragElement)\r\n        }));\r\n        this._updateItemPoints()\r\n    },\r\n    _makeWidthCorrection: function($item, width) {\r\n        this._$scrollable = this._getScrollable($item);\r\n        if (this._$scrollable && getWidth(this._$scrollable) < width) {\r\n            var scrollableWidth = getWidth(this._$scrollable);\r\n            var offsetLeft = $item.offset().left - this._$scrollable.offset().left;\r\n            var offsetRight = scrollableWidth - getOuterWidth($item) - offsetLeft;\r\n            if (offsetLeft > 0) {\r\n                width = scrollableWidth - offsetLeft\r\n            } else if (offsetRight > 0) {\r\n                width = scrollableWidth - offsetRight\r\n            } else {\r\n                width = scrollableWidth\r\n            }\r\n        }\r\n        return width\r\n    },\r\n    _updatePlaceholderSizes: function($placeholderElement, itemElement) {\r\n        var dropInsideItem = this.option(\"dropInsideItem\");\r\n        var $item = $(itemElement);\r\n        var isVertical = this._isVerticalOrientation();\r\n        var width = \"\";\r\n        var height = \"\";\r\n        $placeholderElement.toggleClass(this._addWidgetPrefix(\"placeholder-inside\"), dropInsideItem);\r\n        if (isVertical || dropInsideItem) {\r\n            width = getOuterWidth($item)\r\n        }\r\n        if (!isVertical || dropInsideItem) {\r\n            height = getOuterHeight($item)\r\n        }\r\n        width = this._makeWidthCorrection($item, width);\r\n        $placeholderElement.css({\r\n            width: width,\r\n            height: height\r\n        })\r\n    },\r\n    _moveItem: function($itemElement, index, cancelRemove) {\r\n        var $prevTargetItemElement;\r\n        var $itemElements = this._getItems();\r\n        var $targetItemElement = $itemElements[index];\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        if (cancelRemove) {\r\n            $itemElement = $itemElement.clone();\r\n            sourceDraggable._toggleDragSourceClass(false, $itemElement)\r\n        }\r\n        if (!$targetItemElement) {\r\n            $prevTargetItemElement = $itemElements[index - 1]\r\n        }\r\n        this._moveItemCore($itemElement, $targetItemElement, $prevTargetItemElement)\r\n    },\r\n    _moveItemCore: function($targetItem, item, prevItem) {\r\n        if (!item && !prevItem) {\r\n            $targetItem.appendTo(this.$element())\r\n        } else if (prevItem) {\r\n            $targetItem.insertAfter($(prevItem))\r\n        } else {\r\n            $targetItem.insertBefore($(item))\r\n        }\r\n    },\r\n    _getDragStartArgs: function(e, $itemElement) {\r\n        return extend(this.callBase.apply(this, arguments), {\r\n            fromIndex: this._getElementIndex($itemElement)\r\n        })\r\n    },\r\n    _getEventArgs: function(e) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        var dropInsideItem = targetDraggable.option(\"dropInsideItem\");\r\n        return extend(this.callBase.apply(this, arguments), {\r\n            fromIndex: sourceDraggable.option(\"fromIndex\"),\r\n            toIndex: this._normalizeToIndex(targetDraggable.option(\"toIndex\"), dropInsideItem),\r\n            dropInsideItem: dropInsideItem\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"onDragChange\":\r\n            case \"onPlaceholderPrepared\":\r\n            case \"onAdd\":\r\n            case \"onRemove\":\r\n            case \"onReorder\":\r\n                this[\"_\" + name + \"Action\"] = this._createActionByOption(name);\r\n                break;\r\n            case \"itemOrientation\":\r\n            case \"allowDropInsideItem\":\r\n            case \"moveItemOnDrop\":\r\n            case \"dropFeedbackMode\":\r\n            case \"itemPoints\":\r\n            case \"animation\":\r\n            case \"allowReordering\":\r\n            case \"fromIndexOffset\":\r\n            case \"offset\":\r\n            case \"draggableElementSize\":\r\n            case \"autoUpdate\":\r\n                break;\r\n            case \"fromIndex\":\r\n                [false, true].forEach(isDragSource => {\r\n                    var fromIndex = isDragSource ? args.value : args.previousValue;\r\n                    if (null !== fromIndex) {\r\n                        var $fromElement = $(this._getItems()[fromIndex]);\r\n                        this._toggleDragSourceClass(isDragSource, $fromElement)\r\n                    }\r\n                });\r\n                break;\r\n            case \"dropInsideItem\":\r\n                this._optionChangedDropInsideItem(args);\r\n                break;\r\n            case \"toIndex\":\r\n                this._optionChangedToIndex(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _optionChangedDropInsideItem: function() {\r\n        if (this._isIndicateMode() && this._$placeholderElement) {\r\n            this._movePlaceholder()\r\n        }\r\n    },\r\n    _isPositionVisible: function(position) {\r\n        var $element = this.$element();\r\n        var scrollContainer;\r\n        if (\"hidden\" !== $element.css(\"overflow\")) {\r\n            scrollContainer = $element.get(0)\r\n        } else {\r\n            $element.parents().each((function() {\r\n                if (\"visible\" !== $(this).css(\"overflow\")) {\r\n                    scrollContainer = this;\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        if (scrollContainer) {\r\n            var clientRect = getBoundingRect(scrollContainer);\r\n            var isVerticalOrientation = this._isVerticalOrientation();\r\n            var start = isVerticalOrientation ? \"top\" : \"left\";\r\n            var end = isVerticalOrientation ? \"bottom\" : \"right\";\r\n            var pageOffset = isVerticalOrientation ? window.pageYOffset : window.pageXOffset;\r\n            if (position[start] < clientRect[start] + pageOffset || position[start] > clientRect[end] + pageOffset) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _optionChangedToIndex: function(args) {\r\n        var toIndex = args.value;\r\n        if (this._isIndicateMode()) {\r\n            var showPlaceholder = null !== toIndex && toIndex >= 0;\r\n            this._togglePlaceholder(showPlaceholder);\r\n            if (showPlaceholder) {\r\n                this._movePlaceholder()\r\n            }\r\n        } else {\r\n            this._moveItems(args.previousValue, args.value, args.fullUpdate)\r\n        }\r\n    },\r\n    update: function() {\r\n        if (null === this.option(\"fromIndex\") && null === this.option(\"toIndex\")) {\r\n            return\r\n        }\r\n        this._updateItemPoints(true);\r\n        this._updateDragSourceClass();\r\n        var toIndex = this.option(\"toIndex\");\r\n        this._optionChangedToIndex({\r\n            value: toIndex,\r\n            fullUpdate: true\r\n        })\r\n    },\r\n    _updateDragSourceClass: function() {\r\n        var fromIndex = this._getActualFromIndex();\r\n        var $fromElement = $(this._getItems()[fromIndex]);\r\n        if ($fromElement.length) {\r\n            this._$sourceElement = $fromElement;\r\n            this._toggleDragSourceClass(true, $fromElement)\r\n        }\r\n    },\r\n    _makeLeftCorrection: function(left, leftMargin) {\r\n        var $scrollable = this._$scrollable;\r\n        if ($scrollable && this._isVerticalOrientation() && $scrollable.scrollLeft() > leftMargin) {\r\n            left += $scrollable.scrollLeft() - leftMargin\r\n        }\r\n        return left\r\n    },\r\n    _movePlaceholder: function() {\r\n        var $placeholderElement = this._$placeholderElement || this._createPlaceholder();\r\n        if (!$placeholderElement) {\r\n            return\r\n        }\r\n        var items = this._getItems();\r\n        var toIndex = this.option(\"toIndex\");\r\n        var isVerticalOrientation = this._isVerticalOrientation();\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var dropInsideItem = this.option(\"dropInsideItem\");\r\n        var position = null;\r\n        var leftMargin = 0;\r\n        var itemElement = items[toIndex];\r\n        if (itemElement) {\r\n            var $itemElement = $(itemElement);\r\n            position = $itemElement.offset();\r\n            leftMargin = parseFloat($itemElement.css(\"marginLeft\"));\r\n            if (!isVerticalOrientation && rtlEnabled && !dropInsideItem) {\r\n                position.left += getOuterWidth($itemElement, true)\r\n            }\r\n        } else {\r\n            var prevVisibleItemElement = itemElement = this._getPrevVisibleItem(items, toIndex);\r\n            if (prevVisibleItemElement) {\r\n                position = $(prevVisibleItemElement).offset();\r\n                if (isVerticalOrientation) {\r\n                    position.top += getOuterHeight(prevVisibleItemElement, true)\r\n                } else if (!rtlEnabled) {\r\n                    position.left += getOuterWidth(prevVisibleItemElement, true)\r\n                }\r\n            }\r\n        }\r\n        this._updatePlaceholderSizes($placeholderElement, itemElement);\r\n        if (position && !this._isPositionVisible(position)) {\r\n            position = null\r\n        }\r\n        if (position) {\r\n            position.left = this._makeLeftCorrection(position.left, leftMargin);\r\n            this._move(position, $placeholderElement)\r\n        }\r\n        $placeholderElement.toggle(!!position)\r\n    },\r\n    _getPositions: function(items, elementSize, fromIndex, toIndex) {\r\n        var positions = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            var position = 0;\r\n            if (null === toIndex || null === fromIndex) {\r\n                positions.push(position);\r\n                continue\r\n            }\r\n            if (-1 === fromIndex) {\r\n                if (i >= toIndex) {\r\n                    position = elementSize\r\n                }\r\n            } else if (-1 === toIndex) {\r\n                if (i > fromIndex) {\r\n                    position = -elementSize\r\n                }\r\n            } else if (fromIndex < toIndex) {\r\n                if (i > fromIndex && i < toIndex) {\r\n                    position = -elementSize\r\n                }\r\n            } else if (fromIndex > toIndex) {\r\n                if (i >= toIndex && i < fromIndex) {\r\n                    position = elementSize\r\n                }\r\n            }\r\n            positions.push(position)\r\n        }\r\n        return positions\r\n    },\r\n    _getDraggableElementSize: function(isVerticalOrientation) {\r\n        var $draggableItem = this._getDraggableElement();\r\n        var size = this.option(\"draggableElementSize\");\r\n        if (!size) {\r\n            size = isVerticalOrientation ? (getOuterHeight($draggableItem) + getOuterHeight($draggableItem, true)) / 2 : (getOuterWidth($draggableItem) + getOuterWidth($draggableItem, true)) / 2;\r\n            if (!this.option(\"autoUpdate\")) {\r\n                this.option(\"draggableElementSize\", size)\r\n            }\r\n        }\r\n        return size\r\n    },\r\n    _getActualFromIndex: function() {\r\n        var {\r\n            fromIndex: fromIndex,\r\n            fromIndexOffset: fromIndexOffset,\r\n            offset: offset\r\n        } = this.option();\r\n        return null == fromIndex ? null : fromIndex + fromIndexOffset - offset\r\n    },\r\n    _moveItems: function(prevToIndex, toIndex, fullUpdate) {\r\n        var fromIndex = this._getActualFromIndex();\r\n        var isVerticalOrientation = this._isVerticalOrientation();\r\n        var positionPropName = isVerticalOrientation ? \"top\" : \"left\";\r\n        var elementSize = this._getDraggableElementSize(isVerticalOrientation);\r\n        var items = this._getItems();\r\n        var prevPositions = this._getPositions(items, elementSize, fromIndex, prevToIndex);\r\n        var positions = this._getPositions(items, elementSize, fromIndex, toIndex);\r\n        var animationConfig = this.option(\"animation\");\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        for (var i = 0; i < items.length; i++) {\r\n            var itemElement = items[i];\r\n            var prevPosition = prevPositions[i];\r\n            var position = positions[i];\r\n            if (null === toIndex || null === fromIndex) {\r\n                stopAnimation(itemElement)\r\n            } else if (prevPosition !== position || fullUpdate && position) {\r\n                animate(itemElement, extend({}, animationConfig, {\r\n                    to: {\r\n                        [positionPropName]: !isVerticalOrientation && rtlEnabled ? -position : position\r\n                    }\r\n                }))\r\n            }\r\n        }\r\n    },\r\n    _toggleDragSourceClass: function(value, $element) {\r\n        var $sourceElement = $element || this._$sourceElement;\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._isIndicateMode()) {\r\n            $sourceElement && $sourceElement.toggleClass(this._addWidgetPrefix(\"source-hidden\"), value)\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this.reset();\r\n        this.callBase()\r\n    },\r\n    _fireAddEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onAdd\")(args);\r\n        return args.cancel\r\n    },\r\n    _fireRemoveEvent: function(sourceEvent) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var args = this._getEventArgs(sourceEvent);\r\n        sourceDraggable._getAction(\"onRemove\")(args);\r\n        return args.cancel\r\n    },\r\n    _fireReorderEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onReorder\")(args);\r\n        return args.promise || (new Deferred).resolve()\r\n    }\r\n});\r\nregisterComponent(SORTABLE, Sortable);\r\nexport default Sortable;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.row_dragging.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setWidth,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Sortable from \"../sortable\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    deferUpdate\r\n} from \"../../core/utils/common\";\r\nvar COMMAND_HANDLE_CLASS = \"dx-command-drag\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar HANDLE_ICON_CLASS = \"drag-icon\";\r\nvar ROWS_VIEW = \"rowsview\";\r\nvar SORTABLE_WITHOUT_HANDLE_CLASS = \"dx-sortable-without-handle\";\r\nvar RowDraggingExtender = {\r\n    init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._updateHandleColumn()\r\n    },\r\n    _allowReordering: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        return !!(rowDragging && (rowDragging.allowReordering || rowDragging.allowDropInsideItem || rowDragging.group))\r\n    },\r\n    _updateHandleColumn: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        var allowReordering = this._allowReordering();\r\n        var columnsController = this._columnsController;\r\n        var isHandleColumnVisible = allowReordering && rowDragging.showDragIcons;\r\n        columnsController && columnsController.addCommandColumn({\r\n            type: \"drag\",\r\n            command: \"drag\",\r\n            visibleIndex: -2,\r\n            alignment: \"center\",\r\n            cssClass: COMMAND_HANDLE_CLASS,\r\n            width: \"auto\",\r\n            cellTemplate: this._getHandleTemplate(),\r\n            visible: isHandleColumnVisible\r\n        });\r\n        columnsController.columnOption(\"type:drag\", \"visible\", isHandleColumnVisible)\r\n    },\r\n    _renderContent: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        var allowReordering = this._allowReordering();\r\n        var $content = this.callBase.apply(this, arguments);\r\n        var isFixedTableRendering = this._isFixedTableRendering;\r\n        var sortableName = \"_sortable\";\r\n        var sortableFixedName = \"_sortableFixed\";\r\n        var currentSortableName = isFixedTableRendering ? sortableFixedName : sortableName;\r\n        var anotherSortableName = isFixedTableRendering ? sortableName : sortableFixedName;\r\n        var togglePointerEventsStyle = toggle => {\r\n            var _this$sortableFixedNa;\r\n            null === (_this$sortableFixedNa = this[sortableFixedName]) || void 0 === _this$sortableFixedNa ? void 0 : _this$sortableFixedNa.$element().css(\"pointerEvents\", toggle ? \"auto\" : \"\")\r\n        };\r\n        var rowSelector = \".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)\";\r\n        var filter = this.option(\"dataRowTemplate\") ? \"> table > tbody\".concat(rowSelector) : \"> table > tbody > \".concat(rowSelector);\r\n        if ((allowReordering || this[currentSortableName]) && $content.length) {\r\n            this[currentSortableName] = this._createComponent($content, Sortable, extend({\r\n                component: this.component,\r\n                contentTemplate: null,\r\n                filter: filter,\r\n                dragTemplate: this._getDraggableRowTemplate(),\r\n                handle: rowDragging.showDragIcons && \".\".concat(COMMAND_HANDLE_CLASS),\r\n                dropFeedbackMode: \"indicate\"\r\n            }, rowDragging, {\r\n                onDragStart: e => {\r\n                    var _this$getController, _rowDragging$onDragSt;\r\n                    null === (_this$getController = this.getController(\"keyboardNavigation\")) || void 0 === _this$getController ? void 0 : _this$getController._resetFocusedCell();\r\n                    var row = e.component.getVisibleRows()[e.fromIndex];\r\n                    e.itemData = row && row.data;\r\n                    var isDataRow = row && \"data\" === row.rowType;\r\n                    e.cancel = !allowReordering || !isDataRow;\r\n                    null === (_rowDragging$onDragSt = rowDragging.onDragStart) || void 0 === _rowDragging$onDragSt ? void 0 : _rowDragging$onDragSt.call(rowDragging, e)\r\n                },\r\n                onDragEnter: () => {\r\n                    togglePointerEventsStyle(true)\r\n                },\r\n                onDragLeave: () => {\r\n                    togglePointerEventsStyle(false)\r\n                },\r\n                onDragEnd: e => {\r\n                    var _rowDragging$onDragEn;\r\n                    togglePointerEventsStyle(false);\r\n                    null === (_rowDragging$onDragEn = rowDragging.onDragEnd) || void 0 === _rowDragging$onDragEn ? void 0 : _rowDragging$onDragEn.call(rowDragging, e)\r\n                },\r\n                onAdd: e => {\r\n                    var _rowDragging$onAdd;\r\n                    togglePointerEventsStyle(false);\r\n                    null === (_rowDragging$onAdd = rowDragging.onAdd) || void 0 === _rowDragging$onAdd ? void 0 : _rowDragging$onAdd.call(rowDragging, e)\r\n                },\r\n                dropFeedbackMode: rowDragging.dropFeedbackMode,\r\n                onOptionChanged: e => {\r\n                    var hasFixedSortable = this[sortableFixedName];\r\n                    if (hasFixedSortable) {\r\n                        if (\"fromIndex\" === e.name || \"toIndex\" === e.name) {\r\n                            this[anotherSortableName].option(e.name, e.value)\r\n                        }\r\n                    }\r\n                }\r\n            }));\r\n            $content.toggleClass(\"dx-scrollable-container\", isFixedTableRendering);\r\n            $content.toggleClass(SORTABLE_WITHOUT_HANDLE_CLASS, allowReordering && !rowDragging.showDragIcons)\r\n        }\r\n        return $content\r\n    },\r\n    _renderCore(e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (e && \"update\" === e.changeType && e.repaintChangesOnly && gridCoreUtils.isVirtualRowRendering(this)) {\r\n            deferUpdate(() => {\r\n                this._updateSortable()\r\n            })\r\n        }\r\n    },\r\n    _updateSortable() {\r\n        var offset = this._dataController.getRowIndexOffset();\r\n        [this._sortable, this._sortableFixed].forEach(sortable => {\r\n            null === sortable || void 0 === sortable ? void 0 : sortable.option(\"offset\", offset);\r\n            null === sortable || void 0 === sortable ? void 0 : sortable.update()\r\n        })\r\n    },\r\n    _resizeCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._updateSortable()\r\n    },\r\n    _getDraggableGridOptions: function(options) {\r\n        var gridOptions = this.option();\r\n        var columns = this.getColumns();\r\n        var $rowElement = $(this.getRowElement(options.rowIndex));\r\n        return {\r\n            dataSource: [{\r\n                id: 1,\r\n                parentId: 0\r\n            }],\r\n            showBorders: true,\r\n            showColumnHeaders: false,\r\n            scrolling: {\r\n                useNative: false,\r\n                showScrollbar: \"never\"\r\n            },\r\n            pager: {\r\n                visible: false\r\n            },\r\n            loadingTimeout: null,\r\n            columnFixing: gridOptions.columnFixing,\r\n            columnAutoWidth: gridOptions.columnAutoWidth,\r\n            showColumnLines: gridOptions.showColumnLines,\r\n            columns: columns.map(column => ({\r\n                width: column.width || column.visibleWidth,\r\n                fixed: column.fixed,\r\n                fixedPosition: column.fixedPosition\r\n            })),\r\n            onRowPrepared: e => {\r\n                var rowsView = e.component.getView(\"rowsView\");\r\n                $(e.rowElement).replaceWith($rowElement.eq(rowsView._isFixedTableRendering ? 1 : 0).clone())\r\n            }\r\n        }\r\n    },\r\n    _getDraggableRowTemplate: function() {\r\n        return options => {\r\n            var $rootElement = this.component.$element();\r\n            var $dataGridContainer = $(\"<div>\");\r\n            setWidth($dataGridContainer, getWidth($rootElement));\r\n            var items = this._dataController.items();\r\n            var row = items && items[options.fromIndex];\r\n            var gridOptions = this._getDraggableGridOptions(row);\r\n            this._createComponent($dataGridContainer, this.component.NAME, gridOptions);\r\n            $dataGridContainer.find(\".dx-gridbase-container\").children(\":not(.\".concat(this.addWidgetPrefix(ROWS_VIEW), \")\")).hide();\r\n            return $dataGridContainer\r\n        }\r\n    },\r\n    _getHandleTemplate: function() {\r\n        return (container, options) => {\r\n            if (\"data\" === options.rowType) {\r\n                $(container).addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                return $(\"<span>\").addClass(this.addWidgetPrefix(HANDLE_ICON_CLASS))\r\n            } else {\r\n                gridCoreUtils.setEmptyText($(container))\r\n            }\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"rowDragging\" === args.name) {\r\n            this._updateHandleColumn();\r\n            this._invalidate(true, true);\r\n            args.handled = true\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    }\r\n};\r\nexport var rowDraggingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            rowDragging: {\r\n                showDragIcons: true,\r\n                dropFeedbackMode: \"indicate\",\r\n                allowReordering: false,\r\n                allowDropInsideItem: false\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: RowDraggingExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.row_dragging.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    rowDraggingModule\r\n} from \"../grid_core/ui.grid_core.row_dragging\";\r\ngridCore.registerModule(\"rowDragging\", rowDraggingModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport DataGrid from \"./ui.data_grid.base\";\r\nexport default DataGrid;\r\nimport \"./ui.data_grid.state_storing\";\r\nimport \"./ui.data_grid.selection\";\r\nimport \"./ui.data_grid.column_chooser\";\r\nimport \"./ui.data_grid.grouping\";\r\nimport \"./ui.data_grid.master_detail\";\r\nimport \"./ui.data_grid.editing\";\r\nimport \"./ui.data_grid.editing_row_based\";\r\nimport \"./ui.data_grid.editing_form_based\";\r\nimport \"./ui.data_grid.editing_cell_based\";\r\nimport \"./ui.data_grid.validating\";\r\nimport \"./ui.data_grid.virtual_scrolling\";\r\nimport \"./ui.data_grid.filter_row\";\r\nimport \"./ui.data_grid.header_filter\";\r\nimport \"./ui.data_grid.filter_sync\";\r\nimport \"./ui.data_grid.filter_builder\";\r\nimport \"./ui.data_grid.filter_panel\";\r\nimport \"./ui.data_grid.search\";\r\nimport \"./ui.data_grid.pager\";\r\nimport \"./ui.data_grid.columns_resizing_reordering\";\r\nimport \"./ui.data_grid.keyboard_navigation\";\r\nimport \"./ui.data_grid.summary\";\r\nimport \"./ui.data_grid.column_fixing\";\r\nimport \"./ui.data_grid.adaptivity\";\r\nimport \"./ui.data_grid.virtual_columns\";\r\nimport \"./ui.data_grid.export\";\r\nimport \"./ui.data_grid.focus\";\r\nimport \"./ui.data_grid.row_dragging\";\r\n","/**\r\n * DevExtreme (esm/ui/data_grid.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport DataGrid from \"./data_grid/ui.data_grid\";\r\nexport default DataGrid;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport sharedFiltering from \"../shared/filtering\";\r\nimport {\r\n    format\r\n} from \"../../core/utils/string\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    toComparable\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport LoadPanel from \"../load_panel\";\r\nimport {\r\n    normalizeSortingInfo as normalizeSortingInfoUtility\r\n} from \"../../data/utils\";\r\nimport formatHelper from \"../../format_helper\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nvar DATAGRID_SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\r\nvar DATAGRID_GROUP_OPENED_CLASS = \"dx-datagrid-group-opened\";\r\nvar DATAGRID_GROUP_CLOSED_CLASS = \"dx-datagrid-group-closed\";\r\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\r\nvar NO_DATA_CLASS = \"nodata\";\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar SCROLLING_MODE_OPTION = \"scrolling.mode\";\r\nvar ROW_RENDERING_MODE_OPTION = \"scrolling.rowRenderingMode\";\r\nvar DATE_INTERVAL_SELECTORS = {\r\n    year: function(value) {\r\n        return value && value.getFullYear()\r\n    },\r\n    month: function(value) {\r\n        return value && value.getMonth() + 1\r\n    },\r\n    day: function(value) {\r\n        return value && value.getDate()\r\n    },\r\n    quarter: function(value) {\r\n        return value && Math.floor(value.getMonth() / 3) + 1\r\n    },\r\n    hour: function(value) {\r\n        return value && value.getHours()\r\n    },\r\n    minute: function(value) {\r\n        return value && value.getMinutes()\r\n    },\r\n    second: function(value) {\r\n        return value && value.getSeconds()\r\n    }\r\n};\r\nvar getIntervalSelector = function() {\r\n    var data = arguments[1];\r\n    var value = this.calculateCellValue(data);\r\n    if (!isDefined(value)) {\r\n        return null\r\n    } else if (isDateType(this.dataType)) {\r\n        var nameIntervalSelector = arguments[0];\r\n        return DATE_INTERVAL_SELECTORS[nameIntervalSelector](value)\r\n    } else if (\"number\" === this.dataType) {\r\n        var groupInterval = arguments[0];\r\n        return Math.floor(Number(value) / groupInterval) * groupInterval\r\n    }\r\n};\r\nvar equalSelectors = function(selector1, selector2) {\r\n    if (isFunction(selector1) && isFunction(selector2)) {\r\n        if (selector1.originalCallback && selector2.originalCallback) {\r\n            return selector1.originalCallback === selector2.originalCallback && selector1.columnIndex === selector2.columnIndex\r\n        }\r\n    }\r\n    return selector1 === selector2\r\n};\r\n\r\nfunction isDateType(dataType) {\r\n    return \"date\" === dataType || \"datetime\" === dataType\r\n}\r\nvar setEmptyText = function($container) {\r\n    $container.get(0).textContent = \"\\xa0\"\r\n};\r\nvar normalizeSortingInfo = function(sort) {\r\n    sort = sort || [];\r\n    var result = normalizeSortingInfoUtility(sort);\r\n    for (var i = 0; i < sort.length; i++) {\r\n        if (sort && sort[i] && void 0 !== sort[i].isExpanded) {\r\n            result[i].isExpanded = sort[i].isExpanded\r\n        }\r\n        if (sort && sort[i] && void 0 !== sort[i].groupInterval) {\r\n            result[i].groupInterval = sort[i].groupInterval\r\n        }\r\n    }\r\n    return result\r\n};\r\nvar formatValue = function(value, options) {\r\n    var valueText = formatHelper.format(value, options.format) || value && value.toString() || \"\";\r\n    var formatObject = {\r\n        value: value,\r\n        valueText: options.getDisplayFormat ? options.getDisplayFormat(valueText) : valueText,\r\n        target: options.target || \"row\",\r\n        groupInterval: options.groupInterval\r\n    };\r\n    return options.customizeText ? options.customizeText.call(options, formatObject) : formatObject.valueText\r\n};\r\nvar getSummaryText = function(summaryItem, summaryTexts) {\r\n    var displayFormat = summaryItem.displayFormat || summaryItem.columnCaption && summaryTexts[summaryItem.summaryType + \"OtherColumn\"] || summaryTexts[summaryItem.summaryType];\r\n    return formatValue(summaryItem.value, {\r\n        format: summaryItem.valueFormat,\r\n        getDisplayFormat: function(valueText) {\r\n            return displayFormat ? format(displayFormat, valueText, summaryItem.columnCaption) : valueText\r\n        },\r\n        customizeText: summaryItem.customizeText\r\n    })\r\n};\r\nvar getWidgetInstance = function($element) {\r\n    var editorData = $element.data && $element.data();\r\n    var dxComponents = editorData && editorData.dxComponents;\r\n    var widgetName = dxComponents && dxComponents[0];\r\n    return widgetName && editorData[widgetName]\r\n};\r\nvar equalFilterParameters = function equalFilterParameters(filter1, filter2) {\r\n    if (Array.isArray(filter1) && Array.isArray(filter2)) {\r\n        if (filter1.length !== filter2.length) {\r\n            return false\r\n        } else {\r\n            for (var i = 0; i < filter1.length; i++) {\r\n                if (!equalFilterParameters(filter1[i], filter2[i])) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    } else if (isFunction(filter1) && filter1.columnIndex >= 0 && isFunction(filter2) && filter2.columnIndex >= 0) {\r\n        return filter1.columnIndex === filter2.columnIndex && toComparable(filter1.filterValue) === toComparable(filter2.filterValue)\r\n    } else {\r\n        return toComparable(filter1) == toComparable(filter2)\r\n    }\r\n};\r\nexport default {\r\n    renderNoDataText: function($element) {\r\n        $element = $element || this.element();\r\n        if (!$element) {\r\n            return\r\n        }\r\n        var noDataClass = this.addWidgetPrefix(NO_DATA_CLASS);\r\n        var noDataElement = $element.find(\".\" + noDataClass).last();\r\n        var isVisible = this._dataController.isEmpty();\r\n        var isLoading = this._dataController.isLoading();\r\n        if (!noDataElement.length) {\r\n            noDataElement = $(\"<span>\").addClass(noDataClass).appendTo($element)\r\n        }\r\n        if (isVisible && !isLoading) {\r\n            noDataElement.removeClass(\"dx-hidden\").text(this._getNoDataText())\r\n        } else {\r\n            noDataElement.addClass(\"dx-hidden\")\r\n        }\r\n    },\r\n    renderLoadPanel: function($element, $container, isLocalStore) {\r\n        var loadPanelOptions;\r\n        this._loadPanel && this._loadPanel.$element().remove();\r\n        loadPanelOptions = this.option(\"loadPanel\");\r\n        if (loadPanelOptions && (\"auto\" === loadPanelOptions.enabled ? !isLocalStore : loadPanelOptions.enabled)) {\r\n            loadPanelOptions = extend({\r\n                shading: false,\r\n                message: loadPanelOptions.text,\r\n                container: $container\r\n            }, loadPanelOptions);\r\n            this._loadPanel = this._createComponent($(\"<div>\").appendTo($container), LoadPanel, loadPanelOptions)\r\n        } else {\r\n            this._loadPanel = null\r\n        }\r\n    },\r\n    calculateLoadPanelPosition($element) {\r\n        var $window = $(getWindow());\r\n        if (getHeight($element) > getHeight($window)) {\r\n            return {\r\n                of: $window,\r\n                boundary: $element,\r\n                collision: \"fit\"\r\n            }\r\n        }\r\n        return {\r\n            of: $element\r\n        }\r\n    },\r\n    getIndexByKey: function(key, items, keyName) {\r\n        var index = -1;\r\n        if (void 0 !== key && Array.isArray(items)) {\r\n            keyName = arguments.length <= 2 ? \"key\" : keyName;\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = isDefined(keyName) ? items[i][keyName] : items[i];\r\n                if (equalByValue(key, item)) {\r\n                    index = i;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return index\r\n    },\r\n    combineFilters: function(filters, operation) {\r\n        var resultFilter = [];\r\n        operation = operation || \"and\";\r\n        for (var i = 0; i < filters.length; i++) {\r\n            var _filters$i;\r\n            if (!filters[i]) {\r\n                continue\r\n            }\r\n            if (1 === (null === (_filters$i = filters[i]) || void 0 === _filters$i ? void 0 : _filters$i.length) && \"!\" === filters[i][0]) {\r\n                if (\"and\" === operation) {\r\n                    return [\"!\"]\r\n                } else if (\"or\" === operation) {\r\n                    continue\r\n                }\r\n            }\r\n            if (resultFilter.length) {\r\n                resultFilter.push(operation)\r\n            }\r\n            resultFilter.push(filters[i])\r\n        }\r\n        if (1 === resultFilter.length) {\r\n            resultFilter = resultFilter[0]\r\n        }\r\n        if (resultFilter.length) {\r\n            return resultFilter\r\n        }\r\n    },\r\n    checkChanges: function(changes, changeNames) {\r\n        var changesWithChangeNamesCount = 0;\r\n        for (var i = 0; i < changeNames.length; i++) {\r\n            if (changes[changeNames[i]]) {\r\n                changesWithChangeNamesCount++\r\n            }\r\n        }\r\n        return changes.length && changes.length === changesWithChangeNamesCount\r\n    },\r\n    equalFilterParameters: equalFilterParameters,\r\n    proxyMethod: function(instance, methodName, defaultResult) {\r\n        if (!instance[methodName]) {\r\n            instance[methodName] = function() {\r\n                var dataSource = this._dataSource;\r\n                return dataSource ? dataSource[methodName].apply(dataSource, arguments) : defaultResult\r\n            }\r\n        }\r\n    },\r\n    formatValue: formatValue,\r\n    getFormatOptionsByColumn: function(column, target) {\r\n        return {\r\n            format: column.format,\r\n            getDisplayFormat: column.getDisplayFormat,\r\n            customizeText: column.customizeText,\r\n            target: target,\r\n            trueText: column.trueText,\r\n            falseText: column.falseText\r\n        }\r\n    },\r\n    getDisplayValue: function(column, value, data, rowType) {\r\n        if (column.displayValueMap && void 0 !== column.displayValueMap[value]) {\r\n            return column.displayValueMap[value]\r\n        } else if (column.calculateDisplayValue && data && \"group\" !== rowType) {\r\n            return column.calculateDisplayValue(data)\r\n        } else if (column.lookup && !(\"group\" === rowType && (column.calculateGroupValue || column.calculateDisplayValue))) {\r\n            return column.lookup.calculateCellValue(value)\r\n        }\r\n        return value\r\n    },\r\n    getGroupRowSummaryText: function(summaryItems, summaryTexts) {\r\n        var result = \"(\";\r\n        for (var i = 0; i < summaryItems.length; i++) {\r\n            var summaryItem = summaryItems[i];\r\n            result += (i > 0 ? \", \" : \"\") + getSummaryText(summaryItem, summaryTexts)\r\n        }\r\n        return result + \")\"\r\n    },\r\n    getSummaryText: getSummaryText,\r\n    normalizeSortingInfo: normalizeSortingInfo,\r\n    getFormatByDataType: function(dataType) {\r\n        switch (dataType) {\r\n            case \"date\":\r\n                return \"shortDate\";\r\n            case \"datetime\":\r\n                return \"shortDateShortTime\"\r\n        }\r\n    },\r\n    getHeaderFilterGroupParameters: function(column, remoteGrouping) {\r\n        var result = [];\r\n        var dataField = column.dataField || column.name;\r\n        var groupInterval = sharedFiltering.getGroupInterval(column);\r\n        if (groupInterval) {\r\n            each(groupInterval, (function(index, interval) {\r\n                result.push(remoteGrouping ? {\r\n                    selector: dataField,\r\n                    groupInterval: interval,\r\n                    isExpanded: index < groupInterval.length - 1\r\n                } : getIntervalSelector.bind(column, interval))\r\n            }));\r\n            return result\r\n        }\r\n        if (remoteGrouping) {\r\n            result = [{\r\n                selector: dataField,\r\n                isExpanded: false\r\n            }]\r\n        } else {\r\n            result = function(data) {\r\n                var result = column.calculateCellValue(data);\r\n                if (void 0 === result || \"\" === result) {\r\n                    result = null\r\n                }\r\n                return result\r\n            };\r\n            if (column.sortingMethod) {\r\n                result = [{\r\n                    selector: result,\r\n                    compare: column.sortingMethod.bind(column)\r\n                }]\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    equalSortParameters(sortParameters1, sortParameters2, ignoreIsExpanded) {\r\n        sortParameters1 = normalizeSortingInfo(sortParameters1);\r\n        sortParameters2 = normalizeSortingInfo(sortParameters2);\r\n        if (Array.isArray(sortParameters1) && Array.isArray(sortParameters2)) {\r\n            if (sortParameters1.length !== sortParameters2.length) {\r\n                return false\r\n            } else {\r\n                for (var i = 0; i < sortParameters1.length; i++) {\r\n                    if (!equalSelectors(sortParameters1[i].selector, sortParameters2[i].selector) || sortParameters1[i].desc !== sortParameters2[i].desc || sortParameters1[i].groupInterval !== sortParameters2[i].groupInterval || !ignoreIsExpanded && Boolean(sortParameters1[i].isExpanded) !== Boolean(sortParameters2[i].isExpanded)) {\r\n                        return false\r\n                    }\r\n                }\r\n            }\r\n            return true\r\n        } else {\r\n            return (!sortParameters1 || !sortParameters1.length) === (!sortParameters2 || !sortParameters2.length)\r\n        }\r\n    },\r\n    getPointsByColumns: function(items, pointCreated, isVertical, startColumnIndex) {\r\n        var cellsLength = items.length;\r\n        var notCreatePoint = false;\r\n        var item;\r\n        var offset;\r\n        var columnIndex = startColumnIndex || 0;\r\n        var result = [];\r\n        var rtlEnabled;\r\n        for (var i = 0; i <= cellsLength; i++) {\r\n            if (i < cellsLength) {\r\n                item = items.eq(i);\r\n                offset = item.offset();\r\n                rtlEnabled = \"rtl\" === item.css(\"direction\")\r\n            }\r\n            var point = {\r\n                index: columnIndex,\r\n                x: offset ? offset.left + (!isVertical && rtlEnabled ^ i === cellsLength ? getBoundingRect(item[0]).width : 0) : 0,\r\n                y: offset ? offset.top + (isVertical && i === cellsLength ? getBoundingRect(item[0]).height : 0) : 0,\r\n                columnIndex: columnIndex\r\n            };\r\n            if (!isVertical && i > 0) {\r\n                var prevItemOffset = items.eq(i - 1).offset();\r\n                if (prevItemOffset.top < point.y) {\r\n                    point.y = prevItemOffset.top\r\n                }\r\n            }\r\n            if (pointCreated) {\r\n                notCreatePoint = pointCreated(point)\r\n            }\r\n            if (!notCreatePoint) {\r\n                result.push(point)\r\n            }\r\n            columnIndex++\r\n        }\r\n        return result\r\n    },\r\n    getExpandCellTemplate: function() {\r\n        return {\r\n            allowRenderToDetachedContainer: true,\r\n            render: function(container, options) {\r\n                var $container = $(container);\r\n                if (isDefined(options.value) && !(options.data && options.data.isContinuation) && !options.row.isNewRow) {\r\n                    var rowsView = options.component.getView(\"rowsView\");\r\n                    $container.addClass(DATAGRID_EXPAND_CLASS).addClass(DATAGRID_SELECTION_DISABLED_CLASS);\r\n                    $(\"<div>\").addClass(options.value ? DATAGRID_GROUP_OPENED_CLASS : DATAGRID_GROUP_CLOSED_CLASS).appendTo($container);\r\n                    rowsView.setAria(\"label\", options.value ? rowsView.localize(\"dxDataGrid-ariaCollapse\") : rowsView.localize(\"dxDataGrid-ariaExpand\"), $container)\r\n                } else {\r\n                    setEmptyText($container)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setEmptyText: setEmptyText,\r\n    isDateType: isDateType,\r\n    getSelectionRange: function(focusedElement) {\r\n        try {\r\n            if (focusedElement) {\r\n                return {\r\n                    selectionStart: focusedElement.selectionStart,\r\n                    selectionEnd: focusedElement.selectionEnd\r\n                }\r\n            }\r\n        } catch (e) {}\r\n        return {}\r\n    },\r\n    setSelectionRange: function(focusedElement, selectionRange) {\r\n        try {\r\n            if (focusedElement && focusedElement.setSelectionRange) {\r\n                focusedElement.setSelectionRange(selectionRange.selectionStart, selectionRange.selectionEnd)\r\n            }\r\n        } catch (e) {}\r\n    },\r\n    focusAndSelectElement: function(component, $element) {\r\n        var isFocused = $element.is(\":focus\");\r\n        eventsEngine.trigger($element, \"focus\");\r\n        var isSelectTextOnEditingStart = component.option(\"editing.selectTextOnEditStart\");\r\n        var element = $element.get(0);\r\n        if (!isFocused && isSelectTextOnEditingStart && $element.is(\".dx-texteditor-input\") && !$element.is(\"[readonly]\")) {\r\n            var editor = getWidgetInstance($element.closest(\".dx-texteditor\"));\r\n            when(editor && editor._loadItemDeferred).done((function() {\r\n                element.select()\r\n            }))\r\n        }\r\n    },\r\n    getWidgetInstance: getWidgetInstance,\r\n    getLastResizableColumnIndex: function(columns, resultWidths) {\r\n        var hasResizableColumns = columns.some(column => column && !column.command && !column.fixed && false !== column.allowResizing);\r\n        var lastColumnIndex;\r\n        for (lastColumnIndex = columns.length - 1; columns[lastColumnIndex]; lastColumnIndex--) {\r\n            var column = columns[lastColumnIndex];\r\n            var width = resultWidths && resultWidths[lastColumnIndex];\r\n            var allowResizing = !hasResizableColumns || false !== column.allowResizing;\r\n            if (!column.command && !column.fixed && \"adaptiveHidden\" !== width && allowResizing) {\r\n                break\r\n            }\r\n        }\r\n        return lastColumnIndex\r\n    },\r\n    isElementInCurrentGrid: function(controller, $element) {\r\n        if ($element && $element.length) {\r\n            var $grid = $element.closest(\".\" + controller.getWidgetContainerClass()).parent();\r\n            return $grid.is(controller.component.$element())\r\n        }\r\n        return false\r\n    },\r\n    isVirtualRowRendering: function(that) {\r\n        var rowRenderingMode = that.option(ROW_RENDERING_MODE_OPTION);\r\n        var isVirtualMode = that.option(SCROLLING_MODE_OPTION) === SCROLLING_MODE_VIRTUAL;\r\n        var isAppendMode = that.option(SCROLLING_MODE_OPTION) === SCROLLING_MODE_INFINITE;\r\n        if (false === that.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            return true\r\n        }\r\n        return rowRenderingMode === SCROLLING_MODE_VIRTUAL\r\n    },\r\n    getPixelRatio: function(window) {\r\n        return window.devicePixelRatio || 1\r\n    },\r\n    getContentHeightLimit(browser) {\r\n        if (browser.mozilla) {\r\n            return 8e6\r\n        }\r\n        return 15e6 / this.getPixelRatio(getWindow())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/shared/filtering.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDate,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nvar DEFAULT_DATE_INTERVAL = [\"year\", \"month\", \"day\"];\r\nvar DEFAULT_DATETIME_INTERVAL = [\"year\", \"month\", \"day\", \"hour\", \"minute\"];\r\nvar isDateType = function(dataType) {\r\n    return \"date\" === dataType || \"datetime\" === dataType\r\n};\r\nvar getGroupInterval = function(column) {\r\n    var index;\r\n    var result = [];\r\n    var dateIntervals = [\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\"];\r\n    var groupInterval = column.headerFilter && column.headerFilter.groupInterval;\r\n    var interval = \"quarter\" === groupInterval ? \"month\" : groupInterval;\r\n    if (isDateType(column.dataType) && null !== groupInterval) {\r\n        result = \"datetime\" === column.dataType ? DEFAULT_DATETIME_INTERVAL : DEFAULT_DATE_INTERVAL;\r\n        index = inArray(interval, dateIntervals);\r\n        if (index >= 0) {\r\n            result = dateIntervals.slice(0, index);\r\n            result.push(groupInterval);\r\n            return result\r\n        }\r\n        return result\r\n    } else if (isDefined(groupInterval)) {\r\n        return Array.isArray(groupInterval) ? groupInterval : [groupInterval]\r\n    }\r\n};\r\nexport default (function() {\r\n    var getFilterSelector = function(column, target) {\r\n        var selector = column.dataField || column.selector;\r\n        if (\"search\" === target) {\r\n            selector = column.displayField || column.calculateDisplayValue || selector\r\n        }\r\n        return selector\r\n    };\r\n    var getFilterExpressionByRange = function(filterValue, target) {\r\n        var endFilterValue;\r\n        var startFilterExpression;\r\n        var endFilterExpression;\r\n        var selector = getFilterSelector(this, target);\r\n        if (Array.isArray(filterValue) && isDefined(filterValue[0]) && isDefined(filterValue[1])) {\r\n            startFilterExpression = [selector, \">=\", filterValue[0]];\r\n            endFilterExpression = [selector, \"<=\", filterValue[1]];\r\n            if (isDateType(this.dataType) && (date = filterValue[1], date.getHours() + date.getMinutes() + date.getSeconds() + date.getMilliseconds() < 1)) {\r\n                endFilterValue = new Date(filterValue[1].getTime());\r\n                if (\"date\" === this.dataType) {\r\n                    endFilterValue.setDate(filterValue[1].getDate() + 1)\r\n                }\r\n                endFilterExpression = [selector, \"<\", endFilterValue]\r\n            }\r\n            return [startFilterExpression, \"and\", endFilterExpression]\r\n        }\r\n        var date\r\n    };\r\n    var getFilterExpressionForDate = function(filterValue, selectedFilterOperation, target) {\r\n        var dateStart;\r\n        var dateEnd;\r\n        var dateInterval;\r\n        var values = function(dateValue) {\r\n            if (isDate(dateValue)) {\r\n                return [dateValue.getFullYear(), dateValue.getMonth(), dateValue.getDate(), dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds()]\r\n            }\r\n            return map((\"\" + dateValue).split(\"/\"), (function(value, index) {\r\n                return 1 === index ? Number(value) - 1 : Number(value)\r\n            }))\r\n        }(filterValue);\r\n        var selector = getFilterSelector(this, target);\r\n        if (\"headerFilter\" === target) {\r\n            dateInterval = getGroupInterval(this)[values.length - 1]\r\n        } else if (\"datetime\" === this.dataType) {\r\n            dateInterval = \"minute\"\r\n        }\r\n        switch (dateInterval) {\r\n            case \"year\":\r\n                dateStart = new Date(values[0], 0, 1);\r\n                dateEnd = new Date(values[0] + 1, 0, 1);\r\n                break;\r\n            case \"month\":\r\n                dateStart = new Date(values[0], values[1], 1);\r\n                dateEnd = new Date(values[0], values[1] + 1, 1);\r\n                break;\r\n            case \"quarter\":\r\n                dateStart = new Date(values[0], 3 * values[1], 1);\r\n                dateEnd = new Date(values[0], 3 * values[1] + 3, 1);\r\n                break;\r\n            case \"hour\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3] + 1);\r\n                break;\r\n            case \"minute\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3], values[4]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3], values[4] + 1);\r\n                break;\r\n            case \"second\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3], values[4], values[5]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3], values[4], values[5] + 1);\r\n                break;\r\n            default:\r\n                dateStart = new Date(values[0], values[1], values[2]);\r\n                dateEnd = new Date(values[0], values[1], values[2] + 1)\r\n        }\r\n        switch (selectedFilterOperation) {\r\n            case \"<\":\r\n                return [selector, \"<\", dateStart];\r\n            case \"<=\":\r\n                return [selector, \"<\", dateEnd];\r\n            case \">\":\r\n                return [selector, \">=\", dateEnd];\r\n            case \">=\":\r\n                return [selector, \">=\", dateStart];\r\n            case \"<>\":\r\n                return [\r\n                    [selector, \"<\", dateStart], \"or\", [selector, \">=\", dateEnd]\r\n                ];\r\n            default:\r\n                return [\r\n                    [selector, \">=\", dateStart], \"and\", [selector, \"<\", dateEnd]\r\n                ]\r\n        }\r\n    };\r\n    var getFilterExpressionForNumber = function(filterValue, selectedFilterOperation, target) {\r\n        var selector = getFilterSelector(this, target);\r\n        var groupInterval = getGroupInterval(this);\r\n        if (\"headerFilter\" === target && groupInterval && isDefined(filterValue)) {\r\n            var values = (\"\" + filterValue).split(\"/\");\r\n            var value = Number(values[values.length - 1]);\r\n            var interval = groupInterval[values.length - 1];\r\n            var startFilterValue = [selector, \">=\", value];\r\n            var endFilterValue = [selector, \"<\", value + interval];\r\n            var condition = [startFilterValue, \"and\", endFilterValue];\r\n            return condition\r\n        }\r\n        return [selector, selectedFilterOperation || \"=\", filterValue]\r\n    };\r\n    return {\r\n        defaultCalculateFilterExpression: function(filterValue, selectedFilterOperation, target) {\r\n            var column = this;\r\n            var selector = getFilterSelector(column, target);\r\n            var isSearchByDisplayValue = column.calculateDisplayValue && \"search\" === target;\r\n            var dataType = isSearchByDisplayValue && column.lookup && column.lookup.dataType || column.dataType;\r\n            var filter = null;\r\n            if ((\"headerFilter\" === target || \"filterBuilder\" === target) && null === filterValue) {\r\n                filter = [selector, selectedFilterOperation || \"=\", null];\r\n                if (\"string\" === dataType) {\r\n                    filter = [filter, \"=\" === selectedFilterOperation ? \"or\" : \"and\", [selector, selectedFilterOperation || \"=\", \"\"]]\r\n                }\r\n            } else if (\"string\" === dataType && (!column.lookup || isSearchByDisplayValue)) {\r\n                filter = [selector, selectedFilterOperation || \"contains\", filterValue]\r\n            } else if (\"between\" === selectedFilterOperation) {\r\n                return getFilterExpressionByRange.apply(column, [filterValue, target])\r\n            } else if (isDateType(dataType) && isDefined(filterValue)) {\r\n                return getFilterExpressionForDate.apply(column, arguments)\r\n            } else if (\"number\" === dataType) {\r\n                return getFilterExpressionForNumber.apply(column, arguments)\r\n            } else {\r\n                filter = [selector, selectedFilterOperation || \"=\", filterValue]\r\n            }\r\n            return filter\r\n        },\r\n        getGroupInterval: getGroupInterval\r\n    }\r\n}());\r\n","/*!\n\nJSZip v3.10.0 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/main/LICENSE\n*/\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=e()}}(function(){return function s(a,o,h){function u(r,e){if(!o[r]){if(!a[r]){var t=\"function\"==typeof require&&require;if(!e&&t)return t(r,!0);if(l)return l(r,!0);var n=new Error(\"Cannot find module '\"+r+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}var i=o[r]={exports:{}};a[r][0].call(i.exports,function(e){var t=a[r][1][e];return u(t||e)},i,i.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,e=0;e<h.length;e++)u(h[e]);return u}({1:[function(e,t,r){\"use strict\";var d=e(\"./utils\"),c=e(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(e){for(var t,r,n,i,s,a,o,h=[],u=0,l=e.length,f=l,c=\"string\"!==d.getTypeOf(e);u<e.length;)f=l-u,n=c?(t=e[u++],r=u<l?e[u++]:0,u<l?e[u++]:0):(t=e.charCodeAt(u++),r=u<l?e.charCodeAt(u++):0,u<l?e.charCodeAt(u++):0),i=t>>2,s=(3&t)<<4|r>>4,a=1<f?(15&r)<<2|n>>6:64,o=2<f?63&n:64,h.push(p.charAt(i)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(e){var t,r,n,i,s,a,o=0,h=0,u=\"data:\";if(e.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(e=e.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(e.charAt(e.length-1)===p.charAt(64)&&f--,e.charAt(e.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=c.uint8array?new Uint8Array(0|f):new Array(0|f);o<e.length;)t=p.indexOf(e.charAt(o++))<<2|(i=p.indexOf(e.charAt(o++)))>>4,r=(15&i)<<4|(s=p.indexOf(e.charAt(o++)))>>2,n=(3&s)<<6|(a=p.indexOf(e.charAt(o++))),l[h++]=t,64!==s&&(l[h++]=r),64!==a&&(l[h++]=n);return l}},{\"./support\":30,\"./utils\":32}],2:[function(e,t,r){\"use strict\";var n=e(\"./external\"),i=e(\"./stream/DataWorker\"),s=e(\"./stream/Crc32Probe\"),a=e(\"./stream/DataLengthProbe\");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),t=this;return e.on(\"end\",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(t.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",t)},t.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(e,t,r){\"use strict\";var n=e(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(e){return new n(\"STORE compression\")},uncompressWorker:function(){return new n(\"STORE decompression\")}},r.DEFLATE=e(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(e,t,r){\"use strict\";var n=e(\"./utils\");var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?\"string\"!==n.getTypeOf(e)?function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{\"./utils\":32}],5:[function(e,t,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){\"use strict\";var n=null;n=\"undefined\"!=typeof Promise?Promise:e(\"lie\"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,i=e(\"pako\"),s=e(\"./utils\"),a=e(\"./stream/GenericWorker\"),o=n?\"uint8array\":\"array\";function h(e,t){a.call(this,\"FlateWorker/\"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},r.compressWorker=function(e){return new h(\"Deflate\",e)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(e,t,r){\"use strict\";function A(e,t){var r,n=\"\";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function n(e,t,r,n,i,s){var a,o,h=e.file,u=e.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),c=I.transformTo(\"string\",O.utf8encode(h.name)),d=h.comment,p=I.transformTo(\"string\",s(d)),m=I.transformTo(\"string\",O.utf8encode(d)),_=c.length!==h.name.length,g=m.length!==d.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===i?(C=798,z|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(e){return 63&(e||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+c,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(n,4)+f+b+p}}var I=e(\"../utils\"),i=e(\"../stream/GenericWorker\"),O=e(\"../utf8\"),B=e(\"../crc32\"),R=e(\"../signature\");function s(e,t,r,n){i.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,i),s.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},s.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=n(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=n(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return R.DATA_DESCRIPTOR+A(e.crc32,4)+A(e.compressedSize,4)+A(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,i){var s=I.transformTo(\"string\",i(n));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(e,2)+A(e,2)+A(t,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(\"error\",function(e){t.error(e)}),this},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},s.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(e,t,r){\"use strict\";var u=e(\"../compressions\"),n=e(\"./ZipFileWorker\");r.generateWorker=function(e,a,t){var o=new n(a.streamFiles,t,a.platform,a.encodeFileName),h=0;try{e.forEach(function(e,t){h++;var r=function(e,t){var r=e||t,n=u[r];if(!n)throw new Error(r+\" is not a valid compression method !\");return n}(t.options.compression,a.compression),n=t.options.compressionOptions||a.compressionOptions||{},i=t.dir,s=t.date;t._compressWorker(r,n).withStreamInfo(\"file\",{name:e,dir:i,date:s,comment:t.comment||\"\",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(e){o.error(e)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(e,t,r){\"use strict\";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var e=new n;for(var t in this)\"function\"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e(\"./object\")).loadAsync=e(\"./load\"),n.support=e(\"./support\"),n.defaults=e(\"./defaults\"),n.version=\"3.10.0\",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e(\"./external\"),t.exports=n},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(e,t,r){\"use strict\";var u=e(\"./utils\"),i=e(\"./external\"),n=e(\"./utf8\"),s=e(\"./zipEntries\"),a=e(\"./stream/Crc32Probe\"),l=e(\"./nodejsUtils\");function f(n){return new i.Promise(function(e,t){var r=n.decompressed.getContentWorker().pipe(new a);r.on(\"error\",function(e){t(e)}).on(\"end\",function(){r.streamInfo.crc32!==n.decompressed.crc32?t(new Error(\"Corrupted zip : CRC32 mismatch\")):e()}).resume()})}t.exports=function(e,o){var h=this;return o=u.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):u.prepareContent(\"the loaded zip file\",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new s(o);return t.load(e),t}).then(function(e){var t=[i.Promise.resolve(e)],r=e.files;if(o.checkCRC32)for(var n=0;n<r.length;n++)t.push(f(r[n]));return i.Promise.all(t)}).then(function(e){for(var t=e.shift(),r=t.files,n=0;n<r.length;n++){var i=r[n],s=i.fileNameStr,a=u.resolve(i.fileNameStr);h.file(a,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders}),i.dir||(h.file(a).unsafeOriginalName=s)}return t.zipComment.length&&(h.comment=t.zipComment),h})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../stream/GenericWorker\");function s(e,t){i.call(this,\"Nodejs stream input adapter for \"+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(\"data\",function(e){t.push({data:e,meta:{percent:0}})}).on(\"error\",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(\"end\",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(e,t,r){\"use strict\";var i=e(\"readable-stream\").Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on(\"data\",function(e,t){n.push(e)||n._helper.pause(),r&&r(t)}).on(\"error\",function(e){n.emit(\"error\",e)}).on(\"end\",function(){n.push(null)})}e(\"../utils\").inherits(n,i),n.prototype._read=function(){this._helper.resume()},t.exports=n},{\"../utils\":32,\"readable-stream\":16}],14:[function(e,t,r){\"use strict\";t.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(\"number\"==typeof e)throw new Error('The \"data\" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&\"function\"==typeof e.on&&\"function\"==typeof e.pause&&\"function\"==typeof e.resume}}},{}],15:[function(e,t,r){\"use strict\";function s(e,t,r){var n,i=u.getTypeOf(t),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=_(e))&&b.call(this,n,!0);var a=\"string\"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t=\"\",s.compression=\"STORE\",i=\"string\");var o=null;o=t instanceof c||t instanceof l?t:p.isNode&&p.isStream(t)?new m(e,t):u.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var h=new d(e,o,s);this.files[e]=h}var i=e(\"./utf8\"),u=e(\"./utils\"),l=e(\"./stream/GenericWorker\"),a=e(\"./stream/StreamHelper\"),f=e(\"./defaults\"),c=e(\"./compressedObject\"),d=e(\"./zipObject\"),o=e(\"./generate\"),p=e(\"./nodejsUtils\"),m=e(\"./nodejs/NodejsStreamInputAdapter\"),_=function(e){\"/\"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(\"/\");return 0<t?e.substring(0,t):\"\"},g=function(e){return\"/\"!==e.slice(-1)&&(e+=\"/\"),e},b=function(e,t){return t=void 0!==t?t:f.createFolders,e=g(e),this.files[e]||s.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function h(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)}var n={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(r){var n=[];return this.forEach(function(e,t){r(e,t)&&n.push(t)}),n},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,s.call(this,e,t,r),this;if(h(e)){var n=e;return this.filter(function(e,t){return!t.dir&&n.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(e,t){return t.dir&&r.test(e)});var e=this.root+r,t=b.call(this,e),n=this.clone();return n.root=t.name,n},remove:function(r){r=this.root+r;var e=this.files[r];if(e||(\"/\"!==r.slice(-1)&&(r+=\"/\"),e=this.files[r]),e&&!e.dir)delete this.files[r];else for(var t=this.filter(function(e,t){return t.name.slice(0,r.length)===r}),n=0;n<t.length;n++)delete this.files[t[n].name];return this},generate:function(e){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(e){var t,r={};try{if((r=u.extend(e||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var n=r.comment||this.comment||\"\";t=o.generateWorker(this,r,n)}catch(e){(t=new l(\"error\")).error(e)}return new a(t,r.type||\"string\",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type=\"nodebuffer\"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=n},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(e,t,r){t.exports=e(\"stream\")},{stream:void 0}],17:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],18:[function(e,t,r){\"use strict\";var n=e(\"../utils\");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+e+\"). Corrupted zip ?\")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo(\"string\",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{\"../utils\":32}],19:[function(e,t,r){\"use strict\";var n=e(\"./Uint8ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(e,t,r){\"use strict\";var n=e(\"./DataReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./DataReader\":18}],21:[function(e,t,r){\"use strict\";var n=e(\"./ArrayReader\");function i(e){n.call(this,e)}e(\"../utils\").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"../support\"),s=e(\"./ArrayReader\"),a=e(\"./StringReader\"),o=e(\"./NodeBufferReader\"),h=e(\"./Uint8ArrayReader\");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),\"string\"!==t||i.uint8array?\"nodebuffer\"===t?new o(e):i.uint8array?new h(n.transformTo(\"uint8array\",e)):new s(n.transformTo(\"array\",e)):new a(e)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(e,t,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../utils\");function s(e){n.call(this,\"ConvertWorker to \"+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(e,t,r){\"use strict\";var n=e(\"./GenericWorker\"),i=e(\"../crc32\");function s(){n.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}e(\"../utils\").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataLengthProbe for \"+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(e,t,r){\"use strict\";var n=e(\"../utils\"),i=e(\"./GenericWorker\");function s(e){i.call(this,\"DataWorker\");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":e=this.data.substring(this.index,t);break;case\"uint8array\":e=this.data.subarray(this.index,t);break;case\"array\":case\"nodebuffer\":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(e,t,r){\"use strict\";function n(e){this.name=e||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit(\"data\",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(\"data\",function(e){t.processChunk(e)}),e.on(\"end\",function(){t.end()}),e.on(\"error\",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+e:e}},t.exports=n},{}],29:[function(e,t,r){\"use strict\";var h=e(\"../utils\"),i=e(\"./ConvertWorker\"),s=e(\"./GenericWorker\"),u=e(\"../base64\"),n=e(\"../support\"),a=e(\"../external\"),o=null;if(n.nodestream)try{o=e(\"../nodejs/NodejsStreamOutputAdapter\")}catch(e){}function l(e,o){return new a.Promise(function(t,r){var n=[],i=e._internalType,s=e._outputType,a=e._mimeType;e.on(\"data\",function(e,t){n.push(e),o&&o(t)}).on(\"error\",function(e){n=[],r(e)}).on(\"end\",function(){try{var e=function(e,t,r){switch(e){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",t),r);case\"base64\":return u.encode(t);default:return h.transformTo(e,t)}}(s,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case\"string\":return t.join(\"\");case\"array\":return Array.prototype.concat.apply([],t);case\"uint8array\":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case\"nodebuffer\":return Buffer.concat(t);default:throw new Error(\"concat : unsupported type '\"+e+\"'\")}}(i,n),a);t(e)}catch(e){r(e)}n=[]}).resume()})}function f(e,t,r){var n=t;switch(t){case\"blob\":case\"arraybuffer\":n=\"uint8array\";break;case\"base64\":n=\"string\"}try{this._internalType=n,this._outputType=t,this._mimeType=r,h.checkSupport(n),this._worker=e.pipe(new i(n)),e.lock()}catch(e){this._worker=new s(\"error\"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return\"data\"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){h.delay(t,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},e)}},t.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(e,t,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:\"application/zip\"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob(\"application/zip\").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e(\"readable-stream\").Readable}catch(e){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(e,t,s){\"use strict\";for(var o=e(\"./utils\"),h=e(\"./support\"),r=e(\"./nodejsUtils\"),n=e(\"./stream/GenericWorker\"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function a(){n.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){n.call(this,\"utf-8 encode\")}s.utf8encode=function(e){return h.nodebuffer?r.newBufferFrom(e,\"utf-8\"):function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=h.uint8array?new Uint8Array(o):new Array(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t}(e)},s.utf8decode=function(e){return h.nodebuffer?o.transformTo(\"nodebuffer\",e).toString(\"utf-8\"):function(e){var t,r,n,i,s=e.length,a=new Array(2*s);for(t=r=0;t<s;)if((n=e[t++])<128)a[r++]=n;else if(4<(i=u[n]))a[r++]=65533,t+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&t<s;)n=n<<6|63&e[t++],i--;1<i?a[r++]=65533:n<65536?a[r++]=n:(n-=65536,a[r++]=55296|n>>10&1023,a[r++]=56320|1023&n)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(e=o.transformTo(h.uint8array?\"uint8array\":\"array\",e))},o.inherits(a,n),a.prototype.processChunk=function(e){var t=o.transformTo(h.uint8array?\"uint8array\":\"array\",e.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=t;(t=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),t.set(r,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}(t),i=t;n!==t.length&&(h.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:s.utf8decode(i),meta:e.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,n),l.prototype.processChunk=function(e){this.push({data:s.utf8encode(e.data),meta:e.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(e,t,a){\"use strict\";var o=e(\"./support\"),h=e(\"./base64\"),r=e(\"./nodejsUtils\"),u=e(\"./external\");function n(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e(\"setimmediate\"),a.newBlob=function(t,r){a.checkSupport(\"blob\");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var i={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)\"array\"===t||\"nodebuffer\"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join(\"\")},stringifyByChar:function(e){for(var t=\"\",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}};function s(e){var t=65536,r=a.getTypeOf(e),n=!0;if(\"uint8array\"===r?n=i.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(n=i.applyCanBeUsed.nodebuffer),n)for(;1<t;)try{return i.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return i.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}a.applyFromCharCode=s;var c={};c.string={string:n,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,r.allocBuffer(e.length))}},c.array={string:s,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},c.arraybuffer={string:function(e){return s(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},c.nodebuffer={string:s,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||\"\",!e)return t;a.checkSupport(e);var r=a.getTypeOf(t);return c[r][e](t)},a.resolve=function(e){for(var t=e.split(\"/\"),r=[],n=0;n<t.length;n++){var i=t[n];\".\"===i||\"\"===i&&0!==n&&n!==t.length-1||(\"..\"===i?r.pop():r.push(i))}return r.join(\"/\")},a.getTypeOf=function(e){return\"string\"==typeof e?\"string\":\"[object Array]\"===Object.prototype.toString.call(e)?\"array\":o.nodebuffer&&r.isBuffer(e)?\"nodebuffer\":o.uint8array&&e instanceof Uint8Array?\"uint8array\":o.arraybuffer&&e instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){var t,r,n=\"\";for(r=0;r<(e||\"\").length;r++)n+=\"\\\\x\"+((t=e.charCodeAt(r))<16?\"0\":\"\")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},a.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},a.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},a.prepareContent=function(r,e,n,i,s){return u.Promise.resolve(e).then(function(n){return o.blob&&(n instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(n)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(t,r){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){r(e.target.error)},e.readAsArrayBuffer(n)}):n}).then(function(e){var t=a.getTypeOf(e);return t?(\"arraybuffer\"===t?e=a.transformTo(\"uint8array\",e):\"string\"===t&&(s?e=h.decode(e):n&&!0!==i&&(e=function(e){return l(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(e))),e):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,setimmediate:54}],33:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),i=e(\"./utils\"),s=e(\"./signature\"),a=e(\"./zipEntry\"),o=(e(\"./utf8\"),e(\"./support\"));function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+i.pretty(t)+\", expected \"+i.pretty(e)+\")\")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?\"uint8array\":\"array\",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(n)+\" bytes.\")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utf8\":31,\"./utils\":32,\"./zipEntry\":34}],34:[function(e,t,r){\"use strict\";var n=e(\"./reader/readerFor\"),s=e(\"./utils\"),i=e(\"./compressedObject\"),a=e(\"./crc32\"),o=e(\"./utf8\"),h=e(\"./compressions\"),u=e(\"./support\");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(t=function(e){for(var t in h)if(h.hasOwnProperty(t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var i=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(e,t,r){\"use strict\";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=e(\"./stream/StreamHelper\"),i=e(\"./stream/DataWorker\"),a=e(\"./utf8\"),o=e(\"./compressedObject\"),h=e(\"./stream/GenericWorker\");n.prototype={internalStream:function(e){var t=null,r=\"string\";try{if(!e)throw new Error(\"No output type specified.\");var n=\"string\"===(r=e.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),t=this._decompressWorker();var i=!this._dataBinary;i&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!i&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h(\"error\")).error(e)}return new s(t,r,\"\")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||\"nodebuffer\").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new i(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(e,l,t){(function(t){\"use strict\";var r,n,e=t.MutationObserver||t.WebKitMutationObserver;if(e){var i=0,s=new e(u),a=t.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)r=\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")?function(){var e=t.document.createElement(\"script\");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var o=new t.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var e,t;n=!0;for(var r=h.length;r;){for(t=h,h=[],e=-1;++e<r;)t[e]();r=h.length}n=!1}l.exports=function(e){1!==h.push(e)||n||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(e,t,r){\"use strict\";var i=e(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],n=[\"PENDING\"];function o(e){if(\"function\"!=typeof e)throw new TypeError(\"resolver must be a function\");this.state=n,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function h(e,t,r){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(t,r,n){i(function(){var e;try{e=r(n)}catch(e){return l.reject(t,e)}e===t?l.reject(t,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(t,e)})}function c(e){var t=e&&e.then;if(e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,l.reject(t,e))}function i(e){r||(r=!0,l.resolve(t,e))}var s=p(function(){e(i,n)});\"error\"===s.status&&n(s.value)}function p(e,t){var r={};try{r.value=e(t),r.status=\"success\"}catch(e){r.status=\"error\",r.value=e}return r}(t.exports=o).prototype.finally=function(t){if(\"function\"!=typeof t)return this;var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})},o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a||\"function\"!=typeof t&&this.state===s)return this;var r=new this.constructor(u);this.state!==n?f(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t));return r},h.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){l.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},l.resolve=function(e,t){var r=p(c,t);if(\"error\"===r.status)return l.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},l.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return l.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return l.reject(t,e)},o.all=function(e){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,t=-1,o=new this(u);for(;++t<n;)h(e[t],t);return o;function h(e,t){r.resolve(e).then(function(e){s[t]=e,++a!==n||i||(i=!0,l.resolve(o,s))},function(e){i||(i=!0,l.reject(o,e))})}},o.race=function(e){var t=this;if(\"[object Array]\"!==Object.prototype.toString.call(e))return this.reject(new TypeError(\"must be an array\"));var r=e.length,n=!1;if(!r)return this.resolve([]);var i=-1,s=new this(u);for(;++i<r;)a=e[i],t.resolve(a).then(function(e){n||(n=!0,l.resolve(s,e))},function(e){n||(n=!0,l.reject(s,e))});var a;return s}},{immediate:36}],38:[function(e,t,r){\"use strict\";var n={};(0,e(\"./lib/utils/common\").assign)(n,e(\"./lib/deflate\"),e(\"./lib/inflate\"),e(\"./lib/zlib/constants\")),t.exports=n},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(e,t,r){\"use strict\";var a=e(\"./zlib/deflate\"),o=e(\"./utils/common\"),h=e(\"./utils/strings\"),i=e(\"./zlib/messages\"),s=e(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,c=0,d=8;function p(e){if(!(this instanceof p))return new p(e);this.options=o.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:\"\"},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n=\"string\"==typeof t.dictionary?h.string2buf(t.dictionary):\"[object ArrayBuffer]\"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=a.deflateSetDictionary(this.strm,n))!==l)throw new Error(i[r]);this._dict_set=!0}}function n(e,t){var r=new p(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}p.prototype.push=function(e,t){var r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,\"string\"==typeof e?i.input=h.string2buf(e):\"[object ArrayBuffer]\"===u.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(s),i.next_out=0,i.avail_out=s),1!==(r=a.deflate(i,n))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==n||(this.onEnd(l),!(i.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=p,r.deflate=n,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(e,t,r){\"use strict\";var c=e(\"./zlib/inflate\"),d=e(\"./utils/common\"),p=e(\"./utils/strings\"),m=e(\"./zlib/constants\"),n=e(\"./zlib/messages\"),i=e(\"./zlib/zstream\"),s=e(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=d.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var r=c.inflateInit2(this.strm,t.windowBits);if(r!==m.Z_OK)throw new Error(n[r]);this.header=new s,c.inflateGetHeader(this.strm,this.header)}function o(e,t){var r=new a(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}a.prototype.push=function(e,t){var r,n,i,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof e?h.input=p.binstring2buf(e):\"[object ArrayBuffer]\"===_.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new d.Buf8(u),h.next_out=0,h.avail_out=u),(r=c.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=c.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||n!==m.Z_FINISH&&n!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(i=p.utf8border(h.output,h.next_out),s=h.next_out-i,a=p.buf2string(h.output,i),h.next_out=s,h.avail_out=u-s,s&&d.arraySet(h.output,h.output,i,s,0),this.onData(a)):this.onData(d.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(n=m.Z_FINISH),n===m.Z_FINISH?(r=c.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):n!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(e,t,r){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){\"use strict\";var h=e(\"./common\"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var u=new h.Buf8(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,h.shrinkBuf(e,t));for(var r=\"\",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}u[254]=u[254]=1,r.string2buf=function(e){var t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new h.Buf8(o),i=s=0;s<o;i++)55296==(64512&(r=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(n=e.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new h.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,a=t||e.length,o=new Array(2*a);for(r=n=0;r<a;)if((i=e[r++])<128)o[n++]=i;else if(4<(s=u[i]))o[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<a;)i=i<<6|63&e[r++],s--;1<s?o[n++]=65533:i<65536?o[n++]=i:(i-=65536,o[n++]=55296|i>>10&1023,o[n++]=56320|1023&i)}return l(o,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+u[e[r]]>t?r:t}},{\"./common\":41}],43:[function(e,t,r){\"use strict\";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){\"use strict\";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){\"use strict\";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,n){var i=o,s=n+r;e^=-1;for(var a=n;a<s;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,r){\"use strict\";var h,c=e(\"../utils/common\"),u=e(\"./trees\"),d=e(\"./adler32\"),p=e(\"./crc32\"),n=e(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,i=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=n[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(c.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,i,s,a,o,h,u,l,f=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-z)){for(c.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=r=e.hash_size;n=e.head[--t],e.head[t]=f<=n?n-f:0,--r;);for(t=r=f;n=e.prev[--t],e.prev[t]=f<=n?n-f:0,--r;);i+=f}if(0===e.strm.avail_in)break;if(a=e.strm,o=e.window,h=e.strstart+e.lookahead,u=i,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,c.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=d(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=r,e.lookahead+e.insert>=x)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+x-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=u._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===l)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=u._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*w),this.dyn_dtree=new c.Buf16(2*(2*a+1)),this.bl_tree=new c.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(k+1),this.heap=new c.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=i,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),m):R(e,_)}function K(e){var t=G(e);return t===m&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=h[e.level].max_lazy,e.good_match=h[e.level].good_length,e.nice_match=h[e.level].nice_length,e.max_chain_length=h[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,i,s){if(!e)return _;var a=1;if(t===g&&(t=6),n<0?(a=0,n=-n):15<n&&(a=2,n-=16),i<1||y<i||r!==v||n<8||15<n||t<0||9<t||s<0||b<s)return R(e,_);8===n&&(n=9);var o=new H;return(e.state=o).strm=e,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new c.Buf8(2*o.w_size),o.head=new c.Buf16(o.hash_size),o.prev=new c.Buf16(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new c.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,K(e)}h=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?_:(e.state.gzhead=t,m):_},r.deflate=function(e,t){var r,n,i,s;if(!e||!e.state||5<t||t<0)return e?R(e,_):_;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==f)return R(e,0===e.avail_out?-5:_);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===C)if(2===n.wrap)e.adler=0,U(n,31),U(n,139),U(n,8),n.gzhead?(U(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),U(n,255&n.gzhead.time),U(n,n.gzhead.time>>8&255),U(n,n.gzhead.time>>16&255),U(n,n.gzhead.time>>24&255),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(U(n,255&n.gzhead.extra.length),U(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=p(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(U(n,0),U(n,0),U(n,0),U(n,0),U(n,0),U(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),U(n,3),n.status=E);else{var a=v+(n.w_bits-8<<4)<<8;a|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=E,P(n,a),0!==n.strstart&&(P(n,e.adler>>>16),P(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending!==n.pending_buf_size));)U(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),F(e),i=n.pending,n.pending===n.pending_buf_size)){s=1;break}s=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,U(n,s)}while(0!==s);n.gzhead.hcrc&&n.pending>i&&(e.adler=p(e.adler,n.pending_buf,n.pending-i,i)),0===s&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&F(e),n.pending+2<=n.pending_buf_size&&(U(n,255&e.adler),U(n,e.adler>>8&255),e.adler=0,n.status=E)):n.status=E),0!==n.pending){if(F(e),0===e.avail_out)return n.last_flush=-1,m}else if(0===e.avail_in&&T(t)<=T(r)&&t!==f)return R(e,-5);if(666===n.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==l&&666!==n.status){var o=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return A;break}if(e.match_length=0,r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):3===n.strategy?function(e,t){for(var r,n,i,s,a=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===l)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=a[i=e.strstart-1])===a[++i]&&n===a[++i]&&n===a[++i]){s=e.strstart+S;do{}while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=S-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=u._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===f?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(n,t):h[n.level].func(n,t);if(o!==O&&o!==B||(n.status=666),o===A||o===O)return 0===e.avail_out&&(n.last_flush=-1),m;if(o===I&&(1===t?u._tr_align(n):5!==t&&(u._tr_stored_block(n,0,0,!1),3===t&&(D(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),F(e),0===e.avail_out))return n.last_flush=-1,m}return t!==f?m:n.wrap<=0?1:(2===n.wrap?(U(n,255&e.adler),U(n,e.adler>>8&255),U(n,e.adler>>16&255),U(n,e.adler>>24&255),U(n,255&e.total_in),U(n,e.total_in>>8&255),U(n,e.total_in>>16&255),U(n,e.total_in>>24&255)):(P(n,e.adler>>>16),P(n,65535&e.adler)),F(e),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?m:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,_):(e.state=null,t===E?R(e,-3):m):_},r.deflateSetDictionary=function(e,t){var r,n,i,s,a,o,h,u,l=t.length;if(!e||!e.state)return _;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(e.adler=d(e.adler,t,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new c.Buf8(r.w_size),c.arraySet(u,t,l-r.w_size,r.w_size,0),t=u,l=r.w_size),a=e.avail_in,o=e.next_in,h=e.input,e.avail_in=l,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,i=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--i;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=o,e.input=h,e.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(e,t,r){\"use strict\";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){\"use strict\";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg=\"invalid literal/length code\",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg=\"invalid distance code\",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){\"use strict\";var I=e(\"../utils/common\"),O=e(\"./adler32\"),B=e(\"./crc32\"),R=e(\"./inffast\"),T=e(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,n=852,i=592;function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=P,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new I.Buf32(n),t.distcode=t.distdyn=new I.Buf32(i),t.sane=1,t.back=-1,N):U}function o(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):U}function h(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?U:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,o(e))):U}function u(e,t){var r,n;return e?(n=new s,(e.state=n).window=null,(r=h(e,t))!==N&&(e.state=null),r):U}var l,f,c=!0;function j(e){if(c){var t;for(l=new I.Buf32(512),f=new I.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(T(D,e.lens,0,288,l,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;T(F,e.lens,0,32,f,0,e.work,{bits:5}),c=!1}e.lencode=l,e.lenbits=9,e.distcode=f,e.distbits=5}function Z(e,t,r,n){var i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),n>=s.wsize?(I.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n<(i=s.wsize-s.wnext)&&(i=n),I.arraySet(s.window,t,r-n,i,s.wnext),(n-=i)?(I.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(e){return u(e,15)},r.inflateInit2=u,r.inflate=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return U;12===(r=e.state).mode&&(r.mode=13),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,f=o,c=h,x=N;e:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){e.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){e.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){e.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(d=r.length)&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,n,s,d,k)),512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;for(d=0;k=n[s+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&d<o;);if(512&r.flags&&(r.check=B(r.check,n,d,s)),o-=d,s+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(65535&r.check)){e.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}e.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==t)break;u>>>=2,l-=2;break e;case 2:r.mode=17;break;case 3:e.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){e.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(o<d&&(d=o),h<d&&(d=h),0===d)break e;I.arraySet(i,n,s,d,a),o-=d,s+=d,h-=d,a+=d,r.length-=d;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){e.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}l-=_,k=0,d=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){e.msg=\"invalid bit length repeat\",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){e.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){e.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=o&&258<=h){e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,R(e,c),a=e.next_out,i=e.output,h=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break e;if(d=c-h,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg=\"invalid distance too far back\",r.mode=30;break}p=d>r.wnext?(d-=r.wnext,r.wsize-d):r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=a-r.offset,d=r.length;for(h<d&&(d=h),h-=d,r.length-=d;i[a++]=m[p++],--d;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break e;i[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[s++]<<l,l+=8}if(c-=h,e.total_out+=c,r.total+=c,c&&(e.adler=r.check=r.flags?B(r.check,i,c,a-c):O(r.check,i,c,a-c)),c=h,(r.flags?u:L(u))!==r.check){e.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[s++]<<l,l+=8}if(u!==(4294967295&r.total)){e.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return U}return e.next_out=a,e.avail_out=h,e.next_in=s,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||c!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&Z(e,e.output,e.next_out,c-e.avail_out)?(r.mode=31,-4):(f-=e.avail_in,c-=e.avail_out,e.total_in+=f,e.total_out+=c,r.total+=c,r.wrap&&c&&(e.adler=r.check=r.flags?B(r.check,i,c,e.next_out-c):O(r.check,i,c,e.next_out-c)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===c||4===t)&&x===N&&(x=-5),x)},r.inflateEnd=function(e){if(!e||!e.state)return U;var t=e.state;return t.window&&(t.window=null),e.state=null,N},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?U:((r.head=t).done=!1,N):U},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,t,n,0)!==r.check?-3:Z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(e,t,r){\"use strict\";var D=e(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,n,i,s,a,o){var h,u,l,f,c,d,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<n;v++)O[t[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===e||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<n;v++)0!==t[r+v]&&(a[B[t[r+v]]++]=v);if(d=0===e?(A=R=a,19):1===e?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,c=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===e&&852<C||2===e&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<d?(m=0,a[v]):a[v]>d?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;i[c+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=t[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),c+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===e&&852<C||2===e&&592<C)return 1;i[l=E&f]=k<<24|x<<16|c-s|0}}return 0!==E&&(i[c+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(e,t,r){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(e,t,r){\"use strict\";var i=e(\"../utils/common\"),o=0,h=1;function n(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,a=29,u=256,l=u+1+a,f=30,c=19,_=2*l+1,g=15,d=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));n(z);var C=new Array(2*f);n(C);var E=new Array(512);n(E);var A=new Array(256);n(A);var I=new Array(a);n(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>d-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=r-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(g+1),a=0;for(n=1;n<=g;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,m,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=g;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)p<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=p,m++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,d<=n&&(a=c[n-d]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}n(T);var q=!1;function J(e,t,r,n){P(e,(s<<1)+(n?1:0),3),function(e,t,r,n){M(e),n&&(U(e,r),U(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(g+1);for(n=r=0;n<a-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=g;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,c,p)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var i,s,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return h;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return h;return o}(e)),Y(e,e.l_desc),Y(e,e.d_desc),a=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?J(e,t,r,n):4===e.strategy||s===i?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,m,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{\"../utils/common\":41}],53:[function(e,t,r){\"use strict\";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(r,n){\"use strict\";if(!r.setImmediate){var i,s,t,a,o=1,h={},u=!1,l=r.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(r);e=e&&e.setTimeout?e:r,i=\"[object process]\"==={}.toString.call(r.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage(\"\",\"*\"),r.onmessage=t,e}}()?(a=\"setImmediate$\"+Math.random()+\"$\",r.addEventListener?r.addEventListener(\"message\",d,!1):r.attachEvent(\"onmessage\",d),function(e){r.postMessage(a+e,\"*\")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){t.port2.postMessage(e)}):l&&\"onreadystatechange\"in l.createElement(\"script\")?(s=l.documentElement,function(e){var t=l.createElement(\"script\");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):function(e){setTimeout(c,0,e)},e.setImmediate=function(e){\"function\"!=typeof e&&(e=new Function(\"\"+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return h[o]=n,i(o),o++},e.clearImmediate=f}function f(e){delete h[e]}function c(e){if(u)setTimeout(c,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}function d(e){e.source===r&&\"string\"==typeof e.data&&0===e.data.indexOf(a)&&c(+e.data.slice(a.length))}}(\"undefined\"==typeof self?void 0===e?this:e:self)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}]},{},[10])(10)});"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","DxLookup","DxLoadPanel","DxLabel","DxKeyboardNavigation","DxItem","DxHide","DxHeaderFilter","DxGroupPanel","DxGroupOperationDescriptions","DxGroupItem","DxGroupingTexts","DxGrouping","DxFrom","DxFormItem","DxFormat","DxForm","DxFilterRow","DxFilterPanelTexts","DxFilterPanel","DxFilterOperationDescriptions","DxFilterBuilderPopup","DxFilterBuilder","DxFieldLookup","DxField","DxExportTexts","DxExport","DxEmailRule","DxEditingTexts","DxEditing","DxDataGridHeaderFilterTexts","DxDataGridHeaderFilter","DxCustomRule","DxCustomOperation","DxCursorOffset","DxCompareRule","DxColumnLookup","DxColumnHeaderFilter","DxColumnFixingTexts","DxColumnFixing","DxColumnChooser","DxColumn","DxCollision","DxColCountByScreen","DxChange","DxButton","DxBoundaryOffset","DxAt","DxAsyncRule","DxAnimation","DxDataGrid","DxValueFormat","DxValidationRule","DxTotalItem","DxToolbarItem","DxToolbar","DxTo","DxTexts","DxSummaryTexts","DxSummary","DxStringLengthRule","DxStateStoring","DxSorting","DxSortByGroupSummaryInfo","DxShow","DxSelection","DxSearchPanel","DxScrolling","DxRowDragging","DxRequiredRule","DxRemoteOperations","DxRangeRule","DxPosition","DxPopup","DxPatternRule","DxPaging","DxPager","DxOperationDescriptions","DxOffset","DxNumericRule","DxMy","DxMasterDetail","data_grid_1","require","index_1","index_2","createComponent","props","accessKey","String","activeStateEnabled","Boolean","allowColumnReordering","allowColumnResizing","autoNavigateToFocusedRow","cacheEnabled","cellHintEnabled","columnAutoWidth","columnChooser","columnFixing","columnHidingEnabled","columnMinWidth","Number","columnResizingMode","columns","Array","columnWidth","customizeColumns","Function","customizeExportData","dataRowTemplate","dataSource","dateSerializationFormat","disabled","editing","elementAttr","errorRowEnabled","export","filterBuilder","filterBuilderPopup","filterPanel","filterRow","filterSyncEnabled","filterValue","focusedColumnIndex","focusedRowEnabled","focusedRowIndex","focusedRowKey","focusStateEnabled","grouping","groupPanel","headerFilter","height","highlightChanges","hint","hoverStateEnabled","keyboardNavigation","keyExpr","loadPanel","masterDetail","noDataText","onAdaptiveDetailRowPreparing","onCellClick","onCellDblClick","onCellHoverChanged","onCellPrepared","onContentReady","onContextMenuPreparing","onDataErrorOccurred","onDisposing","onEditCanceled","onEditCanceling","onEditingStart","onEditorPrepared","onEditorPreparing","onExported","onExporting","onFileSaving","onFocusedCellChanged","onFocusedCellChanging","onFocusedRowChanged","onFocusedRowChanging","onInitialized","onInitNewRow","onKeyDown","onOptionChanged","onRowClick","onRowCollapsed","onRowCollapsing","onRowDblClick","onRowExpanded","onRowExpanding","onRowInserted","onRowInserting","onRowPrepared","onRowRemoved","onRowRemoving","onRowUpdated","onRowUpdating","onRowValidating","onSaved","onSaving","onSelectionChanged","onToolbarPreparing","pager","paging","remoteOperations","renderAsync","repaintChangesOnly","rowAlternationEnabled","rowDragging","rowTemplate","rtlEnabled","scrolling","searchPanel","selectedRowKeys","selection","selectionFilter","showBorders","showColumnHeaders","showColumnLines","showRowLines","sortByGroupSummaryInfo","sorting","stateStoring","summary","tabIndex","toolbar","twoWayBindingEnabled","visible","width","wordWrapEnabled","emits","computed","instance","$_instance","beforeCreate","$_WidgetClass","default","$_hasAsyncTemplate","$_expectedChildren","column","isCollectionItem","optionName","dataGridHeaderFilter","createConfigurationComponent","hide","show","$_optionName","ignoreEmptyValue","message","reevaluate","type","validationCallback","$_isCollectionItem","$_predefinedProps","x","y","cssClass","icon","name","onClick","template","text","data","insertAfterKey","insertBeforeKey","lg","md","sm","xs","alignment","allowEditing","allowExporting","allowFiltering","allowFixing","allowGrouping","allowHeaderFiltering","allowHiding","allowReordering","allowResizing","allowSearch","allowSorting","autoExpandGroup","buttons","calculateCellValue","calculateDisplayValue","calculateFilterExpression","calculateGroupValue","calculateSortValue","caption","cellTemplate","customizeText","dataField","dataType","editCellTemplate","editorOptions","encodeHtml","falseText","filterOperations","filterType","filterValues","fixed","fixedPosition","format","formItem","groupCellTemplate","grouped","groupIndex","headerCellTemplate","hidingPriority","isBand","lookup","minWidth","ownerBand","resized","selectedFilterOperation","setCellValue","showEditorAlways","showInColumnChooser","showWhenGrouped","sortIndex","sortingMethod","sortOrder","trueText","validationRules","visibleIndex","AsyncRule","button","columnHeaderFilter","columnLookup","CompareRule","CustomRule","EmailRule","NumericRule","PatternRule","RangeRule","RequiredRule","StringLengthRule","validationRule","emptyPanelText","enabled","mode","searchTimeout","title","texts","columnFixingTexts","fix","leftPosition","rightPosition","unfix","groupInterval","searchMode","allowClearing","displayExpr","valueExpr","comparisonTarget","comparisonType","dataTypes","editorTemplate","hasValue","dataGridHeaderFilterTexts","cancel","emptyValue","ok","allowAdding","allowDeleting","allowUpdating","changes","confirmDelete","editColumnName","editRowKey","form","newRowPosition","popup","refreshMode","selectTextOnEditStart","startEditAction","useIcons","change","editingTexts","addRow","cancelAllChanges","cancelRowChanges","confirmDeleteMessage","confirmDeleteTitle","deleteRow","editRow","saveAllChanges","saveRowChanges","undeleteRow","validationCancelChanges","allowExportSelectedData","customizeExcelCell","excelFilterEnabled","excelWrapTextEnabled","fileName","ignoreExcelErrors","proxyUrl","exportTexts","exportAll","exportSelectedRows","exportTo","defaultFilterOperation","fieldLookup","allowHierarchicalFields","bindingOptions","customOperations","fields","filterOperationDescriptions","groupOperationDescriptions","groupOperations","maxGroupLevel","onFocusIn","onFocusOut","onValueChanged","customOperation","field","animation","closeOnOutsideClick","container","contentTemplate","copyRootClassesToWrapper","deferRendering","dragAndResizeArea","dragEnabled","dragOutsideBoundary","fullScreen","hideOnParentScroll","maxHeight","maxWidth","minHeight","onHidden","onHiding","onResize","onResizeEnd","onResizeStart","onShowing","onShown","onTitleRendered","position","resizeEnabled","restorePosition","shading","shadingColor","showCloseButton","showTitle","titleTemplate","toolbarItems","wrapperAttr","between","contains","endsWith","equal","greaterThan","greaterThanOrEqual","isBlank","isNotBlank","lessThan","lessThanOrEqual","notContains","notEqual","startsWith","filterEnabled","filterPanelTexts","clearFilter","createFilter","filterEnabledHint","applyFilter","applyFilterText","betweenEndText","betweenStartText","operationDescriptions","resetOperationText","showAllText","showOperationChooser","alignItemLabels","alignItemLabelsInAllGroups","colCount","colCountByScreen","customizeItem","formData","items","labelLocation","labelMode","minColWidth","onEditorEnterKey","onFieldDataChanged","optionalMark","readOnly","requiredMark","requiredMessage","screenByWidth","scrollingEnabled","showColonAfterLabel","showOptionalMark","showRequiredMark","showValidationSummary","validationGroup","currency","formatter","parser","precision","colSpan","editorType","helpText","isRequired","itemType","label","left","opacity","scale","top","allowCollapsing","autoExpandAll","contextMenuEnabled","expandMode","groupingTexts","groupByThisColumn","groupContinuedMessage","groupContinuesMessage","ungroup","ungroupAll","alignByColumn","displayFormat","showInColumn","showInGroupFooter","skipEmptyValues","summaryType","valueFormat","and","notAnd","notOr","or","allowColumnDragging","complete","delay","direction","duration","easing","from","staggerDelay","start","to","html","locateInMenu","location","menuItemTemplate","options","showText","widget","editOnKeyPress","enterKeyAction","enterKeyDirection","showColon","indicatorSrc","showIndicator","showPane","allowedPageSizes","displayMode","infoText","showInfo","showNavigationButtons","showPageSizeSelector","pageIndex","pageSize","pattern","toolbarItem","at","boundary","boundaryOffset","collision","my","of","offset","max","min","filtering","groupPaging","trim","allowDropInsideItem","autoScroll","cursorOffset","dragDirection","dragTemplate","dropFeedbackMode","filter","group","handle","onAdd","onDragChange","onDragEnd","onDragMove","onDragStart","onRemove","onReorder","scrollSensitivity","scrollSpeed","showDragIcons","columnRenderingMode","preloadEnabled","rowRenderingMode","scrollByContent","scrollByThumb","showScrollbar","useNative","highlightCaseSensitive","highlightSearchText","placeholder","searchVisibleColumnsOnly","allowSelectAll","deferred","maxFilterLengthInRequest","selectAllMode","showCheckBoxesMode","groupColumn","summaryItem","ascendingText","clearText","descendingText","showSortIndexes","customLoad","customSave","savingTimeout","storageKey","calculateCustomSummary","groupItems","recalculateWhileEditing","totalItems","groupItem","summaryTexts","totalItem","avg","avgOtherColumn","count","maxOtherColumn","minOtherColumn","sum","sumOtherColumn","item","dependencyInjector","_format","formatIsValid","isString","isPlainObject","isFunction","valueIsValid","isNumeric","isDate","numberLocalization","dateLocalization","isDefined","toString","getTimeFormat","showSecond","_normalizeFormat","isArray","length","date","map","formatPart","join","getDateFormatByDifferences","dateDifferences","intervalFormat","resultFormat","needSpecialSecondFormatter","millisecond","year","month","day","push","getSeconds","getMilliseconds","hour","minute","second","unshift","quarter","getMonth","getDateFormatByTicks","ticks","maxDiff","currentDiff","i","dateUtils","getHours","getMinutes","getDateFormatByTickInterval","startValue","endValue","tickInterval","dateUnitInterval","correctDateDifferences","toLowerCase","differences","minDate","maxDate","getDate","getFullYear","week","LANGUAGE_CODES","ar","bg","ca","cs","da","de","el","en","es","fi","fr","he","hu","is","it","ja","ko","nl","no","pl","pt","rm","ro","ru","hr","sk","sq","sv","th","tr","ur","id","uk","be","sl","et","lv","lt","tg","fa","vi","hy","az","eu","hsb","mk","tn","xh","zu","af","ka","fo","hi","mt","se","ga","ms","kk","ky","sw","tk","uz","tt","bn","pa","gu","ta","te","kn","ml","as","mr","sa","mn","bo","cy","km","lo","gl","kok","syr","si","iu","am","tzm","ne","fy","ps","fil","dv","ha","yo","quz","nso","ba","lb","kl","ig","ii","arn","moh","br","ug","mi","oc","co","gsw","sah","qut","rw","wo","prs","gd","smn","sms","zh","nn","bs","sma","nb","sr","dsb","smj","getLanguageId","localizationCoreUtils","WIDGET_WITH_LEGACY_CONTAINER_NAME","ModuleItem","Class","_endUpdateCore","ctor","component","that","_updateLockCount","_actions","_actionConfigs","each","callbackNames","index","flags","callbackFlags","unique","syncStrategy","Callbacks","init","publicMethods","beginUpdate","endUpdate","option","optionCache","_optionCache","arguments","apply","_silentOption","_setOptionWithoutOptionChange","localize","messageLocalization","on","off","optionChanged","args","createAction","handled","getAction","actionName","setAria","$target","target","get","prefix","setAttribute","attr","_createComponent","getController","_controllers","config","action","_createAction","bind","e","event","_createActionByOption","executeAction","dispose","empty","addWidgetPrefix","className","componentName","NAME","slice","getWidgetContainerClass","containerName","Controller","ViewController","inherit","getView","_views","getViews","View","_isReady","isReady","callBase","_requireReady","_requireRender","_requireResize","render","_$parent","_invalidate","requireResize","requireReady","hasWindow","_renderCore","_resizeCore","_parentElement","renderCompleted","resizeCompleted","element","_$element","getElementHeight","$element","marginTop","parseFloat","css","marginBottom","offsetHeight","isVisible","getTemplate","_getTemplate","$parent","$","appendTo","toggleClass","fire","resize","isResizing","focus","eventsEngine","MODULES_ORDER_MAX_INDEX","processModules","componentClass","modules","modulesOrder","controllerTypes","viewTypes","sort","module1","module2","orderIndex1","inArray","orderIndex2","controllers","moduleName","views","errors","subclassOf","extenders","extender","createModuleItems","moduleTypes","moduleItems","moduleType","moduleItem","methodName","callModuleItemsMethod","registerModule","module","registerModulesOrder","moduleNames","unregisterModule","grep","_extends","gridCoreUtils","DBLCLICK_EVENT_NAME","DBLCLICK_NAMESPACE","NAMESPACED_CLICK_EVENT","addNamespace","clickEventName","DBLCLICK_TIMEOUT","DblClick","_handlerCount","_forgetLastClick","_firstClickTarget","_lastClickTimeStamp","add","domAdapter","_clickHandler","timeStamp","Date","now","timeBetweenClicks","isSimulated","isDouble","fireEvent","closestCommonParent","originalEvent","remove","registerEvent","COLUMN_INDICATORS_CLASS","GROUP_PANEL_ITEM_CLASS","_applyColumnState","_that$component","columnAlignment","_getColumnAlignment","parameters","extend","isGroupPanelItem","rootElement","hasClass","$indicatorsContainer","_createIndicatorContainer","$span","addClass","_getIndicatorClassName","columnsController","indicatorAlignment","getHeaderContentAlignment","indicator","_renderIndicator","noop","getDefaultAlignment","ignoreIndicatorAlignment","_getIndicatorContainer","$cell","find","_getIndicatorElements","$indicatorContainer","children","$container","$indicator","append","_updateIndicators","indicatorName","getColumns","$cells","getColumnElements","eq","_updateIndicator","rowOptions","parent","cells","command","SCROLL_CONTAINER_CLASS","SCROLLABLE_SIMULATED_CLASS","GROUP_SPACE_CLASS","CONTENT_CLASS","TABLE_CLASS","TABLE_FIXED_CLASS","CONTENT_FIXED_CLASS","ROW_CLASS","GROUP_ROW_CLASS","GROUP_CELL_CLASS","DETAIL_ROW_CLASS","FILTER_ROW_CLASS","ERROR_ROW_CLASS","CELL_UPDATED_ANIMATION_CLASS","HIDDEN_COLUMNS_WIDTH","CELL_HINT_VISIBLE","FORM_FIELD_ITEM_CONTENT_CLASS","appendElementTemplate","content","subscribeToRowEvents","$table","touchTarget","touchCurrentTarget","timeoutId","clearTouchTargets","timeout","setTimeout","clearTimeout","currentTarget","dblclickEvent","pointerEvents","_isNativeClick","closest","rowIndex","getRowIndex","rowElement","getPublicElement","_rowPointerDown","_rowClick","_rowDblClick","getWidthStyle","setCellWidth","cell","style","copyAttributes","newElement","oldAttributes","attributes","newAttributes","nodeName","hasAttribute","removeAttribute","nodeValue","ColumnsView","columnStateMixin","_createScrollableOptions","scrollingOptions","useNativeScrolling","bounceEnabled","useKeyboard","useSimulatedScrollbar","_updateCell","rowType","_cellPrepared","_createCell","textAlign","headerId","colspan","visibleWidth","_createRow","rowObject","tagName","concat","_isAltRow","row","dataIndex","_createTable","isAppend","_createColGroup","browser","ctrlKey","preventDefault","$row","isDataRow","isHeaderRow","isGroupRow","isMasterDetailRow","isFilterRow","visibleColumns","_columnsController","getVisibleColumns","columnIndex","cellOptions","removeAttr","difference","scrollWidth","clientWidth","getOptions","$fieldItemContent","delegateTarget","resultOptions","cellElement","eventType","formItemOptions","getVisibleIndex","colgroupElement","j","_createCol","col","setWidth","renderDelayedTemplates","delayedTemplates","_delayedTemplates","syncTemplates","async","asyncTemplates","_renderDelayedTemplatesCore","_renderDelayedTemplatesCoreAsync","templates","getWindow","isAsync","templateParameters","shift","doc","_processTemplate","renderingTemplate","isRenderer","allowRenderToDetachedContainer","model","resolve","renderedTemplate","nodeType","templateID","_templatesCache","renderTemplate","templateDeferred","Deferred","templateOptions","onRendered","templateDeferreds","reject","promise","_getBodies","tableElement","not","_wrapRowIfNeed","hasDataRowTemplate","$tBodies","_tableElement","$tbody","_appendRow","appendTemplate","scrollLeft","_scrollLeft","scrollTo","$root","_renderTable","changeType","_renderRows","rows","_getRows","columnIndices","changeTypes","_renderRow","$wrappedRow","_renderCells","_addWatchMethod","_rowPrepared","_needRenderCell","indexOf","_renderCell","values","oldValue","oldValues","_updateCells","$rowElement","$newRowElement","$newCells","cellUpdatedClass","forEach","$newCell","replaceWith","_setCellAriaAttributes","columnIndexOffset","getColumnIndexOffset","ariaColIndex","_getCellOptions","cellIndex","findIndex","_renderCellContent","appendChild","_getCellTemplate","when","done","isAltRow","source","watchers","watch","getter","updateValueFunc","updateRowFunc","watcher","newValue","JSON","stringify","splice","update","keepRow","isExpanded","elementData","_columnOptionChanged","optionNames","widths","iteratorUtils","setColumnWidths","getCellIndex","getTableElements","getTableElement","setTableElement","_dataController","excludeValidators","category","afterExecute","_afterRowPrepared","columnsChanged","changed","_handleDataChanged","_updateScrollLeftPosition","pos","$scrollContainer","_wrapTableInScrollContainer","nativeScrolling","scrollChanged","_updateContent","$newTableElement","_findContentElement","_getWidths","$cellElements","result","offsetWidth","getBoundingClientRect","clientRect","getBoundingRect","getColumnWidths","$tableElement","$rows","isRowVisible","display","getVisibleColumnIndex","_ref","$cols","classList","querySelector","toFixed","getCellElements","_getCellElementsCore","_getRowElements","_getCellElement","columnIdentifier","columnVisibleIndex","_getVisibleColumnIndex","_getRowElement","$tableElements","_","getCellElement","getRowElement","elements","columnOption","getCell","cellPosition","getRowsCount","_getRowElementsCore","hasRowTemplate","tBodies","getName","setScrollerSpacing","paddingLeft","paddingRight","isScrollbarVisible","isHorizontal","getOuterWidth","getWidth","getOuterHeight","getHeight","FOCUS_STATE_CLASS","FOCUS_DISABLED_CLASS","FOCUSED_ROW_SELECTOR","GRID_ROW_SELECTOR","GRID_CELL_SELECTOR","TREELIST_ROW_SELECTOR","TREELIST_CELL_SELECTOR","viewItemSelectorMap","columnHeaders","rowsView","footer","isMouseDown","isHiddenFocusing","focusedElementInfo","processKeyDown","viewName","$mainElement","executeKeyDown","isHandled","fireKeyDownEvent","keyName","normalizeKeyName","saveFocusedElementInfo","selectView","ariaLabel","$activeElements","getActiveAccessibleElements","targetIndex","viewInstance","viewElement","$viewElement","findFocusedViewElement","viewSelectors","selector","$focusViewElement","first","onDocumentVisibilityChange","visibilityState","subscribeVisibilityChange","unsubscribeVisibilityChange","hiddenFocus","registerKeyboardAction","getMainElement","keyDownHandler","mouseDownHandler","removeClass","focusinHandler","needShowOverlay","restoreFocus","$targetElement","viewNames","keys","viewItemIndex","_viewName","setTabIndex","keyboardController","isKeyboardEnabled","accessibility","CELL_CONTENT_CLASS","HEADERS_CLASS","NOWRAP_CLASS","ROW_CLASS_SELECTOR","HEADER_ROW_CLASS","COLUMN_LINES_CLASS","CONTEXT_MENU_SORT_ASC_ICON","CONTEXT_MENU_SORT_DESC_ICON","CONTEXT_MENU_SORT_NONE_ICON","CELL_FOCUS_DISABLED_CLASS","VISIBILITY_HIDDEN_CLASS","TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX","SORT_INDICATOR_CLASS","SORT_INDEX_INDICATOR_CLASS","HEADER_FILTER_CLASS_SELECTOR","HEADER_FILTER_INDICATOR_CLASS","MULTI_ROW_HEADER_CLASS","columnHeadersModule","defaultOptions","columnHeadersView","createCellContent","$cellContent","addCssClassesToCellContent","contentAlignment","$indicatorElements","$visibleIndicatorElements","indicatorCount","sortIndicatorClassName","sortIndexIndicatorClassName","$sortIndicator","$sortIndexIndicator","shiftKey","_isLegacyKeyboardNavigation","_getDefaultTemplate","$content","_getHeaderTemplate","resultTemplate","_isGroupingChanged","_handleActionKeyDown","_lastActionElement","headerFilterController","$column","getColumnIndexByElement","showHeaderFilterMenu","_processHeaderAction","isLoaded","_hasRowElements","getRowCount","_getRowVisibleColumns","$cellElement","rowspan","rowCount","groupExpanding","_isElementVisible","elementOptions","_alignCaptionByCenter","clone","insertBefore","$indicatorElement","returnAll","_isSortableElement","getHeadersRowHeight","$headerRows","toArray","reduce","headerRow","getHeaderElement","columnElements","bandColumnIndex","getChildrenByBandColumn","$columnElements","allowDragging","sourceLocation","draggingPanels","draggableColumnCount","canHideColumn","allowDrag","isColumnOptionUsed","draggingPanel","getColumnCount","getContextMenuItems","sortingOptions","onItemClick","params","changeSortOrder","itemData","setRowsOpacity","columnID","setColumnOpacity","gridCore","USER_STATE_FIELD_NAMES_15_1","USER_STATE_FIELD_NAMES","IGNORE_COLUMN_OPTION_NAMES","bestFitWidth","bufferedFilterValue","COMMAND_EXPAND_CLASS","MAX_SAFE_INTEGER","GROUP_COMMAND_COLUMN_NAME","regExp","globalColumnId","columnsControllerModule","commonColumnSettings","adaptColumnWidthByRatio","regenerateColumnsByVisibleItems","DEFAULT_COLUMN_OPTIONS","DATATYPE_OPERATIONS","number","string","datetime","COLUMN_INDEX_OPTIONS","setFilterOperationsAsDefaultValues","defaultFilterOperations","createColumn","columnOptions","userStateColumnOptions","bandColumn","commonColumnOptions","setName","deepExtendArraySafe","getCommonSettings","calculatedColumnOptions","_createCalculatedColumnOptions","createColumnsFromOptions","columnsOptions","_columnsUserState","checkUserStateColumn","hasColumns","getParentBandColumns","columnParentByIndex","_getChildrenByBandColumn","columnChildrenByIndex","recursive","getColumnFullPath","bandColumnsCache","getBandColumnsCache","callbackFilter","isPlain","_columns","calculateColspan","getValueDataType","getSerializationFormat","dateSerialization","updateSerializers","deserializeValue","serializeValue","serializationFormat","parsedValue","isNaN","customizeTextForBooleanDataType","valueText","getCustomizeTextByDataType","updateColumnIndexes","isObject","_commandColumns","updateColumnGroupIndexes","currentColumn","normalizeIndexes","getColumnIndexByVisibleIndex","getGroupColumns","getChooserColumns","userStateColumn","applyUserState","userStateColumnIndex","columnsUserState","ignoreColumnOptionNames","_ignoreColumnOptionNames","columnCountById","resultColumns","allColumnsHaveState","userStateColumnIndexes","applyFieldsState","fieldName","defaultSelectedFilterOperation","findUserStateColumn","_hasUserState","initialIndex","hasAddedBands","columnUserState","added","assignColumns","updateIndexes","isSortOrderValid","resetBandColumnsCache","key","bandColumns","parentBandColumns","resetColumnsCache","updateColumnDataTypes","updateColumnChanges","columnChanges","_columnChanges","split","fireColumnsChanged","onColumnsChanging","reinitOptionNames","isInitialized","some","reinit","updateSortOrderWhenGrouping","prevGroupIndex","columnWasGrouped","lastSortOrder","sortMode","sortedByAnotherColumn","fireOptionChanged","prevValue","fullOptionName","fullOptionPath","_skipProcessingColumnsChange","_notifyOptionChanged","columnOptionCore","notFireEvent","initialColumn","optionGetter","compileGetter","functionsAsIs","optionSetter","compileSetter","_checkColumns","getColumnByPath","defaultSetCellValue","path","dotCount","isCustomCommandColumn","commandColumn","getFixedPosition","processExpandColumns","expandColumns","customColumnIndex","expandColumnsByType","expandColumn","numberToString","digitsCount","str","mergeColumns","commandColumns","needToExtend","commandColumnIndex","isColumnFixing","_isColumnFixing","defaultCommandColumns","getCommandColumnIndex","columnType","isColumnFixed","_bandColumnsCache","findColumn","identifier","identifierOptionName","substr","_getExpandColumnOptions","_getFirstItems","groupsCount","getFirstItemsCore","childItems","collapsedItems","_isColumnsFromOptions","addCommandColumn","_dataSourceApplied","applyDataSource","_dataSource","columnIndexes","replace","parseInt","needUpdateRequireResize","previousValue","fullName","_updateRequireResize","columnOptionValue","columnOptionName","forceApplying","isDataSourceLoaded","_dataSourceColumnsCount","columnsFromDataSource","firstItems","processedFields","variableWrapper","updateColumns","isAllDataTypesDefined","reset","_visibleColumns","_fixedColumns","_rowCount","getUserState","isDataSourceApplied","groupingOptions","groupPanelOptions","checkSerializers","defaultCalculateCellValue","isBandColumnsUsed","_getVisibleColumnsCore","getFixedColumns","_getFixedColumnsCore","getFilteringColumns","notFixedColumnCount","transparentColumnIndex","lastFixedPosition","transparentColumn","transparentColspan","prevColumn","newColumn","_getExpandColumnsCore","getExpandColumns","firstGroupColumn","isFixedFirstGroupColumn","parentIndex","_isColumnVisible","isParentColumnVisible","isFixedToEnd","rowspanGroupColumns","rowspanExpandColumns","positiveIndexedColumns","negativeIndexedColumns","notGroupedColumnsCount","columnDigitsCount","indexedColumns","orderEach","firstPositiveIndexColumn","columnsByFixing","columnsByVisibleIndex","call","getDataColumns","bandColumnID","getInvisibleColumns","hiddenColumnsByBand","getAllColumns","columnChooserColumns","sign","column1","column2","caption1","caption2","localeCompare","allowMoveColumn","fromVisibleIndex","toVisibleIndex","targetLocation","sourceColumn","moveColumn","targetGroupIndex","fromIndex","toIndex","groupColumns","Math","targetColumn","sortingMode","needResetSorting","getSortDataSourceParameters","useLocalSelector","sortColumns","sortItem","displayField","desc","compare","getGroupDataSourceParameters","refresh","updateNewLookupsOnly","deferreds","valueMap","_updateColumnOptions","calculateCallbackName","calculateCallback","originalCallback","context","displayValueMap","isRTL","isColumnDataTypesUpdated","lookupDataType","valueDataType","_customizeColumns","hasOwnerBand","updateSortingGrouping","sortParameters","groupParameters","filterParameters","lastLoadOptions","always","_updateChanges","dataController","getCombinedFilter","fromDataSource","isColumnsChanged","updateSortGroupParameterIndexes","indexParameterName","columnsGroupParameters","columnsSortParameters","groupingChanged","groupExpandingChanged","updateFilter","remoteFiltering","forceIsoDateParsing","columnCount","clearSorting","clearGrouping","getVisibleIndexByColumn","visibleColumn","addColumn","deleteColumn","childIndexes","handleStateField","setUserState","state","isFilterPanelHidden","usedNames","hasEditableColumnWithoutName","duplicatedNames","_column$columns","isEditable","captionize","skipDeserialization","parseValue","formattedValue","formattedValueWithDefaultFormat","filterUtils","createFilterExpression","userDataType","updateValueMap","calculateValue","displayValue","Store","dataSourceOptions","normalizeDataSourceOptions","paginate","DataSource","load","resizedCallbacks","defaultOptionName","charAt","toUpperCase","parents","invisibleParents","alwaysGetRowIndex","onlyVisibleDirectChildren","isParentBandColumn","getColumnId","cloneItems","groupCount","calculateOperationTypes","loadOptions","isFullReload","operationTypes","reload","fullReload","groupExpand","skip","take","getPageDataFromCache","updatePaging","storeLoadOptions","fillItemsFromCache","cacheItemsFromBegin","cacheItemBeginCount","cacheItemsFromEnd","_options$skip2","_options$take2","cacheItemEndCount","cachedDataPartBegin","cachedDataPartEnd","reverse","fromEnd","_options$take","_options$cachedData","cachedItems","cachedData","_ref2","_options$skip","localIndex","cacheItemIndex","cacheItem","getItemFromCache","skips","takes","getGroupItemFromCache","isContinuation","isContinuationOnNextPage","childCacheItem","isLast","getCacheItem","loadedItem","globalIndex","childSkips","_remoteOperations","_isLastPage","isLastPage","_hasLastPage","_currentTotalCount","_cachedData","_lastOperationTypes","_eventsStrategy","_totalCountCorrection","_isLoadingAll","loadingChanged","loadError","customizeStoreLoadOptions","changing","pushed","_dataChangedHandler","_customizeStoreLoadOptionsHandler","_handleCustomizeStoreLoadOptions","_dataLoadedHandler","_handleDataLoaded","_loadingChangedHandler","_handleLoadingChanged","_loadErrorHandler","_handleLoadError","_pushHandler","_handlePush","_changingHandler","_handleChanging","store","memberName","member","isSharedDataSource","resetCurrentTotalCount","resetCache","_cachedStoreData","_cachedPagingData","resetPagesCache","_needClearStoreDataCache","_lastLoadOptions","isLocalOperations","every","operationName","fromStore","applyBatch","keyInfo","_applyBatch","getDataIndexGetter","_dataIndexGetter","indexByKey","storeData","isCacheUpdated","getKeyHash","keyOf","_getKeyInfo","totalCount","isVirtualMode","getItemCount","itemsCount","oldItemCount","_items","useInsertIndex","_ref5","_needCleanCacheByOperation","operationType","operationTypesByOrder","operationTypeIndex","currentOperationTypes","_customizeRemoteOperations","cachedStoreData","cachedPagingData","isCustomLoading","_options$data","_handleDataLoading","originalStoreLoadOptions","_isRefreshing","isRefreshing","_loadingOperationTypes","_isRefreshed","_lastOperationId","operationId","fail","_handleDataLoadingCore","cachedExtra","extra","localLoadOptionNames","requireTotalCount","optionValue","localPaging","needCache","needPageCache","needPagingCache","needStoreCache","mergeStoreLoadData","ArrayStore","error","_handleDataLoadedCore","_ref3","_options$skip3","_ref4","_options$take3","cacheItems","isLoading","_loadPageSize","currentTotalCount","isDataLoading","pageCount","_operationTypes","_scheduleCustomLoadCallbacks","_isCustomLoading","loadingOperationTypes","_dataSourceTotalCount","totalCountCorrection","totalItemsCount","ceil","hasKnownLastPage","loadFromStore","d","dataSourceLoadOptions","loadResult","_customLoadOptions","isLoadingAll","_scheduleLoadCallbacks","executeAsync","full","getCachedStoreData","dataSourceAdapterType","DataSourceAdapter","create","dataControllerModule","loadingTimeout","include","DataHelperMixin","changePaging","_getPagingOptionValue","_skipProcessingPagingChange","pageChanged","members","_cachedProcessedItems","_currentOperationTypes","_columnsChangedHandler","_handleColumnsChanged","_dataPushedHandler","_handleDataPushed","_isLoading","_repaintChangesOnly","_changes","dataErrorOccurred","_refreshDataSource","stopOnFalse","_handleDataSourceChange","_this$_dataSource","isValueChanged","_array","isParasiteChange","_setPagingOptions","_useSortingGroupingFromColumns","getDataSource","returnDataField","combinedFilter","additionalFilter","_calculateAdditionalFilter","waitReady","_readyDeferred","updateItems","_storeLoadOptions$fil","_columnsUpdating","filterApplied","_applyFilter","_needApplyFilter","updateItemsHandler","virtualColumnsScrolling","isAsyncDataSourceApplying","_isDataSourceApplying","isDelayed","needApplyFilter","_isAllDataTypesDefined","_fireLoadingChanged","fireError","pagingEnabled","scrollingMode","appendMode","virtualMode","isChanged","_getSpecificDataSourceOption","_initDataSource","oldDataSource","setDataSource","_loadDataSource","_beforeProcessItems","getRowIndexDelta","_processItems","rowIndexDelta","visibleItems","lastVisibleItem","_processItem","_generateDataItem","_processDataItem","dataItem","generateDataValues","isModified","_applyChange","_applyChangeUpdate","_applyChangesOnly","_applyChangeFull","_getRowIndices","rowIndices","a","b","correctedRowIndex","allowInvisibleRowIndices","prevIndex","rowIndexCorrection","equalItems","item1","item2","strict","equalByValue","isEditing","oldItem","oldNextItem","newItem","newNextItem","isFullUpdate","_partialUpdateRow","_isCellChanged","oldRow","newRow","visibleRowIndex","isLiveUpdate","isCellModified","modifiedValues","_getChangedColumnIndices","_cell$column","_changedColumnIndices","changedColumnIndices","isCellChanged","_isItemEquals","_item1$data","_item2$data","_item1$data2","_item2$data2","expandedMatch","summaryCellsMatch","summaryCells","continuationMatch","newIndexByKey","getRowKey","currentItems","oldItems","findChanges","_correctRowIndices","oldRowIndexOffset","_rowIndexOffset","rowIndexOffset","getRowIndexOffset","newVisibleRowIndex","_afterProcessItems","_updateItemsCore","cachedProcessedItems","useProcessedItemsCache","loadIndex","getVisibleRows","isDataChanged","_change$repaintChange","needUpdateDimensions","_needUpdateDimensions","_fireChanged","deferRender","_loadingText","_isFilterApplying","resetFilterApplying","filterExpr","prototype","filterName","clearColumnOption","searchByText","_fireDataSourceChanged","changedHandler","dataSourceChanged","_getDataSourceAdapter","_createDataSourceAdapterCore","dataSourceAdapterProvider","dataSourceAdapter","isLocalStore","isCustomStore","CustomStore","_createDataSourceAdapter","enabledRemoteOperations","cancelAll","_isSharedDataSource","isEmpty","loadAll","getKeyByRowIndex","byLoaded","getRowIndexByKey","byKey","getDataByKeys","rowKeys","keyData","beginCustomLoading","messageText","endCustomLoading","changesOnly","customizeLoadResult","_disposeDataSource","repaintRows","rowIndexes","skipProcessingPagingChange","searchText","isLastPageLoaded","DataController","SORT_CLASS","SORT_NONE_CLASS","SORTUP_CLASS","SORTDOWN_CLASS","SORT_INDEX_CLASS","SORT_INDEX_ICON_CLASS","HEADERS_ACTION_CLASS","ariaSortState","isSortingAllowed","hasSeveralSortIndexes","prepend","COLUMN_HEADERS_VIEW_NAMESPACE","ColumnHeadersViewSortingExtender","sortingMixin","$cellElementFromEvent","editingController","editingMode","isCellEditing","isCommandKeyPressed","HeaderPanelSortingExtender","_createGroupPanelItem","$rootElement","$item","_processGroupItemAction","groupColumnIndex","sortingModule","headerPanel","ROWS_VIEW_CLASS","DATA_ROW_CLASS","FREE_SPACE_CLASS","ROW_LINES_CLASS","ROW_ALTERNATION_CLASS","LAST_ROW_BORDER","EMPTY_CLASS","ROW_INSERTED_ANIMATION_CLASS","LOADPANEL_HIDE_TIMEOUT","getMaxHorizontalScrollOffset","scrollable","round","rowsModule","defaultCellTemplate","isDataTextEmpty","textContent","innerHTML","_getDefaultGroupTemplate","summaryItems","_update","isGroup","isRowExpanded","_setAriaRowIndex","isPagerMode","arg","isNewRow","deep","skipImmediate","removeEvent","_renderScrollable","force","_loadPanel","_renderLoadPanel","getScrollable","allColumnsHasWidth","_hasHeight","_renderScrollableCore","_handleScroll","isNativeScrolling","_scrollTop","scrollOffset","_scrollRight","dxScrollableOptions","scrollHandler","onScroll","_scrollable","Scrollable","_scrollableContainer","_renderContent","contentElement","newTableElement","executors","rowInsertedClass","$rowsElement","toggle","insertAfter","last","prependTo","_createEmptyRow","isFixed","_appendEmptyRow","$emptyRow","isTableContainer","$colgroup","_renderFreeSpaceRow","$freeSpaceRowElement","_checkRowKeys","_needUpdateRowHeight","_rowHeight","_getRowsHeight","$rowElements","_updateRowHeight","rowsHeight","_getFreeSpaceRowElements","tableElements","_getNoDataText","evaluate","expr","_getColumnsCountBeforeGroups","_getGroupCellOptions","columnsCountBeforeGroups","_renderGroupedCells","groupCellOptions","groupColumnAlignment","updateFreeSpaceRowHeight","_renderDataRowByTemplate","resizeCompletedHandler","scrollableInstance","document","_visibilityChanged","_lastColumnWidths","groupingTextsOptions","_setRowsOpacityCore","_getDevicePixelRatio","devicePixelRatio","renderNoDataText","getCellOptions","getRow","itemCount","freeSpaceRowElements","isFreeSpaceRowVisible","deferUpdate","scrollbarWidth","getScrollbarWidth","elementHeightWithoutScrollbar","contentHeight","showFreeSpaceRow","borderTopWidth","heightCorrection","_getHeightCorrection","resultHeight","_updateLastRowBorder","freeSpaceRowCount","setHeight","isZoomedWebkit","isChromeLatest","hasExtraBorderTop","_fireColumnResizedCallbacks","_editorFactoryController","setLoading","contentWidth","scrollableContainer","clientHeight","lastColumnWidths","columnWidths","_updateScrollable","dxScrollable","_updateHorizontalScrollPosition","maxHorizontalScrollOffset","scrollRight","_height","hasHeight","loadPanelOptions","visibilityOptions","_hideLoadingTimeoutID","groupCellIndex","_getBoundaryVisibleItemIndex","isTop","isFloor","itemIndex","prevOffset","viewportBoundary","$contentElement","contentElementOffsetTop","rowElements","outerHeight","getTopVisibleItemIndex","getBottomVisibleItemIndex","getTopVisibleRowData","_scrollToElement","scrollToElement","_restoreErrorRow","DataConverter","_dataStructure","_itemsCount","_visibleItemsCount","_indexByKey","_convertItemsToNodes","parentKey","parentId","_getParentId","node","_convertItemToNode","_checkForDuplicateId","internalFields","_itemHasChildren","_dataAccessors","getters","_dataType","_getUniqueKey","keyGetter","itemKey","isCorrectKey","isPrimitive","getItemsCount","defaultValue","expanded","selected","_rootValue","_makeObjectFromPrimitive","childrenKeys","setChildrenKeys","getParentNode","setters","_convertToPublicNode","publicNode","convertToPublicNodes","publicNodes","_getByKey","setDataAccessors","accessors","getIndexByKey","getByKey","currentElementKey","getVisibleItemsCount","updateIndexByKey","updateChildrenKeys","removeChildrenKeys","createPlainStructure","rootValue","EXPANDED","SELECTED","DISABLED","uiSearchBoxMixin","TextBox","DataAdapter","_defaultOptions","dataConverter","dataAccessors","_selectedNodesKeys","_expandedNodesKeys","_createInternalDataStructure","getTreeNodes","setOption","_updateSelection","multipleSelection","recursiveSelection","recursiveExpansion","searchValue","HierarchicalDataConverter","onNodeChanged","_initialDataStructure","search","_updateExpansion","_setChildrenSelection","_setParentSelection","_updateNodesKeysArray","_updateOneBranch","_setParentExpansion","property","array","_getDataBySelectionMode","_isNodeVisible","toggleSelection","getData","getFullData","isSelected","_toggleChildrenSelection","_iterateParents","newParentState","_calculateSelectedState","_setFieldState","getNodeByKey","_iterateChildren","callback","processedKeys","nodeKey","child","selectedItemsCount","invisibleItemsCount","childNode","isChildInvisible","childState","_markChildren","_removeNode","counter","_addNode","_updateFields","getSelectedNodesKeys","getExpandedNodesKeys","getNodeByItem","getNodesByItems","nodes","getRootNodes","getPublicNode","getChildrenNodes","query","addItem","removeItem","selectRecursive","isSingleModeUnselect","_isSingleModeUnselect","selectionState","toggleNodeDisabledState","toggleSelectAll","lastSelectedKey","dataStructure","selectionRequired","isAllSelected","toggleExpansion","isFiltered","_filterDataStructure","_createCriteria","operation","searchFilter","pop","searchExpr","criteria","matches","lookForParents","storeHelper","DISABLED_STATE_CLASS","HierarchicalCollectionWidget","CollectionWidget","_getDefaultOptions","selectedExpr","disabledExpr","itemsExpr","parentIdExpr","expandedExpr","_defaultOptionsRules","device","devices","deviceType","_init","_initAccessors","_initDataAdapter","_initDynamicTemplates","_createDataAdapterAccessors","_dataAdapter","HierarchicalDataAdapter","_getDataAdapterOptions","_templateManager","addDefaultTemplates","BindableTemplate","_getIconContainer","_getTextContainer","_getPopoutContainer","_addContentClasses","_displayGetter","_itemsGetter","getImageContainer","_getAccessors","accessor","_compileAccessor","_compileDisplayGetter","_getChildNodes","arr","_hasChildren","setter","optionExpr","obj","getterName","setterName","newAccessor","_initMarkup","_addWidgetClass","_focusTarget","_widgetClass","_renderItemFrame","$itemFrame","_disabledGetter","_optionChanged","repaint","MenuBaseEditStrategy","PlainEditStrategy","_getPlainItems","_collectionWidget","getMenuItems","_stringifyItem","_getTemplateString","DX_MENU_CLASS","DX_MENU_NO_ICONS_CLASS","DX_MENU_BASE_CLASS","ITEM_CLASS","DX_ITEM_CONTENT_CLASS","DX_MENU_SELECTED_ITEM_CLASS","DX_MENU_ITEM_WRAPPER_CLASS","DX_MENU_ITEMS_CONTAINER_CLASS","DX_MENU_ITEM_EXPANDED_CLASS","DX_MENU_SEPARATOR_CLASS","DX_MENU_ITEM_LAST_GROUP_ITEM","DX_ITEM_HAS_TEXT","DX_ITEM_HAS_ICON","DX_ITEM_HAS_SUBMENU","DX_MENU_ITEM_POPOUT_CLASS","DX_MENU_ITEM_POPOUT_CONTAINER_CLASS","DX_MENU_ITEM_CAPTION_CLASS","SINGLE_SELECTION_MODE","DEFAULT_DELAY","MenuBase","super","showSubmenuMode","selectByClick","focusOnSelectedItem","_itemAttributes","role","useInkRipple","_itemDataKey","_itemClass","_setAriaSelected","_selectedItemClass","_itemContainer","_clean","_supportedKeys","space","_isSelectionEnabled","selectItem","pageUp","pageDown","_activeStateUnit","_renderSelectedItem","_initActions","itemText","$itemContainer","itemContent","$popOutContainer","$popOutImage","_selectByItem","selectedItem","nodeToSelect","selectedKeys","selectedKey","selectable","_addCustomCssClass","_renderInkRipple","_inkRipple","_toggleActiveState","showWave","hideWave","_getShowSubmenuMode","_isDesktopDevice","_initSelectedItems","_initEditStrategy","Strategy","_editStrategy","_itemWrapperSelector","_hoverStartHandler","$itemElement","_getItemElementByEventArgs","_isItemDisabled","stopPropagation","_showSubmenusTimeout","_showSubmenu","_getSubmenuDelay","_getAvailableItems","$itemElements","_addExpandedClass","itemElement","eventArgs","_hoverEndHandler","_hasSubmenu","_renderContentImpl","_renderItems","submenuContainer","hasIcons","$nodeContainer","_renderContainer","firstVisibleIndex","nextGroupFirstIndex","isVisibleNode","isBeginGroup","beginGroup","_renderSeparator","_renderItem","$wrapper","_createDOMElement","$node","$nodeElement","_refreshItem","_itemIndexKey","hasText","hasIcon","hasSubmenu","_getItemContent","$itemContent","_postprocessRenderItem","selectedIndex","_selectedGetter","_isItemSelectable","$itemsContainer","_itemClickHandler","_skipHandling","itemClickActionHandler","_updateSubmenuVisibilityOnClick","_itemDXEventHandler","actionArgs","_updateSelectedItemOnClick","_isItemSelectionAllowed","selectedItemKey","selectedNode","_toggleItemSelection","_fireSelectionChangeEvent","isSelectionByClickEnabled","_isContainerEmpty","_syncSelectionOptions","asyncNoop","_updateSelectedItems","_getElementByItem","_itemElements","oldSelection","newSelection","addedSelection","removedSelection","addedItems","removedItems","_getItemData","unselectItem","ItemClass","MenuItem","DX_MENU_ITEM_CLASS","DX_MENU_PHONE_CLASS","DX_SUBMENU_CLASS","DX_CONTEXT_MENU_CLASS","DX_HAS_CONTEXT_MENU_CLASS","DX_STATE_DISABLED_CLASS","DX_STATE_FOCUSED_CLASS","DX_STATE_HOVER_CLASS","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","FOCUS_FIRST","FOCUS_LAST","ACTIONS","LOCAL_SUBMENU_DIRECTIONS","DEFAULT_SHOW_EVENT","ContextMenu","getShowEvent","showEventOption","getShowDelay","showEvent","onSubmenuCreated","onPositioning","submenuDirection","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu","_setOptionsByReference","_optionsByReference","_focusInHandler","_overlay","_eventBindingTarget","itemsContainer","escape","_getActiveItem","$availableItems","$focusedItem","$hoveredItem","$hoveredItemContainer","_moveFocus","$newTarget","$items","_getItemsByLocation","$oldTarget","$activeItemHighlighted","_prevItem","_setFocusedElement","_nextItem","_hideSubmenuHandler","_expandSubmenuHandler","$activeItem","_getAriaTarget","_refreshActiveDescendant","$curItem","$parentItem","_hideSubmenusOnSameLevel","_hideSubmenu","isItemHasSubmenu","$submenu","_detachShowContextMenuEvents","_getTarget","_render","_renderVisibility","_attachShowContextMenuEvents","_attachKeyboardEvents","_keyboardListenerId","_renderContextMenuOverlay","overlayOptions","_getOverlayOptions","Overlay","$overlayContent","_addPlatformDependentClass","_attachContextMenuEvent","preventShowingDefaultContextMenuAboveOverlay","eventName","contextMenuEventName","_itemContextMenuHandler","phone","_showContextMenuEventHandler","contextMenuAction","_show","validatingTargetName","handler","isWindow","_renderDimensions","$holder","_renderSubmenuItems","submenuElement","innerOverlay","_closeOnOutsideClickHandler","propagateOutsideClick","_overlayShownActionHandler","_overlayHidingActionHandler","_overlayHiddenActionHandler","_hideAllShownSubmenus","$activeItemContainer","_getActiveItemsContainer","$itemContainers","_getItemsContainers","$clickedItem","_searchActiveItem","$rootItem","isRootItemClicked","isInnerOverlayClicked","_isIncludeOverlay","_hideAllShownChildSubmenus","$activeOverlay","$allOverlays","isSame","$overlay","$submenuElements","shownSubmenus","_shownSubmenus","$context","isSubmenuRendered","_isSubmenuVisible","_drawSubmenu","$expandedItems","siblings","_hideSubmenuGroup","_hideSubmenuCore","submenuPosition","_getSubmenuPosition","fx","animationPosition","_animate","$rootItemWrapper","h","v","shouldRenderSubmenu","notCloseMenuOnItemClick","closeMenuOnClick","$prevSubmenu","canceled","$curSubmenu","_stopAnimate","showing","_hide","_toggleVisibility","jQEvent","_event$originalEvent","_positionContextMenu","_renderFocusState","_attachHoverEvents","_attachClickEvent","_setAriaAttributes","holdEvent","_overlayContentId","Guid","_cleanAriaAttributes","_getContextMenuPosition","isInitialPosition","_isInitialOptionValue","positioningAction","_refresh","lastPosition","registerComponent","CONTEXT_MENU","footerView","VIEW_NAMES","ContextMenuController","dxEvent","$targetRowElement","$targetCellElement","menuItems","view","_rowOptions$cells","targetElement","_contextMenuPrepared","ContextMenuView","contextMenuInstance","contextMenuModule","contextMenu","contextMenuView","treeListCore","ERROR_MESSAGE_CLASS","ERROR_CLOSEBUTTON_CLASS","ACTION_CLASS","ErrorHandlingController","_columnHeadersView","_rowsView","_createErrorRow","$errorRow","$closeButton","$errorMessage","_renderErrorMessage","errorRowIndex","removeErrorRow","fireContentReadyAction","url","$message","renderErrorRow","$popupContent","$errorMessageElement","$firstErrorRow","next","resizingController","$columnHeaders","$rowsViewElement","errorHandlingModule","errorHandling","errorHandlingController","hasChanges","BORDERS_CLASS","IMPORTANT_MARGIN_CLASS","GRIDBASE_CONTAINER_CLASS","isPercentWidth","isPixelWidth","getContainerHeight","paddingTop","paddingBottom","calculateFreeWidth","totalWidth","_getTotalWidth","calculateFreeWidthWithCurrentMinWidth","currentMinWidth","focusedElement","selectionRange","ResizingController","_initPostRenderHandlers","_refreshSizesHandler","_refreshSizes","resizeDeferred","_e$changeTypes","_setScrollerSpacing","_setAriaRowColCount","_fireContentReadyAction","_getBestFitWidths","_widths","_rowsView$getTableEle","headersTableElement","_setVisibleWidths","columnId","_toggleBestFitModeForView","isBestFit","$rowsTables","$viewTables","$tableBody","$rowsTable","$viewTable","_toggleBestFitMode","$rowsFixedTable","_footerView","_toggleContentMinHeight","_needStretch","_synchronizeColumns","resetBestFitMode","needBestFit","_needBestFit","hasMinWidth","isColumnWidthsCorrected","resultWidths","_maxWidth","isFocusOutsideWindow","bottom","_correctColumnWidths","expandColumnWidth","_processStretch","c","_getAverageColumnsWidth","freeWidth","columnCountWithoutWidth","hasPercentWidth","hasAutoWidth","hasWidth","_hasWidth","_loop","isHiddenColumn","averageColumnsWidth","realColumnWidth","_getRealColumnWidth","lastColumnIndex","borderWidth","getInnerWidth","resultSizes","groupSize","tableSize","unusedIndexes","diff","diffElement","floor","onePixelElementsCount","groupWidth","ratio","percentTotalWidth","pixelTotalWidth","freeSpace","percentTotalWidthInPixel","updateSize","$groupElement","importantMarginClass","detach","updateDimensions","checkSize","_checkSize","prevResult","_resizeDeferred","_resetGroupElementHeight","_updateDimensionsCore","groupElement","scrollTop","_lastWidth","_lastHeight","_devicePixelRatio","_setScrollerSpacingCore","vScrollbarWidth","hScrollbarWidth","$testDiv","rootElementHeight","maxHeightHappened","editorFactory","isMaxHeightApplied","scrollHeight","_updateLastSizes","SynchronizeScrollingController","_scrollChangedHandler","GridView","_resizingController","_getWidgetAriaLabel","_groupElement","_renderViews","_getTableRoleName","isFirstRender","_rootElement","gridViewModule","resizing","synchronizeScrolling","gridView","TOOLBAR_MENU_ACTION_CLASS","TOOLBAR_HIDDEN_BUTTON_CLASS","TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS","TOOLBAR_MENU_SECTION_CLASS","TOOLBAR_MENU_LAST_SECTION_CLASS","ToolbarMenu","ListBase","_renderSections","_getSections","_itemSelector","sectionName","$section","_updateSections","$sections","itemContainer","$after","_getItemTemplateName","isAction","menuTemplate","BUTTON_GROUP_CLASS","TOOLBAR_ITEMS","getItemInstance","dxComponents","widgetName","toggleItemFocusableElementTabIndex","_itemData$options","_findItemElementByItem","isItemNotFocusable","$widget","_itemInstance$_focusT","_itemData$options2","itemInstance","$focusTarget","window","DROP_DOWN_MENU_CLASS","DROP_DOWN_MENU_POPUP_CLASS","DROP_DOWN_MENU_POPUP_WRAPPER_CLASS","DROP_DOWN_MENU_LIST_CLASS","DROP_DOWN_MENU_BUTTON_CLASS","POPUP_OPTION_MAP","popupWidth","popupHeight","popupMaxHeight","popupAutoResizeEnabled","BUTTON_OPTION_MAP","buttonIcon","buttonText","buttonWidth","buttonHeight","buttonTemplate","DropDownMenu","Widget","extension","_list","_button","tab","_popup","itemTemplate","onButtonClick","usePopover","opened","selectionMode","selectedItemKeys","popupPosition","popupAnimation","onItemRendered","menuWidget","List","closeOnClick","platform","isMaterial","_initOptions","_dataSourceOptions","_initItemClickAction","_initButtonClickAction","_itemClickAction","_buttonClickAction","_initTemplates","ChildDefaultTemplate","_renderButton","haspopup","_renderPopup","_cleanFocusState","_$popup","$button","_buttonOptions","Button","_toggleMenuVisibility","$popup","_popupOptions","Popover","usePopup","_renderList","autoResizeEnabled","listConfig","_listOptions","_setListDataSource","listMaxHeight","_itemOptionChanged","_this$_list","pageLoadMode","indicateLoading","_deferRendering","_getKeyboardListeners","_updateFocusableItemsTabIndex","open","close","MENU_INVISIBLE_CLASS","TOOLBAR_dropDownMenu_CONTAINER_CLASS","POPOVER_BOUNDARY_OFFSET","ToolbarDropDownMenu","constructor","_toolbar","_hasVisibleMenuItems","_renderMenuButtonContainer","$menu","_dropDownMenuContainer","_dropDownMenu","_dropDownMenuOptions","renderMenuItems","_getMenuItems","$afterSection","_$afterSection","_$menuButtonContainer","_buttonClass","_getMenuItemTemplate","_getTemplateByOption","itemClickAction","topAndBottomOffset","_updateMenuVisibility","isMenuVisible","overflowGetter","itemVisible","itemOverflow","widgetOption","itemOption","_this$_dropDownMenu","TOOLBAR_AUTO_HIDE_ITEM_CLASS","TOOLBAR_AUTO_HIDE_TEXT_CLASS","TOOLBAR_HIDDEN_ITEM","Toolbar","ToolbarBase","menuContainer","overflowMenuVisible","_dimensionChanged","dimension","_menu","actionSheetItem","_renderMenu","_postProcessRenderItems","_hideOverflowItems","_getItemsWidth","_getSummaryItemsWidth","_$beforeSection","_$centerSection","elementWidth","overflowItems","itemsWidth","_isMenuItem","$hiddenItems","_restoreItems","$itemMarkup","merge","_getToolbarItems","_renderMenuStrategy","_arrangeItems","margin","float","_isToolbarItem","_changeMenuOption","HEADER_PANEL_CLASS","TOOLBAR_BUTTON_CLASS","TOOLBAR_ARIA_LABEL","DEFAULT_TOOLBAR_ITEM_NAMES","HeaderPanel","_getButtonContainer","_getToolbarButtonClass","specificClass","secondClass","_getToolbarOptions","userToolbarOptions","toolbarOptions","itemRenderedCallback","userItems","_normalizeToolbarItems","defaultItems","includes","Error","defaultProps","defaultButtonsByNames","normalizedItems","_toolbarOptions","$headerPanel","$toolbar","setToolbarItemDisabled","toolbarInstance","itemOptionPrefix","updateToolbarDimensions","_this$_toolbar","getHeaderPanel","parts","getPathParts","normalizedItem","headerPanelModule","DATAGRID_ROW_SELECTOR","DATAGRID_DEPRECATED_TEMPLATE_WARNING","DataGrid","_setDeprecatedOptions","_deprecatedOptions","since","alias","_device","templateName","logger","_dispose","DATE_REGEX","parseDates","exec","UTC","StateStoringController","getStorage","storage","sessionStorage","localStorage","getUniqueStorageKey","_loadState","parse","getItem","_saveState","setItem","isEnabled","_state","_isLoaded","_windowUnloadHandler","_savingTimeoutID","fromPromise","isEmptyObject","save","getDataState","pagerView","getPageSizes","processLoadState","selectionController","exportController","updateState","selectionChanged","_initialPageSize","_initialFilterValue","selectionOnlyChanged","exportSelectionOnly","selectionOnly","DEFAULT_FILTER_VALUE","getFilterValue","filterSyncController","hasFilterState","getFilterValueFromColumns","stateStoringModule","stateLoaded","isStateLoading","applyState","oldState","newState","oldStateHash","newStateHash","isVirtualScrollingMode","stateStoringController","_restoreStateTimeoutID","_fireSelectionChanged","isDeferredSelection","EDITOR_CELL_CLASS","ROW_SELECTION_CLASS","SELECT_CHECKBOX_CLASS","CHECKBOXES_HIDDEN_CLASS","COMMAND_SELECT_CLASS","SELECTION_DISABLED_CLASS","SHOW_CHECKBOXES_MODE","SELECTION_MODE","processLongTap","isSelectionWithCheckboxes","stopSelectionWithCheckboxes","startSelectionWithCheckboxes","changeItemSelection","control","SelectionController","selectionCellTemplate","isRowSelected","renderSelectCheckBoxContainer","selectionHeaderTemplate","_renderSelectAllCheckBox","_attachSelectAllCheckBoxClickEvent","_selectionMode","_isSelectionWithCheckboxes","_selection","_createSelection","_updateSelectColumn","removedKeys","deselectRows","_getSelectionConfig","selectionOptions","virtualPaging","legacyScrollingMode","ignoreDisabledItems","allowLoadByRange","hasGroupColumns","dataFields","_dataController$dataS","select","_dataController$dataS2","plainItems","isItemSelected","isSelectableItem","getItemData","oldData","getLoadOptions","loadItemIndex","focusedItemIndex","shiftItemIndex","_dataController$dataS3","_dataController$dataS4","minIndex","maxIndex","isSelectColumnVisible","Selection","argument","_updateCheckboxesState","isDeferredMode","removedItemKeys","keyIndex","isComplexKey","selectionChangedOptions","changedItemIndexes","getChangedItemIndexes","itemIndexes","addedItemKeys","_selectedItemsInternalChange","selectedRowsData","selectedItems","currentSelectedRowKeys","currentDeselectedRowKeys","isDataItem","oldSelectionMode","selectRows","_isOnePageSelectAll","isSelectAll","getSelectAllState","selectAll","deselectAll","clearSelection","preserve","isDeselect","getSelectedRowKeys","getSelectedItemKeys","selectRowsByIndexes","indexes","getSelectedRowsData","getSelectedItems","visibleItemIndex","setFocusOnly","loadedItemIndex","_focusedItemIndex","selectionModule","hasSelectColumn","currentItem","isUpdateSelection","_updateSelectAllValue","$editor","selectAllValue","hasSelection","dxCheckBox","isEmptyData","createEditor","parentType","setValue","_attachCheckBoxClickEvent","_renderSelectCheckBox","_e$event","_updateCheckboxesClass","touch","isSelectionDisabled","isClickableElement","isCommandSelect","isCheckBoxesHidden","WIDGET_CLASS","NODE_CLASS","NODE_CONTAINER_CLASS","NODE_LOAD_INDICATOR_CLASS","OPENED_NODE_CONTAINER_CLASS","IS_LEAF","ITEM_WITH_CHECKBOX_CLASS","ITEM_WITHOUT_CHECKBOX_CLASS","ITEM_DATA_KEY","TOGGLE_ITEM_VISIBILITY_CLASS","LOAD_INDICATOR_CLASS","LOAD_INDICATOR_WRAPPER_CLASS","TOGGLE_ITEM_VISIBILITY_OPENED_CLASS","SELECT_ALL_ITEM_CLASS","INVISIBLE_STATE_CLASS","SELECTED_ITEM_CLASS","EXPAND_EVENT_NAMESPACE","DATA_ITEM_ID","TreeViewBase","click","expandEventName","_getEventNameByOption","expandByClick","_expandEventHandler","$focusedElement","checkboxInstance","_getCheckBoxInstance","currentState","_updateItemSelection","toggleExpandedNestedItems","rootItem","_toggleExpandedNestedItems","enter","_showCheckboxes","asterisk","minus","len","_toggleExpandedState","_getNodeElement","cache","_encodeString","$nodeByKey","animationEnabled","expandAllEnabled","hasItemsExpr","selectNodesRecursive","expandNodesRecursive","selectAllText","onItemSelectionChanged","onItemExpanded","onItemCollapsed","scrollDirection","virtualModeEnabled","expandEvent","createChildren","onSelectAllValueChanged","integrationOptions","useDeferUpdateForTemplates","selectionChangePromise","_selectionChangePromise","_createSelectAllValueChangedAction","_selectAllValueChangedAction","_fireSelectAllValueChanged","_checkBoxModeChange","selectAllExists","_$selectAllItem","_renderSelectAllItem","_removeSelection","_filter","_initExpandEvent","_useCustomChildrenLoader","_loadChildrenByCustomLoader","newItems","_isVirtualMode","_initVirtualMode","custom","internal","_isDataStructurePlain","parentNode","invocationResult","then","_combineFilter","_dataSourceLoadErrorHandler","_renderEmptyMessage","_initStoreChangeHandlers","_dataSourceChangedHandler","_initialized","_removeTreeViewLoadIndicator","_treeViewLoadIndicator","_createTreeViewLoadIndicator","LoadIndicator","_dataSourceLoadingChangedHandler","resultFilter","_updateLevel","_parentIdGetter","removedKey","_markChildrenItemsToRemove","_removeItems","_getContainerByParentKey","_getOldContainer","_renderNodeContainer","_isRootLevel","_renderScrollableContainer","_isSingleSelection","_isRecursiveSelection","_selectAllEnabled","skipContentReadyAction","_expandedGetter","level","_getLevel","_renderedItemsCount","nodeIndex","nodeData","showCheckBox","_renderCheckBox","_toggleSelectedClass","_renderChildren","_renderToggleItemVisibilityIcon","_loadSublevel","childNodes","_renderSublevel","_getActualNode","_addLeafClass","cachedNode","_hasItemsGetter","childrenNodes","_loadNestedItems","$nestedNodeContainer","childNodesByChildrenKeys","firstChild","_updateParentsState","_normalizeIconState","_executeItemRenderAction","_getNode","_getItemRenderAction","expandedEventName","itemSelector","_getNodeByElement","_decodeString","_createLoadIndicator","_updateExpandedItemsUI","$icon","_renderToggleItemVisibilityIconClick","isHiddenNode","nodeContainerExists","completionCallback","_animateNodeContainer","_loadNestedItemsWithUpdate","actualNodeData","_areNodesExists","_appendItems","keyOfRootItem","fullData","nodeHeight","_fireExpandedStateUpdatedEvent","_itemEventHandler","hasNewItems","$loadIndicator","_emptyMessageContainer","_contentAlreadyRendered","CheckBox","_onSelectAllCheckboxValueChanged","before","_toggleSelectAll","_updateItemsUI","$checkbox","_changeCheckboxValue","_toggleNodeDisabledState","checkbox","_isLastSelectedBranch","selectedNodesKeys","_isLastRequired","isSingleMode","getSelectedNodeKeys","_fireItemSelectionChanged","needFireSelectAllChanged","initiator","nodeSelection","selectAllCheckbox","$parentNode","parentValue","_itemEventHandlerImpl","_extendActionArgs","_createEventHandler","_itemHoldHandler","clickSelector","pointerDownSelector","pointerDownEvent","_itemPointerDownHandler","isDefaultPrevented","_updateSelectionToFirstItem","startIndex","_updateSelectionToLastItem","_updateFocusState","_setFocusedItemTimeout","_setFocusedItem","_findNonDisabledNodes","$nodes","_nodeElements","$prevItem","prevItemElement","_getNodeItemElement","$nextItem","nextItemElement","$firstItem","$lastItem","_expandFocusedContainer","_collapseFocusedContainer","$focusedNode","_getClosestNonDisabledNode","nodeElement","collapsedNode","encodeURI","decodeURI","resolveWith","expandItem","collapseItem","getNodes","getSelectedNodes","unselectAll","expandAll","dataAdapter","collapseAll","scrollToItem","keyOrItemOrElement","nodeKeysToExpand","scrollCallback","_expandNodes","scrollToElementTopLeft","relativeOffset","getRelativeOffset","SCROLLABLE_CONTENT_CLASS","DIRECTION_VERTICAL","containerElement","DIRECTION_HORIZONTAL","keysToExpand","resultCallback","callbacksByNodes","searchBoxMixin","TreeViewSearch","_addWidgetPrefix","_updateSearch","_repaintContainer","_updateDataAdapter","_searchEditor","_getSearchEditorOptions","rootNodes","isSearchMode","_removeSearchBox","COLUMN_CHOOSER_CLASS","COLUMN_CHOOSER_BUTTON_CLASS","NOTOUCH_ACTION_CLASS","COLUMN_CHOOSER_LIST_CLASS","COLUMN_CHOOSER_PLAIN_CLASS","COLUMN_CHOOSER_DRAG_CLASS","COLUMN_CHOOSER_SELECT_CLASS","COLUMN_CHOOSER_ICON_NAME","COLUMN_CHOOSER_ITEM_CLASS","TREEVIEW_NODE_SELECTOR","CHECKBOX_SELECTOR","CLICK_TIMEOUT","processItems","chooserColumns","isSelectMode","disableCheckBox","ColumnChooserController","renderShowColumnChooserButton","$columnChooserButton","columnChooserButtonClass","columnChooserEnabled","$showColumnChooserButton","showColumnChooser","getPosition","ColumnChooserView","_isWinDevice","win","_updateList","_popupContainer","columnChooserList","_columnChooserList","_renderTreeView","_initializePopupContainer","columnChooserOptions","themeName","current","isGenericTheme","isGeneric","isMaterialTheme","dxPopupOptions","_ignoreCopyRootClassesToWrapperDeprecation","shortcut","Popup","treeViewConfig","searchEnabled","$checkBox","$treeViewNode","checkBoxInstance","_prepareSelectModeConfig","_prepareDragModeConfig","TreeView","isLastColumnUnselected","needPartialRender","needFullRender","all","columnVisible","isColumnChooserVisible","right","hideColumnChooser","popupContainer","columnChooserModule","columnChooserView","_appendColumnChooserItem","hintText","columnChooserMode","isMoveColumnDisallowed","createOffsetFilter","lastLevelOnly","groups","normalizeSortingInfo","filterElement","currentFilter","GroupingHelper","findGroupInfoByKey","groupsInfo","hash","getGroupInfoIndexByOffset","leftIndex","rightIndex","middleIndex","_groupsInfo","updateTotalItemsCount","isGroupItemCountable","_isVirtualPaging","calculateItemsCount","foreachGroups","childrenAtFirst","foreachCollapsedGroups","updateOffsets","updateParentOffsets","foreachGroupsCore","callbackResults","executeCallback","callbackResult","currentParents","_updateGroupInfoOffsets","groupInfo","findGroupInfo","pathIndex","addGroupInfo","groupInfoData","allowCollapseAll","oldGroups","_group","cleanGroupsInfo","handleDataLoading","handleDataLoaded","handleDataLoadedCore","createGroupFilter","loadTotalCount","GroupingHelperCore","correctSkipLoadOption","skipCorrection","resultSkip","pathEquals","path1","path2","keysEqual","updateGroupOffsets","additionalGroupInfo","getGroupCount","collapsedGroups","collapsedItemsCount","skipFirstItem","dataGridCore","sorts","appendCollapsedPath","collapsedGroup","keyValue","pathValue","toComparable","dataQuery","enumerate","groupedData","processGroupItems","removeLastItemsCount","needRemoveFirstItem","offsetInfo","itemsCountCorrection","changeRowExpand","groupCountQuery","beginPageIndex","dataSourceItems","groupOffsetQuery","getContinuationGroupCount","groupOffset","pageOffset","foreachExpandedGroups","updateGroups","expandedInfo","isLastGroupExpanded","paths","lastCount","updateGroupInfoItem","isLastGroupLevel","_isGroupExpanded","updateGroupInfos","loadedGroupCount","remotePaging","isGroupExpanded","getTotalOffset","groupInfos","totalOffset","childrenTotalCount","applyContinuationToGroupItem","groupLevel","expandedItemIndex","isLastExpandedItem","isFirstExpandedItem","lastExpandedItemSkip","isItemsTruncatedByTake","isDataDeferred","makeDataDeferred","loadGroupItems","currentGroupCount","currentGroupIndex","currentGroup","requireGroupCount","groupSummary","expandedFilters","expandedPath","isPagingLocal","isLastLevelGroupItemsPagingLocal","sortLastLevelGroupItems","expandedItems","loadGroupTotalCount","isGrouping","isFinite","dataErrors","isVirtualPaging","_updatePagingOptions","skipChildrenTotalCount","takeCorrection","parentTakeCorrection","continuationGroupCount","skipContinuationGroupCount","groupInfoCount","childrenGroupInfoCount","remoteGroupPaging","isLastGroup","_processPaging","_processSkips","firstItem","_processTakes","lastItem","maxTakeCount","handleGroup","DATAGRID_GROUP_PANEL_CLASS","DATAGRID_GROUP_PANEL_MESSAGE_CLASS","DATAGRID_GROUP_PANEL_ITEM_CLASS","DATAGRID_GROUP_PANEL_LABEL_CLASS","DATAGRID_EXPAND_CLASS","DATAGRID_GROUP_ROW_CLASS","GroupingDataSourceAdapterExtender","_initGroupingHelper","_grouping","isAutoExpandAll","isFocusedRowEnabled","isODataRemoteOperations","ExpandedGroupingHelper","CollapsedGroupingHelper","_collapseExpandAll","isExpand","beginLoading","_changeRowExpandCore","endLoading","_hasGroupLevelsExpandState","GroupingDataControllerExtender","_processGroupItems","_processGroupItem","groupedColumns","collectContinuationItems","resultItems","expandRow","collapseRow","onGroupingMenuItemClick","GroupingHeaderPanelExtender","_appendGroupingItem","_isGroupPanelVisible","isRendered","$groupPanel","_updateGroupPanelContent","_renderGroupPanelItems","$groupPanelItem","$toolbarElement","$groupedColumnElement","isGroupingAllowed","isColumnGrouped","GroupingRowsViewExtender","isGroupRowStateChanged","isExpandButtonClicked","_changeGroupRowState","columnHeadersViewExtender","_isProcessedItem","MASTER_DETAIL_CELL_CLASS","MASTER_DETAIL_ROW_CLASS","masterDetailModule","initMasterDetail","_expandedItems","_isExpandAll","expandIndex","_getRowIndicesForExpand","detailColumnIndex","isEnabledChanged","isAutoExpandAllChanged","_updateParentDataGrids","$masterDetailRow","_updateMasterDataGrid","$detailElement","masterRowOptions","masterDataGrid","isFixedColumns","_updateFixedMasterDetailGrids","masterRowIndex","$tables","rowsNotEqual","tablesNotEqual","detailElementWidth","isDetailHorizontalScrollCanBeShown","isDetailGridWidthChanged","isEditRow","_isDetailRow","$detailCell","isWrapped","CHECKBOX_SIZE_CLASS","EDITOR_INLINE_BLOCK","EditorFactoryMixin","getResultConfig","inputAttr","checkEnterBug","ios","getTextEditorConfig","isEnterBug","sharedData","needDelayedUpdate","isInputOrKeyUpEvent","updateValue","valueChangeTimeout","updateValueTimeout","_input","valueChangeEvent","prepareBooleanEditor","prepareSelectBox","editorName","displayGetter","postProcess","selectBox","stopWatch","showClearButton","editorElement","useMaskBehavior","blur","isSearching","isOnForm","showValidationMark","$editorElement","dateBox","dxDateBox","defaultEnterKeyHandler","registerKeyHandler","dxTextArea","FOCUS_OVERLAY_CLASS","FOCUSED_ELEMENT_CLASS","MODULE_NAMESPACE","UPDATE_FOCUS_EVENTS","DX_HIDDEN","EditorFactory","_getFocusedElement","$dataGridElement","rowSelector","focusedElementSelector","_getFocusCellSelector","_updateFocusCore","$focusCell","hideBorders","$focus","_$focusedElement","loseFocus","_updateFocus","isFocusOverlay","_isFocusOverlay","_updateFocusTimeoutID","_updateFocusOverlaySize","positionUtils","oversize","setOuterWidth","setOuterHeight","hideBorder","_focusTimeoutID","renderFocusOverlay","focused","refocus","_$focusOverlay","align","elemCoord","focusOverlayPosition","precise","_updateFocusHandler","_attachContainerEventHandlers","editorFactoryModule","DEFAULT_BUTTON","DX_DIALOG_CLASSNAME","DX_DIALOG_WRAPPER_CLASSNAME","DX_DIALOG_ROOT_CLASSNAME","DX_DIALOG_CONTENT_CLASSNAME","DX_DIALOG_MESSAGE_CLASSNAME","DX_DIALOG_BUTTONS_CLASSNAME","DX_DIALOG_BUTTON_CLASSNAME","DX_BUTTON_CLASSNAME","FakeDialogComponent","Component","_options$title","getViewport","isMessageDefined","isMessageHtmlDefined","messageHtml","popupToolbarItems","Action","popupInstance","android","execute","ensureDefined","ignoreChildEvents","bottomToolbar","resetActiveElement","$firstButton","popupOptions","isPortrait","confirm","ROW_SELECTED_CLASS","EDIT_FORM_CLASS","DATA_EDIT_DATA_INSERT_TYPE","DATA_EDIT_DATA_REMOVE_TYPE","EDITING_POPUP_OPTION_NAME","EDITING_FORM_OPTION_NAME","EDITING_EDITROWKEY_OPTION_NAME","EDITING_EDITCOLUMNNAME_OPTION_NAME","TARGET_COMPONENT_NAME","EDITORS_INPUT_SELECTOR","FOCUSABLE_ELEMENT_SELECTOR","EDIT_MODE_BATCH","EDIT_MODE_ROW","EDIT_MODE_CELL","EDIT_MODE_FORM","EDIT_MODE_POPUP","FIRST_NEW_ROW_POSITION","LAST_NEW_ROW_POSITION","PAGE_BOTTOM_NEW_ROW_POSITION","PAGE_TOP_NEW_ROW_POSITION","VIEWPORT_BOTTOM_NEW_ROW_POSITION","VIEWPORT_TOP_NEW_ROW_POSITION","EDIT_MODES","ROW_BASED_MODES","MODES_WITH_DELAYED_FOCUS","READONLY_CLASS","LINK_CLASS","ROW_SELECTED","EDIT_BUTTON_CLASS","COMMAND_EDIT_CLASS","COMMAND_EDIT_WITH_ICONS_CLASS","INSERT_INDEX","ROW_INSERTED","ROW_MODIFIED","CELL_MODIFIED","EDITING_NAMESPACE","DATA_EDIT_DATA_UPDATE_TYPE","DEFAULT_START_EDIT_ACTION","EDIT_LINK_CLASS","edit","undelete","delete","EDIT_ICON_CLASS","METHOD_NAMES","ACTION_OPTION_NAMES","BUTTON_NAMES","EDITING_CHANGES_OPTION_NAME","createFailureHandler","isEditingCell","isEditingOrShowEditorAlwaysDataCell","isCommandCell","isEditorCell","EditingController","getButtonIndex","getButtonName","_lastOperation","_deferreds","_saveEditorHandler","_updateEditColumn","_updateEditButtons","_internalState","getEditMode","editMode","_getDefaultEditorTemplate","_getNewRowPosition","getChanges","getInsertRowCount","resetChanges","needReset","_getInternalData","_addInternalData","internalData","_getOldData","_this$_getInternalDat","getUpdatedData","editIndex","createObjectWithChanges","getInsertedData","getRemovedData","_fireDataErrorOccurred","getPopupContent","_needToCloseEditableCell","_closeEditItem","_isDefaultButtonVisible","_isButtonVisible","_isButtonDisabled","_getButtonConfig","buttonName","addRowToNode","editingOptions","allowAction","_getEditingButtons","buttonIndex","haveCustomButtons","_renderEditingButtons","_createButton","_getEditCommandCellTemplate","isRowBasedEditMode","getFirstEditableColumnIndex","getFirstEditableCellInRow","getFocusedCellInRow","_inputFocusTimeoutID","_pointerUpEditorHandler","_pointerDownEditorHandler","_handleEditRowKeyChange","_handleChangesChange","_resetEditColumnName","_resetEditRowKey","oldRowIndexCorrection","_getEditRowIndexCorrection","oldRowIndex","_editRowFromOptionChanged","cancelEditData","_processInsertChanges","_addInsertInfo","_pageIndex","_refreshCore","isEditRowKeyDefined","_setEditRowKey","silent","_setEditRowKeyByIndex","getEditRowIndex","_getVisibleEditRowIndex","getEditFormRowIndex","_isEditRowByIndex","isKeyEqual","isEditCell","_getVisibleEditColumnIndex","_getInsertRowIndex","isProcessedItems","_getInsertAfterOrBeforeKey","isProcessedItem","nextItem","_generateNewItem","_this$_getInternalDat2","insertInfo","_getLoadedRowIndex","loadedRowIndex","insertAfterOrBeforeKey","_this$_getInternalDat3","isInsert","processDataItem","_processDataItemCore","modified","removed","_initNewRow","_createInsertInfo","_getInsertIndex","_this$_getInternalDat4","_setInsertAfterOrBeforeKey","allItems","isViewportBottom","insertKey","maxInsertIndex","editItem","_this$_getInternalDat5","insertChange","_insertChange$insertA","_getPageIndexToInsertRow","lastPageIndex","_addRow","param","oldEditRowIndex","allowCancelEditing","_allowRowAdding","__KEY__","_addRowCore","_navigateToNewRow","insertIndex","initialOldEditRowIndex","editRowIndex","_addChange","_editRowIndex","_change","focusController","pageIndexToInsertRow","navigateToRowByKey","navigateToRow","_showAddedRow","_afterInsertRow","_focusFirstEditableCellInRow","_beforeFocusElementInRow","$firstCell","_editCellInProgress","_delayedInputFocus","_isEditingStart","_beforeUpdateItems","_setEditColumnNameByIndex","_visibleColumns$index","_setEditColumnName","_getEditColumn","_getColumnByName","editColumn","columnName","isColumnHidden","_resetEditIndices","_item$oldData","_editRowFromOptionChangedCore","preventRendering","_needFocusEditor","_focusEditorIfNeed","_showEditPopup","_repaintEditPopup","_getEditPopupHiddenHandler","_getPopupEditFormTemplate","_getSaveButtonConfig","saveEditData","_getCancelButtonConfig","_removeInternalData","_updateInsertAfterOrBeforeKeys","removeChange","_removeChange","executeOperation","func","waitForDeferredOperations","_processCanceledEditingCell","_repaintEditCell","oldColumn","beforeFocusCallback","callBeforeFocusCallbackAlways","inputFocus","$focusableElement","_beforeFocusCallback","_focusEditingCell","$editCell","editColumnIndex","_checkAndDeleteRow","showDialogTitle","confirmResult","_deleteRowCore","_afterDeleteRow","_fireOnSaving","onSavingParams","_executeEditingAction","_disposed","_processChanges","results","dataChanges","changeCopy","_beforeSaveEditData","insert","newData","doneDeferred","_processRemoveIfError","_processRemove","_processRemoveCore","_processSaveEditDataResult","hasSavedData","changesLength","isError","_fireSaveEditDataEvents","isSaving","_resolveAfterSave","_saving","_saveEditDataInner","needFocusEditCell","_afterSaveEditData","_endSaving","_cancelSaving","_beforeEndSaving","_refreshDataAfterSave","isFullRefresh","isEditColumnVisible","_isEditColumnVisible","_isEditButtonDisabled","isEditRowDefined","isButtonDisabled","_applyModified","_beforeCloseEditCellInBatchMode","_cancelEditDataCore","_beforeCancelEditData","_afterCancelEditData","_hideEditPopup","hasEditData","isPageChanged","_getRowIndicesForCascadeUpdating","skipCurrentRow","addDeferred","_prepareChange","_options$row","rowKey","setCellValueResult","_updateRowValues","updateFieldValue","forceUpdateRow","_focusPreviousEditingCellIfNeed","_updateEditRow","_needUpdateRow","isCustomSetCellValue","isCustomCalculateCellValue","changeOptions","_applyChangeCore","_updateEditRowCore","_updateRowImmediately","_updateRowWithDelay","_validateEditFormAfterUpdate","selectionStart","changeParams","_this$getChanges","_getFormEditItemTemplate","getColumnTemplate","editingStartOptions","isRowMode","isRowEditing","getEditFormTemplate","useLegacyColumnButtonTemplate","iconType","iconUtils","localizationName","getButtonLocalizationNames","_button$onClick","prepareButtonItem","titleButtonTextByClassNames","revert","prepareEditButtons","buttonItems","highlightDataCell","cellModified","shouldHighlight","_allowEditAction","allowEditAction","needCallback","isNewRowInEditMode","visibleEditRowIndex","editingModule","_editingController","_this$_updateEditItem","_updateEditItem","dataSourceKeys","newChanges","isEditNewItem","isRowRemoved","isRowInserted","isRowModified","_getColumnIndexByElement","_getColumnIndexByElementCore","_editCellByClick","isEditedCell","editCell","withoutSaveEditData","closeEditCell","_pointerDownTimeout","isEditForm","isEditableCell","_editCellPrepared","_formItemPrepared","cellValue","editButtonItems","excludedOptions","shouldInvalidate","EDIT_ROW","editingRowBasedModule","isRowEditMode","hasUpdateChanges","isVisibleInRowEditMode","$editingCell","FormItemsRunTimeInfo","_map","_findWidgetInstance","condition","guid","widgetInstance","_findFieldByCondition","clear","removeItemsByItems","itemsRunTimeInfo","getItems","removeItemByKey","addItemsOrExtendFrom","itemRunTimeInfo","extendRunTimeItemInfoByKey","findWidgetInstanceByItem","storedItem","findGroupOrTabLayoutManagerByPath","targetPath","findKeyByPath","findWidgetInstanceByName","findWidgetInstanceByDataField","findItemContainerByItem","findItemIndexByItem","targetItem","findPreparedItemByItem","removeItemsByPathStartWith","filteredKeys","_translator","move","moveTo","completeAction","MULTIVIEW_CLASS","MULTIVIEW_WRAPPER_CLASS","MULTIVIEW_ITEM_CONTAINER_CLASS","MULTIVIEW_ITEM_CLASS","MULTIVIEW_ITEM_HIDDEN_CLASS","MULTIVIEW_ITEM_DATA_KEY","MULTIVIEW_ANIMATION_DURATION","toNumber","locate","MultiView","swipeEnabled","loop","loopItemFocus","selectOnFocus","selectionByClick","_$itemContainer","_itemWidth","_itemWidthValue","_$wrapper","_clearItemWidthCache","_normalizeIndex","_getRTLSignCorrection","_initSwipeable","_deferredItems","selectedItemIndices","_getSelectedItemIndices","_updateItemsVisibility","_afterItemElementDeleted","deletedActionArgs","_beforeItemElementInserted","_renderItemContent","renderContentDeferred","_updateItems","newIndex","_updateItemsPosition","_modifyByChanges","positionSign","_animationDirection","$selectedItem","isHidden","_renderSpecificItem","hasItemContent","_itemContentClass","triggerResizeEvent","animationDirection","_animateItemContainer","completeCallback","containerPosition","indexDifference","_getItemFocusLoopSignCorrection","isSwipePresent","directionSignVariable","_getSwipeDisabledState","Swipeable","elastic","itemSizeFunc","onStart","_swipeStartHandler","onUpdated","_swipeUpdateHandler","onEnd","_swipeEndHandler","lastIndex","rtl","maxLeftOffset","maxRightOffset","_swipeDirection","swipeDirection","targetOffset","$selectedElement","itemElements","_itemFocusLooped","$result","_updateSwipeDisabledState","TABS_ITEM_BADGE_CLASS","BADGE_CLASS","TabsItem","CollectionWidgetItem","_renderWatchers","_startWatcher","_renderBadge","badge","$badge","TABS_EXPANDED_CLASS","getScrollLeftMax","isReachedLeft","scrollOffsetLeft","epsilon","isReachedRight","TABS_CLASS","TABS_WRAPPER_CLASS","TABS_STRETCHED_CLASS","TABS_SCROLLABLE_CLASS","TABS_NAV_BUTTONS_CLASS","OVERFLOW_HIDDEN_CLASS","TABS_ITEM_CLASS","TABS_ITEM_SELECTED_CLASS","TABS_NAV_BUTTON_CLASS","TABS_LEFT_NAV_BUTTON_CLASS","TABS_RIGHT_NAV_BUTTON_CLASS","TABS_ITEM_TEXT_CLASS","TABS_ITEM_DATA_KEY","BUTTON_NEXT_ICON","BUTTON_PREV_ICON","FEEDBACK_HIDE_TIMEOUT","FEEDBACK_DURATION_INTERVAL","FEEDBACK_SCROLL_TIMEOUT","TAB_OFFSET","Tabs","showNavButtons","badgeExpr","currentTheme","_renderWrapper","_renderMultiple","_feedbackHideTimeout","_prepareDefaultItemTemplate","$iconElement","wrapInner","_createItemByTemplate","renderArgs","_deferredTemplates","_deferRenderScrolling","_renderScrolling","removeClasses","_isItemsWidthExceeded","_renderNavButtons","_updateNavButtonsVisibility","_scrollToItem","_cleanScrolling","_needStretchItems","tabItemsWidth","_getVisibleItems","$visibleItems","maxTabWidth","_cleanNavButtons","_leftButton","_rightButton","getItemElement","_createNavButton","$leftButton","$rightButton","_updateScrollPosition","scrollBy","holdAction","_holdInterval","setInterval","holdEventName","pointerUpEventName","pointerOutEventName","navButton","$navButton","_clearInterval","clearInterval","_itemSelectHandler","_afterItemElementInserted","TabPanelItem","TABPANEL_CLASS","TABPANEL_TABS_CLASS","TABPANEL_CONTAINER_CLASS","TabPanel","itemTitleTemplate","onTitleClick","onTitleHold","_createTitleActions","_renderLayout","_createTitleClickAction","_createTitleHoldAction","_createTitleRenderedAction","_titleClickAction","_titleHoldAction","_titleRenderedAction","_resizeEventTimer","_updateLayout","_tabs","_$tabContainer","$tabs","_tabConfig","_$container","tabsHeight","tabs","tabItems","$activeTab","getFocusedItemId","onItemHold","itemHoldTimeout","itemTemplateProperty","$value","$newItem","_isFocusOutHandlerExecuting","_focusOutHandler","_renderFocusTarget","isFocused","_toggleFocusClass","_setTabsOption","selectedTabContent","ItemOptionAction","_options","_itemsRunTimeInfo","findInstance","findItemContainer","findPreparedItem","tryExecute","createItemPathByIndex","isTabs","concatPaths","getTextWithoutSpaces","isEqualToDataFieldOrNameOrTitleOrCaption","getFullOptionName","getOptionNameFromFullName","tryGetTabPath","fullPath","pathParts","resultPathParts","isFullPathContainsTabs","getItemPath","tabOrGroupItems","itemPath","convertToLayoutManagerOptions","$formElement","formOptions","extendedLayoutManagerOptions","onFieldItemRendered","baseOptions","validationBoundary","layoutData","isRoot","cssItemClass","onLayoutChanged","WidgetOptionItemOptionAction","TabOptionItemOptionAction","tabPanel","GroupItemTemplateChangedAction","preparedItem","_prepareGroupItemTemplate","_renderGroupContentTemplate","TabsOptionItemOptionAction","ValidationRulesItemOptionAction","validator","filterRequired","oldContainsRequired","newContainsRequired","CssClassItemOptionAction","tryCreateItemOptionAction","itemActionOptions","_itemActionOptions$it","RESPONSIVE_BOX_CLASS","SCREEN_SIZE_CLASS_PREFIX","BOX_ITEM_CLASS","BOX_ITEM_DATA_KEY","HD_SCREEN_WIDTH","ResponsiveBox","cols","singleColumnScreen","onItemStateChanged","currentScreenFactor","_layoutStrategy","defaultScreenFactorFunc","_initLayoutChangedAction","_layoutChangedAction","_updateRootBox","_updateTimer","_$root","_setScreenSize","_screenItems","_itemsByScreen","_prepareGrid","_spreadItems","_layoutItems","_linkNodeToItem","_clearItemNodeTemplates","currentScreen","_getCurrentScreen","_removeScreenSizeClass","grid","_grid","_prepareRowsAndCols","_rows","_cols","_createEmptyCell","getSingleColumnRows","screenItemsLength","filteredRows","_filterByScreen","sizeConfig","_defaultSizeConfig","shrink","_isSingleColumnScreen","_prepareSingleColumnScreenItems","_sizesByScreen","_screenRegExp","test","sizeConfigs","_createDefaultSizeConfig","baseSize","minSize","maxSize","size","defaultSizeConfig","screenRegExp","screen","RegExp","_screenWidth","itemInfo","itemCol","itemRow","itemCell","_occupyCells","locations","_isItemCellOccupied","_markSpanningCell","_loopOverSpanning","rowEnd","colEnd","boundRowEnd","boundColEnd","colIndex","spanningCell","itemNode","box","rowsCount","colsCount","_layoutBlock","end","rootBox","_prepareBoxConfig","_rootBoxConfig","Box","rootItems","_needApplyAutoBaseSize","onItemContextMenu","crossAlign","_isSingleItem","_itemByCell","_layoutDirection","firstCellLocation","isItemRowSpanned","isItemColSpanned","block","crossDirection","_crossDirection","_nextBlock","_isBlockIndivisible","prevBlockOptions","_blockSize","endIndex","crossStartIndex","crossSpan","crossIndex","lineCrossSpan","_cellByDirection","lineCrossEndIndex","crossEndIndex","defaultMinSize","forceRemoveRoot","$existingRoot","_saveAssistantRoot","_assistantRoots","_cleanUnusedRoots","FORM_CLASS","FORM_GROUP_CLASS","FORM_GROUP_CAPTION_CLASS","FORM_FIELD_ITEM_COL_CLASS","FIELD_ITEM_CLASS","LAYOUT_MANAGER_ONE_COLUMN","FIELD_ITEM_LABEL_CONTENT_CLASS","FORM_LAYOUT_MANAGER_CLASS","FIELD_ITEM_LABEL_CLASS","FIELD_ITEM_CONTENT_CLASS","SINGLE_COLUMN_ITEM_CONTENT","ROOT_SIMPLE_ITEM_CLASS","FORM_GROUP_CONTENT_CLASS","FIELD_ITEM_CONTENT_HAS_GROUP_CLASS","FIELD_ITEM_CONTENT_HAS_TABS_CLASS","FORM_GROUP_WITH_CAPTION_CLASS","FIELD_ITEM_TAB_CLASS","GROUP_COL_COUNT_CLASS","GROUP_COL_COUNT_ATTR","FORM_VALIDATION_SUMMARY","FORM_UNDERLINED_CLASS","SIMPLE_ITEM_TYPE","DefaultAdapter","editor","validationRequestsCallbacks","validationRequest","getValue","getCurrentValidationError","bypass","applyValidationResults","validationErrors","brokenRules","validationStatus","status","VALIDATOR_CLASS","VALIDATION_STATUS_VALID","VALIDATION_STATUS_INVALID","VALIDATION_STATUS_PENDING","Validator","DOMComponent","ValidationEngine","_initGroupRegistration","_initAdapter","_validationInfo","skipValidation","_findGroup","_groupWasInit","_validationGroup","_getEditor","dxStandardEditor","adapter","validate","callbacks","_toggleRTLDirection","isRtl","_this$option$editor$o","_this$option","_this$option$editor","_toggleAccessibilityAttributes","rules","_resetValidationRules","_getValidationRules","_validationRules","rule","_modelByElement","currentError","currentResult","isValid","editorSpecific","brokenRule","_applyValidationResult","res","pendingRules","_updateValidationResult","prop","validatedAction","_useTemplates","EDITORS_WITH_ARRAY_VALUE","EDITORS_WITHOUT_LABELS","convertToRenderFieldItemOptions","rootElementCssClassList","formOrLayoutManager","createComponentCallback","useFlexLayout","formLabelLocation","requiredMessageTemplate","editorValue","canAssignUndefinedValueToEditor","editorValidationBoundary","editorStylingMode","managerLabelLocation","itemId","managerMarkOptions","_hasRequiredRuleInSet","isSimpleItem","helpID","labelOptions","_convertToLabelOptions","formLabelMode","needRenderLabel","labelID","labelNeedBaselineAlign","_convertToEditorOptions","defaultEditorName","externalEditorOptions","editorInputId","labelText","textWithoutColon","labelMark","markOptions","fromCharCode","needRenderOptionalMarkAsHelpText","getLabelMarkText","convertToLabelMarkOptions","editorOptionsWithValue","stylingMode","hasRequiredRule","isEditorWithoutLabels","_excluded","GET_LABEL_WIDTH_BY_TEXT_CLASS","FIELD_ITEM_REQUIRED_MARK_CLASS","FIELD_ITEM_LABEL_LOCATION_CLASS","FIELD_ITEM_OPTIONAL_MARK_CLASS","FIELD_ITEM_LABEL_TEXT_CLASS","renderLabel","_renderLabelMark","markText","setLabelWidthByMaxLabelWidth","$targetContainer","labelsSelector","labelMarkOptions","labelWidth","FIELD_ITEM_LABEL_CONTENT_CLASS_Selector","$FIELD_ITEM_LABEL_CONTENT_CLASS_Items","FIELD_ITEM_LABEL_CONTENT_CLASS_Length","getLabelWidthByInnerHTML","$FIELD_ITEM_LABEL_CONTENT_CLASS","renderLabelOptions","_objectWithoutPropertiesLoose","$hiddenContainer","$label","labelTextElement","getLabelInnerHTML","innerText","FLEX_LAYOUT_CLASS","FIELD_ITEM_OPTIONAL_CLASS","FIELD_ITEM_REQUIRED_CLASS","FIELD_ITEM_CONTENT_WRAPPER_CLASS","FIELD_ITEM_CONTENT_LOCATION_CLASS","FIELD_ITEM_LABEL_ALIGN_CLASS","FIELD_ITEM_HELP_TEXT_CLASS","LABEL_VERTICAL_ALIGNMENT_CLASS","LABEL_HORIZONTAL_ALIGNMENT_CLASS","TEMPLATE_WRAPPER_CLASS","INVALID_CLASS","renderFieldItem","$fieldEditorContainer","$div","editorElem","$validationTarget","validationTargetInstance","isItemHaveCustomLabel","itemName","dataGetter","wrapperClass","toggleInvalidClass","_isFocused","$editorParent","FIELD_BUTTON_ITEM_CLASS","renderButtonItem","convertAlignmentToTextAlign","horizontalAlignment","convertAlignmentToJustifyContent","verticalAlignment","buttonInstance","buttonOptions","FIELD_EMPTY_ITEM_CLASS","renderEmptyItem","FORM_EDITOR_BY_DEFAULT","LAYOUT_MANAGER_FIRST_ROW_CLASS","LAYOUT_MANAGER_LAST_ROW_CLASS","LAYOUT_MANAGER_FIRST_COL_CLASS","LAYOUT_MANAGER_LAST_COL_CLASS","LAYOUT_STRATEGY_FLEX","LAYOUT_STRATEGY_FALLBACK","LayoutManager","_itemWatchers","_updateReferencedOptions","_initDataAndItems","_cleanItemWatchers","initialData","_syncDataWithItems","_getDataByField","_updateFieldValue","_isCheckboxUndefinedStateEnabled","allowIndeterminateState","nameParts","propertyName","_triggerOnFieldDataChanged","isUserItemsExist","_generateItemsByData","processedItems","_isAcceptableItem","_updateItemWatchers","_setItems","_sortItems","_getWatch","itemField","_getEditorTypeByDataType","_item$allowIndetermin","_sortIndexes","itemA","itemB","indexA","indexB","_renderResponsiveBox","_hasBrowserFlex","styleProp","templatesInfo","_getColCount","_prepareItemsWithMerging","layoutItems","_generateLayoutItems","_responsiveBox","_getResponsiveBoxConfig","_renderTemplates","_itemStateChangedHandler","info","_renderButtonItem","_renderFieldItem","xsColCount","isSingleColumnMode","itemRenderedCountInPreviousRows","itemCssClassList","isLastColumn","_getRowsCount","isLastRow","_generateRatio","screenFactor","getTargetScreenFactor","getCurrentScreenFactor","_cashedColCount","_getMaxColCount","maxColCount","isCachedColCountObsolete","itemsMergedByCol","_getColByIndex","merged","generatedItem","rowSpan","_renderEmptyItem","_getFormOrThis","getItemID","_getMarkOptions","_bindDataField","editorInstance","formOrThis","_createWatcher","linkEditorToDataField","fieldValue","array1","array2","_watch","formInstance","readOnlyState","isAutoSize","newLayoutData","getOwnPropertyNames","_resetWidget","_disableEditorValueChangedHandler","_cashedRequiredConfig","valueGetter","dataValue","_resetColCount","isValueReferenceType","updateData","getEditor","responsiveBox","getItemsRunTimeInfo","VALIDATION_SUMMARY_CLASS","ValidationSummary","groupConfig","_unsubscribeGroup","groupSubscription","_groupValidationHandler","_getOrderedItems","validators","orderedItems","foundItems","_validationSummary","_itemValidationHandler","itemsChanged","foundRule","foundItem","VALIDATION_ENGINE_CLASS","ValidationGroup","validatorContainer","summaryContainer","FOCUSED_STATE_CLASS","ITEM_OPTIONS_FOR_VALIDATION_UPDATING","Form","_cachedColCountOptions","_groupsColCount","_attachSyncSubscriptions","formID","alignRootItemLabels","_getGroupColCount","_applyLabelsWidthByCol","fieldItemClass","inOneColumn","cssExcludeTabbedSelector","excludeTabbed","_applyLabelsWidth","applyLabelsOptions","_getGroupElementsInColumn","cssColCountSelector","groupSelector","_applyLabelsWidthWithGroups","$rootSimpleItems","_applyLabelsWidthWithNestedGroups","$groups","groupsColIndex","groupColIndex","$groupsByCol","groupColCount","_labelLocation","_alignLabelsInColumn","layoutManager","_checkGrouping","_prepareFormData","_setStylingModeClass","_getValidationGroup","_clearCachedInstances","_renderValidationSummary","_lastMarkupScreenFactor","_targetScreenFactor","_getCurrentScreenFactor","_cachedLayoutManagers","_alignLabels","TOOLBAR_CLASS","_clearValidationSummary","_getContent","_this$_$validationSum","_$validationSummary","dxValidationSummary","_prepareItems","parentIsTabbedItem","currentPath","_tryPrepareGroupItem","_tryPrepareTabbedItem","_tryPrepareItemTemplate","groupContentTemplate","_itemGroupTemplate","_itemTabbedTemplate","_rootLayoutManager","_renderLayoutManager","_createLayoutManagerOptions","_tryGetItemsForTemplate","$tabPanel","tabPanelOptions","triggerShownEvent","tryUpdateTabPanelInstance","$group","$groupContent","_isDataUpdating","nestedItemsRunTimeInfo","_this$_validationSumm","layoutManagerOptions","baseColCountByScreen","_clearAutoColCountChangedTimeout","autoColCountChangedTimeoutId","_extendConfig","optionFullName","_triggerOnFieldDataChangedByDataSet","splitFullName","_itemsOptionChangedHandler","_formDataOptionChangedHandler","_defaultOptionChangedHandler","_resetValues","_getItemPath","optionNameWithoutPath","simpleOptionName","itemAction","_tryCreateItemOptionAction","_tryExecuteItemOptionAction","_tryChangeLayoutManagerItemOption","_changeItemOption","_generateItemsFromData","_updateValidationGroupAndSummaryIfNeeded","_this$_validationSumm2","_setLayoutManagerItemOption","postponedOperations","contentReadyHandler","tabPath","tabLayoutManager","endPartIndex","_itemPath","_layoutManager","formItems","layoutManagerItems","layoutItem","_tryChangeLayoutManagerItemOptions","_getItemByField","resultItem","fieldParts","_getFieldParts","fieldPath","_getItemByFieldPath","subItemsField","_getSubItemField","separatorIndex","resultPath","isItemWithSubItems","isGroupWithName","nameWithoutSpaces","pathNode","_searchItemInEverySubItem","_isColCountChanged","oldScreenSize","newScreenSize","editorSelector","Editor","_updateData","isComplexData","_data","resetValues","getButton","allowUpdateItems","EDIT_FORM_ITEM_CLASS","EDIT_POPUP_CLASS","SCROLLABLE_CONTAINER_CLASS","EDIT_POPUP_FORM_CLASS","BUTTON_CLASS","FORM_BUTTONS_CONTAINER_CLASS","getEditorType","_column$formItem","isCustomEditorType","forEachFormItems","callBack","editingFormBasedModule","_editForm","_updateEditFormDeferred","isFormOrPopupEditMode","isPopupEditMode","isFormEditMode","firstFormItem","_firstFormItem","$editFormElements","_getEditFormEditorVisibleIndex","editForm","_this$_editPopup","popupVisible","_editPopup","_$popupContent","_row$update","repaintForm","isMobileDevice","$popupContainer","_this$_editForm","formTemplate","isPopupForm","_this$_editPopup2","defaultAnimation","_this$_editPopup3","_handleFormOptionChange","_handlePopupOptionChange","_this$_editPopup4","editPopup","popupOptionName","renderFormEditTemplate","detailCellOptions","formTemplateOptions","isReadOnly","rowData","getFormEditorTemplate","_cellOptions$row$watc","_cellOptions$row","_validator","validatorOptions","contents","dxValidator","getEditFormOptions","detailOptions","_this$_getValidationG","editFormOptions","_getValidationGroupsInForm","userCustomizeItem","editFormItemClass","baseEditFormOptions","$formContainer","$buttonsContainer","_this$_editPopup5","getEditForm","_this$_updateEditForm","_this$_editPopup6","editFormRowIndex","_isFormItem","isDetailRow","isPopupEditing","ADD_ROW_BUTTON_CLASS","DROPDOWN_EDITOR_OVERLAY_CLASS","CELL_MODIFIED_CLASS","ROW_REMOVED","$pointerDownTarget","needCreateHandlers","_this$getController","targetComponent","isCellOrBatchEditMode","isEditorPopup","checkEditorPopup","isDomElement","isAnotherComponent","isAddRowButton","isCellEditMode","$dropDownEditorOverlay","$componentElement","isBatchEditMode","isCurrentComponentElement","$targetCell","_this$_rowsView","isEditColumnNameDefined","_handleEditColumnNameChange","oldColumnIndex","_editCellFromOptionChanged","_deferred","_editCell","coreResult","_editCellCore","isEditByOptionChanged","_getNormalizedEditCellOptions","_beforeEditCell","_prepareEditCell","_closeEditCellCore","_resetModifiedClassCells","columnsCount","_this$_editCellFromOp","needResetIndexes","isBatchMode","_isRowDeleteAllowed","_changes$","_deferred2","isUpdateInCellMode","focusPreviousEditingCell","processIfBatch","editingCellBasedModule","INVALIDATE_CLASS","REVERT_TOOLTIP_CLASS","INVALID_MESSAGE_CLASS","WIDGET_INVALID_MESSAGE_CLASS","INVALID_MESSAGE_ALWAYS_CLASS","REVERT_BUTTON_CLASS","PENDING_INDICATOR_CLASS","VALIDATION_PENDING_CLASS","PADDING_BETWEEN_TOOLTIPS","FORM_BASED_MODES","COMMAND_TRANSPARENT","VALIDATION_STATUS","valid","invalid","pending","EDIT_DATA_INSERT_TYPE","EDIT_DATA_REMOVE_TYPE","VALIDATION_CANCELLED","validationResultIsValid","cellValueShouldBeValidated","ValidatingController","_validationState","initValidationState","_validationStateCache","_rowIsValidated","validationData","_getValidationData","validated","keyHash","isObjectKeyHash","_getBrokenRules","validationResults","_rowValidating","getChangeByKey","errorText","getHiddenValidatorsErrorText","brokenRulesMessages","isGroupExpandColumn","isVisibleColumn","isFull","completeList","_isValidationInProgress","validationResult","validateGroup","_currentCellValidator","_validationResult","resetRowValidationResults","isRowDataModified","updateValidationState","setDisableApplyValidationResults","setValidator","renderCellPendingIndicator","disposeCellPendingIndicator","validationStatusChanged","updateCellValidationResult","validatorInitialized","validatorDisposing","getCellValidationResult","cancelCellValidationResult","applyValidationResult","requestIsDisabled","disabledPendingId","_disableApplyValidationResults","getEditorInstance","_syncInternalEditingData","_parameters$row","oldDataFromState","createValidator","needCreateValidator","_parameters$row$oldDa","_parameters$row2","isCellOrBatchEditingAllowed","useDefaultValidator","flag","getDisableApplyValidationResults","isCurrentValidatorProcessing","validateCell","cellParams","stateRestored","_validationData$valid","removeCellValidationResult","_ref6","isInvalidCell","_ref7","getCellValidator","_ref8","setCellValidationStatus","validatingModule","validating","validatingController","_updateRowAndPageIndices","startInsertIndex","_ref9","isNotCanceled","addInValidItem","isInserted","_createInvisibleColumnValidators","invisibleColumns","invisibleColumnValidators","isCellVisible","disposeValidators","isFullValid","_showErrorRow","shouldResetValidationState","columnsWithValidatingEditors","_col$validationRules","validationState","resetRowAndPageIndices","currentValidator","isValidated","needValidation","isCellInvalid","_showRevertButton","$tooltipElement","$overlayContainer","tooltipOptions","$buttonElement","onPositioned","_positionedHandler","_hideFixedGroupCell","$nextFixedRowElement","$groupCellElement","nextRowOptions","visibility","isOverlayVisible","__skipPositionProcessing","isRevertButton","needRepaint","normalizedPosition","_normalizeValidationMessagePositionAndMaxWidth","_showValidationMessage","messages","revertTooltip","editorPopup","myPosition","atPosition","errorMessageText","invalidMessageClass","$overlayElement","_shiftValidationMessageIfNeed","fixedColumns","visibleTableWidth","w1","w2","$overlayContentElement","validationMessageWidth","needMaxWidth","boundaryNonFixedColumnsInfo","firstNonFixedColumnIndex","lastNonFixedColumnIndex","startColumnIndex","endColumnIndex","$revertContent","contentOffset","revertContentOffset","_getTooltipsSelector","revertTooltipClass","skipValidator","updateCellState","_change$data","showValidationMessage","errorMessages","$tooltips","_oldRow$cells","_cell$column$validati","oldValidationStatus","newValidationStatus","rowIsModified","cellIsMarkedAsInvalid","editingChanged","hasValidationRules","$freeSpaceRowElements","$tooltipContent","isEditorDisposed","contentTable","LEGACY_SCROLLING_MODE","needTwoPagesLoading","_controller","isVirtual","getViewportItemIndex","getBeginPageIndex","_cache","getEndPageIndex","fireChanged","_isChangedFiring","processDelayChanged","_isDelayChanged","getViewportPageCount","_dataOptions","preventPreload","realViewportSize","viewportSize","viewportItemSize","getContentOffset","getViewportPosition","virtualItemsCount","begin","itemSize","getItemSizes","getPreloadPageCount","previous","isAppendMode","getPageIndexForLoad","dataOptions","needToLoadPageBeforeLast","needToLoadPrevPage","needToLoadNextPage","_loadingPageIndexes","loadCore","processChanged","isDelayChanged","removeCacheItem","isPrepend","viewportItems","removeCount","correctCount","removeItemCount","itemsLength","updateLoading","_lastPageIndex","VirtualDataLoader","controller","viewportItemIndexChanged","newPageIndex","lastPageSize","maxPageIndex","defaultPageIndex","endPageIndex","pageIndexForLoad","delayDeferred","_delayDeferred","onChanged","loadIfNeed","_setViewportPositionCore","handleDataChanged","removeInvisiblePages","lastCacheLength","getDelayDeferred","isBase","beginItemsCount","endItemsCount","SCROLLING_MODE_INFINITE","SCROLLING_MODE_VIRTUAL","_isVirtual","_isAppendMode","subscribeToExternalScrollers","scrollChangedHandler","$scrollElement","scrollableArray","scrollToArray","disposeArray","getElementOffset","$scrollableElement","scrollableOffset","widgetScrollStrategy","subscribeToScrollEvents","isDocument","eventsStrategy","topOffset","scrollMethod","VirtualScrollController","_viewportSize","_viewportItemSize","_viewportItemIndex","_position","_isScrollingBack","_contentSize","_itemSizes","_sizeRatio","positionChanged","_dataLoader","viewportParams","getViewportParams","loadedOffset","loadedItemCount","getScrollingTimeout","scrollingTimeout","changingDuration","setViewportPosition","_scrollTimeoutID","getItemIndexByPosition","defaultItemSize","getItemSize","itemOffset","itemOffsetsWithSize","itemOffsetWithSize","itemOffsetDiff","isScrollingBack","prevPosition","setViewportItemIndex","setContentItemSizes","sizes","virtualContentSize","contentHeightLimit","getItemOffset","isEnd","currentItemIndex","getVirtualContentSize","viewportHeight","isRefresh","subscribeToWindowScrollEvents","_windowScroll","_this$option2","topIndex","bottomIndex","maxGap","minGap","topMinGap","bottomMinGap","remainedItems","BOTTOM_LOAD_PANEL_CLASS","TABLE_CONTENT_CLASS","FREESPACE_CLASS","VIRTUAL_ROW_CLASS","LOAD_TIMEOUT","VISIBLE_PAGE_INDEX","_correctCount","isItemCountableFunc","isItemCountableByDataSource","updateItemIndices","VirtualScrollingDataSourceAdapterExtender","_updateLoading","_virtualScrollController","_totalCount","_loadPageCount","_getVirtualScrollDataOptions","_renderTime","_startLoadTime","newMode","virtualScrollController","r","loadPageCount","takeIsDefined","VirtualScrollingRowsViewExtender","removeEmptyRows","$emptyRows","_dataController$state","scrollToPage","_scrollToCurrentPageOnResize","resizeHandler","scrollPosition","itemSizes","_updateContentPosition","startRenderTime","_removeRowsElements","_updateBottomLoading","_addVirtualRow","$virtualRow","_getRowHeights","rowHeights","_correctRowHeights","correctedRowHeights","visibleRows","firstCountableItem","lastLoadIndex","isRender","rowHeight","$virtualRows","_isFixedTableRendering","_isTableLinesDisplaysCorrect","table","hasColumnLines","_isColumnElementsEqual","$columns","$virtualColumns","_getCellClasses","classes","isExpandColumn","_findBottomLoadPanel","$bottomLoadPanel","showBottomLoading","bottomLoadPanelElement","zeroTopPosition","updateViewport","hasBottomLoadPanel","isViewportChanging","scrollPos","_dataController$loadI","virtualScrollingModule","updateTimeout","minTimeout","renderingThreshold","rowPageSize","prerenderedRowChunkSize","loadTwoPagesOnStart","legacyMode","prerenderedRowCount","baseResult","initVirtualRows","_rowsScrollController","_this$getLoadPagePara","getLoadPageParams","getRowPageSize","rowsScrollController","isSortingOperation","allowedTopOffset","virtualRowsRendering","_allItems","_loadViewportParams","_visibleItems","_rowPageIndex","_viewportChanging","_needUpdateViewportAfterLoading","_getRowsScrollDataOptions","_this$_dataSource2","loadViewport","_updateLoadViewportParams","isItemCountable","_that$_dataSource","_itemCount","isNextAfterLast","countableOnly","delta","cancelEmptyChanges","_dataSource$lastLoadO","prevCountable","prevRowType","isPrevRowNew","currentIndex","wasCountableItem","itemCountable","isNextGroupItem","isNextDataItem","isPrevNewRowFirst","skipForCurrentPage","isNewRowOnStart","isNewRowInEmptyData","isLoadIndexGreaterStart","isLoadIndexLessEnd","byLoadedRows","firstLoadIndex","_dataSource$lastLoadO2","_this$_rowsScrollCont","getPreloadedRowCount","preloadCount","byLoadedPage","_this$_dataSource3","_this$_dataSource4","loadedPageIndex","loadedTake","topPreloadCount","bottomPreloadCount","skipWithPreload","loadingTake","_updateVisiblePageIndex","currentPageIndex","viewPortItemIndex","_getChangedLoadParams","loadedPageParams","pageIndexIsValid","_pageIndexIsValid","_loadItems","checkLoading","_dataSourceAdapter$lo","_dataSourceAdapter$pa","changedParams","currentLoadPageCount","lastRequiredItemCount","pageIndexNotChanged","allLoadedInAppendMode","viewportChanging","checkLoadedParamsOnly","loadingItemsStarted","_this$_loadViewportPa","_this$_loadViewportPa2","viewportIsNotFilled","currentTake","newTake","topItemIndex","_this$_loadViewportPa3","bottomItemIndex","_resizeTimeout","_lastTime","WINDOW_HEIGHT_PERCENT","getElementMaxHeightByWindow","startLocation","actualOffset","$window","elementOffset","getInnerHeight","offsetTop","offsetBottom","DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS","Submenu","orientation","onHoverStart","_renderDelimiter","$contentDelimiter","_overlayPositionedActionHandler","_showDelimiter","_isMenuHorizontal","hoverStartAction","submenu","containerOffset","vLocation","hLocation","rootOffset","offsetLeft","rootWidth","rootHeight","submenuWidth","submenuHeight","getOverlayContent","DX_MENU_VERTICAL_CLASS","DX_MENU_HORIZONTAL_CLASS","DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS","DX_STATE_ACTIVE_CLASS","DX_ADAPTIVE_MODE_CLASS","DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS","DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS","SHOW_SUBMENU_OPERATION","NEXTITEM_OPERATION","PREVITEM_OPERATION","Menu","showFirstSubmenuMode","hideSubmenuOnMouseLeave","onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","adaptivityEnabled","rootMenuElements","submenuElements","_submenuItemElements","currentSubmenu","_submenus","navigationAction","isMenuHorizontal","_getItemsNavigationOperation","_getKeyboardNavigationAction","navOperation","_menuItemsWidth","_updateItemsWidthCache","_isAdaptivityEnabled","$menuItems","containerWidth","_toggleAdaptiveMode","_visibleSubmenu","_initAdaptivity","_renderHamburgerButton","_hamburger","_toggleTreeView","_toggleHamburgerActiveState","$menuItemsContainer","$adaptiveElements","_hideVisibleSubmenu","_treeView","_removeAdaptivity","_$adaptiveContainer","_treeviewItemClickHandler","_getAdaptiveOverlayOptions","_ignoreFunctionValueDeprecation","_getTreeViewOptions","menuOptions","$hamburger","_getDelay","delayType","_keyboardHandler","_createSubmenu","_renderBorderElement","$submenuContainer","_getSubmenuOptions","_parentKey","_clearTimeouts","getSubmenuPosition","_attachSubmenuHandlers","$submenuTarget","onFocusedItemChanged","_nestedItemOnSelectionChangedHandler","_nestedItemOnItemClickHandler","_nestedItemOnItemRenderedHandler","_moveMainMenuFocus","_getShowFirstSubmenuMode","$currentItem","_clearSelectionInSubmenus","_clearRootSelection","targetSubmenu","cleanAllSubmenus","isOtherItem","selectedItemData","_clearSelectedItems","$prevSelectedItem","prevSelectedItemData","$submenuOverlayContent","submenus","submenuMouseLeaveName","hoverEventEnd","_submenuOnShowingHandler","_submenuOnShownHandler","_submenuOnHidingHandler","_submenuOnHiddenHandler","_submenuMouseLeaveHandler","$border","relatedTarget","_getSubmenuByRootElement","_hideSubmenuAfterTimeout","isRootItemHovered","isSubmenuItemHovered","hoveredElementFromSubMenu","isHorizontalMenu","$closestItem","mouseMoveEventName","isSelectionActive","which","_getSubmenuByElement","_itemMouseMoveHandler","_showSubmenuTimer","eventArg","_hideSubmenuTimer","_hoveredRootItem","pointers","_changeSubmenusOption","OPERATION_ICONS","notcontains","startswith","endswith","OPERATION_DESCRIPTORS","FILTERING_TIMEOUT","CORRECT_FILTER_RANGE_OVERLAY_WIDTH","FILTER_RANGE_OVERLAY_CLASS","FILTER_RANGE_START_CLASS","FILTER_RANGE_END_CLASS","MENU_CLASS","EDITOR_WITH_MENU_CLASS","EDITOR_CONTAINER_CLASS","FILTER_MENU","APPLY_BUTTON_CLASS","HIGHLIGHT_OUTLINE_CLASS","FOCUSED_CLASS","FILTER_RANGE_CONTENT_CLASS","FILTER_MODIFIED_CLASS","BETWEEN_OPERATION_DATA_TYPES","isOnClickApplyFilterMode","ColumnHeadersViewFilterRowExtender","$editorContainer","componentNames","getRangeTextByFilterValue","rangeEnd","getColumnFilterValue","formatOptions","getColumnSelectedFilterOperation","bufferedSelectedFilterOperation","isFilterRange","isRangeStart","updateFilterValue","_applyFilterViewController","setHighLight","normalizedValue","columnFilterValue","isBetween","_updateEditorValue","$editorRangeElements","overlayInstance","_updateFilterRangeContent","_updateFilterOperationChooser","_renderFilterRangeContent","_renderEditor","_getEditorOptions","_hideFilterRange","_filterRangeOverlayInstance","isFilterRowVisible","_initFilterRangeOverlay","$prevElement","prev","_updateFilterRangeOverlay","_showFilterRange","getFilterRangeOverlayInstance","_renderFilterCell","_renderFilterOperationChooser","accessibilityOptions","_getFilterInputAccessibilityAttributes","columnAriaLabel","$filterRangeContent","isCellWasFocused","menu","_focusEditor","_getFilterOperationMenuItems","properties","columnSelectedFilterOperation","notFocusEditor","isOnClickMode","_isEditorFocused","filterRowOptions","availableFilterOperations","descriptionName","DataControllerFilterRowExtender","skipCalculateColumnFilters","filters","ApplyFilterViewController","_getHeaderPanel","_headerPanel","enableApplyButton","removeHighLights","columnHeadersViewElement","filterRowModule","columnsResizer","_startResizing","_targetPoint","_endResizing","filterItem","_prepareFilterItem","_isShowApplyFilterButton","core","HEADER_FILTER_CLASS","HEADER_FILTER_MENU_CLASS","DEFAULT_SEARCH_EXPRESSION","resetChildrenItemSelection","updateSelectAllState","selectAllCheckBox","isSearchEnabled","updateHeaderFilterItemSelectionState","filterValuesMatch","isExcludeFilter","HeaderFilterView","getPopupContainer","getListContainer","_listContainer","applyHeaderFilter","list","isFilterBuilder","fillSelectedItemKeys","isExclude","hasChildren","hasChildrenWithSelection","hideHeaderFilterMenu","$columnElement","updatePopup","headerFilterMenu","_cleanPopupContent","_getSearchExpr","useDefaultSearchExpr","headerFilterDataSource","headerFilterOptions","_initializeListContainer","widgetOptions","showSelectionControls","_selectedItemsUpdating","oldSelected","filterValueIndex","headerFilterMixin","$headerFilterIndicator","_isHeaderFilterEmpty","DATE_INTERVAL_FORMATS","ungroupUTCDates","dateParts","dates","isMonthPart","convertDataFromUTCToLocal","isUTCFormat","HeaderFilterController","_headerFilterView","_updateSelectedState","_normalizeGroupItem","currentLevel","valueSelector","displaySelector","getHeaderItemText","getDisplayFormat","firstValueText","secondValue","secondValueText","_column$headerFilter","remoteGrouping","isLookup","lookupDataSourceOptions","cutoffLevel","_currentColumn","useDefaultSearch","convertUTCDates","origPostProcess","getCurrentColumn","isGroupPanel","showHeaderFilterMenuBase","columnElement","dxResizableInstance","dxResizable","headerFilterByColumn","ColumnHeadersViewHeaderFilterExtender","_subscribeToIndicatorEvent","_updateHeaderFilterIndicators","_needUpdateFilterIndicators","HeaderPanelHeaderFilterExtender","headerFilterModule","headerFilterView","FILTER_BUILDER_RANGE_CLASS","FILTER_BUILDER_RANGE_START_CLASS","FILTER_BUILDER_RANGE_END_CLASS","FILTER_BUILDER_RANGE_SEPARATOR_CLASS","SEPARATOR","conditionInfo","$editorStart","$editorEnd","getStartValue","getEndValue","_editorFactory","getConfig","valueSeparator","notForLookup","isblank","isnotblank","OPERATION_NAME","getIconByFilterOperation","filterOperation","getNameByFilterOperation","DEFAULT_DATA_TYPE","EMPTY_MENU_ICON","AND_GROUP_OPERATION","EQUAL_OPERATION","NOT_EQUAL_OPERATION","boolean","object","DEFAULT_FORMAT","LOOKUP_OPERATIONS","AVAILABLE_FIELD_PROPERTIES","FILTER_BUILDER_CLASS","FILTER_BUILDER_ITEM_TEXT_CLASS","FILTER_BUILDER_ITEM_TEXT_PART_CLASS","FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS","FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS","getFormattedValueText","fieldFormat","formatHelper","isNegationGroup","isCondition","getGroupCriteria","setGroupCriteria","convertGroupToNewStructure","setGroupValue","substring","getGroupMenuItem","availableGroups","groupValue","getGroupValue","getCriteriaOperation","getDefaultFilterOperations","containItems","entity","getFilterOperations","getCaptionByOperation","filterOperationsDictionary","getOperationFromAvailable","availableOperations","getCustomOperation","filteredOperations","getAvailableOperations","isLookupField","isOperationForbidden","isCustom","getDefaultOperation","createCondition","updateConditionByOperation","createEmptyGroup","isNegation","isNegationGroupOperation","groupOperation","getGroupOperationFromNegationOperation","getField","extendedFields","convertToInnerGroup","defaultGroupOperation","innerGroup","convertToInnerStructure","appendGroupOperationToGroup","convertToInnerCondition","conditionHasCustomOperation","appendGroupOperationToCriteria","getNormalizedFields","normalizedField","defaultCalculateFilterExpression","getConditionFilterExpression","filterExpression","getFilterExpression","_filterExpression","getNormalizedFilter","itemsForRemove","normalizedGroupValue","isValidCondition","getCurrentLookupValueText","lookupDataSource","loadSingle","getPrimitiveValueText","getArrayValueText","checkDefaultValue","getCurrentValueText","_len","_key","itemExists","pushItemAndCheckParent","originalItems","hasParent","getParentIdFromItemDataField","generateCaptionByDataField","lastIndexOf","getCaptionWithParents","getOperationValue","getMergedOperations","betweenCaption","betweenIndex","isMatchedCondition","addedFilterDataField","removeFieldConditionsFromFilter","hasMatchedCondition","syncConditionIntoGroup","addedFilter","canPush","syncFilters","getMatchedConditions","filterHasField","renderValueText","lastItemIndex","t","baseOperation","getFullText","parentText","div","closeEditor","fieldInfo","itemsDeferred","_values","getSelectedItemsTexts","selectedItemsTexts","anyOf","noneOf","baseOp","baseFilter","FILTER_ROW_OPERATIONS","FILTER_TYPES_INCLUDE","FILTER_TYPES_EXCLUDE","getColumnIdentifier","checkForErrors","FilterSyncController","getEmptyFilterValues","canSyncHeaderFilterWithFilterRow","getConditionFromFilterRow","getConditionFromHeaderFilter","selectedOperation","updateHeaderFilterCondition","headerFilterCondition","hasArrayValue","updateFilterRowCondition","syncFilterValue","_skipSyncColumnOptions","filterConditions","filterCondition","_initSync","filteringColumns","isFilterSyncActive","_getSyncFilterRow","_getSyncHeaderFilter","syncFilterRow","syncHeaderFilter","getCustomFilterOperations","filterBuilderCustomOperations","DataControllerFilterSyncExtender","filterSyncEnabledValue","calculatedFilterValue","_parseColumnPropertyName","matched","match","ColumnHeadersViewFilterSyncExtender","filterSyncModule","filterSync","FILTER_BUILDER_GROUP_CLASS","FILTER_BUILDER_GROUP_ITEM_CLASS","FILTER_BUILDER_GROUP_CONTENT_CLASS","FILTER_BUILDER_GROUP_OPERATIONS_CLASS","FILTER_BUILDER_GROUP_OPERATION_CLASS","FILTER_BUILDER_ACTION_CLASS","FILTER_BUILDER_IMAGE_CLASS","FILTER_BUILDER_IMAGE_ADD_CLASS","FILTER_BUILDER_IMAGE_REMOVE_CLASS","FILTER_BUILDER_ITEM_FIELD_CLASS","FILTER_BUILDER_ITEM_OPERATION_CLASS","FILTER_BUILDER_ITEM_VALUE_CLASS","FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS","FILTER_BUILDER_OVERLAY_CLASS","FILTER_BUILDER_FILTER_OPERATIONS_CLASS","FILTER_BUILDER_FIELDS_CLASS","FILTER_BUILDER_ADD_CONDITION_CLASS","ACTIVE_CLASS","FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS","SOURCE","TAB_KEY","ENTER_KEY","ESCAPE_KEY","OPERATORS","FilterBuilder","closePopupOnTargetScroll","_initCustomOperations","disableInvalidateForValue","_disableInvalidateForValue","_initModel","_getNormalizedFields","_model","_getFilterExpression","_customOperations","_updateFilter","_getModel","_initEditorFactory","_getDefaultGroupOperation","_this$option$","actionConfig","_createGroupElementByCriteria","_createConditionElement","_createConditionItem","_createGroupElement","groupCriteria","innerCriteria","$groupItem","_createRemoveButton","_createGroupOperationButton","_createAddButton","newGroup","newCondition","_getGroupOperations","groupMenuItem","$operationButton","_createButtonWithMenu","removeMenu","treeViewElement","treeView","dxTreeView","_subscribeOnClickAndEnterKey","_createPopupWithTreeView","_hasValueButton","_createOperationButtonWithMenu","currentOperation","$valueButton","_createValueButton","_createOperationAndValueButtons","_createFieldButtonWithMenu","getFullCaption","$fieldButton","isSingleChild","$removeButton","addGroupHandler","addConditionHandler","_createValueText","$text","_createValueEditorWithEvents","_updateConditionValue","areValuesDifferent","_addDocumentKeyUp","isComposing","hasCompositionJustEnded","documentKeyUpHandler","input","_documentKeyUpHandler","_addDocumentClick","closeEditorFunc","documentClickHandler","_isFocusOnEditorParts","_documentClickHandler","activeElement","_removeEvents","createValueText","_createValueEditor","class","$menuContainer","FilterBuilderView","_updatePopupOptions","_initPopup","_filterBuilderPopup","_disposePopup","_filterBuilder","_getPopupContentTemplate","_getPopupToolbarItems","$filterBuilderContainer","ScrollView","filterBuilderModule","filterBuilderView","FILTER_PANEL_CLASS","FILTER_PANEL_TEXT_CLASS","FILTER_PANEL_CHECKBOX_CLASS","FILTER_PANEL_CLEAR_FILTER_CLASS","FILTER_PANEL_LEFT_CONTAINER","FILTER_PANEL_TARGET","FilterPanelView","$leftContainer","_filterValueBuffer","_getCheckElement","_getFilterElement","_getTextElement","_getRemoveButtonElement","_showFilterBuilder","_addTabIndexToElement","filterText","$textElement","getFilterText","customText","clearFilterValue","tabindex","_getConditionText","fieldText","operationText","_getValueMaskedText","_getValueText","hasCustomOperation","gridUtils","getConditionText","getGroupText","isInnerGroup","textParts","groupText","filterPanelModule","filterPanelView","SEARCH_PANEL_CLASS","SEARCH_TEXT_CLASS","searchModule","onQueryDone","_i","getSearchPanelOptions","_prepareSearchItem","searchPanelOptions","$search","getSearchTextEditor","$searchPanel","dxTextBox","_searchParams","_getFormattedSearchText","_getStringNormalizer","isCaseSensitive","_findHighlightingTextNodes","_$items","stringNormalizer","normalizedSearchText","resultTextNodes","$contents","normalizedText","_highlightSearchTextCore","$textNode","$searchTextSpan","firstContentElement","after","_highlightSearchText","isEquals","textNodes","textNode","_highlightTimer","GridPagerWrapper","pageIndexChanged","pageSizeChanged","attribute","getElementStyle","_getElementComputedSt","computedStyle","getElementComputedStyle","getElementWidth","getElementMinWidth","viewFunction","contentAttributes","infoTextRef","infoTextVisible","isLargeDisplayMode","pageSizesRef","pagesRef","parentRef","Content","rootElementRef","calculateAdaptivityProps","infoWidth","pageSizes","pageSizesWidth","pages","pagesWidth","parentWidth","minimalWidth","getElementsWidth","pagesHtmlWidth","ResizableContainerProps","TemplateProp","normalizeProps","createComponentVNode","ResizableContainer","InfernoComponent","infernoCreateRef","subscribeToResize","effectUpdateChildProps","updateAdaptivityProps","createEffects","InfernoEffect","pagerProps","updateEffects","_this$_effects$","_this$_effects$2","_effects","resizeCallbacks","gridCompatibility","lightModeEnabled","maxPagesCount","pageIndexChange","pageSizeChange","pagesCountText","pagesNavigatorVisible","showPageSizes","restAttributes","currentElementsWidth","actualAdaptivityProps","elementsWidth","setState","__state_argument","_this$props","restProps","BasePagerProps","PagerProps","getOwnPropertyDescriptors","defaultPageSize","InternalPagerProps","PAGER_INFO_CLASS","createVNode","InfoTextPropsType","InfoText","BaseInfernoComponent","_this$props$infoText","KeyboardActionContext","createContext","widgetRef","LightButtonProps","LightButton","keyboardEffect","subscribeToClick","keyboardContext","subscribeToClickEvent","PAGER_CLASS","LIGHT_MODE_CLASS","PAGER_PAGES_CLASS","PAGER_PAGE_INDEXES_CLASS","PAGER_PAGE_CLASS","PAGER_SELECTION_CLASS","PAGER_PAGE_SIZE_CLASS","PAGER_PAGE_SIZES_CLASS","PAGER_SELECTED_PAGE_SIZE_CLASS","PageProps","Page","combineClasses","_excluded2","PAGER_PAGE_SEPARATOR_CLASS","PagesMarkup","pageProps","createFragment","PAGES_LIMITER","getDelimiterType","slidingWindowSize","createPageIndexesBySlidingWindowIndexes","slidingWindowIndexes","delimiter","pageIndexes","indexesForReuse","createPageIndexes","PagesLargePropsType","PagesLarge","canReuseSlidingWindow","generatePageIndexes","isSlidingWindowMode","onPageClick","ConfigContext","slidingWindowState","slidingWindowStateHolder","currentPageCount","currentPageNotExistInIndexes","pageIndexExistInIndexes","_createPageIndexes","_this$config","createPage","rtlPageIndexes","DEFAULT_VALUE","DomComponentWrapper","componentType","LegacyNumberBox","componentProps","templateNames","NumberBoxProps","BaseWidgetProps","isReactComponentWrapper","NumberBox","_this$props$value","oneDigitWidth","calculateValuesFittedWidth","PAGER_INFO_TEXT_CLASS","PAGER_PAGE_INDEX_CLASS","LIGHT_PAGES_CLASS","PAGER_PAGES_COUNT_CLASS","pageIndexRef","selectLastPageIndex","valueChange","PagerSmallProps","PagesSmall","updateWidth","_this$pageIndexRef$cu","_this$props$pagesCoun","PAGER_NAVIGATE_BUTTON","PAGER_PREV_BUTTON_CLASS","PAGER_NEXT_BUTTON_CLASS","PAGER_BUTTON_DISABLE_CLASS","nextButtonClassName","prevButtonClassName","nextButtonDisabledClassName","prevButtonDisabledClassName","navigateToNextPage","navigateToPrevPage","nextClassName","prevClassName","renderNextButton","renderPrevButton","getIncrement","PageIndexSelectorProps","PageIndexSelectorPropsType","PageIndexSelector","getNextDirection","getPrevDirection","canNavigateToPage","getNextPageIndex","canNavigateTo","navigateToPage","_this$config2","canNavigate","LegacySelectBox","SelectBoxProps","SelectBox","PageSizeSmallPropsType","PageSizeSmall","p","pageSizesText","PageSizeLargePropsType","PageSizeLarge","__getterCache","onPageSizeChange","processedPageSize","componentWillUpdate","nextProps","nextState","htmlRef","normalizedPageSizes","getAllText","PageSizeSelectorProps","PageSizeSelectorPropsType","PageSizeSelector","setRootElementRef","infoVisible","pageIndexSelectorVisible","pagesContainerVisibility","pagesContainerVisible","widgetRootElementRef","normalizeStyles","PagerContentProps","PagerContent","createFakeInstance","getChildContext","keyboardAction","_this$props$onKeyDown","fakePagerInstance","_registerKeyboardAction","normalizedDisplayMode","classesMap","_this$props2","Pager","InfernoWrapperComponent","createReRenderEffect","__newValue","_newValue","newPageSize","_this$props$pageSize$","getProps","_wrapKeyDownHandler","_propsInfo","twoWay","allowNull","_viewComponent","PagerComponent","MAX_PAGES_COUNT","getPageIndex","PagerView","_pager","pagerOptions","useLegacyKeyboardNavigation","getPager","_pageSizes","pagerVisible","isPager","isPaging","isDataSource","isScrolling","pagerModule","COLUMNS_SEPARATOR_CLASS","COLUMNS_SEPARATOR_TRANSPARENT","DRAGGING_HEADER_CLASS","HEADERS_DRAG_ACTION_CLASS","TRACKER_CLASS","HEADERS_DROP_HIGHLIGHT_CLASS","BLOCK_SEPARATOR_CLASS","DRAGGING_COMMAND_CELL_CLASS","COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH","DRAGGING_DELTA","COLUMN_OPACITY","TrackerView","_unsubscribeFromCallback","_positionChanged","_tablePositionController","_subscribeToCallback","_setHeight","SeparatorView","_isShown","ColumnsSeparatorView","_isTransparent","columnsSeparatorTransparent","moveByX","outerX","changeCursor","cursorName","BlockSeparatorView","startAnimate","toOptions","DraggingHeaderView","_isDragging","isDragging","_getDraggingPanelByPos","_dragOptions","boundingRect","_resetTargetColumnOptions","_dropOptions","targetColumnIndex","targetColumnElement","posX","posY","_getVisibleIndexObject","_columnsResizerViewController","dragHeader","isCommandColumn","sourceIndex","sourceColumnIndex","sourceColumnElement","_onSelectStart","onselectstart","drag","whiteSpace","swatchContainer","moveHeader","eventData","getEventData","dragOptions","moveDeltaX","abs","deltaX","moveDeltaY","deltaY","newLeft","newTop","dockHeader","targetDraggingPanel","isVerticalOrientation","axisName","pointsByTarget","pointsByColumns","_generatePointsByColumns","centerPosition","dock","dropHeader","drop","isNextColumnResizingMode","ColumnsResizerViewController","_isHeadersRowArea","headersRowHeight","_isRtlParentStyle","_this$_$parentContain","_$parentContainer","_pointCreated","point","cellsLength","isNextColumnMode","isRtlParentStyle","firstPointColumnIndex","nextColumn","_getTargetPoint","currentX","_moveSeparator","_that$_draggingHeader","columnsSeparatorWidth","_columnsSeparatorView","parentOffset","parentOffsetLeft","_draggingHeaderView","_isResizing","_resizingInfo","_updateColumnsWidthIfNeeded","currentColumnIndex","outerWidth","_previousParentOffset","_isReadyResizing","_trackerView","_getNextColumnIndex","_setupResizingInfo","nextColumnIndex","currentHeader","nextHeader","startPosX","currentColumnWidth","nextColumnWidth","isTouchEvent","_pointsByColumns","_unsubscribeFromEvents","_moveSeparatorHandler","_startResizingHandler","_endResizingHandler","_subscribeToEvents","nextCellWidth","cellWidth","needUpdate","resizingInfo","setColumnWidth","oldColumnWidth","allColumnsHaveWidth","totalPercent","hasScroll","_subscribesToCallbacks","_unsubscribeFromCallbacks","subscribe","_unsubscribes","generatePointsByColumnsHandler","generatePointsByColumnsScrollHandler","previousScrollbarVisibility","previousTableHeight","scrollbarVisibility","TablePositionViewController","diffOffsetTop","columnsHeadersHeight","scrollBarWidth","columnsResizerController","draggingHeaderView","isDraggingOrResizing","_pagerView","targetPoint","DraggingHeaderViewController","draggingHeader","nameDraggingPanel","subscribeToEvents","dragEventStart","dragEventMove","dragEventEnd","_getSeparator","_blockSeparatorView","hideSeparators","blockSeparator","columnsSeparator","_animationColumnIndex","_headerPanelView","_columnChooserView","allowDrop","headersView","separator","hasTargetVisibleIndex","columnsResizingReorderingModule","columnsSeparatorView","blockSeparatorView","trackerView","tablePosition","GROUP_FOOTER_CLASS","FREESPACE_ROW_CLASS","COMMAND_CELL_SELECTOR","DATEBOX_WIDGET_NAME","FAST_EDITING_DELETE_KEY","INTERACTIVE_ELEMENTS_SELECTOR","NON_FOCUSABLE_ELEMENTS_SELECTOR","FOCUS_TYPE_ROW","FOCUS_TYPE_CELL","COLUMN_HEADERS_VIEW","FUNCTIONAL_KEYS","isNotFocusedRow","isCellElement","_isRowEditMode","isElementDefined","isMobile","isCellInHeaderRow","isFixedColumnIndexOffsetRequired","shouldPreventScroll","_isVirtualScrolling","KeyboardNavigationController","_selectionController","_updateFocusTimeout","_fastEditingStarted","_focusedCellPosition","_canceledCellPosition","setupFocusedView","_isNeedScroll","_focusedView","_initViewHandlers","_initDocumentHandlers","rowsViewFocusHandler","isRelatedTargetInRowsView","isCommandButton","_isEventInCurrentGrid","$focusedCell","_getFocusedCell","$rowsView","isFocusedViewCorrect","needUpdateFocus","isFocusedElementCorrect","_initPointerEventHandler","_initKeyDownHandler","_setRowsViewAttributes","_isNeedFocus","_isHiddenFocus","isCurrentRowsViewClick","isEditorOverlay","isColumnResizing","targetInsideFocusedView","_resetFocusedCell","_resetFocusedView","_getRowsViewElement","isGridEmpty","_applyTabIndexToElement","pointerEventName","_pointerEventAction","_pointerEventHandler","keyboard","_keyDownListener","_keyDownHandler","isRowFocusType","focusType","isCellFocusType","setRowFocusType","setCellFocusType","needStopPropagation","_processOnKeyDown","_updateFocusedCellPositionByTarget","_leftRightKeysHandler","ctrl","_upDownKeysHandler","_pageUpDownKeyHandler","_spaceKeyHandler","_ctrlAKeyHandler","_beginFastEditing","_tabKeyHandler","_enterKeyHandler","_escapeKeyHandler","_ctrlFKeyHandler","_f2KeyHandler","_isFastEditingAllowed","_isFastEditingStarted","alt","altKey","_closeEditCell","getVisibleRowIndex","$event","directionCode","_getDirectionCodeByKey","isEditingNavigationMode","allowNavigate","_isVirtualColumnRender","_processVirtualHorizontalPosition","_getNextCell","_arrowKeysHandlerFocusCell","_this$_editingControl","isUpArrow","isRowEditingInCurrentRow","_navigateNextCell","_isVirtualRowRender","_scrollBy","isPageUp","pageStep","isFocusedRowElement","_getElementType","isFocusedSelectionCell","isCellPositionDefined","isOriginalHandlerRequired","_isLastValidCell","_isFirstValidCell","eventTarget","focusedViewElement","_handleTabKeyOnMasterDetailCell","_editingCellTabHandler","_targetCellTabHandler","_getMaxHorizontalOffset","_isColumnRendered","allVisibleColumns","renderedVisibleColumns","_isFixedColumn","_isColumnVirtual","localColumnIndex","getColumnIndex","horizontalScrollPosition","needToScroll","_getVisibleColumnCount","leftEdgePosition","_getHorizontalScrollPositionOffset","positionOffset","$currentCell","_getCell","currentCellWidth","rtlMultiplier","isEditingAllowed","_getCellElementFromTarget","elementType","_updateFocusedCellPosition","nextCellInfo","_getNextCellByTabKey","_getRowIndex","_isDataRow","_focusCell","isHighlighted","_editFocusedCell","_focusInteractiveElement","$lastInteractiveElement","_getInteractiveElement","getFirstValidCellInRow","_checkNewLineTransition","_fireFocusedCellChanging","$newCellElement","_getCellPosition","_fireFocusedRowChanging","rowIndexChanged","setFocusedColumnIndex","_processEnterKeyForDataCell","_getEnterKeyDirection","allowEditingOnEnterKey","_allowEditingOnEnterKey","_handleEnterKeyEditingCell","_startEditing","isShift","_focusEditFormCell","searchTextEditor","keyCode","isCellValid","_isCellValid","$nextCell","isVerticalDirection","_fireFocusChangingEvents","_focus","isDeleting","fastEditingKey","isInteractiveElement","isExpandCommandCell","_isInsideEditForm","_focusView","_isMasterDetailCell","_clickTargetCellHandler","_isCellEditMode","setFocusedRowIndex","prevRowIndex","resetFocusedRow","_resetFocusedRow","_allowRowUpdating","skipFocusEvent","isEditor","isDisabled","activeElementSelector","_focusElement","getFocusedView","rowsViewElement","$focusedView","_getFocusedViewByElement","$view","disableFocus","$focusElement","focusedView","isRowFocus","isRenderView","_hasSkipRow","_checkCellOverlapped","$focusedElementInsideCell","isFocusedElementDefined","cellOffset","hasScrollable","isOverlapped","_this$_focusedCellPos","setFocusedCellPosition","_getFocusedColumnIndexOffset","_getFixedColumnIndexOffset","_applyColumnIndexBoundaries","preventScroll","_this$_focusedView","renderFocusState","restoreFocusableElement","newRowIndex","_getNewPositionByCode","code","visibleColumnsCount","_hasValidCellAfterPosition","_isLastRow","_hasValidCellBeforePosition","_isCellByPositionValid","getMaxRowIndex","isFirstValidCell","hasValidCells","checkingPosition","visibleColumnCount","isClick","isShowWhenGrouped","isDataCell","rowItems","_isLegacyNavigation","focusedCellPosition","includeCommandCells","newFocusedCellPosition","isLastCellOnDirection","_isCellInRow","visibleColumnIndex","_isAllowEditing","_startEditCell","editResult","_editingCellHandler","_$input$get$select","_$input$get","$input","keyDownEvent","createEvent","keyPressEvent","inputEvent","val","$widgetContainer","fireRowEvent","newColumnIndex","prevCellIndex","prevColumnIndex","_fireFocusedCellChanged","localRowIndex","$newFocusedRow","prevFocusedRowIndex","_fireFocusedRowChanged","getFocusedRowIndexByKey","$masterDetailCell","$masterDetailGrid","_processNextCellInMasterDetail","_processCanceledEditCellPosition","isCanceled","updateFocusedRowIndex","lastVisibleIndex","keyboardNavigationModule","needTriggerPointerEventHandler","_triggerPointerDownEventHandler","cellElements","updateFocusElementTabIndex","_updateFocusedCellTabIndex","cellElementsLength","updateCellTabIndex","isMasterDetailCell","isValidCell","_renderFocusByChange","_getEditorInstance","_handleEditingNavigationMode","originalKeyHandler","isDropDownOpened","isDateBoxWithMask","keyboardNavigationController","_keyboardNavigationController","getRowIndexCorrection","focusedRowIndexCorrection","adaptiveColumns","_showHiddenCellsInView","_hideVisibleCellInView","depthFirstSearch","depth","root","isCount","aggregator","aggregators","normalizeAggregate","aggregate","_groupLevel","_totalAggregates","totalAggregates","_groupAggregates","groupAggregates","_totals","calculate","_calculateTotals","_calculateGroups","_aggregate","aggregates","_accumulate","_seed","_finalize","maxLevel","seedFn","stepFn","finalizeFn","innerNode","seed","NaN","aggregateIndex","step","fin","finalize","DATAGRID_TOTAL_FOOTER_CLASS","DATAGRID_SUMMARY_ITEM_CLASS","DATAGRID_TEXT_CONTENT_CLASS","DATAGRID_GROUP_FOOTER_CLASS","DATAGRID_GROUP_TEXT_CONTENT_CLASS","DATAGRID_NOWRAP_CLASS","DATAGRID_FOOTER_ROW_CLASS","DATAGRID_GROUP_FOOTER_ROW_TYPE","DATAGRID_TOTAL_FOOTER_ROW_TYPE","renderSummaryCell","$summaryItems","getSummaryCellOptions","getGroupAggregates","FooterView","footerItems","needUpdateScrollLeft","$newTable","$newRow","totalColumnIndices","SummaryDataSourceAdapterExtender","_summaryGetter","summaryGetter","_summary","sortByGroupsInfo","sortByGroups","groupedItems","forEachGroup","itemsPath","SummaryDataSourceAdapterClientExtender","calculateAggregates","calculator","insertedData","applyAddedData","removedData","applyRemovedData","updatedData","updatedItems","set","AggregateCalculator","sortGroupsBySummary","sortGroupsBySummaryCore","sortBy","thenBy","sortedItems","totalSummary","_options$cachedData$e","hasOperations","_isDataColumn","_isGroupFooterVisible","isGroupFooterVisible","summaryGroupItems","afterGroupColumnIndex","_calculateSummaryCells","calculateTargetColumnIndex","summaryCellsByColumns","summaryIndex","columnCaption","_getSummaryCells","summaryTotalItems","_footerItems","oldSummaryCells","summaryCell","_prepareUnsavedDataSelector","_prepareAggregateSelector","_getAggregates","commonSkipEmptyValues","summaryProcess","totalValue","_addSortInfo","_findSummaryItem","summaryItemIndex","_getSummarySortByGroups","groupSummaryItems","currentRemoteOperations","_getSummaryOptions","totalSummaryItems","methods","getTotalSummaryValue","summaryItemName","_refreshSummary","_renderGroupSummaryCells","_hasAlignByColumnSummaryItems","_getAlignByColumnCellCount","groupCellColSpan","alignByColumnCellCount","$groupCell","_renderGroupSummaryCellsCore","_getSummaryCellIndex","FIRST_CELL_CLASS","LAST_CELL_CLASS","HOVER_STATE_CLASS","FIXED_COL_CLASS","FIXED_COLUMNS_CLASS","POINTER_EVENTS_NONE_CLASS","getTransparentColumnIndex","normalizeColumnWidths","fixedWidths","fixedColumnIndex","baseFixedColumns","_isFixedColumns","_correctColumnIndicesForFixedColumns","_partialUpdateFixedTable","fixedTableElement","_fixedTableElement","$fixedTable","fixedCorrection","fixedCells","prevFixedColumn","columnCommand","isRowAltStyle","isEmptyCell","isFixedTableRendering","isGroupCell","alignByFixedColumnCellCount","headerRowIndex","fixedCellElements","fixedColumn","getFixedColumnsOffset","$transparentColumn","getTransparentColumnElement","positionTransparentColumn","getFixedTableElement","synchronizeRows","isWidthsSynchronized","isColumnWidthChanged","useVisibleColumns","_getClientHeight","boundingClientRectElement","$fixedRowElements","fixedRowHeights","heightTable","heightFixedTable","fixedRowHeight","ColumnHeadersViewFixedColumnsExtender","columnFixingOptions","getFixedColumnElements","$transparentColumnElement","$fixedColumnElements","RowsViewFixedColumnsExtender","_detachHoverEvents","attachHoverEvent","isHover","contentClass","scrollDelay","_fixedScrollTimeout","wheelEventName","$nearestScrollable","shouldScroll","nearestScrollableInstance","nearestScrollableHasVerticalScrollbar","_updateFixedTablePosition","needFocus","vWidth","hWidth","styles","$fixedContent","_getElasticScrollTop","elasticScrollTop","reachedBottom","$scrollableContent","$scrollableContainer","maxScrollTop","_applyElasticScrolling","FooterViewFixedColumnsExtender","columnFixingModule","normalizeColumnIndicesByPoints","correctIndex","pointsByFixedColumns","_pointsByFixedColumns","isWidgetResizingMode","ROWS_VIEW","FOOTER_VIEW","COLUMN_VIEWS","ADAPTIVE_NAMESPACE","ADAPTIVE_ROW_TYPE","FORM_ITEM_CONTENT_CLASS","FORM_ITEM_MODIFIED","HIDDEN_COLUMN_CLASS","ADAPTIVE_COLUMN_BUTTON_CLASS","ADAPTIVE_COLUMN_NAME_CLASS","COMMAND_ADAPTIVE_HIDDEN_CLASS","ADAPTIVE_DETAIL_ROW_CLASS","ADAPTIVE_ITEM_TEXT_CLASS","LAST_DATA_CELL_CLASS","ADAPTIVE_COLUMN_NAME","EXPAND_ARIA_NAME","COLLAPSE_ARIA_NAME","getDataCellElements","adaptiveCellTemplate","$adaptiveColumnButton","adaptiveColumnsController","toggleExpandAdaptiveDetailRow","AdaptiveColumnsController","_getEditMode","_isItemModified","_renderFormViewTemplate","focusAction","renderFormTemplate","isItemEdited","_isItemEdited","_isVisibleColumnsValid","_calculatePercentWidths","percentWidths","_getItemPercentWidth","_isPercentWidth","_isColumnHidden","_hiddenColumns","hiddenColumn","columnsCanFit","fixedColumnsWidth","columnsWithoutFixedWidthCount","_calculatePercentWidth","_calculateColumnWidth","contentColumns","colWidth","widthOption","columnFitted","partialWidth","resultWidth","_getNotTruncatedColumnWidth","_getCommandColumnsWidth","adaptiveExpandedKey","_getFormItemsByHiddenColumns","hiddenColumns","_getAdaptiveColumnVisibleIndex","_hideAdaptiveColumn","_hideVisibleColumn","cssClassNameToRemove","_showHiddenColumns","$hiddenCommandCells","$hiddenCells","_hideVisibleColumnInView","cancelClassAdding","currentVisibleIndex","_findCellElementInRow","$rowCells","cellIsInsideGroup","groupCellLength","endGroupIndex","cssClassNameToAdd","hideRedundantColumns","hiddenQueue","hasHiddenColumns","needHideColumn","rootElementWidth","getVisibleContentColumns","visibleContentColumns","contentColumnsCount","columnBestFitWidth","getItemContentByColumnIndex","_$itemContents","alwaysExpanded","createFormByHiddenColumns","userFormOptions","defaultFormOptions","_form","updateForm","hasAdaptiveDetailRowExpanded","_contentReadyAction","updateHidingQueue","columnsHasHidingPriority","hideableColumns","_hidingColumnsQueue","getHiddenColumns","getHidingColumnsQueue","adaptiveHidden","isAdaptiveVisible","isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow","updateCommandAdaptiveAriaLabel","setCommandAdaptiveAriaLabel","labelName","$adaptiveCommand","adaptivityModule","_adaptiveColumnsController","hidingColumnsQueueLength","hiddenColumnsLength","isClickable","_updateColumnWidth","hasHiddenColumnsOnly","hasAdaptiveHiddenWidth","$itemContents","_adaptiveController","oldExpandRowIndex","_isForceRowAdaptiveExpand","_collapseAdaptiveDetailRow","_cancelEditAdaptiveDetailRow","expandedKey","_adaptiveExpandedKey","adaptiveController","oldHiddenColumns","hidingColumnsQueue","_updateScrollableTimeoutID","expandRowIndex","lastRowIndex","oldExpandLoadedRowIndex","newExpandLoadedRowIndex","oldKey","isCellOrBatchMode","focusHandler","$dataCells","isCellElementsEquals","foreachColumnInfo","offsets","lastProcessedIndexes","processedColumnCount","createColumnsInfo","newInfo","columnInfo","cellColspan","DEFAULT_COLUMN_WIDTH","setScrollPosition","HeaderViewExtender","ColumnsControllerExtender","getWidths","_beginPageIndex","_endPageIndex","_virtualVisibleColumns","currentPosition","getColumnPageSize","getTotalWidth","_fireColumnsChanged","_changedTimeout","_setScrollPositionCore","needColumnsChanged","visibleColumnsHash","beginFixedColumnCount","beginFixedColumns","beginColumns","beginWidth","endFixedColumnCount","endFixedColumns","endColumns","endWidth","columnsInfo","leftFixedColumnCount","virtualColumnsModule","columnPageSize","columnRenderingThreshold","_getEmptyCell","_defaultSetter","_cloneItem","_c","navigator","getNavigator","FILE_EXTESIONS","EXCEL","CSS","PNG","JPEG","GIF","SVG","PDF","MIME_TYPES","fileSaver","_revokeObjectURLTimeout","_getDataUri","mimeType","_getMimeType","_linkDownloader","href","exportLinkElement","download","_formDownloader","contentType","formAttributes","method","enctype","exportForm","setAttributes","_saveByProxy","_winJSBlobSave","blob","savePicker","Windows","Storage","Pickers","FileSavePicker","suggestedStartLocation","PickerLocationId","documentsLibrary","fileExtension","fileTypeChoices","suggestedFileName","pickSaveFileAsync","file","openAsync","FileAccessMode","readWrite","outputStream","inputStream","msDetachStream","Streams","RandomAccessStream","copyAsync","flushAsync","_click","link","dispatchEvent","MouseEvent","cancelable","initMouseEvent","_saveBlobAs","_blobSaved","msSaveOrOpenBlob","WinJS","URL","webkitURL","mozURL","msURL","oURL","objectURL","createObjectURL","downloadLink","revokeObjectURL","_objectUrlRevoked","saveAs","proxyURL","forceProxy","Blob","userAgent","ARABIC_ZERO_CODE","DEFINED_NUMBER_FORMTATS","thousands","millions","billions","trillions","percent","decimal","fixedpoint","exponential","PERIOD_REGEXP","DAY_REGEXP","DO_REGEXP","STANDALONE_MONTH_REGEXP","HOUR_REGEXP","ANY_REGEXP","excelFormatConverter","_applyPrecision","_hasArabicDigits","charCodeAt","_convertDateFormatToOpenXml","datePart","_convertDateFormat","getFormat","_getLanguageInfo","defaultPattern","languageID","languageIDStr","languageInfo","_convertNumberFormat","excelFormat","numberFormatter","stringFormat","convertFormat","tagHelper","toXml","attributeName","attributeValue","cellAlignmentHelper","tryCreateTag","sourceObj","vertical","wrapText","horizontal","copy","areEqual","leftTag","rightTag","tag","colorHelper","_tryConvertColor","colorCode","rgb","theme","patternFillHelper","patternType","backgroundColor","foregroundColor","fillHelper","patternFill","tryCreateFillFromSimpleFormat","fillPatternType","fillPatternColor","copySimpleFormat","fontHelper","family","scheme","bold","italic","underline","color","cellFormatHelper","sharedItemsContainer","numberFormatId","numberFormat","registerNumberFormat","fill","fontId","registerFont","font","fillId","registerFill","applyNumberFormat","isAlignmentEmpty","xfId","applyAlignment","numFmtId","numberFormatHelper","ID_PROPERTY_NAME","formatCode","ExcelFile","_cellFormatTags","_fillTags","_fontTags","_numberFormatTags","registerCellFormat","cellFormat","cellFormatTag","generateCellFormatsXml","cellFormatTagsAsXmlStringsArray","fillTag","generateFillsXml","tagsAsXmlStringsArray","fontTag","generateFontsXml","xmlStringsArray","_convertNumberFormatIndexToId","generateNumberFormatsXml","XML_TAG","GROUP_SHEET_PR_XML","SINGLE_SHEET_PR_XML","BASE_STYLE_XML2","OPEN_XML_FORMAT_URL","RELATIONSHIP_PART_NAME","XL_FOLDER_NAME","WORKBOOK_FILE_NAME","CONTENTTYPES_FILE_NAME","SHAREDSTRING_FILE_NAME","STYLE_FILE_NAME","WORKSHEETS_FOLDER","WORKSHEET_FILE_NAME","WORKSHEET_HEADER_XML","VALID_TYPES","EXCEL_START_TIME","DAYS_COUNT_BEFORE_29_FEB_1900","MAX_DIGIT_WIDTH_IN_PIXELS","UNSUPPORTED_FORMAT_MAPPING","quarterAndYear","ExcelCreator","_getXMLTag","_convertToExcelCellRef","zeroBasedRowIndex","zeroBasedCellIndex","charCode","isCellIndexFound","_convertToExcelCellRefAndTrackMaxIndex","_maxRowIndex","_maxColumnIndex","_getDataType","_tryGetExcelCellDataType","isBoolean","_formatObjectConverter","_tryConvertToExcelNumberFormat","newFormat","_appendString","_stringHash","_stringArray","_tryGetExcelDateValue","days","totalTime","_prepareValue","sourceValue","dataProvider","_dataProvider","cellSourceData","getCellData","getCellType","_callCustomizeExcelCell","sourceData","styleCopy","copyCellFormat","clearStyle","wrapTextEnabled","newStyle","_getDataArray","cellsArray","cellData","rowsLength","styleArrayIndex","getStyleId","cellStyleId","_styleArrayIndexToCellStyleIdMap","hasCustomizeExcelCell","modifiedExcelCell","_styleArray","cellDataType","excelDateValue","_excelFile","_needSheetPr","getGroupLevel","_calculateWidth","pixelsWidth","_prepareStyleData","getStyles","_colsArray","fonts","_prepareCellData","_cellsArray","_createXMLRelationships","xmlRelationships","_createXMLRelationship","_getWorkbookContent","_getContentTypesContent","_generateStylesXML","folder","_zip","XML","_generateStringsXML","stringIndex","stringsLength","sharedStringXml","_getPaneXML","frozenArea","getFrozenArea","_getAutoFilterXML","maxCellIndex","autoFilterEnabled","getHeaderRowCount","_getIgnoredErrorsXML","ignoreErrors","_generateWorksheetXML","xmlCells","xmlRows","colsLength","rSpans","headerRowCount","xmlResult","_rtlEnabled","rightBottomCellRef","_generateMergingXML","k","l","mergeIndex","columnsLength","usedArea","mergeArray","mergeXML","cellMerge","getCellMerging","mergeArrayLength","_generateCommonXML","relsFileContent","relsXML","_generateContent","_generateWorkXML","JSZip","_checkZipState","ready","isBlob","compression","generateAsync","generate","excelCreator","standardColorNames","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","feldspar","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslateblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","violetred","wheat","white","whitesmoke","yellow","yellowgreen","standardColorTypes","re","process","colorString","s","hsvToRgb","hslToRgb","_round","Color","baseColor","parseColor","colorIsInvalid","normalize","g","hsv","toHsvFromRgb","hsl","toHslFromRgb","colorComponent","def","toHexFromRgb","H","S","V","vMin","vInc","vDec","calculateHue","convertTo01Bounds","maxMinSum","makeColorTint","colorPart","colorTint","modifyColorTint","hueToRgb","q","n","isIntegerBetweenMinAndMax","highlight","alter","toHex","darken","blend","blendColor","other","getPureColor","isValidHex","hex","isValidRGB","isValidAlpha","fromHSL","_math","_number","PI","sqrt","pow","atan2","cos","sin","_export","exportingAction","exportedAction","fileSavingAction","_isFunction","excel","creator","getExcelData","formatConverter","BUTTON_GROUP_WRAPPER_CLASS","BUTTON_GROUP_ITEM_CLASS","BUTTON_GROUP_FIRST_ITEM_CLASS","BUTTON_GROUP_LAST_ITEM_CLASS","BUTTON_GROUP_ITEM_HAS_WIDTH","SHAPE_STANDARD_CLASS","ButtonCollection","_prepareItemStyles","_getBasicButtonOptions","_templateData","_hasCustomTemplate","_renderItemContentByNode","_keyboardEventBindingTarget","_refreshContent","_prepareContent","ButtonGroup","_createItemClickAction","_renderButtons","$buttons","_buttonsCollection","DROP_DOWN_BUTTON_CLASS","DROP_DOWN_BUTTON_CONTENT","DROP_DOWN_BUTTON_ACTION_CLASS","DROP_DOWN_BUTTON_TOGGLE_CLASS","DROP_DOWN_BUTTON_HAS_ARROW_CLASS","DROP_DOWN_BUTTON_POPUP_WRAPPER_CLASS","DROP_DOWN_EDITOR_OVERLAY_CLASS","DX_BUTTON_TEXT_CLASS","DX_ICON_RIGHT_CLASS","DropDownButton","useSelectMode","splitButton","showArrowIcon","dropDownOptions","dropDownContentTemplate","wrapItemText","useItemTextAsTitle","groupTemplate","buttonGroupOptions","_createActionClickAction","_createSelectionChangedAction","_compileKeyGetter","_itemsToDataSource","FunctionTemplate","$listContainer","_escHandler","_getKey","storeKey","_keyGetter","_renderButtonGroup","_updateArrowClass","_loadSelectedItem","_updateActionButton","_renderPopupContent","_this$_loadSingleDefe","_loadSingleDeferred","_lastSelectedItemData","cachedResult","_loadSingle","_actionClickAction","_selectionChangedAction","_fireSelectionChangedAction","previousItem","_fireItemClickAction","_actionItem","_actionButtonConfig","_getButtonGroupItems","_buttonGroupItemClick","isActionButton","isToggleButton","_buttonGroupOptions","buttonContent","$firstIcon","$textContainer","$secondIcon","onKeyboardHandled","_popupContentId","$buttonClicked","actionResult","_buttonGroup","_upDownKeyHandler","_tabHandler","_popupHidingHandler","_popupShowingHandler","_bindInnerWidgetOptions","_setAriaExpanded","_popupOptionChanged","_setPopupOption","optionsKeys","getSizeValue","_setWidgetOption","_ariaExpandedElements","ariaElement","owns","$buttonGroup","buttonElements","hasArrow","_setListOption","_getDisplayValue","isPrimitiveItem","_selectedItemKeyChanged","_actionButtonOptionChanged","newConfig","_selectModeChanged","_updateItemCollection","_updateDataSource","_updateKeyExpr","_this$_popup","_innerWidgetOptionChanged","DATAGRID_EXPORT_MENU_CLASS","DATAGRID_EXPORT_BUTTON_CLASS","DATAGRID_EXPORT_TOOLBAR_BUTTON_NAME","DATAGRID_EXPORT_ICON","DATAGRID_EXPORT_EXCEL_ICON","DATAGRID_EXPORT_SELECTED_ICON","DATAGRID_EXPORT_EXCEL_BUTTON_ICON","DataProvider","initialColumnWidthsByColumnIndex","selectedRowsOnly","_exportController","_initialColumnWidthsByColumnIndex","_selectedRowsOnly","_getGroupValue","_correctCellIndex","_getColumns","_selectionOnly","_getSelectedItems","_getAllItems","isHeadersVisible","gridCell","getHeaderStyles","getGroupRowStyle","getColumnStyles","columnStyles","_getTotalCellStyleId","_this$getColumns$cell","isTotalCell","getColumnsByAllRows","getColumnsWidths","_convertFromGridGroupSummaryItems","gridGroupSummaryItems","isExcelJS","correctedCellIndex","columnsRow","gridColumn","itemValues","totalSummaryItemName","_value","correctCellIndex","isSummaryAlignByColumn","exportColspan","ExportController","exportMixin","currentHeaderRow","columnWidthsByColumnIndex","_getColumnWidths","_headersView","_needColumnExporting","currentColspan","_calculateExportColspan","childColumns","childColumn","_getFooterSummaryItems","isTotal","estimatedItemsCount","_hasSummaryGroupFooters","_getItemsWithSummaryGroupFooters","sourceItems","beforeGroupFooterItems","groupFooterItems","_updateGroupValuesWithSummaryByColumn","summaryValues","groupColumnCount","_processUnExportedItems","isDetailExpandColumn","selectedRowData","getExportFormat","getDataProvider","columnsLastRowVisibleColumns","exportToExcel","clientExport","_isSelectedRows","callbackList","exportButton","_getExportToolbarButton","_correctItemsPosition","_getExportToolbarItems","toolbarButtonOptions","_widgetOptions","_index","exportOptions","_isExportButtonVisible","_getButtonOptions","allowExportSelected","ROW_FOCUSED_CLASS","TABLE_POSTFIX_CLASS","FocusController","_keyboardController","_focusRowByIndex","_triggerFocusedRowChangedIfNeed","_focusRowByKey","focusedRowIndexByKey","isAutoNavigateToFocusedRow","_focusRowByIndexCore","setKeyByIndex","_isValidFocusedRowIndex","_getLastItemIndex","isRowFocused","_isLocalRowIndex","isVirtualScrolling","virtualItems","virtualItemsBegin","visibleRowsCount","visiblePagesCount","_setFocusedRowKeyByIndex","_navigateToRow","isFocusedRowKeyDefined","needFocusRow","isAutoNavigate","rowIndexByKey","_navigateTo","getPageIndexByKey","isVirtualRowRenderingMode","_navigateToVirtualRow","_navigateToVisibleRow","_triggerUpdateFocusedRow","scrollToRowElement","triggerUpdateFocusedRow","scrollTopPosition","_focusRowByKeyOrIndex","currentFocusedRowIndex","updateFocusedRow","$mainRow","isMainTable","_clearPreviousFocusedRow","_prepareFocusedRow","changedItem","scrollToElementVertically","$prevRowFocusedElement","focusedRow","$focusedRowTable","$firstRow","focusModule","visibleRow","isRowElement","sortByKey","notSortedKeys","notSortedKey","isPartialUpdate","isPartialUpdateWithDeleting","_updatePageIndexes","processUpdateFocusedRow","prevRenderingPageIndex","_lastRenderingPageIndex","renderingPageIndex","_isPagingByRendering","isPagingByRendering","isValidRowIndexByKey","needFocusRowByIndex","getGlobalRowIndexByKey","_calculateGlobalRowIndexByGroupedData","_calculateGlobalRowIndexByFlatData","groupFilter","useGroup","_generateFilterByKey","_concatWithCombinedFilter","_generateOperationFilterByKey","_generateBooleanFilter","sortInfo","booleanFilter","sortFilter","dataSourceKey","keyPart","_setFocusedRowElementTabIndex","_findRowElementForTabIndex","_scrollToFocusOnResize","getScrollElementPosition","currentScrollTop","isRowClick","_isFocusedRowInsideGroup","_getGroupPath","groupPath","_expandGroupByPath","isGroupKey","_calculateExpandedRowGlobalIndex","dataOffset","groupContinuationCount","currentPageOffset","targetDraggable","sourceDraggable","DRAGGABLE","DRAGSTART_EVENT_NAME","DRAG_EVENT_NAME","DRAGEND_EVENT_NAME","DRAG_ENTER_EVENT_NAME","dragEventEnter","DRAGEND_LEAVE_EVENT_NAME","dragEventLeave","POINTERDOWN_EVENT_NAME","CLONE_CLASS","ANONYMOUS_TEMPLATE_NAME","getMousePosition","pageX","pageY","GESTURE_COVER_CLASS","OVERLAY_WRAPPER_CLASS","OVERLAY_CONTENT_CLASS","ScrollHelper","_preventScroll","_component","_scrollValue","_overFlowAttr","_sizeAttr","_scrollSizeProp","_clientSizeProp","_limitProps","updateScrollable","mousePosition","isScrollableFound","isTargetOverOverlayWrapper","isTargetOverOverlayContent","_trySetScrollable","_$scrollableAtPointer","_scrollSpeed","isScrollable","distanceToBorders","sensitivity","_calculateDistanceToBorders","_calculateScrollSpeed","$area","areaBoundingRect","area","distance","maxSpeed","scrollByStep","$scrollable","nextScrollPosition","_nextScrollPosition","dragMoveArgs","_dragMoveArgs","_dragMoveHandler","isOutsideScrollable","scrollableSize","ScrollAnimator","Animator","strategy","_strategy","_step","horizontalScrollHelper","_horizontalScrollHelper","verticalScrollHelper","_verticalScrollHelper","Draggable","dragMove","dragEnter","dragLeave","dragEnd","sourceEvent","_getSourceDraggable","_fireRemoveEvent","onDragEnter","onDragLeave","onDrop","immediate","boundOffset","allowMoveByClick","_attachEventHandlers","_scrollAnimator","_normalizeCursorOffset","splitPair","_getNormalizedCursorOffset","_calculateElementOffset","dragElementOffset","$dragElement","dragElement","isCloned","_dragElementIsCloned","normalizedCursorOffset","currentLocate","_initialLocate","initialOffset","_initPosition","_move","_startPosition","_startAnimator","inProgress","_stopAnimator","stop","dasherize","_getItemsSelector","_$content","itemsSelector","checkDropTarget","targetGroup","sourceGroup","_getScrollable","_getArea","_pointerDownHandler","_dragStartHandler","_dragEndHandler","_dragEnterHandler","_dragLeaveHandler","_$dragElement","_getDragTemplateArgs","_createDragElement","_getContainer","_resetDragElement","_toggleDraggingClass","_resetSourceElement","_toggleDragSourceClass","_$sourceElement","_detachEventHandlers","_getDraggableElement","$sourceElement","_getSourceElement","draggable","needSkipEvent","_getAction","_getEventArgs","_isValidElement","dragStartArgs","_getDragStartArgs","_setSourceDraggable","_setGestureCoverCursor","isFixedPosition","areaOffset","_getAreaOffset","_getBoundOffset","areaWidth","areaHeight","elementHeight","startOffset_left","startOffset_top","maxTopOffset","maxBottomOffset","quadToObject","viewPort","startPosition","_getTargetDraggable","allObjects","_defaultActionArgs","fromComponent","toComponent","fromData","toData","_revertItemToInitialPosition","dragEndEventArgs","dropEventArgs","needRevertPosition","_resetTargetDraggable","_resetSourceDraggable","_isTargetOverAnotherDraggable","$sourceDraggableElement","$targetDraggableElement","firstWidgetElement","isTargetOverItself","isTargetOverNestedDraggable","_fireDragEnterEvent","_setTargetDraggable","_fireDragLeaveEvent","_getAnonymousTemplateName","EmptyTemplate","transclude","anonymousTemplateName","SORTABLE","PLACEHOLDER_CLASS","isElementVisible","animate","_config$to","_config$to2","transform","transition","stopAnimation","getScrollableBoundary","Sortable","_sourceScrollHandler","_handleSourceScroll","_sourceScrollableInfo","itemOrientation","moveItemOnDrop","onPlaceholderPrepared","dropInsideItem","itemPoints","fromIndexOffset","autoUpdate","draggableElementSize","_$placeholderElement","_isIndicateMode","_$modifiedItem","_modifiedItemMargin","_getPrevVisibleItem","_updateItemPoints","_subscribeToSourceScroll","_getElementIndex","_unsubscribeFromSourceScroll","sourceScrollableInfo","scrollProp","_correctItemPoints","_movePlaceholder","lastItemPoint","isVertical","_isVerticalOrientation","sourceElementSize","scrollSize","positionProp","lastPointPosition","elementPosition","freeSize","_getItems","$sortable","sortable","_allowDrop","$targetDraggable","itemPoint","cancelAdd","cancelRemove","isSourceDraggable","_fireAddEvent","resetPosition","_moveItem","_fireReorderEvent","cursorPosition","_updatePlaceholderPosition","_createPlaceholder","$placeholderContainer","_allowReordering","_isValidPoint","draggableVisibleIndex","_getItemPoints","itemWidth","visibleItemElements","visibleItemCount","$draggableItem","needCorrectLeftPosition","needCorrectTopPosition","points","forceUpdate","positionPropName","_togglePlaceholder","_normalizeToIndex","isAnotherDraggable","placeholderElement","_makeWidthCorrection","_$scrollable","scrollableWidth","offsetRight","_updatePlaceholderSizes","$placeholderElement","$prevTargetItemElement","$targetItemElement","_moveItemCore","$targetItem","prevItem","isDragSource","$fromElement","_optionChangedDropInsideItem","_optionChangedToIndex","_isPositionVisible","scrollContainer","pageYOffset","pageXOffset","showPlaceholder","_moveItems","fullUpdate","_updateDragSourceClass","_getActualFromIndex","_makeLeftCorrection","leftMargin","prevVisibleItemElement","_getPositions","elementSize","positions","_getDraggableElementSize","prevToIndex","prevPositions","animationConfig","COMMAND_HANDLE_CLASS","HANDLE_ICON_CLASS","SORTABLE_WITHOUT_HANDLE_CLASS","RowDraggingExtender","_updateHandleColumn","isHandleColumnVisible","_getHandleTemplate","sortableName","sortableFixedName","currentSortableName","anotherSortableName","togglePointerEventsStyle","_this$sortableFixedNa","_getDraggableRowTemplate","_rowDragging$onDragSt","_rowDragging$onDragEn","_rowDragging$onAdd","hasFixedSortable","_updateSortable","_sortable","_sortableFixed","_getDraggableGridOptions","gridOptions","$dataGridContainer","rowDraggingModule","DATAGRID_SELECTION_DISABLED_CLASS","DATAGRID_GROUP_OPENED_CLASS","DATAGRID_GROUP_CLOSED_CLASS","NO_DATA_CLASS","SCROLLING_MODE_OPTION","ROW_RENDERING_MODE_OPTION","DATE_INTERVAL_SELECTORS","getIntervalSelector","isDateType","nameIntervalSelector","equalSelectors","selector1","selector2","setEmptyText","normalizeSortingInfoUtility","formatValue","formatObject","getSummaryText","getWidgetInstance","editorData","equalFilterParameters","filter1","filter2","noDataClass","noDataElement","renderLoadPanel","LoadPanel","calculateLoadPanelPosition","combineFilters","_filters$i","checkChanges","changeNames","changesWithChangeNamesCount","proxyMethod","defaultResult","getFormatOptionsByColumn","getDisplayValue","getGroupRowSummaryText","getFormatByDataType","getHeaderFilterGroupParameters","sharedFiltering","interval","equalSortParameters","sortParameters1","sortParameters2","ignoreIsExpanded","getPointsByColumns","pointCreated","notCreatePoint","prevItemOffset","getExpandCellTemplate","getSelectionRange","selectionEnd","setSelectionRange","focusAndSelectElement","isSelectTextOnEditingStart","_loadItemDeferred","getLastResizableColumnIndex","hasResizableColumns","isElementInCurrentGrid","$grid","isVirtualRowRendering","getPixelRatio","getContentHeightLimit","mozilla","DEFAULT_DATE_INTERVAL","DEFAULT_DATETIME_INTERVAL","getGroupInterval","dateIntervals","getFilterSelector","getFilterExpressionByRange","endFilterValue","startFilterExpression","endFilterExpression","getTime","setDate","getFilterExpressionForDate","dateStart","dateEnd","dateInterval","dateValue","getFilterExpressionForNumber","startFilterValue","isSearchByDisplayValue","o","u","encode","f","getTypeOf","decode","uint8array","Uint8Array","compressedSize","uncompressedSize","crc32","compressedContent","getContentWorker","Promise","pipe","uncompressWorker","streamInfo","data_length","getCompressedWorker","withStreamInfo","createWorkerFrom","compressWorker","STORE","magic","DEFLATE","base64","binary","dir","createFolders","compressionOptions","comment","unixPermissions","dosPermissions","lie","Uint16Array","Uint32Array","_pako","_pakoAction","_pakoOptions","meta","inherits","processChunk","_createPako","transformTo","flush","cleanUp","raw","onData","pako","A","O","utf8encode","I","m","w","z","C","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCFullYear","getUTCMonth","getUTCDate","B","E","fileRecord","R","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","bytesWritten","zipComment","zipPlatform","encodeFileName","streamFiles","accumulate","contentBuffer","dirRecords","currentSourceOffset","entriesCount","currentFile","_sources","openedSource","closedSource","DATA_DESCRIPTOR","CENTRAL_DIRECTORY_END","prepareNextSource","isPaused","pause","resume","registerPrevious","generatedError","lock","generateWorker","_compressWorker","files","loadAsync","support","defaults","version","external","decompressed","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","isNode","isStream","prepareContent","fileNameStr","fileCommentStr","unsafeOriginalName","_upstreamEnded","_bindStream","_stream","Readable","_helper","emit","_read","Buffer","newBufferFrom","allocBuffer","alloc","isBuffer","generateInternalStream","checkSupport","generateNodeStream","toNodejsStream","stream","byteAt","zero","lastIndexOfSignature","readAndCheckSignature","readData","checkOffset","checkIndex","setIndex","readInt","readString","readDate","subarray","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","destType","propName","dataIsReady","_tickScheduled","_tickAndRepeat","isFinished","_tick","extraStreamInfo","isLocked","_listeners","mergeStreamInfo","hasOwnProperty","nodestream","_internalType","_outputType","_mimeType","newBlob","_worker","objectMode","arraybuffer","ArrayBuffer","nodebuffer","self","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","getBlob","leftOver","applyFromCharCode","Utf8DecodeWorker","Utf8EncodeWorker","stringifyByChunk","stringifyByChar","applyCanBeUsed","buffer","byteLength","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","setImmediate","FileReader","onload","onerror","readAsArrayBuffer","setimmediate","checkSignature","reader","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","zip64ExtensibleData","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","prepareReader","isEncrypted","bitFlag","useUTF8","fileNameLength","compressionMethod","versionMadeBy","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","_dataBinary","internalStream","_decompressWorker","nodeStream","MutationObserver","WebKitMutationObserver","createTextNode","observe","characterData","MessageChannel","createElement","onreadystatechange","removeChild","documentElement","port1","onmessage","port2","postMessage","global","TypeError","queue","outcome","onFulfilled","callFulfilled","otherCallFulfilled","onRejected","callRejected","otherCallRejected","finally","catch","race","assign","chunkSize","windowBits","memLevel","gzip","err","msg","ended","chunks","strm","avail_out","deflateInit2","header","deflateSetHeader","dictionary","string2buf","deflateSetDictionary","_dict_set","next_in","avail_in","output","Buf8","next_out","deflate","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","deflateRaw","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","inflate","Z_NEED_DICT","inflateSetDictionary","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","Inflate","inflateRaw","ungzip","Int32Array","setTyped","Buf16","Buf32","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","T","D","F","pending_buf","pending_out","total_out","N","_tr_flush_block","block_start","strstart","U","P","L","max_chain_length","prev_length","nice_match","w_size","w_mask","good_match","lookahead","match_start","window_size","hash_size","head","wrap","adler","total_in","ins_h","hash_shift","hash_mask","Z","match_length","_tr_tally","max_lazy_match","last_lit","W","prev_match","match_available","M","good_length","max_lazy","nice_length","max_chain","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","G","data_type","_tr_init","K","Y","deflateInit","deflateReset","deflateResetKeep","hcrc","time","os","_tr_align","_tr_stored_block","deflateInfo","xflags","extra_len","dmax","wsize","whave","wnext","hold","bits","lencode","distcode","lenbits","distbits","sane","havedict","check","total","wbits","ncode","nlen","ndist","have","lens","work","lendyn","distdyn","back","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","inflateInfo","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","X","J","getPrototypeOf","nextTick","importScripts","random","addEventListener","attachEvent","clearImmediate"],"sourceRoot":""}