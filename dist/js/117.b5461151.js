"use strict";(self["webpackChunkai_portal"]=self["webpackChunkai_portal"]||[]).push([[117],{49075:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-content-loading"},[a("div",{staticClass:"box"},[a("hash-loader",{staticClass:"custom-class",attrs:{color:"#eb1851",loading:!0,size:40,sizeUnit:"px"}})],1)])},i=[],n={name:"AppLoading",props:{text:String,icon:String,color:String}},o=n,r=a(1001),l=(0,r.Z)(o,s,i,!1,null,"288f4bbe",null),c=l.exports},85981:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app-toolbar"}},[a("div",{staticClass:"left-col"},[t.isBack?a("v-ons-toolbar-button",{on:{click:function(e){return t.$router.go(-1)}}},[a("i",{staticClass:"las la-angle-left"}),a("span",[t._v("Back")])]):t._e(),a("h1",[t._v(t._s(t.pageName))]),a("h2",[t._v(t._s(t.pageSubName))])],1),a("div",{staticClass:"right-col"},[t.isSave?a("v-ons-toolbar-button",{staticClass:"highlight-btn",on:{click:function(e){return t.$emit("isSaveBtn")}}},[a("i",{staticClass:"las la-save"}),a("span",[t._v("Save")])]):t._e(),t.isEdit?a("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("isEditBtn")}}},[a("i",{staticClass:"las la-edit"}),a("span",[t._v("Edit")])]):t._e(),t.isDelete?a("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("isDeleteBtn")}}},[a("i",{staticClass:"las la-trash"}),a("span",[t._v("Delete")])]):t._e(),t.isPrint||t.isDownload?a("div",{staticClass:"btn-group-separater"}):t._e(),a("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("refreshInfo")}}},[a("i",{staticClass:"las la-sync"}),a("span",[t._v("Refresh")])]),t.isPrint?a("v-ons-toolbar-button",[a("i",{staticClass:"las la-print"}),a("span",[t._v("Print")])]):t._e(),t.isDownload?a("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("isDownloadBtn")}}},[a("i",{staticClass:"las la-download"}),a("span",[t._v("Download")])]):t._e(),t.isNewBtn?a("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("newBtnFn")}}},[a("i",{staticClass:"las la-plus"}),a("span",[t._v(t._s(t.newBtnLabel))])]):t._e()],1)])},i=[],n={name:"toolbar",props:{pageName:String,pageSubName:String,isBack:Boolean,isEdit:Boolean,isSave:Boolean,isDelete:Boolean,isPrint:Boolean,isDownload:Boolean,isNewBtn:Boolean,newBtnLabel:String},methods:{}},o=n,r=a(1001),l=(0,r.Z)(o,s,i,!1,null,"47efdae0",null),c=l.exports},67212:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-progress-wrapper chart-item"},[0==t.hideDetail?a("div",{staticClass:"detail-panel"},[a("div",{attrs:{id:"report-sheet"}},[a("div",{staticClass:"report-container"},[a("div",{staticClass:"sheet-body"},[t._m(0),t._m(1),a("div",{staticClass:"form-item-value"},[a("label",[t._v(t._s(t.info.project_no))])]),t._m(2),a("div",{staticClass:"form-item-value"},[a("label",[t._v(t._s(t.info.service_type))])]),t._m(3),a("div",{staticClass:"form-item-value"},[a("label",[t._v(t._s(t.info.client_name))])]),t._m(4),a("div",{staticClass:"form-item-value"},[a("label",[t._v(t._s((t.info.project_value/1e6).toFixed(2)))])]),t._m(5),a("div",{staticClass:"form-item-value"},[a("label",[t._v(t._s(t.info.last_progress.toFixed(2)))])]),t._m(6),"On plan"==t.info.status_cumulative?a("div",{staticClass:"form-item-value",staticStyle:{"background-color":"#ccffcc"}},[a("label",[t._v(t._s(t.info.status_cumulative))])]):t._e(),"Over plan"==t.info.status_cumulative?a("div",{staticClass:"form-item-value",staticStyle:{"background-color":"#66ff99"}},[a("label",[t._v(t._s(t.info.status_cumulative))])]):t._e(),"Lower plan"==t.info.status_cumulative?a("div",{staticClass:"form-item-value",staticStyle:{"background-color":"#ffff00"}},[a("label",[t._v(t._s(t.info.status_cumulative))])]):t._e(),"Done"==t.info.status_cumulative?a("div",{staticClass:"form-item-value",staticStyle:{"background-color":"#00cc00"}},[a("label",[t._v(t._s(t.info.status_cumulative))])]):t._e()])])])]):t._e(),a("highcharts",{staticClass:"chart-panel",attrs:{options:t.chartOptions}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-label",staticStyle:{"grid-column":"span 2"}},[a("label",[t._v("project information")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item-label"},[a("label",[t._v("Project No:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item-label"},[a("label",[t._v("Service Type:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item-label"},[a("label",[t._v("Client:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item-label"},[a("label",[t._v("Project Value (MB):")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item-label"},[a("label",[t._v("Progress (%):")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item-label"},[a("label",[t._v("Progress Status:")])])}],n={name:"chart-project-progress",props:{info:Object,hideDetail:Boolean},data(){return{chartData:{plan:[{month:1,y:1666666},{month:2,y:1666666},{month:3,y:1666666},{month:4,y:1666666},{month:5,y:1666666},{month:6,y:1666666},{month:7,y:1666666},{month:8,y:1666666},{month:9,y:1666666},{month:10,y:1666666},{month:11,y:1666666},{month:12,y:1666666}]},chartOptions:{chart:{type:"spline"},credits:{enabled:!1},title:{text:"PROJECT PROGRESS of "+this.info.project_no+" - "+this.info.client_name},yAxis:{title:{text:"PROGRESS (%)",style:{fontSize:"14"}},labels:{formatter:function(){return this.value+"%"},style:{fontSize:"14"}},max:100},xAxis:{title:{},labels:{style:{fontSize:"14"}},categories:[]},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},plotOptions:{series:{label:{connectorAllowed:!1}},spline:{dataLabels:{enabled:!0,formatter:function(){return this.point.y.toFixed(2)+" %"}}}},series:[{name:"Planned",data:[],color:"#f00f78",lineWidth:2,marker:{symbol:"circle"},dataLabels:{enabled:!1}},{name:"Actual",data:[],color:"#1e1450",lineWidth:2,marker:{symbol:"circle"}}],tooltip:{formatter:function(){return"The <b>"+this.series.name+" </b>progress for month <b>"+this.x+"</b> is <b>"+this.y+"%"}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}}},methods:{},computed:{},mounted(){if(this.info)for(var t=0;t<this.info.progress_by_month.length;t++)this.chartOptions.series[0].data.push(this.info.progress_by_month[t].plan_cumulative),this.chartOptions.series[1].data.push(this.info.progress_by_month[t].actual_cumulative),this.chartOptions.xAxis.categories.push(this.info.progress_by_month[t].month_abbr)}},o=n,r=a(1001),l=(0,r.Z)(o,s,i,!1,null,"737879ae",null),c=l.exports},16117:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pm-page"},[a("div",{staticClass:"pm-toolbar"},[a("toolbar",{attrs:{pageName:"Ongoing Project Progress"},on:{refreshInfo:function(e){return t.FETCH_DATA()}}})],1),a("div",{staticClass:"pm-page-container"},[a("div",{staticClass:"page-content"},t._l(t.current_project_progress_chart,(function(e,s){return a("div",{key:e.id_project},["Done"!=e.status_cumulative?a("ChartProjectProgress",{attrs:{info:t.current_project_progress_chart[s]}}):t._e()],1)})),0)]),1==t.isLoading?a("contentLoading",{attrs:{text:"Loading, please wait...",color:"#fc9b21"}}):t._e()],1)},i=[],n=a(67212),o=a(49075),r=a(85981),l=a(39477),c=a(17133),u=a.n(c),m={name:"ViewProjectProgress",components:{toolbar:r.Z,contentLoading:o.Z,ChartProjectProgress:n.Z},created(){this.$store.commit("UPDATE_CURRENT_INAPP",{name:"Project Progress",icon:"/img/icon_menu/executive_management/progress.png"}),1==this.$store.state.status.server&&this.FETCH_DATA()},computed:{report_date(){return u()(this.currentViewRow.report_date).format("dddd, LL")}},data(){return{isAdd:!1,isEdit:!1,isLoading:!1,current_project_progress_chart:[]}},mounted(){},methods:{FETCH_DATA(){(0,l.Z)({method:"get",url:"/current-sales/project-current-sales-progress",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))}}).then((t=>{t.data&&(this.current_project_progress_chart=t.data)})).catch((t=>{this.$ons.notification.alert(t.code+" "+t.response.status+" "+t.message)})).finally((()=>{}))}}},_=m,d=a(1001),v=(0,d.Z)(_,s,i,!1,null,"1d56e282",null),f=v.exports}}]);
//# sourceMappingURL=117.b5461151.js.map