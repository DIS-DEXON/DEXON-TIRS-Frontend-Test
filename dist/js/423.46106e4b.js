"use strict";(self["webpackChunkai_portal"]=self["webpackChunkai_portal"]||[]).push([[423],{49075:function(t,a,e){e.d(a,{Z:function(){return c}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-content-loading"},[e("div",{staticClass:"box"},[e("hash-loader",{staticClass:"custom-class",attrs:{color:"#eb1851",loading:!0,size:40,sizeUnit:"px"}})],1)])},i=[],r={name:"AppLoading",props:{text:String,icon:String,color:String}},n=r,o=e(1001),l=(0,o.Z)(n,s,i,!1,null,"288f4bbe",null),c=l.exports},85981:function(t,a,e){e.d(a,{Z:function(){return c}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app-toolbar"}},[e("div",{staticClass:"left-col"},[t.isBack?e("v-ons-toolbar-button",{on:{click:function(a){return t.$router.go(-1)}}},[e("i",{staticClass:"las la-angle-left"}),e("span",[t._v("Back")])]):t._e(),e("h1",[t._v(t._s(t.pageName))]),e("h2",[t._v(t._s(t.pageSubName))])],1),e("div",{staticClass:"right-col"},[t.isSave?e("v-ons-toolbar-button",{staticClass:"highlight-btn",on:{click:function(a){return t.$emit("isSaveBtn")}}},[e("i",{staticClass:"las la-save"}),e("span",[t._v("Save")])]):t._e(),t.isEdit?e("v-ons-toolbar-button",{on:{click:function(a){return t.$emit("isEditBtn")}}},[e("i",{staticClass:"las la-edit"}),e("span",[t._v("Edit")])]):t._e(),t.isDelete?e("v-ons-toolbar-button",{on:{click:function(a){return t.$emit("isDeleteBtn")}}},[e("i",{staticClass:"las la-trash"}),e("span",[t._v("Delete")])]):t._e(),t.isPrint||t.isDownload?e("div",{staticClass:"btn-group-separater"}):t._e(),e("v-ons-toolbar-button",{on:{click:function(a){return t.$emit("refreshInfo")}}},[e("i",{staticClass:"las la-sync"}),e("span",[t._v("Refresh")])]),t.isPrint?e("v-ons-toolbar-button",[e("i",{staticClass:"las la-print"}),e("span",[t._v("Print")])]):t._e(),t.isDownload?e("v-ons-toolbar-button",{on:{click:function(a){return t.$emit("isDownloadBtn")}}},[e("i",{staticClass:"las la-download"}),e("span",[t._v("Download")])]):t._e(),t.isNewBtn?e("v-ons-toolbar-button",{on:{click:function(a){return t.$emit("newBtnFn")}}},[e("i",{staticClass:"las la-plus"}),e("span",[t._v(t._s(t.newBtnLabel))])]):t._e()],1)])},i=[],r={name:"toolbar",props:{pageName:String,pageSubName:String,isBack:Boolean,isEdit:Boolean,isSave:Boolean,isDelete:Boolean,isPrint:Boolean,isDownload:Boolean,isNewBtn:Boolean,newBtnLabel:String},methods:{}},n=r,o=e(1001),l=(0,o.Z)(n,s,i,!1,null,"47efdae0",null),c=l.exports},69143:function(t,a,e){e.d(a,{Z:function(){return u}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-item"},[this.chartData?e("highcharts",{attrs:{options:t.chartOptions}}):t._e(),this.chartData?t._e():e("div",{},[t._v("no data")])],1)},i=[],r=e(17133),n=e.n(r),o=e(39477),l={name:"chart-forecast-sales-bar",created(){this.FETCH_DATA()},data(){return{chartData:{idb:[],rbi:[],ffs:[],itp:[]},chartOptions:{chart:{type:"column"},credits:{enabled:!1},title:{text:"THE QUARTERLY SUMMARY OF FORECAST REVENUE BY SERVICE TYPE IN 2023"},yAxis:{title:{text:"FORECAST REVENUE [MB]",style:{fontSize:"14"}},labels:{formatter:function(){return(this.value/1e6).toFixed(2)},style:{fontSize:"14"}}},xAxis:{crosshair:!0,categories:["Q1","Q2","Q3","Q4"],labels:{style:{fontSize:"14"}}},legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"},plotOptions:{series:{label:{connectorAllowed:!1}}},series:[{name:"IDB",data:[],color:"#3a0ca3",dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",y:10,style:{fontSize:"10px"},formatter:function(){return(this.point.y/1e6).toFixed(2)}}},{name:"RBI",data:[],color:"#7209b7",dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",y:10,style:{fontSize:"10px"},formatter:function(){return(this.point.y/1e6).toFixed(2)}}},{name:"FFS",data:[],color:"#4cc9f0",dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",y:10,style:{fontSize:"10px"},formatter:function(){return(this.point.y/1e6).toFixed(2)}}},{name:"ITP",data:[],color:"#4361ee",dataLabels:{enabled:!0,rotation:-90,color:"#FFFFFF",align:"right",y:10,style:{fontSize:"10px"},formatter:function(){return(this.point.y/1e6).toFixed(2)}}}],tooltip:{formatter:function(){return"The <b>"+this.series.name+" </b>value for <b>"+this.x+"</b> is <b>"+(this.y/1e6).toFixed(2)+"MB"}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}}},methods:{FETCH_DATA(){(0,o.Z)({method:"post",url:"forecast-sales/forecast-sales-group-sumbyyear",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{year_no:n()().year()+1}}).then((t=>{if(t.data){for(var a=t.data,e=0;e<a.length;e++)1==a[e].service_type&&this.chartData.idb.push(a[e].y),2==a[e].service_type&&this.chartData.rbi.push(a[e].y),3==a[e].service_type&&this.chartData.ffs.push(a[e].y),4==a[e].service_type&&this.chartData.itp.push(a[e].y);this.chartData.idb.length>0&&(this.chartOptions.series[0].data=this.chartData.idb),this.chartData.rbi.length>0&&(this.chartOptions.series[1].data=this.chartData.rbi),this.chartData.ffs.length>0&&(this.chartOptions.series[2].data=this.chartData.ffs),this.chartData.itp.length>0&&(this.chartOptions.series[3].data=this.chartData.itp)}})).catch((t=>{console.log(t)})).finally((()=>{}))}},computed:{}},c=l,h=e(1001),d=(0,h.Z)(c,s,i,!1,null,"79b3c19e",null),u=d.exports},88196:function(t,a,e){e.d(a,{Z:function(){return u}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-item"},[this.chartData?e("highcharts",{attrs:{options:t.chartOptions}}):t._e(),this.chartData?t._e():e("div",{},[t._v("no data")])],1)},i=[],r=e(17133),n=e.n(r),o=e(39477),l={name:"chart-forecast-sales-pie",created(){this.FETCH_DATA()},data(){return{chartData:{},chartOptions:{chart:{type:"pie"},credits:{enabled:!1},title:{text:"THE TOTAL FORECAST OF REVENUE BY SERVICE TYPE IN 2023"},yAxis:{title:{text:"Value (Baht)"}},xAxis:{title:{}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:1},pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,style:{fontSize:"14px"},formatter:function(){return this.point.name+": "+(this.point.y/1e6).toFixed(2)+"MB"}}}},series:[{name:"Service",colorByPoint:!0,data:[{name:"IDB",y:0,color:"#3a0ca3"},{name:"RBI",y:0,color:"#7209b7"},{name:"FFS",y:0,color:"#4cc9f0"},{name:"ITP",y:0,color:"#4361ee"}]}],tooltip:{formatter:function(){return"<b>"+this.point.name+"<br></b><br>Value: "+(this.y/1e6).toFixed(2)+"MB ("+this.point.percentage.toFixed(2)+"%)"}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}}},methods:{FETCH_DATA(){(0,o.Z)({method:"post",url:"forecast-sales/forecast-sales-group-sumbytype",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{year_no:n()().year()+1}}).then((t=>{t.data&&(this.chartData=t.data,this.chartData&&(this.chartOptions.series[0].data[0].y=this.chartData[0].y,this.chartOptions.series[0].data[1].y=this.chartData[1].y,this.chartOptions.series[0].data[2].y=this.chartData[2].y,this.chartOptions.series[0].data[3].y=this.chartData[3].y))})).catch((t=>{this.$ons.notification.alert(t.code+" "+t.response.status+" "+t.message)})).finally((()=>{}))}},computed:{}},c=l,h=e(1001),d=(0,h.Z)(c,s,i,!1,null,"3b7a40ff",null),u=d.exports},60423:function(t,a,e){e.r(a),e.d(a,{default:function(){return v}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pm-page"},[e("div",{staticClass:"pm-toolbar"},[e("toolbar",{attrs:{pageName:"Forecast Revenue"},on:{refreshInfo:function(a){return t.FETCH_DATA()}}})],1),e("div",{staticClass:"pm-page-container"},[e("div",{staticClass:"page-content"},[e("YearSetCurrent"),e("div",{staticClass:"chart-wrapper-grid"},[e("div",{staticClass:"chart-wrapper",staticStyle:{"grid-column":"span 2"}},[e("ChartForecastSalesBar"),e("div",{staticClass:"figure-label"},[t._v(" THE SUMMARY OF FORECAST REVENUE IN 2023 ")])],1),e("div",{staticClass:"chart-wrapper",staticStyle:{"grid-column":"span 2"}},[e("ChartForecastSalesPie"),e("div",{staticClass:"figure-label"},[t._v(" THE TOTAL FORECAST OF REVENUE BY SERVICE TYPE IN 2023 ")])],1)])],1)]),1==t.isAdd?e("popupAdd",{on:{closePopup:function(a){return t.TOGGLE_POPUP()}}}):t._e(),1==t.isLoading?e("contentLoading",{attrs:{text:"Loading, please wait...",color:"#fc9b21"}}):t._e()],1)},i=[],r=e(47768),n=e(88196),o=e(69143),l=e(49075),c=e(85981),h=e(17133),d=e.n(h),u={name:"ViewForecastSales",components:{toolbar:c.Z,contentLoading:l.Z,YearSetCurrent:r.Z,ChartForecastSalesPie:n.Z,ChartForecastSalesBar:o.Z},created(){this.$store.commit("UPDATE_CURRENT_INAPP",{name:"Forecast Sales",icon:"/img/icon_menu/executive_management/forecast-sale.png"}),1==this.$store.state.status.server&&this.FETCH_DATA()},computed:{report_date(){return d()(this.currentViewRow.report_date).format("dddd, LL")}},data(){return{isAdd:!1,isEdit:!1,isLoading:!1}},mounted(){},methods:{FETCH_DATA(){}}},p=u,f=e(1001),m=(0,f.Z)(p,s,i,!1,null,"bd85a3d2",null),v=m.exports},47768:function(t,a,e){e.d(a,{Z:function(){return u}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"card-set-year fix-six"},t._l(t.quarter,(function(a){return e("div",{key:a.no,staticClass:"card-item-month monthlabel"},[e("p",[t._v(t._s(a.no))])])})),0),e("div",{staticClass:"card-set-year fix-six"},[t._m(0),t._l(t.ForecastSalesYearSetData,(function(a){return e("div",{key:a.quarter_no,staticClass:"card-item-month actual"},[e("p",{staticClass:"label-value"},[t._v(t._s((a.y/1e6).toFixed(2)))]),e("p",{staticClass:"label-currency"},[t._v("MB")])])})),e("div",{staticClass:"card-item-month table-td"},[e("p",{staticClass:"label-value"},[t._v(" "+t._s((t.total_plan/1e6).toFixed(2))+" ")]),e("p",{staticClass:"label-currency"},[t._v("MB")])])],2)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-item-month table-td"},[e("p",[t._v("FORECAST REVENUE")])])}],r=e(17133),n=e.n(r),o=e(39477),l={name:"yearset-forecast-sales",created(){this.FETCH_PLAN()},data(){return{quarter:[{no:"YEAR 2023"},{no:"Q1"},{no:"Q2"},{no:"Q3"},{no:"Q4"},{no:"TOTAL"}],ForecastSalesYearSetData:[]}},methods:{FETCH_PLAN(){(0,o.Z)({method:"post",url:"forecast-sales/forecast-sales-sumbyquarter",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{year_no:n()().year()+1}}).then((t=>{t.data&&(this.ForecastSalesYearSetData=t.data)})).catch((t=>{console.log(t)})).finally((()=>{}))}},computed:{total_plan(){if(this.ForecastSalesYearSetData.length>0){for(var t=0,a=0;a<this.ForecastSalesYearSetData.length;a++)t+=this.ForecastSalesYearSetData[a].y;return t}return 0}}},c=l,h=e(1001),d=(0,h.Z)(c,s,i,!1,null,"43ae1375",null),u=d.exports}}]);
//# sourceMappingURL=423.46106e4b.js.map