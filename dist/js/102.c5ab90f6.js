"use strict";(self["webpackChunkai_portal"]=self["webpackChunkai_portal"]||[]).push([[102],{19852:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-loading"},[s("div",{staticClass:"box"},[s("hash-loader",{staticClass:"custom-class",attrs:{color:"#eb1851",loading:!0,size:40,sizeUnit:"px"}}),s("h5",{staticClass:"app-name"},[e._v(e._s(e.text))])],1)])},a=[],n={name:"app-user-logging-in",props:{text:String}},r=n,o=s(1001),l=(0,o.Z)(r,i,a,!1,null,"73613f3f",null),c=l.exports},99986:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._t("default")],2)},a=[],n={name:"LayoutMain",components:{}},r=n,o=s(1001),l=(0,o.Z)(r,i,a,!1,null,null,null),c=l.exports},85102:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-body",attrs:{id:"page-home"}},[0==e.isLoading?s("div",{attrs:{id:"user-panel"}},[s("div",{staticClass:"page-container"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"left-col"},[s("div",{staticClass:"photo"},[e.user.profile_picture?s("img",{attrs:{src:e.user.profile_picture}}):e._e(),e.user.profile_picture?e._e():s("img",{attrs:{src:"/img/default_profile_picture.png"}})]),s("div",{staticClass:"detail"},[s("div",{staticClass:"name"},[s("h2",[e._v(e._s(e.user.firstname))]),s("h2",[e._v(e._s(e.user.lastname))])]),e.user.position?s("div",{staticClass:"desc"},[s("label",[e._v(e._s(e.user.position)+", "+e._s(e.user.department))]),s("label",[e._v("DITT-"+e._s(e.user.employee_no))])]):e._e()])]),s("div",{staticClass:"right-col"},[s("v-ons-toolbar-button",{on:{click:function(t){return e.GO_TO("dos")}}},[s("span",[e._v("Dexon Omnia System (DOS) ")]),s("i",{staticClass:"las la-laptop"})]),s("v-ons-toolbar-button",{on:{click:function(t){return e.GO_TO("/account")}}},[s("span",[e._v("My Account")]),s("i",{staticClass:"las la-user-circle"})])],1)])]),s("div",{staticClass:"bg-filter"})]):e._e(),0==e.isLoading?s("div",{staticClass:"page-container",staticStyle:{"padding-bottom":"100px"}},["ceo"==this.user.role||"admin"==this.user.role?s("div",[1==e.showSectionLabel?s("div",{staticClass:"section-label"},[s("h2",{staticClass:"page-section-label"},[e._v("Executive Summary")])]):e._e(),s("div",{staticClass:"app-drawer-wrapper"},e._l(e.appsList.executiveSummary,(function(t){return s("div",{key:t.name,staticClass:"app-item-wrapper"},[1==t.isActive?s("div",{staticClass:"app-item",on:{click:function(s){return e.OPEN_APP(t)}}},[s("img",{attrs:{src:t.icon_menu}}),s("label",[e._v(e._s(t.name))])]):e._e()])})),0),"manager"==this.user.role?s("hr"):e._e()]):e._e(),"manager"==this.user.role||"admin"==this.user.role?s("div",[1==e.showSectionLabel?s("div",{staticClass:"section-label"},[s("h2",{staticClass:"page-section-label"},[e._v("Executive Management")])]):e._e(),s("div",{staticClass:"app-drawer-wrapper"},e._l(e.appsList.executiveManagement,(function(t){return s("div",{key:t.name,staticClass:"app-item-wrapper"},[1==t.isActive?s("div",{staticClass:"app-item",on:{click:function(s){return e.OPEN_APP(t)}}},[s("img",{attrs:{src:t.icon_menu}}),s("label",[e._v(e._s(t.name))])]):e._e()])})),0),"manager"==this.user.role?s("hr"):e._e()]):e._e(),"ceo"!=this.user.role?s("div",[1==e.showSectionLabel?s("div",{staticClass:"section-label"},[s("h2",{staticClass:"page-section-label"},[e._v("Applications")])]):e._e(),s("div",{staticClass:"app-drawer-wrapper"},[e._l(e.appsList.projectManager,(function(t){return s("div",{key:t.name,staticClass:"app-item-wrapper"},[1==t.isActive?s("div",{staticClass:"app-item",on:{click:function(s){return e.OPEN_APP(t)}}},[s("img",{attrs:{src:t.icon_menu}}),s("label",[e._v(e._s(t.name))])]):e._e()])})),e._l(e.appsList.record,(function(t){return s("div",{key:t.name,staticClass:"app-item-wrapper"},[s("div",{staticClass:"app-item",on:{click:function(s){return e.OPEN_APP(t)}}},[s("img",{attrs:{src:t.icon_menu}}),s("label",[e._v(e._s(t.name))])])])})),e._l(e.appsList.contact,(function(t){return s("div",{key:t.name,staticClass:"app-item-wrapper"},[s("div",{staticClass:"app-item",on:{click:function(s){return e.OPEN_APP(t)}}},[s("img",{attrs:{src:t.icon_menu}}),s("label",[e._v(e._s(t.name))])])])})),e._l(e.appsList.other,(function(t){return s("div",{key:t.name,staticClass:"app-item-wrapper"},[s("div",{staticClass:"app-item",on:{click:function(s){return e.OPEN_APP(t)}}},[s("img",{attrs:{src:t.icon_menu}}),s("label",[e._v(e._s(t.name))])])])}))],2)]):e._e()]):e._e(),1==e.isOpening?s("AppLoading",{attrs:{icon:e.openingApp.icon_menu,name:e.openingApp.name}}):e._e(),1==e.isLoading?s("PageLoading",{attrs:{text:"Loading"}}):e._e()],1)},a=[],n=s(39477),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-loading"},[s("div",{staticClass:"box"},[s("img",{attrs:{src:e.icon}}),s("hash-loader",{staticClass:"loader",attrs:{color:"#eb1851",loading:!0,size:40,sizeUnit:"px"}})],1)])},o=[],l={name:"in-app-opening",props:{name:String,icon:String,color:String}},c=l,p=s(1001),u=(0,p.Z)(c,r,o,!1,null,"8064bf12",null),d=u.exports,_=s(99986),m=s(19852),v={name:"HomeView",components:{AppLoading:d,PageLoading:m.Z},data(){return{appsList:this.$store.state.appsList,isOpening:!1,isLoading:!1,openingApp:"",showSectionLabel:!0,user:""}},created(){this.$emit("update:layout",_.Z),this.$store.commit("CLEAR_CURRENT_INAPP"),1==this.$store.state.status.server&&this.FETCH_USER_INFO()},beforeMount(){this.$store.state.user&&(this.user=this.$store.state.user)},mounted(){},methods:{FETCH_USER_INFO(){this.isLoading=!0,setTimeout((()=>{var e=JSON.parse(localStorage.getItem("user")).id_user;(0,n.Z)({method:"post",url:"/user/get-info",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{id_user:e}}).then((e=>{if(200==e.status){var t=e.data.user;this.user=t,null==t.profile_picture?this.user.profile_picture=null:this.user.profile_picture=this.baseURL+this.user.profile_picture,console.log("==> Fetch User Info : Home View <=="),"ceo"==this.user.role&&this.$router.push("/executive-report")}})).catch((e=>{console.log(e)})).finally((()=>{this.isLoading=!1}))}),100)},OPEN_APP(e){if(1==e.isActive){this.openingApp=e,this.isOpening=!0;let t=this.openingApp.link;setTimeout((()=>{t&&this.$router.push(t),this.isOpening=!1}),1e3)}},GO_TO(e){"dos"==e?window.open("https://dos.dexon-technology.com/fmi/webd/Dexon","_blank"):this.$router.push({path:e,replace:!0})}},computed:{baseURL(){var e=this.$store.state.mode;return"dev"==e?this.$store.state.modeURL.dev:"prod"==e?this.$store.state.modeURL.prod:console.log("develpment mode set up incorrect.")}}},h=v,g=(0,p.Z)(h,i,a,!1,null,"8e3e32fa",null),f=g.exports}}]);
//# sourceMappingURL=102.c5ab90f6.js.map