{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\nimport moment from \"moment\";\nimport axios from \"/axios.js\";\nexport default {\n  name: \"chart-current-sales-line\",\n\n  created() {\n    this.FETCH_DATA();\n  },\n\n  data() {\n    return {\n      chartData: {\n        plan: [{\n          month: 1,\n          y: 1666666\n        }, {\n          month: 2,\n          y: 1666666\n        }, {\n          month: 3,\n          y: 1666666\n        }, {\n          month: 4,\n          y: 1666666\n        }, {\n          month: 5,\n          y: 1666666\n        }, {\n          month: 6,\n          y: 1666666\n        }, {\n          month: 7,\n          y: 1666666\n        }, {\n          month: 8,\n          y: 1666666\n        }, {\n          month: 9,\n          y: 1666666\n        }, {\n          month: 10,\n          y: 1666666\n        }, {\n          month: 11,\n          y: 1666666\n        }, {\n          month: 12,\n          y: 1666666\n        }]\n      },\n      chartOptions: {\n        chart: {\n          type: \"spline\"\n        },\n        credits: {\n          enabled: false\n        },\n        title: {\n          text: \"THE SUMMARY OF CURRENT REVENUE BY MONTHLY IN 2022\"\n        },\n        // subtitle: {\n        //   text: \"Dexon Technology Public Company Limited\",\n        // },\n        yAxis: {\n          title: {\n            text: \"ACTUAL REVENUE [MB]\",\n            style: {\n              fontSize: \"14\"\n            }\n          },\n          labels: {\n            formatter: function () {\n              return this.value / 1000000 + \"M\";\n            },\n            style: {\n              fontSize: \"14\"\n            }\n          }\n        },\n        xAxis: {\n          title: {// text: \"Months\",\n          },\n          labels: {\n            style: {\n              fontSize: \"14\"\n            }\n          },\n          categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n        },\n        legend: {\n          layout: \"horizontal\",\n          align: \"center\",\n          verticalAlign: \"bottom\"\n        },\n        plotOptions: {\n          series: {\n            label: {\n              connectorAllowed: false\n            }\n          },\n          spline: {\n            dataLabels: {\n              enabled: true,\n              formatter: function () {\n                return (this.point.y / 1000000).toFixed(2) + \"MB\";\n              }\n            }\n          }\n        },\n        series: [{\n          name: \"Sales Target [MB]\",\n          data: [],\n          color: \"#f00f78\",\n          lineWidth: 2,\n          marker: {\n            fillColor: \"#f00f78\",\n            radius: 4\n          },\n          dataLabels: {\n            enabled: false\n          }\n        }, {\n          name: \"Actual Revenue [MB]\",\n          data: [],\n          color: \"#1e1450\",\n          lineWidth: 2,\n          marker: {\n            fillColor: \"#1e1450\",\n            radius: 6\n          }\n        }],\n        tooltip: {\n          formatter: function () {\n            return \"The <b>\" + this.series.name + \" </b>value for month <b>\" + this.x + \"</b> is <b>\" + (this.y / 1000000).toFixed(2) + \"MB\";\n          }\n        },\n        responsive: {\n          rules: [{\n            condition: {\n              maxWidth: 500\n            },\n            chartOptions: {\n              legend: {\n                layout: \"horizontal\",\n                align: \"center\",\n                verticalAlign: \"bottom\"\n              }\n            }\n          }]\n        }\n      }\n    };\n  },\n\n  methods: {\n    FETCH_DATA() {\n      axios({\n        method: \"post\",\n        url: \"current-sales/current-sales-sumbyyear\",\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"token\"))\n        },\n        data: {\n          year_no: moment().year()\n        }\n      }).then(res => {\n        // console.log(res);\n        if (res.data) {\n          this.chartData.actual = res.data;\n\n          if (this.chartData.plan.length > 0) {\n            this.chartOptions.series[0].data = this.chartData.plan;\n          }\n\n          if (this.chartData.actual.length > 0) {\n            this.chartOptions.series[1].data = this.chartData.actual;\n          }\n        }\n      }).catch(error => {\n        this.$ons.notification.alert(error.code + \" \" + error.response.status + \" \" + error.message);\n      }).finally(() => {});\n    }\n\n  },\n  computed: {}\n};","map":{"version":3,"mappings":";;;;;;;AAQA;AACA;AAEA;AACAA,kCADA;;AAEAC;AACA;AACA,GAJA;;AAKAC;AACA;AACAC;AACAC,eACA;AACAC,kBADA;AAEAC;AAFA,SADA,EAKA;AACAD,kBADA;AAEAC;AAFA,SALA,EASA;AACAD,kBADA;AAEAC;AAFA,SATA,EAaA;AACAD,kBADA;AAEAC;AAFA,SAbA,EAiBA;AACAD,kBADA;AAEAC;AAFA,SAjBA,EAqBA;AACAD,kBADA;AAEAC;AAFA,SArBA,EAyBA;AACAD,kBADA;AAEAC;AAFA,SAzBA,EA6BA;AACAD,kBADA;AAEAC;AAFA,SA7BA,EAiCA;AACAD,kBADA;AAEAC;AAFA,SAjCA,EAqCA;AACAD,mBADA;AAEAC;AAFA,SArCA,EAyCA;AACAD,mBADA;AAEAC;AAFA,SAzCA,EA6CA;AACAD,mBADA;AAEAC;AAFA,SA7CA;AADA,OADA;AAqDAC;AACAC;AACAC;AADA,SADA;AAIAC;AACAC;AADA,SAJA;AAOAC;AACAC;AADA,SAPA;AAUA;AACA;AACA;AACAC;AACAF;AACAC,uCADA;AAEAE;AACAC;AADA;AAFA,WADA;AAOAC;AACAC;AACA;AACA,aAHA;AAIAH;AACAC;AADA;AAJA;AAPA,SAbA;AA6BAG;AACAP,kBACA;AADA,WADA;AAIAK;AACAF;AACAC;AADA;AADA,WAJA;AASAI,uBACA,KADA,EAEA,KAFA,EAGA,KAHA,EAIA,KAJA,EAKA,KALA,EAMA,KANA,EAOA,KAPA,EAQA,KARA,EASA,KATA,EAUA,KAVA,EAWA,KAXA,EAYA,KAZA;AATA,SA7BA;AAqDAC;AACAC,8BADA;AAEAC,yBAFA;AAGAC;AAHA,SArDA;AA0DAC;AACAC;AACAC;AACAC;AADA;AADA,WADA;AAMAC;AACAC;AACAnB,2BADA;AAEAO;AACA;AACA;AAJA;AADA;AANA,SA1DA;AAyEAQ,iBACA;AACA1B,mCADA;AAEAE,kBAFA;AAGA6B,0BAHA;AAIAC,sBAJA;AAKAC;AAAAC;AAAAC;AAAA,WALA;AAMAL;AACAnB;AADA;AANA,SADA,EAWA;AACAX,qCADA;AAEAE,kBAFA;AAGA6B,0BAHA;AAIAC,sBAJA;AAKAC;AAAAC;AAAAC;AAAA;AALA,SAXA,CAzEA;AA4FAC;AACAlB;AACA,mBACA,YACA,gBADA,GAEA,0BAFA,GAGA,MAHA,GAIA,aAJA,GAKA,6BALA,GAMA,IAPA;AASA;AAXA,SA5FA;AAyGAmB;AACAC,kBACA;AACAC;AACAC;AADA,aADA;AAIAjC;AACAc;AACAC,oCADA;AAEAC,+BAFA;AAGAC;AAHA;AADA;AAJA,WADA;AADA;AAzGA;AArDA;AAgLA,GAtLA;;AAuLAiB;AACAC;AACAC;AACAC,sBADA;AAEAC,oDAFA;AAGAC;AACAC;AADA,SAHA;AAMA7C;AACA8C;AADA;AANA,SAUAC,IAVA,CAUAC;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA,OArBA,EAsBAC,KAtBA,CAsBAC;AACA,qCACAA,8DADA;AAGA,OA1BA,EA2BAC,OA3BA,CA2BA,QA3BA;AA4BA;;AA9BA,GAvLA;AAuNAC;AAvNA","names":["name","created","data","chartData","plan","month","y","chartOptions","chart","type","credits","enabled","title","text","yAxis","style","fontSize","labels","formatter","xAxis","categories","legend","layout","align","verticalAlign","plotOptions","series","label","connectorAllowed","spline","dataLabels","color","lineWidth","marker","fillColor","radius","tooltip","responsive","rules","condition","maxWidth","methods","FETCH_DATA","axios","method","url","headers","Authorization","year_no","then","res","catch","error","finally","computed"],"sourceRoot":"src/views/Applications/ExecutiveManagement/Charts","sources":["current-sales-line.vue"],"sourcesContent":["<template>\n  <div class=\"chart-item\">\n    <highcharts :options=\"chartOptions\" v-if=\"this.chartData\"></highcharts>\n    <div class=\"\" v-if=\"!this.chartData\">no data</div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport axios from \"/axios.js\";\n\nexport default {\n  name: \"chart-current-sales-line\",\n  created() {\n    this.FETCH_DATA();\n  },\n  data() {\n    return {\n      chartData: {\n        plan: [\n          {\n            month: 1,\n            y: 1666666,\n          },\n          {\n            month: 2,\n            y: 1666666,\n          },\n          {\n            month: 3,\n            y: 1666666,\n          },\n          {\n            month: 4,\n            y: 1666666,\n          },\n          {\n            month: 5,\n            y: 1666666,\n          },\n          {\n            month: 6,\n            y: 1666666,\n          },\n          {\n            month: 7,\n            y: 1666666,\n          },\n          {\n            month: 8,\n            y: 1666666,\n          },\n          {\n            month: 9,\n            y: 1666666,\n          },\n          {\n            month: 10,\n            y: 1666666,\n          },\n          {\n            month: 11,\n            y: 1666666,\n          },\n          {\n            month: 12,\n            y: 1666666,\n          },\n        ],\n      },\n      chartOptions: {\n        chart: {\n          type: \"spline\",\n        },\n        credits: {\n          enabled: false,\n        },\n        title: {\n          text: \"THE SUMMARY OF CURRENT REVENUE BY MONTHLY IN 2022\",\n        },\n        // subtitle: {\n        //   text: \"Dexon Technology Public Company Limited\",\n        // },\n        yAxis: {\n          title: {\n            text: \"ACTUAL REVENUE [MB]\",\n            style: {\n              fontSize: \"14\",\n            },\n          },\n          labels: {\n            formatter: function () {\n              return this.value / 1000000 + \"M\";\n            },\n            style: {\n              fontSize: \"14\",\n            },\n          },\n        },\n        xAxis: {\n          title: {\n            // text: \"Months\",\n          },\n          labels: {\n            style: {\n              fontSize: \"14\",\n            },\n          },\n          categories: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n          ],\n        },\n        legend: {\n          layout: \"horizontal\",\n          align: \"center\",\n          verticalAlign: \"bottom\",\n        },\n        plotOptions: {\n          series: {\n            label: {\n              connectorAllowed: false,\n            },\n          },\n          spline: {\n            dataLabels: {\n              enabled: true,\n              formatter: function () {\n                return (this.point.y / 1000000).toFixed(2) + \"MB\";\n              },\n            },\n          },\n        },\n        series: [\n          {\n            name: \"Sales Target [MB]\",\n            data: [],\n            color: \"#f00f78\",\n            lineWidth: 2,\n            marker: { fillColor: \"#f00f78\", radius: 4 },\n            dataLabels: {\n              enabled: false,\n            },\n          },\n          {\n            name: \"Actual Revenue [MB]\",\n            data: [],\n            color: \"#1e1450\",\n            lineWidth: 2,\n            marker: { fillColor: \"#1e1450\", radius: 6 },\n          },\n        ],\n        tooltip: {\n          formatter: function () {\n            return (\n              \"The <b>\" +\n              this.series.name +\n              \" </b>value for month <b>\" +\n              this.x +\n              \"</b> is <b>\" +\n              (this.y / 1000000).toFixed(2) +\n              \"MB\"\n            );\n          },\n        },\n        responsive: {\n          rules: [\n            {\n              condition: {\n                maxWidth: 500,\n              },\n              chartOptions: {\n                legend: {\n                  layout: \"horizontal\",\n                  align: \"center\",\n                  verticalAlign: \"bottom\",\n                },\n              },\n            },\n          ],\n        },\n      },\n    };\n  },\n  methods: {\n    FETCH_DATA() {\n      axios({\n        method: \"post\",\n        url: \"current-sales/current-sales-sumbyyear\",\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"token\")),\n        },\n        data: {\n          year_no: moment().year(),\n        },\n      })\n        .then((res) => {\n          // console.log(res);\n          if (res.data) {\n            this.chartData.actual = res.data;\n            if (this.chartData.plan.length > 0) {\n              this.chartOptions.series[0].data = this.chartData.plan;\n            }\n            if (this.chartData.actual.length > 0) {\n              this.chartOptions.series[1].data = this.chartData.actual;\n            }\n          }\n        })\n        .catch((error) => {\n          this.$ons.notification.alert(\n            error.code + \" \" + error.response.status + \" \" + error.message\n          );\n        })\n        .finally(() => {});\n    },\n  },\n  computed: {},\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.chart-item {\n  min-height: 200px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}