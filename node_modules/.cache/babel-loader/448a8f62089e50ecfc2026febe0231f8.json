{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/dexon/Projects/AI-Portal-Frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _inherits from \"/Users/dexon/Projects/AI-Portal-Frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/dexon/Projects/AI-Portal-Frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/dexon/Projects/AI-Portal-Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/dexon/Projects/AI-Portal-Frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.array.fill.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/web.btoa.js\";\nimport \"core-js/modules/web.dom-exception.constructor.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport \"core-js/modules/web.dom-exception.to-string-tag.js\";\n\n/*!\n * Signature Pad v4.0.7 | https://github.com/szimek/signature_pad\n * (c) 2022 Szymon Nowak | Released under the MIT license\n */\nvar Point = /*#__PURE__*/function () {\n  function Point(x, y, pressure, time) {\n    _classCallCheck(this, Point);\n\n    if (isNaN(x) || isNaN(y)) {\n      throw new Error(\"Point is invalid: (\".concat(x, \", \").concat(y, \")\"));\n    }\n\n    this.x = +x;\n    this.y = +y;\n    this.pressure = pressure || 0;\n    this.time = time || Date.now();\n  }\n\n  _createClass(Point, [{\n    key: \"distanceTo\",\n    value: function distanceTo(start) {\n      return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(other) {\n      return this.x === other.x && this.y === other.y && this.pressure === other.pressure && this.time === other.time;\n    }\n  }, {\n    key: \"velocityFrom\",\n    value: function velocityFrom(start) {\n      return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 0;\n    }\n  }]);\n\n  return Point;\n}();\n\nvar Bezier = /*#__PURE__*/function () {\n  function Bezier(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n    _classCallCheck(this, Bezier);\n\n    this.startPoint = startPoint;\n    this.control2 = control2;\n    this.control1 = control1;\n    this.endPoint = endPoint;\n    this.startWidth = startWidth;\n    this.endWidth = endWidth;\n  }\n\n  _createClass(Bezier, [{\n    key: \"length\",\n    value: function length() {\n      var steps = 10;\n      var length = 0;\n      var px;\n      var py;\n\n      for (var i = 0; i <= steps; i += 1) {\n        var t = i / steps;\n        var cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n        var cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n\n        if (i > 0) {\n          var xdiff = cx - px;\n          var ydiff = cy - py;\n          length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n        }\n\n        px = cx;\n        py = cy;\n      }\n\n      return length;\n    }\n  }, {\n    key: \"point\",\n    value: function point(t, start, c1, c2, end) {\n      return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n    }\n  }], [{\n    key: \"fromPoints\",\n    value: function fromPoints(points, widths) {\n      var c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n      var c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n      return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n    }\n  }, {\n    key: \"calculateControlPoints\",\n    value: function calculateControlPoints(s1, s2, s3) {\n      var dx1 = s1.x - s2.x;\n      var dy1 = s1.y - s2.y;\n      var dx2 = s2.x - s3.x;\n      var dy2 = s2.y - s3.y;\n      var m1 = {\n        x: (s1.x + s2.x) / 2.0,\n        y: (s1.y + s2.y) / 2.0\n      };\n      var m2 = {\n        x: (s2.x + s3.x) / 2.0,\n        y: (s2.y + s3.y) / 2.0\n      };\n      var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n      var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n      var dxm = m1.x - m2.x;\n      var dym = m1.y - m2.y;\n      var k = l2 / (l1 + l2);\n      var cm = {\n        x: m2.x + dxm * k,\n        y: m2.y + dym * k\n      };\n      var tx = s2.x - cm.x;\n      var ty = s2.y - cm.y;\n      return {\n        c1: new Point(m1.x + tx, m1.y + ty),\n        c2: new Point(m2.x + tx, m2.y + ty)\n      };\n    }\n  }]);\n\n  return Bezier;\n}();\n\nvar SignatureEventTarget = /*#__PURE__*/function () {\n  function SignatureEventTarget() {\n    _classCallCheck(this, SignatureEventTarget);\n\n    try {\n      this._et = new EventTarget();\n    } catch (error) {\n      this._et = document;\n    }\n  }\n\n  _createClass(SignatureEventTarget, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type, listener, options) {\n      this._et.addEventListener(type, listener, options);\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      return this._et.dispatchEvent(event);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type, callback, options) {\n      this._et.removeEventListener(type, callback, options);\n    }\n  }]);\n\n  return SignatureEventTarget;\n}();\n\nfunction throttle(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n  var previous = 0;\n  var timeout = null;\n  var result;\n  var storedContext;\n  var storedArgs;\n\n  var later = function later() {\n    previous = Date.now();\n    timeout = null;\n    result = fn.apply(storedContext, storedArgs);\n\n    if (!timeout) {\n      storedContext = null;\n      storedArgs = [];\n    }\n  };\n\n  return function wrapper() {\n    var now = Date.now();\n    var remaining = wait - (now - previous);\n    storedContext = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    storedArgs = args;\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n\n      previous = now;\n      result = fn.apply(storedContext, storedArgs);\n\n      if (!timeout) {\n        storedContext = null;\n        storedArgs = [];\n      }\n    } else if (!timeout) {\n      timeout = window.setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n\nvar SignaturePad = /*#__PURE__*/function (_SignatureEventTarget) {\n  _inherits(SignaturePad, _SignatureEventTarget);\n\n  var _super = _createSuper(SignaturePad);\n\n  function SignaturePad(canvas) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, SignaturePad);\n\n    _this = _super.call(this);\n    _this.canvas = canvas;\n\n    _this._handleMouseDown = function (event) {\n      if (event.buttons === 1) {\n        _this._drawningStroke = true;\n\n        _this._strokeBegin(event);\n      }\n    };\n\n    _this._handleMouseMove = function (event) {\n      if (_this._drawningStroke) {\n        _this._strokeMoveUpdate(event);\n      }\n    };\n\n    _this._handleMouseUp = function (event) {\n      if (event.buttons === 1 && _this._drawningStroke) {\n        _this._drawningStroke = false;\n\n        _this._strokeEnd(event);\n      }\n    };\n\n    _this._handleTouchStart = function (event) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n\n      if (event.targetTouches.length === 1) {\n        var touch = event.changedTouches[0];\n\n        _this._strokeBegin(touch);\n      }\n    };\n\n    _this._handleTouchMove = function (event) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n\n      var touch = event.targetTouches[0];\n\n      _this._strokeMoveUpdate(touch);\n    };\n\n    _this._handleTouchEnd = function (event) {\n      var wasCanvasTouched = event.target === _this.canvas;\n\n      if (wasCanvasTouched) {\n        if (event.cancelable) {\n          event.preventDefault();\n        }\n\n        var touch = event.changedTouches[0];\n\n        _this._strokeEnd(touch);\n      }\n    };\n\n    _this._handlePointerStart = function (event) {\n      _this._drawningStroke = true;\n      event.preventDefault();\n\n      _this._strokeBegin(event);\n    };\n\n    _this._handlePointerMove = function (event) {\n      if (_this._drawningStroke) {\n        event.preventDefault();\n\n        _this._strokeMoveUpdate(event);\n      }\n    };\n\n    _this._handlePointerEnd = function (event) {\n      if (_this._drawningStroke) {\n        event.preventDefault();\n        _this._drawningStroke = false;\n\n        _this._strokeEnd(event);\n      }\n    };\n\n    _this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n    _this.minWidth = options.minWidth || 0.5;\n    _this.maxWidth = options.maxWidth || 2.5;\n    _this.throttle = 'throttle' in options ? options.throttle : 16;\n    _this.minDistance = 'minDistance' in options ? options.minDistance : 5;\n    _this.dotSize = options.dotSize || 0;\n    _this.penColor = options.penColor || 'black';\n    _this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n    _this._strokeMoveUpdate = _this.throttle ? throttle(SignaturePad.prototype._strokeUpdate, _this.throttle) : SignaturePad.prototype._strokeUpdate;\n    _this._ctx = canvas.getContext('2d');\n\n    _this.clear();\n\n    _this.on();\n\n    return _this;\n  }\n\n  _createClass(SignaturePad, [{\n    key: \"clear\",\n    value: function clear() {\n      var ctx = this._ctx,\n          canvas = this.canvas;\n      ctx.fillStyle = this.backgroundColor;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      this._data = [];\n\n      this._reset();\n\n      this._isEmpty = true;\n    }\n  }, {\n    key: \"fromDataURL\",\n    value: function fromDataURL(dataUrl) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new Promise(function (resolve, reject) {\n        var image = new Image();\n        var ratio = options.ratio || window.devicePixelRatio || 1;\n        var width = options.width || _this2.canvas.width / ratio;\n        var height = options.height || _this2.canvas.height / ratio;\n        var xOffset = options.xOffset || 0;\n        var yOffset = options.yOffset || 0;\n\n        _this2._reset();\n\n        image.onload = function () {\n          _this2._ctx.drawImage(image, xOffset, yOffset, width, height);\n\n          resolve();\n        };\n\n        image.onerror = function (error) {\n          reject(error);\n        };\n\n        image.crossOrigin = 'anonymous';\n        image.src = dataUrl;\n        _this2._isEmpty = false;\n      });\n    }\n  }, {\n    key: \"toDataURL\",\n    value: function toDataURL() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'image/png';\n      var encoderOptions = arguments.length > 1 ? arguments[1] : undefined;\n\n      switch (type) {\n        case 'image/svg+xml':\n          return this._toSVG();\n\n        default:\n          return this.canvas.toDataURL(type, encoderOptions);\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on() {\n      this.canvas.style.touchAction = 'none';\n      this.canvas.style.msTouchAction = 'none';\n      this.canvas.style.userSelect = 'none';\n      var isIOS = /Macintosh/.test(navigator.userAgent) && 'ontouchstart' in document;\n\n      if (window.PointerEvent && !isIOS) {\n        this._handlePointerEvents();\n      } else {\n        this._handleMouseEvents();\n\n        if ('ontouchstart' in window) {\n          this._handleTouchEvents();\n        }\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off() {\n      this.canvas.style.touchAction = 'auto';\n      this.canvas.style.msTouchAction = 'auto';\n      this.canvas.style.userSelect = 'auto';\n      this.canvas.removeEventListener('pointerdown', this._handlePointerStart);\n      this.canvas.removeEventListener('pointermove', this._handlePointerMove);\n      this.canvas.ownerDocument.removeEventListener('pointerup', this._handlePointerEnd);\n      this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n      this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n      this.canvas.ownerDocument.removeEventListener('mouseup', this._handleMouseUp);\n      this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n      this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n      this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return this._isEmpty;\n    }\n  }, {\n    key: \"fromData\",\n    value: function fromData(pointGroups) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref$clear = _ref.clear,\n          clear = _ref$clear === void 0 ? true : _ref$clear;\n\n      if (clear) {\n        this.clear();\n      }\n\n      this._fromData(pointGroups, this._drawCurve.bind(this), this._drawDot.bind(this));\n\n      this._data = this._data.concat(pointGroups);\n    }\n  }, {\n    key: \"toData\",\n    value: function toData() {\n      return this._data;\n    }\n  }, {\n    key: \"_strokeBegin\",\n    value: function _strokeBegin(event) {\n      this.dispatchEvent(new CustomEvent('beginStroke', {\n        detail: event\n      }));\n      var newPointGroup = {\n        dotSize: this.dotSize,\n        minWidth: this.minWidth,\n        maxWidth: this.maxWidth,\n        penColor: this.penColor,\n        points: []\n      };\n\n      this._data.push(newPointGroup);\n\n      this._reset();\n\n      this._strokeUpdate(event);\n    }\n  }, {\n    key: \"_strokeUpdate\",\n    value: function _strokeUpdate(event) {\n      if (this._data.length === 0) {\n        this._strokeBegin(event);\n\n        return;\n      }\n\n      this.dispatchEvent(new CustomEvent('beforeUpdateStroke', {\n        detail: event\n      }));\n      var x = event.clientX;\n      var y = event.clientY;\n      var pressure = event.pressure !== undefined ? event.pressure : event.force !== undefined ? event.force : 0;\n\n      var point = this._createPoint(x, y, pressure);\n\n      var lastPointGroup = this._data[this._data.length - 1];\n      var lastPoints = lastPointGroup.points;\n      var lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n      var isLastPointTooClose = lastPoint ? point.distanceTo(lastPoint) <= this.minDistance : false;\n      var penColor = lastPointGroup.penColor,\n          dotSize = lastPointGroup.dotSize,\n          minWidth = lastPointGroup.minWidth,\n          maxWidth = lastPointGroup.maxWidth;\n\n      if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n        var curve = this._addPoint(point);\n\n        if (!lastPoint) {\n          this._drawDot(point, {\n            penColor: penColor,\n            dotSize: dotSize,\n            minWidth: minWidth,\n            maxWidth: maxWidth\n          });\n        } else if (curve) {\n          this._drawCurve(curve, {\n            penColor: penColor,\n            dotSize: dotSize,\n            minWidth: minWidth,\n            maxWidth: maxWidth\n          });\n        }\n\n        lastPoints.push({\n          time: point.time,\n          x: point.x,\n          y: point.y,\n          pressure: point.pressure\n        });\n      }\n\n      this.dispatchEvent(new CustomEvent('afterUpdateStroke', {\n        detail: event\n      }));\n    }\n  }, {\n    key: \"_strokeEnd\",\n    value: function _strokeEnd(event) {\n      this._strokeUpdate(event);\n\n      this.dispatchEvent(new CustomEvent('endStroke', {\n        detail: event\n      }));\n    }\n  }, {\n    key: \"_handlePointerEvents\",\n    value: function _handlePointerEvents() {\n      this._drawningStroke = false;\n      this.canvas.addEventListener('pointerdown', this._handlePointerStart);\n      this.canvas.addEventListener('pointermove', this._handlePointerMove);\n      this.canvas.ownerDocument.addEventListener('pointerup', this._handlePointerEnd);\n    }\n  }, {\n    key: \"_handleMouseEvents\",\n    value: function _handleMouseEvents() {\n      this._drawningStroke = false;\n      this.canvas.addEventListener('mousedown', this._handleMouseDown);\n      this.canvas.addEventListener('mousemove', this._handleMouseMove);\n      this.canvas.ownerDocument.addEventListener('mouseup', this._handleMouseUp);\n    }\n  }, {\n    key: \"_handleTouchEvents\",\n    value: function _handleTouchEvents() {\n      this.canvas.addEventListener('touchstart', this._handleTouchStart);\n      this.canvas.addEventListener('touchmove', this._handleTouchMove);\n      this.canvas.addEventListener('touchend', this._handleTouchEnd);\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._lastPoints = [];\n      this._lastVelocity = 0;\n      this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n      this._ctx.fillStyle = this.penColor;\n    }\n  }, {\n    key: \"_createPoint\",\n    value: function _createPoint(x, y, pressure) {\n      var rect = this.canvas.getBoundingClientRect();\n      return new Point(x - rect.left, y - rect.top, pressure, new Date().getTime());\n    }\n  }, {\n    key: \"_addPoint\",\n    value: function _addPoint(point) {\n      var _lastPoints = this._lastPoints;\n\n      _lastPoints.push(point);\n\n      if (_lastPoints.length > 2) {\n        if (_lastPoints.length === 3) {\n          _lastPoints.unshift(_lastPoints[0]);\n        }\n\n        var widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2]);\n\n        var curve = Bezier.fromPoints(_lastPoints, widths);\n\n        _lastPoints.shift();\n\n        return curve;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_calculateCurveWidths\",\n    value: function _calculateCurveWidths(startPoint, endPoint) {\n      var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n      var newWidth = this._strokeWidth(velocity);\n\n      var widths = {\n        end: newWidth,\n        start: this._lastWidth\n      };\n      this._lastVelocity = velocity;\n      this._lastWidth = newWidth;\n      return widths;\n    }\n  }, {\n    key: \"_strokeWidth\",\n    value: function _strokeWidth(velocity) {\n      return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n    }\n  }, {\n    key: \"_drawCurveSegment\",\n    value: function _drawCurveSegment(x, y, width) {\n      var ctx = this._ctx;\n      ctx.moveTo(x, y);\n      ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n      this._isEmpty = false;\n    }\n  }, {\n    key: \"_drawCurve\",\n    value: function _drawCurve(curve, options) {\n      var ctx = this._ctx;\n      var widthDelta = curve.endWidth - curve.startWidth;\n      var drawSteps = Math.ceil(curve.length()) * 2;\n      ctx.beginPath();\n      ctx.fillStyle = options.penColor;\n\n      for (var i = 0; i < drawSteps; i += 1) {\n        var t = i / drawSteps;\n        var tt = t * t;\n        var ttt = tt * t;\n        var u = 1 - t;\n        var uu = u * u;\n        var uuu = uu * u;\n        var x = uuu * curve.startPoint.x;\n        x += 3 * uu * t * curve.control1.x;\n        x += 3 * u * tt * curve.control2.x;\n        x += ttt * curve.endPoint.x;\n        var y = uuu * curve.startPoint.y;\n        y += 3 * uu * t * curve.control1.y;\n        y += 3 * u * tt * curve.control2.y;\n        y += ttt * curve.endPoint.y;\n        var width = Math.min(curve.startWidth + ttt * widthDelta, options.maxWidth);\n\n        this._drawCurveSegment(x, y, width);\n      }\n\n      ctx.closePath();\n      ctx.fill();\n    }\n  }, {\n    key: \"_drawDot\",\n    value: function _drawDot(point, options) {\n      var ctx = this._ctx;\n      var width = options.dotSize > 0 ? options.dotSize : (options.minWidth + options.maxWidth) / 2;\n      ctx.beginPath();\n\n      this._drawCurveSegment(point.x, point.y, width);\n\n      ctx.closePath();\n      ctx.fillStyle = options.penColor;\n      ctx.fill();\n    }\n  }, {\n    key: \"_fromData\",\n    value: function _fromData(pointGroups, drawCurve, drawDot) {\n      var _iterator = _createForOfIteratorHelper(pointGroups),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var group = _step.value;\n          var penColor = group.penColor,\n              dotSize = group.dotSize,\n              minWidth = group.minWidth,\n              maxWidth = group.maxWidth,\n              points = group.points;\n\n          if (points.length > 1) {\n            for (var j = 0; j < points.length; j += 1) {\n              var basicPoint = points[j];\n              var point = new Point(basicPoint.x, basicPoint.y, basicPoint.pressure, basicPoint.time);\n              this.penColor = penColor;\n\n              if (j === 0) {\n                this._reset();\n              }\n\n              var curve = this._addPoint(point);\n\n              if (curve) {\n                drawCurve(curve, {\n                  penColor: penColor,\n                  dotSize: dotSize,\n                  minWidth: minWidth,\n                  maxWidth: maxWidth\n                });\n              }\n            }\n          } else {\n            this._reset();\n\n            drawDot(points[0], {\n              penColor: penColor,\n              dotSize: dotSize,\n              minWidth: minWidth,\n              maxWidth: maxWidth\n            });\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"_toSVG\",\n    value: function _toSVG() {\n      var pointGroups = this._data;\n      var ratio = Math.max(window.devicePixelRatio || 1, 1);\n      var minX = 0;\n      var minY = 0;\n      var maxX = this.canvas.width / ratio;\n      var maxY = this.canvas.height / ratio;\n      var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n      svg.setAttribute('width', this.canvas.width.toString());\n      svg.setAttribute('height', this.canvas.height.toString());\n\n      this._fromData(pointGroups, function (curve, _ref2) {\n        var penColor = _ref2.penColor;\n        var path = document.createElement('path');\n\n        if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n          var attr = \"M \".concat(curve.startPoint.x.toFixed(3), \",\").concat(curve.startPoint.y.toFixed(3), \" \") + \"C \".concat(curve.control1.x.toFixed(3), \",\").concat(curve.control1.y.toFixed(3), \" \") + \"\".concat(curve.control2.x.toFixed(3), \",\").concat(curve.control2.y.toFixed(3), \" \") + \"\".concat(curve.endPoint.x.toFixed(3), \",\").concat(curve.endPoint.y.toFixed(3));\n          path.setAttribute('d', attr);\n          path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n          path.setAttribute('stroke', penColor);\n          path.setAttribute('fill', 'none');\n          path.setAttribute('stroke-linecap', 'round');\n          svg.appendChild(path);\n        }\n      }, function (point, _ref3) {\n        var penColor = _ref3.penColor,\n            dotSize = _ref3.dotSize,\n            minWidth = _ref3.minWidth,\n            maxWidth = _ref3.maxWidth;\n        var circle = document.createElement('circle');\n        var size = dotSize > 0 ? dotSize : (minWidth + maxWidth) / 2;\n        circle.setAttribute('r', size.toString());\n        circle.setAttribute('cx', point.x.toString());\n        circle.setAttribute('cy', point.y.toString());\n        circle.setAttribute('fill', penColor);\n        svg.appendChild(circle);\n      });\n\n      var prefix = 'data:image/svg+xml;base64,';\n      var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + \" viewBox=\\\"\".concat(minX, \" \").concat(minY, \" \").concat(this.canvas.width, \" \").concat(this.canvas.height, \"\\\"\") + \" width=\\\"\".concat(maxX, \"\\\"\") + \" height=\\\"\".concat(maxY, \"\\\"\") + '>';\n      var body = svg.innerHTML;\n\n      if (body === undefined) {\n        var dummy = document.createElement('dummy');\n        var nodes = svg.childNodes;\n        dummy.innerHTML = '';\n\n        for (var i = 0; i < nodes.length; i += 1) {\n          dummy.appendChild(nodes[i].cloneNode(true));\n        }\n\n        body = dummy.innerHTML;\n      }\n\n      var footer = '</svg>';\n      var data = header + body + footer;\n      return prefix + btoa(data);\n    }\n  }]);\n\n  return SignaturePad;\n}(SignatureEventTarget);\n\nexport { SignaturePad as default };","map":{"version":3,"mappings":"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","names":["Point","x","y","pressure","time","isNaN","Error","Date","now","start","Math","sqrt","pow","other","distanceTo","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","steps","length","px","py","i","t","cx","point","cy","xdiff","ydiff","c1","c2","end","points","widths","calculateControlPoints","c3","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","dxm","dym","k","cm","tx","ty","SignatureEventTarget","_et","EventTarget","error","document","type","listener","options","addEventListener","event","dispatchEvent","callback","removeEventListener","throttle","fn","wait","previous","timeout","result","storedContext","storedArgs","later","apply","wrapper","remaining","args","clearTimeout","window","setTimeout","SignaturePad","canvas","buttons","_drawningStroke","_strokeBegin","_strokeMoveUpdate","_strokeEnd","cancelable","preventDefault","targetTouches","touch","changedTouches","wasCanvasTouched","target","velocityFilterWeight","minWidth","maxWidth","minDistance","dotSize","penColor","backgroundColor","prototype","_strokeUpdate","_ctx","getContext","clear","on","ctx","fillStyle","clearRect","width","height","fillRect","_data","_reset","_isEmpty","dataUrl","Promise","resolve","reject","image","Image","ratio","devicePixelRatio","xOffset","yOffset","onload","drawImage","onerror","crossOrigin","src","encoderOptions","_toSVG","toDataURL","style","touchAction","msTouchAction","userSelect","isIOS","test","navigator","userAgent","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","_handlePointerStart","_handlePointerMove","ownerDocument","_handlePointerEnd","_handleMouseDown","_handleMouseMove","_handleMouseUp","_handleTouchStart","_handleTouchMove","_handleTouchEnd","pointGroups","_fromData","_drawCurve","bind","_drawDot","concat","CustomEvent","detail","newPointGroup","push","clientX","clientY","undefined","force","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","curve","_addPoint","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","fromPoints","shift","velocity","velocityFrom","newWidth","_strokeWidth","max","moveTo","arc","PI","widthDelta","drawSteps","ceil","beginPath","tt","ttt","u","uu","uuu","min","_drawCurveSegment","closePath","fill","drawCurve","drawDot","group","j","basicPoint","minX","minY","maxX","maxY","svg","createElementNS","setAttribute","toString","path","createElement","attr","toFixed","appendChild","circle","size","prefix","header","body","innerHTML","dummy","nodes","childNodes","cloneNode","footer","data","btoa"],"sources":["../src/point.ts","../src/bezier.ts","../src/signature_event_target.ts","../src/throttle.ts","../src/signature_pad.ts"],"sourcesContent":[null,null,null,null,null]},"metadata":{},"sourceType":"module"}