{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//API\nimport axios from \"/axios.js\"; //JS\n\nimport { sha256 } from \"js-sha256\"; //UI\n\nimport ViewLayout from \"@/layouts/non-sidebar-layout.vue\";\nimport PageLoading from \"@/components/app-structures/app-loading.vue\";\nexport default {\n  name: \"Login-View\",\n  components: {\n    PageLoading: PageLoading\n  },\n  data: function data() {\n    return {\n      formData: {\n        username: \"\",\n        password: \"\"\n      },\n      appIcon: this.$store.state.appIcon,\n      isLoggedIn: localStorage.getItem(\"user\"),\n      isLoading: false\n    };\n  },\n  created: function created() {\n    this.$emit(\"update:layout\", ViewLayout);\n    this.$store.commit(\"CLEAR_CURRENT_INAPP\");\n    if (this.isLoggedIn) this.$router.push(\"/\");\n  },\n  methods: {\n    SIGN_IN: function SIGN_IN() {\n      var _this = this;\n\n      if (this.formData.username) {\n        if (this.formData.password) {\n          this.isLoading = true;\n          setTimeout(function () {\n            var password = sha256(_this.formData.password);\n\n            var username = _this.formData.username.toLowerCase();\n\n            axios({\n              method: \"post\",\n              url: \"/user/login\",\n              data: {\n                username: username,\n                password: password\n              }\n            }).then(function (res) {\n              if (res.data.user && res.data.token) {\n                localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n                localStorage.setItem(\"token\", JSON.stringify(res.data.token));\n                console.log(res.data.user);\n\n                if (res.data.user.role == \"ceo\") {\n                  _this.$router.push(\"/executive-report\");\n                } else _this.$router.push(\"/\");\n              }\n            }).catch(function (error) {\n              if (error.response) {\n                if (error.response.data) {\n                  _this.$ons.notification.alert(error.response.data.message);\n                }\n\n                if (error.response.status == 0) {\n                  _this.$ons.notification.alert(\"Cannot connect to a server.<br/> Please try again later.\");\n                }\n              } else {\n                console.log(error);\n              }\n            }).finally(function () {\n              _this.isLoading = false;\n            });\n          }, 500);\n        } else {\n          this.$ons.notification.alert('\"Password\" cannot be empty');\n        }\n      } else {\n        this.$ons.notification.alert('\"Username\" cannot be empty');\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA,8B,CAEA;;AACA,mC,CAEA;;AACA;AACA;AAEA;AACAA,oBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC;AACAC,oBADA;AAEAC;AAFA,OADA;AAKAC,wCALA;AAMAC,8CANA;AAOAC;AAPA;AASA,GAbA;AAcAC,SAdA,qBAcA;AACA;AACA;AACA;AACA,GAlBA;AAmBAC;AACAC,WADA,qBACA;AAAA;;AACA;AACA;AACA;AACAC;AACA;;AACA;;AAEAC;AACAC,4BADA;AAEAC,gCAFA;AAGAb;AAAAE;AAAAC;AAAA;AAHA,eAKAW,IALA,CAKA;AACA;AACAC;AACAA;AACAC;;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA,aAdA,EAeAC,KAfA,CAeA;AACA;AACA;AACA;AACA;;AACA;AACA,gDACA,0DADA;AAGA;AACA,eATA,MASA;AACAD;AACA;AACA,aA5BA,EA6BAE,OA7BA,CA6BA;AACA;AACA,aA/BA;AAgCA,WApCA,EAoCA,GApCA;AAqCA,SAvCA,MAuCA;AACA;AACA;AACA,OA3CA,MA2CA;AACA;AACA;AACA;AAhDA;AAnBA","names":["name","components","PageLoading","data","formData","username","password","appIcon","isLoggedIn","isLoading","created","methods","SIGN_IN","setTimeout","axios","method","url","then","localStorage","console","catch","finally"],"sourceRoot":"src/views","sources":["LoginView.vue"],"sourcesContent":["<template>\n  <div id=\"page-login\" class=\"page-body\">\n    <div class=\"app-logo-login\">\n      <img src=\"/img/logo-dark.png\" />\n    </div>\n    <div class=\"login-panel\">\n      <div class=\"app-logo\">\n        <img :src=\"appIcon\" alt=\"app icon\" />\n      </div>\n      <h1>AI Portal</h1>\n      <div class=\"form-login\">\n        <div class=\"input-set\">\n          <input\n            class=\"user\"\n            type=\"text\"\n            placeholder=\"Employee No.\"\n            v-model=\"formData.username\"\n            v-on:keyup.enter=\"SIGN_IN()\"\n          />\n        </div>\n        <div class=\"input-set\">\n          <input\n            class=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            v-model=\"formData.password\"\n            v-on:keyup.enter=\"SIGN_IN()\"\n          />\n        </div>\n        <div class=\"button-set\" style=\"margin-top: 40px\">\n          <button class=\"blue\" v-on:click=\"SIGN_IN()\">\n            <label>Sign in</label>\n          </button>\n        </div>\n        <!-- <hr />\n        <div class=\"button-set\">\n          <button class=\"outline-blue\">\n            <label>Sign-in option</label>\n          </button>\n        </div> -->\n        <div class=\"help-label\">\n          <label>Need helps? Visit <a>Help Center</a></label>\n        </div>\n      </div>\n    </div>\n    <PageLoading v-if=\"isLoading == true\" text=\"Logging In\" />\n    <div class=\"bg-filter\"></div>\n  </div>\n</template>\n\n<script>\n//API\nimport axios from \"/axios.js\";\n\n//JS\nimport { sha256 } from \"js-sha256\";\n\n//UI\nimport ViewLayout from \"@/layouts/non-sidebar-layout.vue\";\nimport PageLoading from \"@/components/app-structures/app-loading.vue\";\n\nexport default {\n  name: \"Login-View\",\n  components: { PageLoading },\n  data() {\n    return {\n      formData: {\n        username: \"\",\n        password: \"\",\n      },\n      appIcon: this.$store.state.appIcon,\n      isLoggedIn: localStorage.getItem(\"user\"),\n      isLoading: false,\n    };\n  },\n  created() {\n    this.$emit(`update:layout`, ViewLayout);\n    this.$store.commit(\"CLEAR_CURRENT_INAPP\");\n    if (this.isLoggedIn) this.$router.push(\"/\");\n  },\n  methods: {\n    SIGN_IN() {\n      if (this.formData.username) {\n        if (this.formData.password) {\n          this.isLoading = true;\n          setTimeout(() => {\n            var password = sha256(this.formData.password);\n            var username = this.formData.username.toLowerCase();\n\n            axios({\n              method: \"post\",\n              url: \"/user/login\",\n              data: { username, password },\n            })\n              .then((res) => {\n                if (res.data.user && res.data.token) {\n                  localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n                  localStorage.setItem(\"token\", JSON.stringify(res.data.token));\n                  console.log(res.data.user);\n                  if (res.data.user.role == \"ceo\") {\n                    this.$router.push(\"/executive-report\");\n                  } else this.$router.push(\"/\");\n                }\n              })\n              .catch((error) => {\n                if (error.response) {\n                  if (error.response.data) {\n                    this.$ons.notification.alert(error.response.data.message);\n                  }\n                  if (error.response.status == 0) {\n                    this.$ons.notification.alert(\n                      \"Cannot connect to a server.<br/> Please try again later.\"\n                    );\n                  }\n                } else {\n                  console.log(error);\n                }\n              })\n              .finally(() => {\n                this.isLoading = false;\n              });\n          }, 500);\n        } else {\n          this.$ons.notification.alert('\"Password\" cannot be empty');\n        }\n      } else {\n        this.$ons.notification.alert('\"Username\" cannot be empty');\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/style/main.scss\";\n\n#page-login {\n  background-image: url(\"/public/img/main-bg.png\");\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n\n  .bg-filter {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 0;\n    // background: linear-gradient(180deg, #2759a8 0%, rgba(39, 89, 168, 0) 100%);\n  }\n}\n.page-container {\n  position: relative;\n  height: 100%;\n}\n.login-panel {\n  width: 300px;\n  max-width: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 20px;\n  border-radius: 6px;\n  background: #fff;\n  box-shadow: 0px 2px 25px 2px rgba(0, 0, 0, 0.06);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1;\n  h1 {\n    font-size: 2.5em;\n    font-style: normal;\n    font-weight: 510;\n    line-height: 30px;\n    color: $web-font-color-black;\n    text-align: center;\n  }\n  .content-wrapper {\n    width: 100%;\n    max-width: 300px;\n    margin: 0 auto;\n  }\n}\n.app-logo {\n  width: 94px;\n  height: 94px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 24px;\n\n  img {\n    height: 100%;\n    object-fit: contain;\n    -webkit-mask: url(data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20fill-rule%3D%22evenodd%22%20stroke-linejoin%3D%22round%22%20stroke-miterlimit%3D%221.41%22%20clip-rule%3D%22evenodd%22%20version%3D%221.1%22%20viewBox%3D%220%200%20460%20460%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20d%3D%22M460%20316.1c0%205.5%200%2010.99-.04%2016.48-.03%204.63-.08%209.26-.2%2013.88a201.73%20201.73%200%200%201-2.66%2030.21c-1.71%2010-4.9%2019.68-9.47%2028.73a96.6%2096.6%200%200%201-42.23%2042.23%20101.86%20101.86%200%200%201-28.71%209.46c-10%201.65-20.1%202.54-30.22%202.66a649%20649%200%200%201-13.88.21c-5.5.03-10.99.03-16.48.03H143.89c-5.49%200-10.98%200-16.48-.03a648.8%20648.8%200%200%201-13.88-.2%20201.46%20201.46%200%200%201-30.22-2.67c-9.99-1.7-19.67-4.9-28.71-9.46a96.61%2096.61%200%200%201-42.23-42.22%20101.96%20101.96%200%200%201-9.47-28.74%20201.6%20201.6%200%200%201-2.66-30.2c-.12-4.63-.18-9.26-.2-13.89C0%20327.08%200%20321.6%200%20316.1V143.9c0-5.5%200-11%20.04-16.5.02-4.62.08-9.25.2-13.87a201.64%20201.64%200%200%201%202.66-30.2c1.71-10%204.9-19.68%209.47-28.74A96.6%2096.6%200%200%201%2054.6%2012.36%20101.96%20101.96%200%200%201%2083.3%202.9c10-1.64%2020.1-2.53%2030.22-2.66%204.63-.12%209.26-.18%2013.88-.2%205.5-.03%2011-.03%2016.48-.03H316.1c5.5%200%2011%200%2016.49.03a649%20649%200%200%201%2013.88.2c10.12.13%2020.22%201.02%2030.21%202.66%2010%201.71%2019.67%204.9%2028.72%209.46a96.58%2096.58%200%200%201%2042.24%2042.23%20101.92%20101.92%200%200%201%209.46%2028.73%20201.7%20201.7%200%200%201%202.66%2030.21c.12%204.63.18%209.26.2%2013.88.04%205.5.04%2010.99.04%2016.48V316.1z%22%2F%3E%3C%2Fsvg%3E%0A)\n      center/100% 100% no-repeat;\n    mask: url(data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22100%25%22%20height%3D%22100%25%22%20fill-rule%3D%22evenodd%22%20stroke-linejoin%3D%22round%22%20stroke-miterlimit%3D%221.41%22%20clip-rule%3D%22evenodd%22%20version%3D%221.1%22%20viewBox%3D%220%200%20460%20460%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20d%3D%22M460%20316.1c0%205.5%200%2010.99-.04%2016.48-.03%204.63-.08%209.26-.2%2013.88a201.73%20201.73%200%200%201-2.66%2030.21c-1.71%2010-4.9%2019.68-9.47%2028.73a96.6%2096.6%200%200%201-42.23%2042.23%20101.86%20101.86%200%200%201-28.71%209.46c-10%201.65-20.1%202.54-30.22%202.66a649%20649%200%200%201-13.88.21c-5.5.03-10.99.03-16.48.03H143.89c-5.49%200-10.98%200-16.48-.03a648.8%20648.8%200%200%201-13.88-.2%20201.46%20201.46%200%200%201-30.22-2.67c-9.99-1.7-19.67-4.9-28.71-9.46a96.61%2096.61%200%200%201-42.23-42.22%20101.96%20101.96%200%200%201-9.47-28.74%20201.6%20201.6%200%200%201-2.66-30.2c-.12-4.63-.18-9.26-.2-13.89C0%20327.08%200%20321.6%200%20316.1V143.9c0-5.5%200-11%20.04-16.5.02-4.62.08-9.25.2-13.87a201.64%20201.64%200%200%201%202.66-30.2c1.71-10%204.9-19.68%209.47-28.74A96.6%2096.6%200%200%201%2054.6%2012.36%20101.96%20101.96%200%200%201%2083.3%202.9c10-1.64%2020.1-2.53%2030.22-2.66%204.63-.12%209.26-.18%2013.88-.2%205.5-.03%2011-.03%2016.48-.03H316.1c5.5%200%2011%200%2016.49.03a649%20649%200%200%201%2013.88.2c10.12.13%2020.22%201.02%2030.21%202.66%2010%201.71%2019.67%204.9%2028.72%209.46a96.58%2096.58%200%200%201%2042.24%2042.23%20101.92%20101.92%200%200%201%209.46%2028.73%20201.7%20201.7%200%200%201%202.66%2030.21c.12%204.63.18%209.26.2%2013.88.04%205.5.04%2010.99.04%2016.48V316.1z%22%2F%3E%3C%2Fsvg%3E%0A)\n      center/100% 100% no-repeat;\n  }\n}\n\n.app-logo-login {\n  width: 150px;\n  position: absolute;\n  top: 20px;\n  right: 30px;\n  img {\n    width: 100%;\n    object-fit: contain;\n  }\n}\n\n.form-login {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  .input-set {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n\n    input {\n      width: -webkit-fill-available;\n      background: #ffffff;\n      border: 1px solid #cecece;\n      box-sizing: border-box;\n      height: 44px;\n      text-indent: 10px;\n      font-size: 1.75em;\n      line-height: 30px;\n      font-style: normal;\n      font-weight: 400;\n      border-radius: 6px;\n    }\n    .user {\n      border-radius: 6px 6px 0px 0px;\n    }\n    .password {\n      border-radius: 0px 0px 6px 6px;\n      border-width: 0px 1px 1px 1px;\n    }\n\n    .password:focus {\n      border-width: 0px 1px 1px 1px;\n    }\n  }\n  .save-password-set {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 20px;\n    label {\n      font-style: normal;\n      font-weight: 400;\n      font-size: 1.75em;\n      line-height: 30px;\n      color: $web-font-color-grey;\n      margin-left: 10px;\n    }\n  }\n}\n.button-set {\n  margin: 20px 0;\n  button {\n    height: 44px;\n  }\n}\nh1 {\n  font-weight: 800 !important;\n  margin: 20px 0 20px 0;\n}\n.help-label {\n  font-size: 12px;\n  color: $web-font-color-grey;\n  a {\n    color: $web-font-color-blue;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}