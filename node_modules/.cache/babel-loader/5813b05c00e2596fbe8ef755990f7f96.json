{"ast":null,"code":"/*!\n * devextreme-vue\n * Version: 21.2.7\n * Build date: Mon Apr 11 2022\n *\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-vue\n */\n\"use strict\";\n\nvar _typeof = require(\"/Users/dexon/Projects/AI-Portal-Frontend/node_modules/@babel/runtime/helpers/typeof.js\").default;\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initBaseComponent = exports.initDxComponent = void 0;\n\nvar vue_1 = require(\"vue\");\n\nvar callbacks_1 = __importDefault(require(\"devextreme/core/utils/callbacks\"));\n\nvar events_1 = require(\"devextreme/events\");\n\nvar vue_helper_1 = require(\"./vue-helper\");\n\nvar children_processing_1 = require(\"./children-processing\");\n\nvar configuration_1 = __importStar(require(\"./configuration\"));\n\nvar configuration_component_1 = require(\"./configuration-component\");\n\nvar constants_1 = require(\"./constants\");\n\nvar helpers_1 = require(\"./helpers\");\n\nvar templates_manager_1 = require(\"./templates-manager\");\n\nvar includeAttrs = [\"id\", \"class\", \"style\"];\n\nfunction getAttrs(attrs) {\n  var attributes = {};\n  includeAttrs.forEach(function (attr) {\n    var attrValue = attrs[attr];\n\n    if (attrValue) {\n      attributes[attr] = attrValue;\n    }\n  });\n  return attributes;\n}\n\nfunction initBaseComponent() {\n  return vue_1.defineComponent({\n    inheritAttrs: false,\n    data: function data() {\n      return {\n        eventBus: callbacks_1.default()\n      };\n    },\n    provide: function provide() {\n      return {\n        eventBus: this.eventBus\n      };\n    },\n    render: function render() {\n      var thisComponent = this;\n      var children = [];\n\n      if (thisComponent.$_config.cleanNested) {\n        thisComponent.$_config.cleanNested();\n      }\n\n      children_processing_1.pullAllChildren(vue_helper_1.defaultSlots(this), children, thisComponent.$_config);\n      this.$_processChildren(children);\n      return vue_1.h(\"div\", __assign({}, getAttrs(this.$attrs)), children);\n    },\n    beforeUpdate: function beforeUpdate() {\n      var thisComponent = this;\n      thisComponent.$_config.setPrevNestedOptions(thisComponent.$_config.getNestedOptionValues());\n    },\n    updated: function updated() {\n      var thisComponent = this;\n      var nodes = cleanWidgetNode(this.$el);\n      vue_helper_1.getChildren(thisComponent).forEach(function (child) {\n        var _a;\n\n        configuration_component_1.initOptionChangedFunc(child.$_config, child.type.props || {}, (_a = child === null || child === void 0 ? void 0 : child.component) === null || _a === void 0 ? void 0 : _a.proxy, child.$_innerChanges);\n      });\n      thisComponent.$_templatesManager.discover();\n      thisComponent.$_instance.beginUpdate();\n\n      if (thisComponent.$_templatesManager.isDirty) {\n        thisComponent.$_instance.option(\"integrationOptions.templates\", thisComponent.$_templatesManager.templates);\n        var props = thisComponent.$.vnode.props;\n\n        for (var _i = 0, _a = Object.keys(thisComponent.$_templatesManager.templates); _i < _a.length; _i++) {\n          var name_1 = _a[_i];\n          thisComponent.$_instance.option(helpers_1.getTemplatePropName(props, name_1), name_1);\n        }\n\n        thisComponent.$_templatesManager.resetDirtyFlag();\n      }\n\n      for (var _b = 0, _c = Object.keys(thisComponent.$_pendingOptions); _b < _c.length; _b++) {\n        var name_2 = _c[_b];\n        thisComponent.$_instance.option(name_2, thisComponent.$_pendingOptions[name_2]);\n      }\n\n      thisComponent.$_pendingOptions = {};\n      this.$_applyConfigurationChanges();\n      thisComponent.$_instance.endUpdate();\n      restoreNodes(this.$el, nodes);\n      this.eventBus.fire();\n    },\n    beforeUnmount: function beforeUnmount() {\n      var thisComponent = this;\n      var instance = thisComponent.$_instance;\n\n      if (instance) {\n        events_1.triggerHandler(this.$el, constants_1.DX_REMOVE_EVENT);\n        instance.dispose();\n      }\n    },\n    created: function created() {\n      var thisComponent = this;\n      var props = vue_helper_1.getComponentProps(this);\n      thisComponent.$_config = new configuration_1.default(function (n, v) {\n        if (Array.isArray(v)) {\n          thisComponent.$_instance.option(n, v);\n        } else {\n          thisComponent.$_pendingOptions[n === vue_helper_1.VMODEL_NAME ? \"value\" : n] = v;\n        }\n      }, null, props && __assign({}, props), thisComponent.$_expectedChildren);\n      thisComponent.$_innerChanges = {};\n      thisComponent.$_config.init(this.$props && Object.keys(this.$props));\n    },\n    methods: {\n      $_applyConfigurationChanges: function $_applyConfigurationChanges() {\n        var thisComponent = this;\n        thisComponent.$_config.componentsCountChanged.forEach(function (_a) {\n          var optionPath = _a.optionPath,\n              isCollection = _a.isCollection,\n              removed = _a.removed;\n          var options = thisComponent.$_config.getNestedOptionValues();\n\n          if (!isCollection && removed) {\n            thisComponent.$_instance.resetOption(optionPath);\n          } else {\n            thisComponent.$_instance.option(optionPath, helpers_1.getOptionValue(options, optionPath));\n          }\n        });\n        thisComponent.$_config.cleanComponentsCountChanged();\n      },\n      $_createWidget: function $_createWidget(element) {\n        var thisComponent = this;\n        thisComponent.$_pendingOptions = {};\n        thisComponent.$_templatesManager = new templates_manager_1.TemplatesManager(this);\n        var config = thisComponent.$_config;\n\n        if (config.initialValues.hasOwnProperty(vue_helper_1.VMODEL_NAME)) {\n          config.initialValues.value = vue_helper_1.getVModelValue(config.initialValues);\n        }\n\n        var options = __assign(__assign(__assign(__assign({\n          templatesRenderAsynchronously: thisComponent.$_hasAsyncTemplate\n        }, vue_helper_1.getComponentProps(thisComponent)), config.initialValues), config.getNestedOptionValues()), this.$_getIntegrationOptions());\n\n        var instance = new thisComponent.$_WidgetClass(element, options);\n        thisComponent.$_instance = instance;\n        instance.on(\"optionChanged\", function (args) {\n          return config.onOptionChanged(args);\n        });\n        configuration_1.setEmitOptionChangedFunc(config, thisComponent, thisComponent.$_innerChanges);\n        configuration_1.bindOptionWatchers(config, thisComponent, thisComponent.$_innerChanges);\n        this.$_createEmitters(instance);\n      },\n      $_getIntegrationOptions: function $_getIntegrationOptions() {\n        var thisComponent = this;\n\n        var result = __assign({\n          integrationOptions: {\n            watchMethod: this.$_getWatchMethod()\n          }\n        }, this.$_getExtraIntegrationOptions());\n\n        if (thisComponent.$_templatesManager.isDirty) {\n          var templates = thisComponent.$_templatesManager.templates;\n          result.integrationOptions.templates = templates;\n          var props = thisComponent.$.vnode.props;\n\n          for (var _i = 0, _a = Object.keys(templates); _i < _a.length; _i++) {\n            var name_3 = _a[_i];\n            result[helpers_1.getTemplatePropName(props, name_3)] = name_3;\n          }\n\n          thisComponent.$_templatesManager.resetDirtyFlag();\n        }\n\n        return result;\n      },\n      $_getWatchMethod: function $_getWatchMethod() {\n        var _this = this;\n\n        return function (valueGetter, valueChangeCallback, options) {\n          options = options || {};\n\n          if (!options.skipImmediate) {\n            valueChangeCallback(valueGetter());\n          }\n\n          return _this.$watch(function () {\n            return valueGetter();\n          }, function (newValue, oldValue) {\n            if (helpers_1.toComparable(oldValue) !== helpers_1.toComparable(newValue) || options.deep) {\n              valueChangeCallback(newValue);\n            }\n          }, {\n            deep: options.deep\n          });\n        };\n      },\n      $_getExtraIntegrationOptions: function $_getExtraIntegrationOptions() {\n        return {};\n      },\n      $_processChildren: function $_processChildren(_children) {\n        return;\n      },\n      $_createEmitters: function $_createEmitters(instance) {\n        var _this = this;\n\n        if (this.$attrs) {\n          Object.keys(this.$attrs).forEach(function (listenerName) {\n            var eventName = helpers_1.camelize(listenerName);\n            instance.on(eventName, function (e) {\n              _this.$emit(listenerName, e);\n            });\n          });\n        }\n      }\n    }\n  });\n}\n\nexports.initBaseComponent = initBaseComponent;\n\nfunction cleanWidgetNode(node) {\n  var removedNodes = [];\n  helpers_1.forEachChildNode(node, function (childNode) {\n    var parent = childNode.parentNode;\n    var isExtension = childNode.hasAttribute && childNode.hasAttribute(\"isExtension\");\n\n    if ((childNode.nodeName === \"#comment\" || isExtension) && parent) {\n      removedNodes.push(childNode);\n      parent.removeChild(childNode);\n    }\n  });\n  return removedNodes;\n}\n\nfunction restoreNodes(el, nodes) {\n  nodes.forEach(function (node) {\n    el.appendChild(node);\n  });\n}\n\nfunction initDxComponent() {\n  return vue_1.defineComponent({\n    extends: initBaseComponent(),\n    methods: {\n      $_getExtraIntegrationOptions: function $_getExtraIntegrationOptions() {\n        return {\n          onInitializing: function onInitializing() {\n            this.beginUpdate();\n          }\n        };\n      },\n      $_processChildren: function $_processChildren(children) {\n        children.forEach(function (childNode) {\n          if (!childNode || _typeof(childNode) !== \"object\") {\n            return;\n          }\n\n          childNode.$_hasOwner = true;\n        });\n      }\n    },\n    mounted: function mounted() {\n      var _this = this;\n\n      var nodes = cleanWidgetNode(this.$el);\n      var thisComponent = this;\n      this.$_createWidget(this.$el);\n      thisComponent.$_instance.endUpdate();\n      restoreNodes(this.$el, nodes);\n\n      if (this.$slots && this.$slots.default) {\n        vue_helper_1.getChildren(thisComponent).forEach(function (child) {\n          var childExtenton = child;\n\n          if (childExtenton && childExtenton.$_isExtension) {\n            childExtenton.$_attachTo(_this.$el);\n          }\n        });\n      }\n    }\n  });\n}\n\nexports.initDxComponent = initDxComponent;","map":{"version":3,"sources":["/Users/dexon/Projects/AI-Portal-Frontend/node_modules/devextreme-vue/core/component.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","exports","initBaseComponent","initDxComponent","vue_1","require","callbacks_1","events_1","vue_helper_1","children_processing_1","configuration_1","configuration_component_1","constants_1","helpers_1","templates_manager_1","includeAttrs","getAttrs","attrs","attributes","forEach","attr","attrValue","defineComponent","inheritAttrs","data","eventBus","default","provide","render","thisComponent","children","$_config","cleanNested","pullAllChildren","defaultSlots","$_processChildren","h","$attrs","beforeUpdate","setPrevNestedOptions","getNestedOptionValues","updated","nodes","cleanWidgetNode","$el","getChildren","child","_a","initOptionChangedFunc","type","props","component","proxy","$_innerChanges","$_templatesManager","discover","$_instance","beginUpdate","isDirty","option","templates","$","vnode","_i","keys","name_1","getTemplatePropName","resetDirtyFlag","_b","_c","$_pendingOptions","name_2","$_applyConfigurationChanges","endUpdate","restoreNodes","fire","beforeUnmount","instance","triggerHandler","DX_REMOVE_EVENT","dispose","created","getComponentProps","Array","isArray","VMODEL_NAME","$_expectedChildren","init","$props","methods","componentsCountChanged","optionPath","isCollection","removed","options","resetOption","getOptionValue","cleanComponentsCountChanged","$_createWidget","element","TemplatesManager","config","initialValues","getVModelValue","templatesRenderAsynchronously","$_hasAsyncTemplate","$_getIntegrationOptions","$_WidgetClass","on","args","onOptionChanged","setEmitOptionChangedFunc","bindOptionWatchers","$_createEmitters","integrationOptions","watchMethod","$_getWatchMethod","$_getExtraIntegrationOptions","name_3","_this","valueGetter","valueChangeCallback","skipImmediate","$watch","newValue","oldValue","toComparable","deep","_children","listenerName","eventName","camelize","e","$emit","node","removedNodes","forEachChildNode","childNode","parent","parentNode","isExtension","hasAttribute","nodeName","push","removeChild","el","appendChild","extends","onInitializing","$_hasOwner","mounted","$slots","childExtenton","$_isExtension","$_attachTo"],"mappings":"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","sourcesContent":["/*!\n * devextreme-vue\n * Version: 21.2.7\n * Build date: Mon Apr 11 2022\n *\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-vue\n */\n\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.initBaseComponent = exports.initDxComponent = void 0;\nvar vue_1 = require(\"vue\");\nvar callbacks_1 = __importDefault(require(\"devextreme/core/utils/callbacks\"));\nvar events_1 = require(\"devextreme/events\");\nvar vue_helper_1 = require(\"./vue-helper\");\nvar children_processing_1 = require(\"./children-processing\");\nvar configuration_1 = __importStar(require(\"./configuration\"));\nvar configuration_component_1 = require(\"./configuration-component\");\nvar constants_1 = require(\"./constants\");\nvar helpers_1 = require(\"./helpers\");\nvar templates_manager_1 = require(\"./templates-manager\");\nvar includeAttrs = [\"id\", \"class\", \"style\"];\nfunction getAttrs(attrs) {\n    var attributes = {};\n    includeAttrs.forEach(function (attr) {\n        var attrValue = attrs[attr];\n        if (attrValue) {\n            attributes[attr] = attrValue;\n        }\n    });\n    return attributes;\n}\nfunction initBaseComponent() {\n    return vue_1.defineComponent({\n        inheritAttrs: false,\n        data: function () {\n            return {\n                eventBus: callbacks_1.default()\n            };\n        },\n        provide: function () {\n            return {\n                eventBus: this.eventBus\n            };\n        },\n        render: function () {\n            var thisComponent = this;\n            var children = [];\n            if (thisComponent.$_config.cleanNested) {\n                thisComponent.$_config.cleanNested();\n            }\n            children_processing_1.pullAllChildren(vue_helper_1.defaultSlots(this), children, thisComponent.$_config);\n            this.$_processChildren(children);\n            return vue_1.h(\"div\", __assign({}, getAttrs(this.$attrs)), children);\n        },\n        beforeUpdate: function () {\n            var thisComponent = this;\n            thisComponent.$_config.setPrevNestedOptions(thisComponent.$_config.getNestedOptionValues());\n        },\n        updated: function () {\n            var thisComponent = this;\n            var nodes = cleanWidgetNode(this.$el);\n            vue_helper_1.getChildren(thisComponent).forEach(function (child) {\n                var _a;\n                configuration_component_1.initOptionChangedFunc(child.$_config, child.type.props || {}, (_a = child === null || child === void 0 ? void 0 : child.component) === null || _a === void 0 ? void 0 : _a.proxy, child.$_innerChanges);\n            });\n            thisComponent.$_templatesManager.discover();\n            thisComponent.$_instance.beginUpdate();\n            if (thisComponent.$_templatesManager.isDirty) {\n                thisComponent.$_instance.option(\"integrationOptions.templates\", thisComponent.$_templatesManager.templates);\n                var props = thisComponent.$.vnode.props;\n                for (var _i = 0, _a = Object.keys(thisComponent.$_templatesManager.templates); _i < _a.length; _i++) {\n                    var name_1 = _a[_i];\n                    thisComponent.$_instance.option(helpers_1.getTemplatePropName(props, name_1), name_1);\n                }\n                thisComponent.$_templatesManager.resetDirtyFlag();\n            }\n            for (var _b = 0, _c = Object.keys(thisComponent.$_pendingOptions); _b < _c.length; _b++) {\n                var name_2 = _c[_b];\n                thisComponent.$_instance.option(name_2, thisComponent.$_pendingOptions[name_2]);\n            }\n            thisComponent.$_pendingOptions = {};\n            this.$_applyConfigurationChanges();\n            thisComponent.$_instance.endUpdate();\n            restoreNodes(this.$el, nodes);\n            this.eventBus.fire();\n        },\n        beforeUnmount: function () {\n            var thisComponent = this;\n            var instance = thisComponent.$_instance;\n            if (instance) {\n                events_1.triggerHandler(this.$el, constants_1.DX_REMOVE_EVENT);\n                instance.dispose();\n            }\n        },\n        created: function () {\n            var thisComponent = this;\n            var props = vue_helper_1.getComponentProps(this);\n            thisComponent.$_config = new configuration_1.default(function (n, v) {\n                if (Array.isArray(v)) {\n                    thisComponent.$_instance.option(n, v);\n                }\n                else {\n                    thisComponent.$_pendingOptions[n === vue_helper_1.VMODEL_NAME ? \"value\" : n] = v;\n                }\n            }, null, props && __assign({}, props), thisComponent.$_expectedChildren);\n            thisComponent.$_innerChanges = {};\n            thisComponent.$_config.init(this.$props && Object.keys(this.$props));\n        },\n        methods: {\n            $_applyConfigurationChanges: function () {\n                var thisComponent = this;\n                thisComponent.$_config.componentsCountChanged.forEach(function (_a) {\n                    var optionPath = _a.optionPath, isCollection = _a.isCollection, removed = _a.removed;\n                    var options = thisComponent.$_config.getNestedOptionValues();\n                    if (!isCollection && removed) {\n                        thisComponent.$_instance.resetOption(optionPath);\n                    }\n                    else {\n                        thisComponent.$_instance.option(optionPath, helpers_1.getOptionValue(options, optionPath));\n                    }\n                });\n                thisComponent.$_config.cleanComponentsCountChanged();\n            },\n            $_createWidget: function (element) {\n                var thisComponent = this;\n                thisComponent.$_pendingOptions = {};\n                thisComponent.$_templatesManager = new templates_manager_1.TemplatesManager(this);\n                var config = thisComponent.$_config;\n                if (config.initialValues.hasOwnProperty(vue_helper_1.VMODEL_NAME)) {\n                    config.initialValues.value = vue_helper_1.getVModelValue(config.initialValues);\n                }\n                var options = __assign(__assign(__assign(__assign({ templatesRenderAsynchronously: thisComponent.$_hasAsyncTemplate }, vue_helper_1.getComponentProps(thisComponent)), config.initialValues), config.getNestedOptionValues()), this.$_getIntegrationOptions());\n                var instance = new thisComponent.$_WidgetClass(element, options);\n                thisComponent.$_instance = instance;\n                instance.on(\"optionChanged\", function (args) { return config.onOptionChanged(args); });\n                configuration_1.setEmitOptionChangedFunc(config, thisComponent, thisComponent.$_innerChanges);\n                configuration_1.bindOptionWatchers(config, thisComponent, thisComponent.$_innerChanges);\n                this.$_createEmitters(instance);\n            },\n            $_getIntegrationOptions: function () {\n                var thisComponent = this;\n                var result = __assign({ integrationOptions: {\n                        watchMethod: this.$_getWatchMethod(),\n                    } }, this.$_getExtraIntegrationOptions());\n                if (thisComponent.$_templatesManager.isDirty) {\n                    var templates = thisComponent.$_templatesManager.templates;\n                    result.integrationOptions.templates = templates;\n                    var props = thisComponent.$.vnode.props;\n                    for (var _i = 0, _a = Object.keys(templates); _i < _a.length; _i++) {\n                        var name_3 = _a[_i];\n                        result[helpers_1.getTemplatePropName(props, name_3)] = name_3;\n                    }\n                    thisComponent.$_templatesManager.resetDirtyFlag();\n                }\n                return result;\n            },\n            $_getWatchMethod: function () {\n                var _this = this;\n                return function (valueGetter, valueChangeCallback, options) {\n                    options = options || {};\n                    if (!options.skipImmediate) {\n                        valueChangeCallback(valueGetter());\n                    }\n                    return _this.$watch(function () {\n                        return valueGetter();\n                    }, function (newValue, oldValue) {\n                        if (helpers_1.toComparable(oldValue) !== helpers_1.toComparable(newValue) || options.deep) {\n                            valueChangeCallback(newValue);\n                        }\n                    }, {\n                        deep: options.deep\n                    });\n                };\n            },\n            $_getExtraIntegrationOptions: function () {\n                return {};\n            },\n            $_processChildren: function (_children) {\n                return;\n            },\n            $_createEmitters: function (instance) {\n                var _this = this;\n                if (this.$attrs) {\n                    Object.keys(this.$attrs).forEach(function (listenerName) {\n                        var eventName = helpers_1.camelize(listenerName);\n                        instance.on(eventName, function (e) {\n                            _this.$emit(listenerName, e);\n                        });\n                    });\n                }\n            }\n        }\n    });\n}\nexports.initBaseComponent = initBaseComponent;\nfunction cleanWidgetNode(node) {\n    var removedNodes = [];\n    helpers_1.forEachChildNode(node, function (childNode) {\n        var parent = childNode.parentNode;\n        var isExtension = childNode.hasAttribute && childNode.hasAttribute(\"isExtension\");\n        if ((childNode.nodeName === \"#comment\" || isExtension) && parent) {\n            removedNodes.push(childNode);\n            parent.removeChild(childNode);\n        }\n    });\n    return removedNodes;\n}\nfunction restoreNodes(el, nodes) {\n    nodes.forEach(function (node) {\n        el.appendChild(node);\n    });\n}\nfunction initDxComponent() {\n    return vue_1.defineComponent({\n        extends: initBaseComponent(),\n        methods: {\n            $_getExtraIntegrationOptions: function () {\n                return {\n                    onInitializing: function () {\n                        this.beginUpdate();\n                    }\n                };\n            },\n            $_processChildren: function (children) {\n                children.forEach(function (childNode) {\n                    if (!childNode || typeof childNode !== \"object\") {\n                        return;\n                    }\n                    childNode.$_hasOwner = true;\n                });\n            },\n        },\n        mounted: function () {\n            var _this = this;\n            var nodes = cleanWidgetNode(this.$el);\n            var thisComponent = this;\n            this.$_createWidget(this.$el);\n            thisComponent.$_instance.endUpdate();\n            restoreNodes(this.$el, nodes);\n            if (this.$slots && this.$slots.default) {\n                vue_helper_1.getChildren(thisComponent).forEach(function (child) {\n                    var childExtenton = child;\n                    if (childExtenton && childExtenton.$_isExtension) {\n                        childExtenton.$_attachTo(_this.$el);\n                    }\n                });\n            }\n        }\n    });\n}\nexports.initDxComponent = initDxComponent;\n"]},"metadata":{},"sourceType":"script"}